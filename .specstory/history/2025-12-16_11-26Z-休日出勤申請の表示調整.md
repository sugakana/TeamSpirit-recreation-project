<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 93c7312d-f8b1-4059-8cdf-0f8dda9bd678 (2025-12-16 11:26Z) -->

# 休日出勤申請の表示調整 (2025-12-16 11:26Z)

_**User**_

時間とラベルを左の項目のラベルに合わせるようにずらしてください。休日出勤申請のところです。

---

_**Agent (model composer-1, mode Agent)**_



---


休日出勤申請の時間とラベルの配置を確認中。関連ファイルを確認します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceInputDialog.vue</summary>

</details>
</tool-use>

---



---


休日出勤申請の表示箇所を検索中。


---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "休日出勤申請 申請日時 状況",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1465
          },
          "endPosition": {
            "line": 1493
          }
        },
        "contents": "4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n### 休日出勤申請\n休日出勤申請は、休日に出勤する場合の申請です。\n\n#### 申請内容\n- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）\n- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）\n- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **備考**: 休日出勤の理由や備考を入力（任意）\n\n#### 表示内容\n休日出勤申請タブを開くと、以下の情報が表示されます：\n- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）\n- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）\n- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）\n- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）\n- **備考**: テキストエリアで備考を入力（任意）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1466
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1467
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1468
          },
          {
            "lineNumber": 1469
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1470
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1471
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1472
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1473
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1474
          },
          {
            "lineNumber": 1475
          },
          {
            "text": "### 休日出勤申請",
            "lineNumber": 1476
          },
          {
            "text": "休日出勤申請は、休日に出勤する場合の申請です。",
            "lineNumber": 1477
          },
          {
            "lineNumber": 1478
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1479
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）",
            "lineNumber": 1480
          },
          {
            "text": "- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）",
            "lineNumber": 1481
          },
          {
            "text": "- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1482
          },
          {
            "text": "- **備考**: 休日出勤の理由や備考を入力（任意）",
            "lineNumber": 1483
          },
          {
            "lineNumber": 1484
          },
          {
            "text": "#### 表示内容",
            "lineNumber": 1485
          },
          {
            "text": "休日出勤申請タブを開くと、以下の情報が表示されます：",
            "lineNumber": 1486
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）",
            "lineNumber": 1487
          },
          {
            "text": "- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）",
            "lineNumber": 1488
          },
          {
            "text": "- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）",
            "lineNumber": 1489
          },
          {
            "text": "- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1490
          },
          {
            "text": "- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）",
            "lineNumber": 1491
          },
          {
            "text": "- **備考**: テキストエリアで備考を入力（任意）",
            "lineNumber": 1492
          }
        ]
      },
      "score": 0.49934083223342896
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 145,
            "column": 2
          },
          "endPosition": {
            "line": 191,
            "column": 3
          }
        },
        "contents": "/**\n * 休日出勤申請状態を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請状態\n */\nconst getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {\n  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);\n  \n  let applicationStatus = null;\n\n  if (application) {\n    applicationStatus = application.APPROVAL_STATUS;\n  }\n\n  // 代休の表示条件：過去の休日出勤申請（承認済みまたは申請中）も確認\n  // 対象日から過去1年間の休日出勤申請を確認\n  const oneYearAgo = new Date(targetDate);\n  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\n  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];\n  \n  const pastApplications = await applicationModel.getApplicationsByType(\n    employeeId,\n    'HOLIDAY_WORK',\n    oneYearAgoStr,\n    targetDate\n  );\n\n  const hasPastHolidayWork = pastApplications.length &gt; 0;\n\n  return {\n    success: true,\n    hasHolidayWorkApplication: !!application || hasPastHolidayWork,\n    applicationStatus: applicationStatus,\n    hasPastHolidayWorkApplication: hasPastHolidayWork\n  };\n};\n\n/**\n * 月次承認履歴を取得\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;Object&gt;} 月次承認情報\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 148
          },
          {
            "text": " * 休日出勤申請状態を取得",
            "lineNumber": 149
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 150
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 151
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請状態",
            "lineNumber": 152
          },
          {
            "text": " */",
            "lineNumber": 153
          },
          {
            "text": "const getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {",
            "lineNumber": 154
          },
          {
            "text": "  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);",
            "lineNumber": 155
          },
          {
            "text": "  ",
            "lineNumber": 156
          },
          {
            "text": "  let applicationStatus = null;",
            "lineNumber": 157
          },
          {
            "lineNumber": 158
          },
          {
            "text": "  if (application) {",
            "lineNumber": 159
          },
          {
            "text": "    applicationStatus = application.APPROVAL_STATUS;",
            "lineNumber": 160
          },
          {
            "text": "  }",
            "lineNumber": 161
          },
          {
            "lineNumber": 162
          },
          {
            "text": "  // 代休の表示条件：過去の休日出勤申請（承認済みまたは申請中）も確認",
            "lineNumber": 163
          },
          {
            "text": "  // 対象日から過去1年間の休日出勤申請を確認",
            "lineNumber": 164
          },
          {
            "text": "  const oneYearAgo = new Date(targetDate);",
            "lineNumber": 165
          },
          {
            "text": "  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
            "lineNumber": 166
          },
          {
            "text": "  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
            "lineNumber": 167
          },
          {
            "text": "  ",
            "lineNumber": 168
          },
          {
            "text": "  const pastApplications = await applicationModel.getApplicationsByType(",
            "lineNumber": 169
          },
          {
            "text": "    employeeId,",
            "lineNumber": 170
          },
          {
            "text": "    'HOLIDAY_WORK',",
            "lineNumber": 171
          },
          {
            "text": "    oneYearAgoStr,",
            "lineNumber": 172
          },
          {
            "text": "    targetDate",
            "lineNumber": 173
          },
          {
            "text": "  );",
            "lineNumber": 174
          },
          {
            "lineNumber": 175
          },
          {
            "text": "  const hasPastHolidayWork = pastApplications.length &gt; 0;",
            "lineNumber": 176
          },
          {
            "lineNumber": 177
          },
          {
            "text": "  return {",
            "lineNumber": 178
          },
          {
            "text": "    success: true,",
            "lineNumber": 179
          },
          {
            "text": "    hasHolidayWorkApplication: !!application || hasPastHolidayWork,",
            "lineNumber": 180
          },
          {
            "text": "    applicationStatus: applicationStatus,",
            "lineNumber": 181
          },
          {
            "text": "    hasPastHolidayWorkApplication: hasPastHolidayWork",
            "lineNumber": 182
          },
          {
            "text": "  };",
            "lineNumber": 183
          },
          {
            "text": "};",
            "lineNumber": 184
          },
          {
            "lineNumber": 185
          },
          {
            "text": "/**",
            "lineNumber": 186
          },
          {
            "text": " * 月次承認履歴を取得",
            "lineNumber": 187
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 188
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 189
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 190
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 月次承認情報",
            "lineNumber": 191
          },
          {
            "text": " */",
            "lineNumber": 192
          }
        ]
      },
      "score": 0.46234190464019775
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 46,
            "column": 2
          },
          "endPosition": {
            "line": 81,
            "column": 3
          }
        },
        "contents": "/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */\nconst applyHolidayWork = async (applicationData) =&gt; {\n  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;\n  const now = getNow();\n  \n  // REASONフィールドにJSON形式で時間情報を保存\n  const reasonData = {\n    text: reason || '',\n    startTime: startTime,\n    endTime: endTime,\n    breakHours: breakHours\n  };\n  \n  return await applicationModel.createApplication({\n    employeeId,\n    applicationType: 'HOLIDAY_WORK',\n    targetStartDate: workDate,\n    targetEndDate: workDate,\n    reason: JSON.stringify(reasonData),\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 残業申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 49
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 50
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          },
          {
            "text": "const applyHolidayWork = async (applicationData) =&gt; {",
            "lineNumber": 54
          },
          {
            "text": "  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;",
            "lineNumber": 55
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 56
          },
          {
            "text": "  ",
            "lineNumber": 57
          },
          {
            "text": "  // REASONフィールドにJSON形式で時間情報を保存",
            "lineNumber": 58
          },
          {
            "text": "  const reasonData = {",
            "lineNumber": 59
          },
          {
            "text": "    text: reason || '',",
            "lineNumber": 60
          },
          {
            "text": "    startTime: startTime,",
            "lineNumber": 61
          },
          {
            "text": "    endTime: endTime,",
            "lineNumber": 62
          },
          {
            "text": "    breakHours: breakHours",
            "lineNumber": 63
          },
          {
            "text": "  };",
            "lineNumber": 64
          },
          {
            "text": "  ",
            "lineNumber": 65
          },
          {
            "text": "  return await applicationModel.createApplication({",
            "lineNumber": 66
          },
          {
            "text": "    employeeId,",
            "lineNumber": 67
          },
          {
            "text": "    applicationType: 'HOLIDAY_WORK',",
            "lineNumber": 68
          },
          {
            "text": "    targetStartDate: workDate,",
            "lineNumber": 69
          },
          {
            "text": "    targetEndDate: workDate,",
            "lineNumber": 70
          },
          {
            "text": "    reason: JSON.stringify(reasonData),",
            "lineNumber": 71
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 72
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 73
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 74
          },
          {
            "text": "  });",
            "lineNumber": 75
          },
          {
            "text": "};",
            "lineNumber": 76
          },
          {
            "lineNumber": 77
          },
          {
            "text": "/**",
            "lineNumber": 78
          },
          {
            "text": " * 残業申請",
            "lineNumber": 79
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 80
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 81
          },
          {
            "text": " */",
            "lineNumber": 82
          }
        ]
      },
      "score": 0.45424163341522217
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 756
          },
          "endPosition": {
            "line": 769
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n  | 休日出勤申請フォーム | 休日出勤申請タブが選択されている場合に表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 当月の時間外残業時間の合計をH:MM形式で表示（例: 0:00） | API利用仕様 No.10（当月時間外残業取得API）から取得 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 時刻入力フィールドを表示。初期値は空欄または9:00 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 時刻入力フィールドを表示。初期値は空欄または17:30 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 休憩時間をH:MM形式で表示（例: 1:00）。初期値は1:00 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | 休憩時間の変更リンクを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(事後申請)ラベル | 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示 | 対象日が過去の日付で、かつ土日祝の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 757
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 758
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 759
          },
          {
            "text": "  | 休日出勤申請フォーム | 休日出勤申請タブが選択されている場合に表示 | |",
            "lineNumber": 760
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 当月の時間外残業時間の合計をH:MM形式で表示（例: 0:00） | API利用仕様 No.10（当月時間外残業取得API）から取得 |",
            "lineNumber": 761
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 時刻入力フィールドを表示。初期値は空欄または9:00 | |",
            "lineNumber": 762
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 時刻入力フィールドを表示。初期値は空欄または17:30 | |",
            "lineNumber": 763
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 休憩時間をH:MM形式で表示（例: 1:00）。初期値は1:00 | |",
            "lineNumber": 764
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | 休憩時間の変更リンクを表示 | |",
            "lineNumber": 765
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(事後申請)ラベル | 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示 | 対象日が過去の日付で、かつ土日祝の場合のみ表示 |",
            "lineNumber": 766
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
            "lineNumber": 767
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 768
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 769
          }
        ]
      },
      "score": 0.43861323595046997
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1883
          },
          "endPosition": {
            "line": 1926
          }
        },
        "contents": "    shouldShowBreakTime(breakTime, day) {\n      // 出勤していない場合：表示する（グレー）\n      if (!day.clockIn) {\n        return true\n      }\n      \n      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const clockInMinutes = inHour * 60 + inMin\n      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない\n      return clockInMinutes &lt;= breakStartMinutes\n    },\n    \n      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）\n      openApplicationDialog(day) {\n        this.selectedDayForApplication = day\n        this.selectedApplicationType = null\n        this.showApplicationDialog = true\n      },\n      \n      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）\n      openApplicationDialogWithType(day) {\n        this.selectedDayForApplication = day\n        \n        // どの申請タイプが申請中または承認済みかを判定\n        // 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 &gt; 残業 &gt; 早朝勤務 &gt; 振替\n        if (day.approvalStatus === 'PENDING' || day.approvalStatus === 'APPROVED') {\n          this.selectedApplicationType = 'dailyConfirmation'\n        } else if (day.holidayWorkApplicationStatus === 'PENDING' || day.holidayWorkApplicationStatus === 'APPROVED') {\n          this.selectedApplicationType = 'holidayWork'\n        } else {\n          // その他の申請タイプはAPIで取得する必要があるが、とりあえずnull\n          this.selectedApplicationType = null\n        }\n        \n        this.showApplicationDialog = true\n      },\n      \n      // 勤怠関連申請ダイアログを閉じる\n      closeApplicationDialog() {\n        this.showApplicationDialog = false",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    shouldShowBreakTime(breakTime, day) {",
            "lineNumber": 1884
          },
          {
            "text": "      // 出勤していない場合：表示する（グレー）",
            "lineNumber": 1885
          },
          {
            "text": "      if (!day.clockIn) {",
            "lineNumber": 1886
          },
          {
            "text": "        return true",
            "lineNumber": 1887
          },
          {
            "text": "      }",
            "lineNumber": 1888
          },
          {
            "text": "      ",
            "lineNumber": 1889
          },
          {
            "text": "      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック",
            "lineNumber": 1890
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 1891
          },
          {
            "text": "      const clockInMinutes = inHour * 60 + inMin",
            "lineNumber": 1892
          },
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 1893
          },
          {
            "text": "      ",
            "lineNumber": 1894
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない",
            "lineNumber": 1895
          },
          {
            "text": "      return clockInMinutes &lt;= breakStartMinutes",
            "lineNumber": 1896
          },
          {
            "text": "    },",
            "lineNumber": 1897
          },
          {
            "text": "    ",
            "lineNumber": 1898
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）",
            "lineNumber": 1899
          },
          {
            "text": "      openApplicationDialog(day) {",
            "lineNumber": 1900
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 1901
          },
          {
            "text": "        this.selectedApplicationType = null",
            "lineNumber": 1902
          },
          {
            "text": "        this.showApplicationDialog = true",
            "lineNumber": 1903
          },
          {
            "text": "      },",
            "lineNumber": 1904
          },
          {
            "text": "      ",
            "lineNumber": 1905
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）",
            "lineNumber": 1906
          },
          {
            "text": "      openApplicationDialogWithType(day) {",
            "lineNumber": 1907
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 1908
          },
          {
            "text": "        ",
            "lineNumber": 1909
          },
          {
            "text": "        // どの申請タイプが申請中または承認済みかを判定",
            "lineNumber": 1910
          },
          {
            "text": "        // 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 &gt; 残業 &gt; 早朝勤務 &gt; 振替",
            "lineNumber": 1911
          },
          {
            "text": "        if (day.approvalStatus === 'PENDING' || day.approvalStatus === 'APPROVED') {",
            "lineNumber": 1912
          },
          {
            "text": "          this.selectedApplicationType = 'dailyConfirmation'",
            "lineNumber": 1913
          },
          {
            "text": "        } else if (day.holidayWorkApplicationStatus === 'PENDING' || day.holidayWorkApplicationStatus === 'APPROVED') {",
            "lineNumber": 1914
          },
          {
            "text": "          this.selectedApplicationType = 'holidayWork'",
            "lineNumber": 1915
          },
          {
            "text": "        } else {",
            "lineNumber": 1916
          },
          {
            "text": "          // その他の申請タイプはAPIで取得する必要があるが、とりあえずnull",
            "lineNumber": 1917
          },
          {
            "text": "          this.selectedApplicationType = null",
            "lineNumber": 1918
          },
          {
            "text": "        }",
            "lineNumber": 1919
          },
          {
            "text": "        ",
            "lineNumber": 1920
          },
          {
            "text": "        this.showApplicationDialog = true",
            "lineNumber": 1921
          },
          {
            "text": "      },",
            "lineNumber": 1922
          },
          {
            "text": "      ",
            "lineNumber": 1923
          },
          {
            "text": "      // 勤怠関連申請ダイアログを閉じる",
            "lineNumber": 1924
          },
          {
            "text": "      closeApplicationDialog() {",
            "lineNumber": 1925
          },
          {
            "text": "        this.showApplicationDialog = false",
            "lineNumber": 1926
          }
        ]
      },
      "score": 0.43451979756355286
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\attendanceService.js",
        "range": {
          "startPosition": {
            "line": 333,
            "column": 2
          },
          "endPosition": {
            "line": 533,
            "column": 1
          }
        },
        "contents": "/**\n * 月間勤務表を取得する。\n *\n * @param {string} employeeId 従業員ID\n * @param {number} year 年\n * @param {number} month 月\n * @returns {Promise&lt;Object&gt;} 月間勤務表データ\n */\nconst getMonthlyAttendance = async (employeeId, year, month) =&gt; {\n  const { startDate, endDate } = getMonthRange(year, month);\n  const attendanceRows = await attendanceModel.getMonthlyAttendance(employeeId, startDate, endDate);\n\n  // 休日出勤申請を取得\n  const holidayWorkApplications = await applicationModel.getApplicationsByType(\n    employeeId,\n    'HOLIDAY_WORK',\n    startDate,\n    endDate\n  );\n  \n  // 各勤怠記録に対して休憩時間、公用外出、工数実績を取得\n  const dailyData = [];\n  for (const attendance of attendanceRows) {\n    const breakTimes = await breakTimeModel.getBreakTimes(attendance.ATTENDANCE_ID);\n    const officialOutings = await breakTimeModel.getOfficialOutings(attendance.ATTENDANCE_ID);\n    const workHours = await workHoursModel.getWorkHours(employeeId, normalizeDate(attendance.WORK_DATE));\n    \n    // 該当日の休日出勤申請を取得\n    const workDate = normalizeDate(attendance.WORK_DATE);\n    const holidayWorkApp = holidayWorkApplications.find(app =&gt; {\n      const appStartDate = normalizeDate(app.TARGET_START_DATE);\n      const appEndDate = normalizeDate(app.TARGET_END_DATE);\n      return workDate &gt;= appStartDate &amp;&amp; workDate &lt;= appEndDate &amp;&amp; \n             (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED');\n    });\n    \n    dailyData.push({\n      ...attendance,\n      WORK_DATE: normalizeDate(attendance.WORK_DATE),\n      breakTimes,\n      officialOutings,\n      workHours,\n      holidayWorkApplication: holidayWorkApp || null\n    });\n  }\n  \n  // 勤怠記録がない日付にも休日出勤申請の情報を追加\n  const daysInMonth = new Date(year, month, 0).getDate();\n  const existingDates = new Set(dailyData.map(d =&gt; d.WORK_DATE));\n  \n  for (let day = 1; day &lt;= daysInMonth; day++) {\n    const dateStr = &#96;${year}&#96;;\n  }\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 336
          },
          {
            "text": " * 月間勤務表を取得する。",
            "lineNumber": 337
          },
          {
            "text": " *",
            "lineNumber": 338
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 339
          },
          {
            "text": " * @param {number} year 年",
            "lineNumber": 340
          },
          {
            "text": " * @param {number} month 月",
            "lineNumber": 341
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 月間勤務表データ",
            "lineNumber": 342
          },
          {
            "text": " */",
            "lineNumber": 343
          },
          {
            "text": "const getMonthlyAttendance = async (employeeId, year, month) =&gt; {",
            "lineNumber": 344
          },
          {
            "text": "  const { startDate, endDate } = getMonthRange(year, month);",
            "lineNumber": 345
          },
          {
            "text": "  const attendanceRows = await attendanceModel.getMonthlyAttendance(employeeId, startDate, endDate);",
            "lineNumber": 346
          },
          {
            "lineNumber": 347
          },
          {
            "text": "  // 休日出勤申請を取得",
            "lineNumber": 348
          },
          {
            "text": "  const holidayWorkApplications = await applicationModel.getApplicationsByType(",
            "lineNumber": 349
          },
          {
            "text": "    employeeId,",
            "lineNumber": 350
          },
          {
            "text": "    'HOLIDAY_WORK',",
            "lineNumber": 351
          },
          {
            "text": "    startDate,",
            "lineNumber": 352
          },
          {
            "text": "    endDate",
            "lineNumber": 353
          },
          {
            "text": "  );",
            "lineNumber": 354
          },
          {
            "text": "  ",
            "lineNumber": 355
          },
          {
            "text": "  // 各勤怠記録に対して休憩時間、公用外出、工数実績を取得",
            "lineNumber": 356
          },
          {
            "text": "  const dailyData = [];",
            "lineNumber": 357
          },
          {
            "text": "  for (const attendance of attendanceRows) {",
            "lineNumber": 358
          },
          {
            "text": "    const breakTimes = await breakTimeModel.getBreakTimes(attendance.ATTENDANCE_ID);",
            "lineNumber": 359
          },
          {
            "text": "    const officialOutings = await breakTimeModel.getOfficialOutings(attendance.ATTENDANCE_ID);",
            "lineNumber": 360
          },
          {
            "text": "    const workHours = await workHoursModel.getWorkHours(employeeId, normalizeDate(attendance.WORK_DATE));",
            "lineNumber": 361
          },
          {
            "text": "    ",
            "lineNumber": 362
          },
          {
            "text": "    // 該当日の休日出勤申請を取得",
            "lineNumber": 363
          },
          {
            "text": "    const workDate = normalizeDate(attendance.WORK_DATE);",
            "lineNumber": 364
          },
          {
            "text": "    const holidayWorkApp = holidayWorkApplications.find(app =&gt; {",
            "lineNumber": 365
          },
          {
            "text": "      const appStartDate = normalizeDate(app.TARGET_START_DATE);",
            "lineNumber": 366
          },
          {
            "text": "      const appEndDate = normalizeDate(app.TARGET_END_DATE);",
            "lineNumber": 367
          },
          {
            "text": "      return workDate &gt;= appStartDate &amp;&amp; workDate &lt;= appEndDate &amp;&amp; ",
            "lineNumber": 368
          },
          {
            "text": "             (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED');",
            "lineNumber": 369
          },
          {
            "text": "    });",
            "lineNumber": 370
          },
          {
            "text": "    ",
            "lineNumber": 371
          },
          {
            "text": "    dailyData.push({",
            "lineNumber": 372
          },
          {
            "text": "      ...attendance,",
            "lineNumber": 373
          },
          {
            "text": "      WORK_DATE: normalizeDate(attendance.WORK_DATE),",
            "lineNumber": 374
          },
          {
            "text": "      breakTimes,",
            "lineNumber": 375
          },
          {
            "text": "      officialOutings,",
            "lineNumber": 376
          },
          {
            "text": "      workHours,",
            "lineNumber": 377
          },
          {
            "text": "      holidayWorkApplication: holidayWorkApp || null",
            "lineNumber": 378
          },
          {
            "text": "    });",
            "lineNumber": 379
          },
          {
            "text": "  }",
            "lineNumber": 380
          },
          {
            "text": "  ",
            "lineNumber": 381
          },
          {
            "text": "  // 勤怠記録がない日付にも休日出勤申請の情報を追加",
            "lineNumber": 382
          },
          {
            "text": "  const daysInMonth = new Date(year, month, 0).getDate();",
            "lineNumber": 383
          },
          {
            "text": "  const existingDates = new Set(dailyData.map(d =&gt; d.WORK_DATE));",
            "lineNumber": 384
          },
          {
            "text": "  ",
            "lineNumber": 385
          },
          {
            "text": "  for (let day = 1; day &lt;= daysInMonth; day++) {",
            "lineNumber": 386
          },
          {
            "text": "    const dateStr = &#96;${year}&#96;;",
            "lineNumber": 387
          },
          {
            "text": "  }",
            "lineNumber": 410
          },
          {
            "text": ";",
            "lineNumber": 534
          }
        ]
      },
      "score": 0.43302759528160095
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1519
          },
          "endPosition": {
            "line": 1567
          }
        },
        "contents": "    async loadHolidayWorkStatus() {\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success) {\n          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能\n          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false\n          // 休日出勤申請がある場合、代休取得可能日数を取得\n          if (this.hasHolidayWorkApplication) {\n            await this.loadCompensatoryLeaveBalance()\n          }\n        }\n      } catch (error) {\n        console.error('休日出勤申請状態取得エラー:', error)\n        // エラー時はfalseとして扱う\n        this.hasHolidayWorkApplication = false\n      }\n    },\n    \n    async loadApplicationStatuses() {\n      // 各申請タイプの申請状態を取得\n      const applicationTypes = [\n        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },\n        { key: 'vacation', apiType: 'VACATION' },\n        { key: 'holidayWork', apiType: 'HOLIDAY_WORK' },\n        { key: 'overtime', apiType: 'OVERTIME' },\n        { key: 'earlyWork', apiType: 'EARLY_WORK' },\n        { key: 'transfer', apiType: 'TRANSFER' }\n      ]\n      \n      for (const appType of applicationTypes) {\n        try {\n          const response = await getApplicationStatus(this.employeeId, appType.apiType, this.targetDate)\n          if (response.success) {\n            this.applicationStatuses[appType.key] = response.status || 'NOT_SUBMITTED'\n            this.applicationIds[appType.key] = response.applicationId || null\n          }\n        } catch (error) {\n          console.error(&#96;${appType.key}申請状態取得エラー:&#96;, error)\n          // エラー時はNOT_SUBMITTEDとして扱う\n          this.applicationStatuses[appType.key] = 'NOT_SUBMITTED'\n          this.applicationIds[appType.key] = null\n        }\n      }\n    },\n    \n    async loadCompensatoryLeaveBalance() {\n      try {\n        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadHolidayWorkStatus() {",
            "lineNumber": 1520
          },
          {
            "text": "      try {",
            "lineNumber": 1521
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1522
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1523
          },
          {
            "text": "          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能",
            "lineNumber": 1524
          },
          {
            "text": "          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false",
            "lineNumber": 1525
          },
          {
            "text": "          // 休日出勤申請がある場合、代休取得可能日数を取得",
            "lineNumber": 1526
          },
          {
            "text": "          if (this.hasHolidayWorkApplication) {",
            "lineNumber": 1527
          },
          {
            "text": "            await this.loadCompensatoryLeaveBalance()",
            "lineNumber": 1528
          },
          {
            "text": "          }",
            "lineNumber": 1529
          },
          {
            "text": "        }",
            "lineNumber": 1530
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1531
          },
          {
            "text": "        console.error('休日出勤申請状態取得エラー:', error)",
            "lineNumber": 1532
          },
          {
            "text": "        // エラー時はfalseとして扱う",
            "lineNumber": 1533
          },
          {
            "text": "        this.hasHolidayWorkApplication = false",
            "lineNumber": 1534
          },
          {
            "text": "      }",
            "lineNumber": 1535
          },
          {
            "text": "    },",
            "lineNumber": 1536
          },
          {
            "text": "    ",
            "lineNumber": 1537
          },
          {
            "text": "    async loadApplicationStatuses() {",
            "lineNumber": 1538
          },
          {
            "text": "      // 各申請タイプの申請状態を取得",
            "lineNumber": 1539
          },
          {
            "text": "      const applicationTypes = [",
            "lineNumber": 1540
          },
          {
            "text": "        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },",
            "lineNumber": 1541
          },
          {
            "text": "        { key: 'vacation', apiType: 'VACATION' },",
            "lineNumber": 1542
          },
          {
            "text": "        { key: 'holidayWork', apiType: 'HOLIDAY_WORK' },",
            "lineNumber": 1543
          },
          {
            "text": "        { key: 'overtime', apiType: 'OVERTIME' },",
            "lineNumber": 1544
          },
          {
            "text": "        { key: 'earlyWork', apiType: 'EARLY_WORK' },",
            "lineNumber": 1545
          },
          {
            "text": "        { key: 'transfer', apiType: 'TRANSFER' }",
            "lineNumber": 1546
          },
          {
            "text": "      ]",
            "lineNumber": 1547
          },
          {
            "text": "      ",
            "lineNumber": 1548
          },
          {
            "text": "      for (const appType of applicationTypes) {",
            "lineNumber": 1549
          },
          {
            "text": "        try {",
            "lineNumber": 1550
          },
          {
            "text": "          const response = await getApplicationStatus(this.employeeId, appType.apiType, this.targetDate)",
            "lineNumber": 1551
          },
          {
            "text": "          if (response.success) {",
            "lineNumber": 1552
          },
          {
            "text": "            this.applicationStatuses[appType.key] = response.status || 'NOT_SUBMITTED'",
            "lineNumber": 1553
          },
          {
            "text": "            this.applicationIds[appType.key] = response.applicationId || null",
            "lineNumber": 1554
          },
          {
            "text": "          }",
            "lineNumber": 1555
          },
          {
            "text": "        } catch (error) {",
            "lineNumber": 1556
          },
          {
            "text": "          console.error(&#96;${appType.key}申請状態取得エラー:&#96;, error)",
            "lineNumber": 1557
          },
          {
            "text": "          // エラー時はNOT_SUBMITTEDとして扱う",
            "lineNumber": 1558
          },
          {
            "text": "          this.applicationStatuses[appType.key] = 'NOT_SUBMITTED'",
            "lineNumber": 1559
          },
          {
            "text": "          this.applicationIds[appType.key] = null",
            "lineNumber": 1560
          },
          {
            "text": "        }",
            "lineNumber": 1561
          },
          {
            "text": "      }",
            "lineNumber": 1562
          },
          {
            "text": "    },",
            "lineNumber": 1563
          },
          {
            "text": "    ",
            "lineNumber": 1564
          },
          {
            "text": "    async loadCompensatoryLeaveBalance() {",
            "lineNumber": 1565
          },
          {
            "text": "      try {",
            "lineNumber": 1566
          },
          {
            "text": "        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1567
          }
        ]
      },
      "score": 0.43202900886535645
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1552
          },
          "endPosition": {
            "line": 1605
          }
        },
        "contents": "### 残業申請\n残業申請は、残業を行う場合の事前申請です。\n\n#### 申請内容\n- **期間**: 開始日と終了日を指定\n- **残業時間**: 残業時間を指定\n- **備考**: 残業の理由や備考を入力（任意）\n\n### 早朝勤務申請\n早朝勤務申請は、早朝に勤務する場合の申請です。\n\n#### 申請内容\n- **期間**: 開始日と終了日を指定\n- **備考**: 早朝勤務の理由や備考を入力（任意）\n\n### 振替申請\n振替申請は、勤務日の振替を行う場合の申請です。\n\n#### 申請内容\n- **振替元日**: 振替元の日付を指定\n- **振替先日**: 振替先の日付を指定\n- **備考**: 振替の理由や備考を入力（任意）\n\n#### 申請条件\n- 振替元日と振替先日は異なる日付である必要があります\n\n### 申請状況の更新\n各申請タイプの承認申請ボタンを押下すると、申請が送信され、勤務表画面の該当日の申請状況が更新されます。\n\n#### 日次確定申請の場合\n- 日付列と申請列の+アイコンが↑マーク（申請中）に変更されます\n- ATTENDANCE_RECORDテーブルのAPPROVAL_STATUSがPENDINGに更新されます\n\n#### 休暇申請の場合\n- 該当日の背景色がオレンジ色（#FFA500）になります\n- 申請状況アイコンが↑マーク（申請中）に変更されます\n- VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n\n### ローディング表示\nAPI通信中やデータ処理中は、ローディングマークが表示されます。\n\n**表示タイミング**:\n- 初期表示処理\n- 各申請タイプの承認申請ボタン押下時\n- 休暇種別マスタ取得時\n- 有給残日数取得時\n- 当月時間外残業取得時\n\nローディング表示中は、ユーザーが画面操作できないようにする（ローディングマークの背後にオーバーレイを表示するなど）ことを推奨します。\n\n### エラーダイアログ\n申請時にエラーが発生した場合、エラーダイアログが表示されます。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "### 残業申請",
            "lineNumber": 1554
          },
          {
            "text": "残業申請は、残業を行う場合の事前申請です。",
            "lineNumber": 1555
          },
          {
            "lineNumber": 1556
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1557
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1558
          },
          {
            "text": "- **残業時間**: 残業時間を指定",
            "lineNumber": 1559
          },
          {
            "text": "- **備考**: 残業の理由や備考を入力（任意）",
            "lineNumber": 1560
          },
          {
            "lineNumber": 1561
          },
          {
            "text": "### 早朝勤務申請",
            "lineNumber": 1562
          },
          {
            "text": "早朝勤務申請は、早朝に勤務する場合の申請です。",
            "lineNumber": 1563
          },
          {
            "lineNumber": 1564
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1565
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1566
          },
          {
            "text": "- **備考**: 早朝勤務の理由や備考を入力（任意）",
            "lineNumber": 1567
          },
          {
            "lineNumber": 1568
          },
          {
            "text": "### 振替申請",
            "lineNumber": 1569
          },
          {
            "text": "振替申請は、勤務日の振替を行う場合の申請です。",
            "lineNumber": 1570
          },
          {
            "lineNumber": 1571
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1572
          },
          {
            "text": "- **振替元日**: 振替元の日付を指定",
            "lineNumber": 1573
          },
          {
            "text": "- **振替先日**: 振替先の日付を指定",
            "lineNumber": 1574
          },
          {
            "text": "- **備考**: 振替の理由や備考を入力（任意）",
            "lineNumber": 1575
          },
          {
            "lineNumber": 1576
          },
          {
            "text": "#### 申請条件",
            "lineNumber": 1577
          },
          {
            "text": "- 振替元日と振替先日は異なる日付である必要があります",
            "lineNumber": 1578
          },
          {
            "lineNumber": 1579
          },
          {
            "text": "### 申請状況の更新",
            "lineNumber": 1580
          },
          {
            "text": "各申請タイプの承認申請ボタンを押下すると、申請が送信され、勤務表画面の該当日の申請状況が更新されます。",
            "lineNumber": 1581
          },
          {
            "lineNumber": 1582
          },
          {
            "text": "#### 日次確定申請の場合",
            "lineNumber": 1583
          },
          {
            "text": "- 日付列と申請列の+アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1584
          },
          {
            "text": "- ATTENDANCE_RECORDテーブルのAPPROVAL_STATUSがPENDINGに更新されます",
            "lineNumber": 1585
          },
          {
            "lineNumber": 1586
          },
          {
            "text": "#### 休暇申請の場合",
            "lineNumber": 1587
          },
          {
            "text": "- 該当日の背景色がオレンジ色（#FFA500）になります",
            "lineNumber": 1588
          },
          {
            "text": "- 申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1589
          },
          {
            "text": "- VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1590
          },
          {
            "lineNumber": 1591
          },
          {
            "text": "### ローディング表示",
            "lineNumber": 1592
          },
          {
            "text": "API通信中やデータ処理中は、ローディングマークが表示されます。",
            "lineNumber": 1593
          },
          {
            "lineNumber": 1594
          },
          {
            "text": "**表示タイミング**:",
            "lineNumber": 1595
          },
          {
            "text": "- 初期表示処理",
            "lineNumber": 1596
          },
          {
            "text": "- 各申請タイプの承認申請ボタン押下時",
            "lineNumber": 1597
          },
          {
            "text": "- 休暇種別マスタ取得時",
            "lineNumber": 1598
          },
          {
            "text": "- 有給残日数取得時",
            "lineNumber": 1599
          },
          {
            "text": "- 当月時間外残業取得時",
            "lineNumber": 1600
          },
          {
            "lineNumber": 1601
          },
          {
            "text": "ローディング表示中は、ユーザーが画面操作できないようにする（ローディングマークの背後にオーバーレイを表示するなど）ことを推奨します。",
            "lineNumber": 1602
          },
          {
            "lineNumber": 1603
          },
          {
            "text": "### エラーダイアログ",
            "lineNumber": 1604
          },
          {
            "text": "申請時にエラーが発生した場合、エラーダイアログが表示されます。",
            "lineNumber": 1605
          }
        ]
      },
      "score": 0.43002209067344666
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1032
          },
          "endPosition": {
            "line": 1121
          }
        },
        "contents": "          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"js\"&gt;\nimport HolidayJp from '@holiday-jp/holiday_jp'\nimport { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'\n\nexport default {\n  name: 'AttendanceApplicationDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    targetDate: {\n      type: String,\n      required: true\n    },\n    employeeId: {\n      type: String,\n      required: true\n    },\n    initialApplicationType: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      currentTab: 'menu',\n      activeApplicationTab: null,\n      loading: false,\n      showErrorDialog: false,\n      errorMessage: '',\n      \n      // 休暇種別マスタ\n      vacationTypes: [],\n      paidLeaveBalance: 0,\n      // 休日出勤申請状態\n      hasHolidayWorkApplication: false,\n      // 代休取得可能日数\n      compensatoryLeaveBalance: 0,\n      \n      // 勤怠データ（打刻時刻の状態確認用）\n      attendanceData: null,\n      \n      // 打刻時刻の状態\n      hasClockIn: false,\n      hasClockOut: false,\n      \n      // 選択中のメニュー項目\n      selectedMenuItem: 'dailyConfirmation',\n      \n      // 日次確定申請フォーム\n      dailyConfirmationForm: {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      },\n      // 日次確定申請のエラーメッセージ\n      dailyConfirmationError: '',\n      \n      // 休暇申請フォーム\n      vacationForm: {\n        vacationType: '',\n        startDate: '',\n        endDate: '',\n        reason: '',\n        contact: ''\n      },\n      \n      // 休日出勤申請フォーム\n      holidayWorkForm: {\n        startTime: '09:00',\n        endTime: '17:30',\n        breakHours: 1.0, // 時間単位（小数）\n        reason: ''\n      },\n      \n      // 残業申請フォーム\n      overtimeForm: {\n        startDate: '',\n        endDate: '',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 1033
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 1034
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 1035
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 1036
          },
          {
            "text": "  &lt;/div&gt;",
            "lineNumber": 1037
          },
          {
            "text": "&lt;/template&gt;",
            "lineNumber": 1038
          },
          {
            "lineNumber": 1039
          },
          {
            "text": "&lt;script lang=\"js\"&gt;",
            "lineNumber": 1040
          },
          {
            "text": "import HolidayJp from '@holiday-jp/holiday_jp'",
            "lineNumber": 1041
          },
          {
            "text": "import { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'",
            "lineNumber": 1042
          },
          {
            "lineNumber": 1043
          },
          {
            "text": "export default {",
            "lineNumber": 1044
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 1045
          },
          {
            "text": "  props: {",
            "lineNumber": 1046
          },
          {
            "text": "    visible: {",
            "lineNumber": 1047
          },
          {
            "text": "      type: Boolean,",
            "lineNumber": 1048
          },
          {
            "text": "      default: false",
            "lineNumber": 1049
          },
          {
            "text": "    },",
            "lineNumber": 1050
          },
          {
            "text": "    targetDate: {",
            "lineNumber": 1051
          },
          {
            "text": "      type: String,",
            "lineNumber": 1052
          },
          {
            "text": "      required: true",
            "lineNumber": 1053
          },
          {
            "text": "    },",
            "lineNumber": 1054
          },
          {
            "text": "    employeeId: {",
            "lineNumber": 1055
          },
          {
            "text": "      type: String,",
            "lineNumber": 1056
          },
          {
            "text": "      required: true",
            "lineNumber": 1057
          },
          {
            "text": "    },",
            "lineNumber": 1058
          },
          {
            "text": "    initialApplicationType: {",
            "lineNumber": 1059
          },
          {
            "text": "      type: String,",
            "lineNumber": 1060
          },
          {
            "text": "      default: null",
            "lineNumber": 1061
          },
          {
            "text": "    }",
            "lineNumber": 1062
          },
          {
            "text": "  },",
            "lineNumber": 1063
          },
          {
            "text": "  data() {",
            "lineNumber": 1064
          },
          {
            "text": "    return {",
            "lineNumber": 1065
          },
          {
            "text": "      currentTab: 'menu',",
            "lineNumber": 1066
          },
          {
            "text": "      activeApplicationTab: null,",
            "lineNumber": 1067
          },
          {
            "text": "      loading: false,",
            "lineNumber": 1068
          },
          {
            "text": "      showErrorDialog: false,",
            "lineNumber": 1069
          },
          {
            "text": "      errorMessage: '',",
            "lineNumber": 1070
          },
          {
            "text": "      ",
            "lineNumber": 1071
          },
          {
            "text": "      // 休暇種別マスタ",
            "lineNumber": 1072
          },
          {
            "text": "      vacationTypes: [],",
            "lineNumber": 1073
          },
          {
            "text": "      paidLeaveBalance: 0,",
            "lineNumber": 1074
          },
          {
            "text": "      // 休日出勤申請状態",
            "lineNumber": 1075
          },
          {
            "text": "      hasHolidayWorkApplication: false,",
            "lineNumber": 1076
          },
          {
            "text": "      // 代休取得可能日数",
            "lineNumber": 1077
          },
          {
            "text": "      compensatoryLeaveBalance: 0,",
            "lineNumber": 1078
          },
          {
            "text": "      ",
            "lineNumber": 1079
          },
          {
            "text": "      // 勤怠データ（打刻時刻の状態確認用）",
            "lineNumber": 1080
          },
          {
            "text": "      attendanceData: null,",
            "lineNumber": 1081
          },
          {
            "text": "      ",
            "lineNumber": 1082
          },
          {
            "text": "      // 打刻時刻の状態",
            "lineNumber": 1083
          },
          {
            "text": "      hasClockIn: false,",
            "lineNumber": 1084
          },
          {
            "text": "      hasClockOut: false,",
            "lineNumber": 1085
          },
          {
            "text": "      ",
            "lineNumber": 1086
          },
          {
            "text": "      // 選択中のメニュー項目",
            "lineNumber": 1087
          },
          {
            "text": "      selectedMenuItem: 'dailyConfirmation',",
            "lineNumber": 1088
          },
          {
            "text": "      ",
            "lineNumber": 1089
          },
          {
            "text": "      // 日次確定申請フォーム",
            "lineNumber": 1090
          },
          {
            "text": "      dailyConfirmationForm: {",
            "lineNumber": 1091
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1092
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1093
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1094
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1095
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1096
          },
          {
            "text": "      },",
            "lineNumber": 1097
          },
          {
            "text": "      // 日次確定申請のエラーメッセージ",
            "lineNumber": 1098
          },
          {
            "text": "      dailyConfirmationError: '',",
            "lineNumber": 1099
          },
          {
            "text": "      ",
            "lineNumber": 1100
          },
          {
            "text": "      // 休暇申請フォーム",
            "lineNumber": 1101
          },
          {
            "text": "      vacationForm: {",
            "lineNumber": 1102
          },
          {
            "text": "        vacationType: '',",
            "lineNumber": 1103
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1104
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1105
          },
          {
            "text": "        reason: '',",
            "lineNumber": 1106
          },
          {
            "text": "        contact: ''",
            "lineNumber": 1107
          },
          {
            "text": "      },",
            "lineNumber": 1108
          },
          {
            "text": "      ",
            "lineNumber": 1109
          },
          {
            "text": "      // 休日出勤申請フォーム",
            "lineNumber": 1110
          },
          {
            "text": "      holidayWorkForm: {",
            "lineNumber": 1111
          },
          {
            "text": "        startTime: '09:00',",
            "lineNumber": 1112
          },
          {
            "text": "        endTime: '17:30',",
            "lineNumber": 1113
          },
          {
            "text": "        breakHours: 1.0, // 時間単位（小数）",
            "lineNumber": 1114
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1115
          },
          {
            "text": "      },",
            "lineNumber": 1116
          },
          {
            "text": "      ",
            "lineNumber": 1117
          },
          {
            "text": "      // 残業申請フォーム",
            "lineNumber": 1118
          },
          {
            "text": "      overtimeForm: {",
            "lineNumber": 1119
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1120
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1121
          }
        ]
      },
      "score": 0.4253520965576172
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 211
          },
          "endPosition": {
            "line": 230
          }
        },
        "contents": "| 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |\n| 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |\n| 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | ATTENDANCE_RECORD.REMARK_TEXT |\n| 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIMEテーブルから取得 |\n| 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩開始時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_START_TIME |\n| 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩終了時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_END_TIME |\n| 20 | 申請状態 | 文字 | 正常 | | 各申請タイプの申請状態（NOT_SUBMITTED/PENDING/APPROVED/REJECTED）。申請中または承認済みの場合に申請取消ボタンを表示 |\n| 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定申請状態 | 文字 | 正常 | | ATTENDANCE_RECORD.APPROVAL_STATUS |\n| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請状態 | 文字 | 正常 | | VACATION_HISTORY.APPROVAL_STATUS |\n| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='HOLIDAY_WORK'） |\n| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='OVERTIME'） |\n| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='EARLY_WORK'） |\n| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='TRANSFER'） |\n| 27 | 月次申請状態 | 文字 | 正常 | | 月次確定申請の状態（NOT_SUBMITTED/PENDING/APPROVED）。月次申請を行っている場合、日次申請の取り消しはできない |\n| 28 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |\n\n## イベント処理説明\n\n#### 名称：初期表示処理、英名：initializeScreen、処理タイミング：-",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |",
            "lineNumber": 212
          },
          {
            "text": "| 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |",
            "lineNumber": 213
          },
          {
            "text": "| 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | ATTENDANCE_RECORD.REMARK_TEXT |",
            "lineNumber": 214
          },
          {
            "text": "| 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIMEテーブルから取得 |",
            "lineNumber": 215
          },
          {
            "text": "| 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩開始時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_START_TIME |",
            "lineNumber": 216
          },
          {
            "text": "| 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩終了時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_END_TIME |",
            "lineNumber": 217
          },
          {
            "text": "| 20 | 申請状態 | 文字 | 正常 | | 各申請タイプの申請状態（NOT_SUBMITTED/PENDING/APPROVED/REJECTED）。申請中または承認済みの場合に申請取消ボタンを表示 |",
            "lineNumber": 218
          },
          {
            "text": "| 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定申請状態 | 文字 | 正常 | | ATTENDANCE_RECORD.APPROVAL_STATUS |",
            "lineNumber": 219
          },
          {
            "text": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請状態 | 文字 | 正常 | | VACATION_HISTORY.APPROVAL_STATUS |",
            "lineNumber": 220
          },
          {
            "text": "| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='HOLIDAY_WORK'） |",
            "lineNumber": 221
          },
          {
            "text": "| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='OVERTIME'） |",
            "lineNumber": 222
          },
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='EARLY_WORK'） |",
            "lineNumber": 223
          },
          {
            "text": "| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='TRANSFER'） |",
            "lineNumber": 224
          },
          {
            "text": "| 27 | 月次申請状態 | 文字 | 正常 | | 月次確定申請の状態（NOT_SUBMITTED/PENDING/APPROVED）。月次申請を行っている場合、日次申請の取り消しはできない |",
            "lineNumber": 225
          },
          {
            "text": "| 28 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |",
            "lineNumber": 226
          },
          {
            "lineNumber": 227
          },
          {
            "text": "## イベント処理説明",
            "lineNumber": 228
          },
          {
            "lineNumber": 229
          },
          {
            "text": "#### 名称：初期表示処理、英名：initializeScreen、処理タイミング：-",
            "lineNumber": 230
          }
        ]
      },
      "score": 0.42505574226379395
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1390
          },
          "endPosition": {
            "line": 1441
          }
        },
        "contents": "          }\n        }\n        \n        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定\n        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {\n          holidayWorkBreakHours = 1.0\n        }\n        \n        displayData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          hasStampManualMismatch: hasStampManualMismatch,\n          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',\n          clockIn: clockIn,\n          clockOut: clockOut,\n          clockInType: clockInType,\n          clockOutType: clockOutType,\n          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',\n          workHours: formatWorkHours(totalWorkHours),\n          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,\n          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,\n          isHoliday: holiday,\n          hasVacation: false, // TODO: 休暇データから判定\n          attendanceId: apiRecord?.ATTENDANCE_ID,\n          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,\n          breakTimes: breakTimes,\n          hasHolidayWorkApplication: hasHolidayWorkApplication,\n          holidayWorkApplicationStatus: holidayWorkApplicationStatus,\n          holidayWorkStartTime: holidayWorkStartTime,\n          holidayWorkEndTime: holidayWorkEndTime,\n          holidayWorkBreakHours: holidayWorkBreakHours,\n          remarkText: (() =&gt; {\n            if (apiRecord?.REMARK_TEXT !== null &amp;&amp; apiRecord?.REMARK_TEXT !== undefined) {\n              return String(apiRecord.REMARK_TEXT)\n            }\n\n            return ''\n          })()\n        })\n      }\n\n      return displayData\n    },\n\n    // 年月変更処理（テーブル上部）\n    async changeYearMonthTable() {\n      this.loading = true",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          }",
            "lineNumber": 1391
          },
          {
            "text": "        }",
            "lineNumber": 1392
          },
          {
            "text": "        ",
            "lineNumber": 1393
          },
          {
            "text": "        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定",
            "lineNumber": 1394
          },
          {
            "text": "        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {",
            "lineNumber": 1395
          },
          {
            "text": "          holidayWorkBreakHours = 1.0",
            "lineNumber": 1396
          },
          {
            "text": "        }",
            "lineNumber": 1397
          },
          {
            "text": "        ",
            "lineNumber": 1398
          },
          {
            "text": "        displayData.push({",
            "lineNumber": 1399
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1400
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1401
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1402
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1403
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1404
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1405
          },
          {
            "text": "          hasStampManualMismatch: hasStampManualMismatch,",
            "lineNumber": 1406
          },
          {
            "text": "          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',",
            "lineNumber": 1407
          },
          {
            "text": "          clockIn: clockIn,",
            "lineNumber": 1408
          },
          {
            "text": "          clockOut: clockOut,",
            "lineNumber": 1409
          },
          {
            "text": "          clockInType: clockInType,",
            "lineNumber": 1410
          },
          {
            "text": "          clockOutType: clockOutType,",
            "lineNumber": 1411
          },
          {
            "text": "          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',",
            "lineNumber": 1412
          },
          {
            "text": "          workHours: formatWorkHours(totalWorkHours),",
            "lineNumber": 1413
          },
          {
            "text": "          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,",
            "lineNumber": 1414
          },
          {
            "text": "          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,",
            "lineNumber": 1415
          },
          {
            "text": "          isHoliday: holiday,",
            "lineNumber": 1416
          },
          {
            "text": "          hasVacation: false, // TODO: 休暇データから判定",
            "lineNumber": 1417
          },
          {
            "text": "          attendanceId: apiRecord?.ATTENDANCE_ID,",
            "lineNumber": 1418
          },
          {
            "text": "          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,",
            "lineNumber": 1419
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1420
          },
          {
            "text": "          hasHolidayWorkApplication: hasHolidayWorkApplication,",
            "lineNumber": 1421
          },
          {
            "text": "          holidayWorkApplicationStatus: holidayWorkApplicationStatus,",
            "lineNumber": 1422
          },
          {
            "text": "          holidayWorkStartTime: holidayWorkStartTime,",
            "lineNumber": 1423
          },
          {
            "text": "          holidayWorkEndTime: holidayWorkEndTime,",
            "lineNumber": 1424
          },
          {
            "text": "          holidayWorkBreakHours: holidayWorkBreakHours,",
            "lineNumber": 1425
          },
          {
            "text": "          remarkText: (() =&gt; {",
            "lineNumber": 1426
          },
          {
            "text": "            if (apiRecord?.REMARK_TEXT !== null &amp;&amp; apiRecord?.REMARK_TEXT !== undefined) {",
            "lineNumber": 1427
          },
          {
            "text": "              return String(apiRecord.REMARK_TEXT)",
            "lineNumber": 1428
          },
          {
            "text": "            }",
            "lineNumber": 1429
          },
          {
            "lineNumber": 1430
          },
          {
            "text": "            return ''",
            "lineNumber": 1431
          },
          {
            "text": "          })()",
            "lineNumber": 1432
          },
          {
            "text": "        })",
            "lineNumber": 1433
          },
          {
            "text": "      }",
            "lineNumber": 1434
          },
          {
            "lineNumber": 1435
          },
          {
            "text": "      return displayData",
            "lineNumber": 1436
          },
          {
            "text": "    },",
            "lineNumber": 1437
          },
          {
            "lineNumber": 1438
          },
          {
            "text": "    // 年月変更処理（テーブル上部）",
            "lineNumber": 1439
          },
          {
            "text": "    async changeYearMonthTable() {",
            "lineNumber": 1440
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 1441
          }
        ]
      },
      "score": 0.4249863028526306
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1532
          },
          "endPosition": {
            "line": 1558
          }
        },
        "contents": "- 勤務表画面に戻ると、以下の変更が反映されます：\n  - **申請状況アイコン**: 該当日の申請状況アイコンが↑マーク（申請中）に変更されます\n  - **出社・退社・勤務場所のテキストボックス**: 該当日が土日祝の場合でも、出社・退社・勤務場所のテキストボックスが表示され、編集可能になります\n  - **標準勤務時間と休憩時間の表示**: 該当日の勤務グラフに、標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示されます\n  - **グラフの色**: 土曜日または祝日（所定休日）の場合は法定時間内残業と同じ色（#B0B000 黄土色）、日曜日（法定休日）の場合は#DE9EDD（薄い紫色/ラベンダー色）で表示されます\n- 休日出勤申請が承認されると、休日に打刻が可能になります\n\n#### 平日の場合のボタン制御\n勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。\n\n非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。\n\n#### 休日の場合のボタン制御\n勤務表画面で対象日が休日（土曜日、日曜日、祝日）の場合、休日出勤申請をしていなければ、以下のボタンが非活性（押せない状態）になります：\n- 日次確定\n- 休暇申請\n- 残業申請\n- 早朝勤務申請\n\n非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。休日出勤申請を申請済みの場合は、これらのボタンが活性化され、通常通り操作可能になります。\n\n### 残業申請\n残業申請は、残業を行う場合の事前申請です。\n\n#### 申請内容\n- **期間**: 開始日と終了日を指定",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 勤務表画面に戻ると、以下の変更が反映されます：",
            "lineNumber": 1533
          },
          {
            "text": "  - **申請状況アイコン**: 該当日の申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1534
          },
          {
            "text": "  - **出社・退社・勤務場所のテキストボックス**: 該当日が土日祝の場合でも、出社・退社・勤務場所のテキストボックスが表示され、編集可能になります",
            "lineNumber": 1535
          },
          {
            "text": "  - **標準勤務時間と休憩時間の表示**: 該当日の勤務グラフに、標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示されます",
            "lineNumber": 1536
          },
          {
            "text": "  - **グラフの色**: 土曜日または祝日（所定休日）の場合は法定時間内残業と同じ色（#B0B000 黄土色）、日曜日（法定休日）の場合は#DE9EDD（薄い紫色/ラベンダー色）で表示されます",
            "lineNumber": 1537
          },
          {
            "text": "- 休日出勤申請が承認されると、休日に打刻が可能になります",
            "lineNumber": 1538
          },
          {
            "lineNumber": 1539
          },
          {
            "text": "#### 平日の場合のボタン制御",
            "lineNumber": 1540
          },
          {
            "text": "勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。",
            "lineNumber": 1541
          },
          {
            "lineNumber": 1542
          },
          {
            "text": "非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。",
            "lineNumber": 1543
          },
          {
            "lineNumber": 1544
          },
          {
            "text": "#### 休日の場合のボタン制御",
            "lineNumber": 1545
          },
          {
            "text": "勤務表画面で対象日が休日（土曜日、日曜日、祝日）の場合、休日出勤申請をしていなければ、以下のボタンが非活性（押せない状態）になります：",
            "lineNumber": 1546
          },
          {
            "text": "- 日次確定",
            "lineNumber": 1547
          },
          {
            "text": "- 休暇申請",
            "lineNumber": 1548
          },
          {
            "text": "- 残業申請",
            "lineNumber": 1549
          },
          {
            "text": "- 早朝勤務申請",
            "lineNumber": 1550
          },
          {
            "lineNumber": 1551
          },
          {
            "text": "非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。休日出勤申請を申請済みの場合は、これらのボタンが活性化され、通常通り操作可能になります。",
            "lineNumber": 1552
          },
          {
            "lineNumber": 1553
          },
          {
            "text": "### 残業申請",
            "lineNumber": 1554
          },
          {
            "text": "残業申請は、残業を行う場合の事前申請です。",
            "lineNumber": 1555
          },
          {
            "lineNumber": 1556
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1557
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1558
          }
        ]
      },
      "score": 0.42364299297332764
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-input-dialog.md",
        "range": {
          "startPosition": {
            "line": 692
          },
          "endPosition": {
            "line": 723
          }
        },
        "contents": "1. **休日かつ休日出勤申請が未申請の場合**\n   - 対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、チェックボックスは非活性になります。\n   - 休日出勤申請を申請済みの場合は、チェックボックスが活性化され、通常通り操作可能になります。\n\n2. **打刻時刻が未入力または退社時刻が未入力の場合**\n   - 出社と退社の両方の打刻時刻が未入力の場合、チェックボックスは非活性になります。\n   - 出社の打刻時刻は入力されているが、退社の打刻時刻が未入力の場合（勤務中）、チェックボックスは非活性になります。\n   - 両方の打刻時刻が入力されている場合のみ、チェックボックスが活性化されます。\n\n**制御ロジック**:\n1. 対象日が休日（土曜日、日曜日、祝日）かどうかを判定（HolidayJpライブラリを使用）\n2. 対象日に休日出勤申請が存在するかどうかを確認（APPROVAL_STATUSがPENDINGまたはAPPROVED）\n3. 対象日の勤怠記録で出社時刻（CLOCK_IN_TIME）と退社時刻（CLOCK_OUT_TIME）の状態を確認\n4. 以下のいずれかの場合、チェックボックスを非活性化：\n   - 休日かつ休日出勤申請が未申請の場合\n   - 出社時刻と退社時刻の両方が未入力の場合\n   - 出社時刻は入力されているが、退社時刻が未入力の場合\n5. 非活性時は、チェックボックスを無効化し、クリックイベントを無効化\n\n**注意事項**:\n- チェックボックスが非活性の場合でも、チェックボックス自体は表示されます（グレーアウト表示）\n- 非活性の理由は、ユーザーに明示的に表示されません（UIの簡素化のため）\n\n## 変更履歴\n\n| 日付 | 変更内容 | 変更者 |\n| --- | --- | --- |\n| 2025-12-09 | 初版作成 | AI Assistant |\n| 2025-12-09 | 日次確定チェックボックス使用時のエラーダイアログ（工数実績チェック）を追加。勤務場所は背景色変更対象外に修正 | AI Assistant |\n| 2025-12-09 | プレースホルダー（H:MM、選択してください）を削除。勤務表画面から既存データを初期表示として使用する仕様を追加 | AI Assistant |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "1. **休日かつ休日出勤申請が未申請の場合**",
            "lineNumber": 694
          },
          {
            "text": "   - 対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、チェックボックスは非活性になります。",
            "lineNumber": 695
          },
          {
            "text": "   - 休日出勤申請を申請済みの場合は、チェックボックスが活性化され、通常通り操作可能になります。",
            "lineNumber": 696
          },
          {
            "lineNumber": 697
          },
          {
            "text": "2. **打刻時刻が未入力または退社時刻が未入力の場合**",
            "lineNumber": 698
          },
          {
            "text": "   - 出社と退社の両方の打刻時刻が未入力の場合、チェックボックスは非活性になります。",
            "lineNumber": 699
          },
          {
            "text": "   - 出社の打刻時刻は入力されているが、退社の打刻時刻が未入力の場合（勤務中）、チェックボックスは非活性になります。",
            "lineNumber": 700
          },
          {
            "text": "   - 両方の打刻時刻が入力されている場合のみ、チェックボックスが活性化されます。",
            "lineNumber": 701
          },
          {
            "lineNumber": 702
          },
          {
            "text": "**制御ロジック**:",
            "lineNumber": 703
          },
          {
            "text": "1. 対象日が休日（土曜日、日曜日、祝日）かどうかを判定（HolidayJpライブラリを使用）",
            "lineNumber": 704
          },
          {
            "text": "2. 対象日に休日出勤申請が存在するかどうかを確認（APPROVAL_STATUSがPENDINGまたはAPPROVED）",
            "lineNumber": 705
          },
          {
            "text": "3. 対象日の勤怠記録で出社時刻（CLOCK_IN_TIME）と退社時刻（CLOCK_OUT_TIME）の状態を確認",
            "lineNumber": 706
          },
          {
            "text": "4. 以下のいずれかの場合、チェックボックスを非活性化：",
            "lineNumber": 707
          },
          {
            "text": "   - 休日かつ休日出勤申請が未申請の場合",
            "lineNumber": 708
          },
          {
            "text": "   - 出社時刻と退社時刻の両方が未入力の場合",
            "lineNumber": 709
          },
          {
            "text": "   - 出社時刻は入力されているが、退社時刻が未入力の場合",
            "lineNumber": 710
          },
          {
            "text": "5. 非活性時は、チェックボックスを無効化し、クリックイベントを無効化",
            "lineNumber": 711
          },
          {
            "lineNumber": 712
          },
          {
            "text": "**注意事項**:",
            "lineNumber": 713
          },
          {
            "text": "- チェックボックスが非活性の場合でも、チェックボックス自体は表示されます（グレーアウト表示）",
            "lineNumber": 714
          },
          {
            "text": "- 非活性の理由は、ユーザーに明示的に表示されません（UIの簡素化のため）",
            "lineNumber": 715
          },
          {
            "lineNumber": 716
          },
          {
            "text": "## 変更履歴",
            "lineNumber": 717
          },
          {
            "lineNumber": 718
          },
          {
            "text": "| 日付 | 変更内容 | 変更者 |",
            "lineNumber": 719
          },
          {
            "text": "| --- | --- | --- |",
            "lineNumber": 720
          },
          {
            "text": "| 2025-12-09 | 初版作成 | AI Assistant |",
            "lineNumber": 721
          },
          {
            "text": "| 2025-12-09 | 日次確定チェックボックス使用時のエラーダイアログ（工数実績チェック）を追加。勤務場所は背景色変更対象外に修正 | AI Assistant |",
            "lineNumber": 722
          },
          {
            "text": "| 2025-12-09 | プレースホルダー（H:MM、選択してください）を削除。勤務表画面から既存データを初期表示として使用する仕様を追加 | AI Assistant |",
            "lineNumber": 723
          }
        ]
      },
      "score": 0.4218539595603943
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 93
          },
          "endPosition": {
            "line": 103
          }
        },
        "contents": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |\n| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |\n| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | リンク | | | | | | | 表示 | 活性 | | 休憩時間を変更するためのリンク。押下で休憩時間入力ダイアログを表示 |\n| 45 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休日出勤申請の備考・理由を入力（任意） |\n| 45-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |\n| 45-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |\n| 45-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |\n| 45-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |\n| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |\n| 46-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |",
            "lineNumber": 94
          },
          {
            "text": "| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |",
            "lineNumber": 95
          },
          {
            "text": "| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | リンク | | | | | | | 表示 | 活性 | | 休憩時間を変更するためのリンク。押下で休憩時間入力ダイアログを表示 |",
            "lineNumber": 96
          },
          {
            "text": "| 45 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休日出勤申請の備考・理由を入力（任意） |",
            "lineNumber": 97
          },
          {
            "text": "| 45-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |",
            "lineNumber": 98
          },
          {
            "text": "| 45-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |",
            "lineNumber": 99
          },
          {
            "text": "| 45-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |",
            "lineNumber": 100
          },
          {
            "text": "| 45-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |",
            "lineNumber": 101
          },
          {
            "text": "| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |",
            "lineNumber": 102
          },
          {
            "text": "| 46-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 103
          }
        ]
      },
      "score": 0.4218289852142334
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 202,
            "column": 2
          },
          "endPosition": {
            "line": 266,
            "column": 3
          }
        },
        "contents": "/**\n * 申請状態を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請状態\n */\nconst getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {\n  let status = 'NOT_SUBMITTED';\n  let applicationId = null;\n  \n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の状態を取得\n      const attendanceModel = require('../models/attendanceModel');\n      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);\n      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {\n        status = attendance.APPROVAL_STATUS;\n      }\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の状態を取得\n      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);\n      if (vacations &amp;&amp; vacations.length &gt; 0) {\n        const vacation = vacations.find(v =&gt; \n          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;\n          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')\n        );\n        if (vacation) {\n          status = vacation.APPROVAL_STATUS;\n          applicationId = vacation.VACATION_ID;\n        }\n      }\n      break;\n    }\n    case 'HOLIDAY_WORK':\n    case 'OVERTIME':\n    case 'EARLY_WORK':\n    case 'TRANSFER': {\n      // APPLICATION_HISTORYから取得\n      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);\n      if (application) {\n        status = application.APPROVAL_STATUS;\n        applicationId = application.APPLICATION_ID;\n      }\n      break;\n    }\n  }\n  \n  return {\n    status,\n    applicationId\n  };\n};\n\n/**\n * 月次確定申請取消\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;void&gt;}\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 205
          },
          {
            "text": " * 申請状態を取得",
            "lineNumber": 206
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 207
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 208
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 209
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請状態",
            "lineNumber": 210
          },
          {
            "text": " */",
            "lineNumber": 211
          },
          {
            "text": "const getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {",
            "lineNumber": 212
          },
          {
            "text": "  let status = 'NOT_SUBMITTED';",
            "lineNumber": 213
          },
          {
            "text": "  let applicationId = null;",
            "lineNumber": 214
          },
          {
            "text": "  ",
            "lineNumber": 215
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 216
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 217
          },
          {
            "text": "      // 日次確定申請の状態を取得",
            "lineNumber": 218
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 219
          },
          {
            "text": "      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);",
            "lineNumber": 220
          },
          {
            "text": "      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {",
            "lineNumber": 221
          },
          {
            "text": "        status = attendance.APPROVAL_STATUS;",
            "lineNumber": 222
          },
          {
            "text": "      }",
            "lineNumber": 223
          },
          {
            "text": "      break;",
            "lineNumber": 224
          },
          {
            "text": "    }",
            "lineNumber": 225
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 226
          },
          {
            "text": "      // 休暇申請の状態を取得",
            "lineNumber": 227
          },
          {
            "text": "      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);",
            "lineNumber": 228
          },
          {
            "text": "      if (vacations &amp;&amp; vacations.length &gt; 0) {",
            "lineNumber": 229
          },
          {
            "text": "        const vacation = vacations.find(v =&gt; ",
            "lineNumber": 230
          },
          {
            "text": "          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;",
            "lineNumber": 231
          },
          {
            "text": "          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 232
          },
          {
            "text": "        );",
            "lineNumber": 233
          },
          {
            "text": "        if (vacation) {",
            "lineNumber": 234
          },
          {
            "text": "          status = vacation.APPROVAL_STATUS;",
            "lineNumber": 235
          },
          {
            "text": "          applicationId = vacation.VACATION_ID;",
            "lineNumber": 236
          },
          {
            "text": "        }",
            "lineNumber": 237
          },
          {
            "text": "      }",
            "lineNumber": 238
          },
          {
            "text": "      break;",
            "lineNumber": 239
          },
          {
            "text": "    }",
            "lineNumber": 240
          },
          {
            "text": "    case 'HOLIDAY_WORK':",
            "lineNumber": 241
          },
          {
            "text": "    case 'OVERTIME':",
            "lineNumber": 242
          },
          {
            "text": "    case 'EARLY_WORK':",
            "lineNumber": 243
          },
          {
            "text": "    case 'TRANSFER': {",
            "lineNumber": 244
          },
          {
            "text": "      // APPLICATION_HISTORYから取得",
            "lineNumber": 245
          },
          {
            "text": "      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);",
            "lineNumber": 246
          },
          {
            "text": "      if (application) {",
            "lineNumber": 247
          },
          {
            "text": "        status = application.APPROVAL_STATUS;",
            "lineNumber": 248
          },
          {
            "text": "        applicationId = application.APPLICATION_ID;",
            "lineNumber": 249
          },
          {
            "text": "      }",
            "lineNumber": 250
          },
          {
            "text": "      break;",
            "lineNumber": 251
          },
          {
            "text": "    }",
            "lineNumber": 252
          },
          {
            "text": "  }",
            "lineNumber": 253
          },
          {
            "text": "  ",
            "lineNumber": 254
          },
          {
            "text": "  return {",
            "lineNumber": 255
          },
          {
            "text": "    status,",
            "lineNumber": 256
          },
          {
            "text": "    applicationId",
            "lineNumber": 257
          },
          {
            "text": "  };",
            "lineNumber": 258
          },
          {
            "text": "};",
            "lineNumber": 259
          },
          {
            "lineNumber": 260
          },
          {
            "text": "/**",
            "lineNumber": 261
          },
          {
            "text": " * 月次確定申請取消",
            "lineNumber": 262
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 263
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 264
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 265
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 266
          },
          {
            "text": " */",
            "lineNumber": 267
          }
        ]
      },
      "score": 0.4203943610191345
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1512
          },
          "endPosition": {
            "line": 1534
          }
        },
        "contents": "- **閉じるボタン**: タイトルバーの右端の「X」アイコンで、設定を破棄してダイアログを閉じる\n\n**入力チェック:**\n- 開始時刻と終了時刻は必須入力です\n- 開始時刻は終了時刻より前の時刻である必要があります\n- 休憩時間が重複している場合はエラーになります\n\n**休憩時間の計算:**\n- OKボタン押下時に、入力された各休憩時間の合計を計算します\n- 各休憩時間は「終了時刻 - 開始時刻」で計算されます\n- 計算された合計時間が休日出勤申請フォームの休憩時間表示に反映されます\n\n#### 平日の場合のボタン制御\n勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。\n\n非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休日出勤申請が送信されます\n- 申請成功後、APPLICATION_HISTORYテーブルにレコードが登録され、APPLICATION_TYPEが'HOLIDAY_WORK'、APPROVAL_STATUSがPENDINGに設定されます\n- 勤務表画面に戻ると、以下の変更が反映されます：\n  - **申請状況アイコン**: 該当日の申請状況アイコンが↑マーク（申請中）に変更されます",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **閉じるボタン**: タイトルバーの右端の「X」アイコンで、設定を破棄してダイアログを閉じる",
            "lineNumber": 1513
          },
          {
            "lineNumber": 1514
          },
          {
            "text": "**入力チェック:**",
            "lineNumber": 1515
          },
          {
            "text": "- 開始時刻と終了時刻は必須入力です",
            "lineNumber": 1516
          },
          {
            "text": "- 開始時刻は終了時刻より前の時刻である必要があります",
            "lineNumber": 1517
          },
          {
            "text": "- 休憩時間が重複している場合はエラーになります",
            "lineNumber": 1518
          },
          {
            "lineNumber": 1519
          },
          {
            "text": "**休憩時間の計算:**",
            "lineNumber": 1520
          },
          {
            "text": "- OKボタン押下時に、入力された各休憩時間の合計を計算します",
            "lineNumber": 1521
          },
          {
            "text": "- 各休憩時間は「終了時刻 - 開始時刻」で計算されます",
            "lineNumber": 1522
          },
          {
            "text": "- 計算された合計時間が休日出勤申請フォームの休憩時間表示に反映されます",
            "lineNumber": 1523
          },
          {
            "lineNumber": 1524
          },
          {
            "text": "#### 平日の場合のボタン制御",
            "lineNumber": 1525
          },
          {
            "text": "勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。",
            "lineNumber": 1526
          },
          {
            "lineNumber": 1527
          },
          {
            "text": "非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。",
            "lineNumber": 1528
          },
          {
            "lineNumber": 1529
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1530
          },
          {
            "text": "- 承認申請ボタンを押下すると、休日出勤申請が送信されます",
            "lineNumber": 1531
          },
          {
            "text": "- 申請成功後、APPLICATION_HISTORYテーブルにレコードが登録され、APPLICATION_TYPEが'HOLIDAY_WORK'、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1532
          },
          {
            "text": "- 勤務表画面に戻ると、以下の変更が反映されます：",
            "lineNumber": 1533
          },
          {
            "text": "  - **申請状況アイコン**: 該当日の申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1534
          }
        ]
      },
      "score": 0.4197258949279785
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 42,
            "column": 2
          },
          "endPosition": {
            "line": 114,
            "column": 1
          }
        },
        "contents": "/**\n * 休日出勤申請\n */\nconst applyHolidayWork = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, workDate, startTime, endTime, breakHours, reason } = req.body;\n    \n    if (!employeeId || !workDate || !startTime || !endTime || breakHours === undefined) {\n      return res.status(400).json({\n        success: false,\n        message: '必須項目が不足しています。'\n      });\n    }\n    \n    // バリデーション\n    if (startTime &gt;= endTime) {\n      return res.status(400).json({\n        success: false,\n        message: '開始時間は終了時間より前の時刻を入力してください。'\n      });\n    }\n    \n    if (breakHours &lt; 0) {\n      return res.status(400).json({\n        success: false,\n        message: '休憩時間を入力してください。'\n      });\n    }\n    \n    await applicationService.applyHolidayWork({ \n      employeeId, \n      workDate, \n      startTime, \n      endTime, \n      breakHours, \n      reason \n    });\n    \n    res.json({\n      success: true,\n      message: '休日出勤申請が完了しました。'\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * 残業申請\n */\nconst applyOvertime = async (req, res, next) =&gt;\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 45
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 46
          },
          {
            "text": " */",
            "lineNumber": 47
          },
          {
            "text": "const applyHolidayWork = async (req, res, next) =&gt; {",
            "lineNumber": 48
          },
          {
            "text": "  try {",
            "lineNumber": 49
          },
          {
            "text": "    const { employeeId, workDate, startTime, endTime, breakHours, reason } = req.body;",
            "lineNumber": 50
          },
          {
            "text": "    ",
            "lineNumber": 51
          },
          {
            "text": "    if (!employeeId || !workDate || !startTime || !endTime || breakHours === undefined) {",
            "lineNumber": 52
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 53
          },
          {
            "text": "        success: false,",
            "lineNumber": 54
          },
          {
            "text": "        message: '必須項目が不足しています。'",
            "lineNumber": 55
          },
          {
            "text": "      });",
            "lineNumber": 56
          },
          {
            "text": "    }",
            "lineNumber": 57
          },
          {
            "text": "    ",
            "lineNumber": 58
          },
          {
            "text": "    // バリデーション",
            "lineNumber": 59
          },
          {
            "text": "    if (startTime &gt;= endTime) {",
            "lineNumber": 60
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 61
          },
          {
            "text": "        success: false,",
            "lineNumber": 62
          },
          {
            "text": "        message: '開始時間は終了時間より前の時刻を入力してください。'",
            "lineNumber": 63
          },
          {
            "text": "      });",
            "lineNumber": 64
          },
          {
            "text": "    }",
            "lineNumber": 65
          },
          {
            "text": "    ",
            "lineNumber": 66
          },
          {
            "text": "    if (breakHours &lt; 0) {",
            "lineNumber": 67
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 68
          },
          {
            "text": "        success: false,",
            "lineNumber": 69
          },
          {
            "text": "        message: '休憩時間を入力してください。'",
            "lineNumber": 70
          },
          {
            "text": "      });",
            "lineNumber": 71
          },
          {
            "text": "    }",
            "lineNumber": 72
          },
          {
            "text": "    ",
            "lineNumber": 73
          },
          {
            "text": "    await applicationService.applyHolidayWork({ ",
            "lineNumber": 74
          },
          {
            "text": "      employeeId, ",
            "lineNumber": 75
          },
          {
            "text": "      workDate, ",
            "lineNumber": 76
          },
          {
            "text": "      startTime, ",
            "lineNumber": 77
          },
          {
            "text": "      endTime, ",
            "lineNumber": 78
          },
          {
            "text": "      breakHours, ",
            "lineNumber": 79
          },
          {
            "text": "      reason ",
            "lineNumber": 80
          },
          {
            "text": "    });",
            "lineNumber": 81
          },
          {
            "text": "    ",
            "lineNumber": 82
          },
          {
            "text": "    res.json({",
            "lineNumber": 83
          },
          {
            "text": "      success: true,",
            "lineNumber": 84
          },
          {
            "text": "      message: '休日出勤申請が完了しました。'",
            "lineNumber": 85
          },
          {
            "text": "    });",
            "lineNumber": 86
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 87
          },
          {
            "text": "    next(error);",
            "lineNumber": 88
          },
          {
            "text": "  }",
            "lineNumber": 89
          },
          {
            "text": "};",
            "lineNumber": 90
          },
          {
            "lineNumber": 91
          },
          {
            "text": "/**",
            "lineNumber": 92
          },
          {
            "text": " * 残業申請",
            "lineNumber": 93
          },
          {
            "text": " */",
            "lineNumber": 94
          },
          {
            "text": "const applyOvertime = async (req, res, next) =&gt;",
            "lineNumber": 95
          },
          {
            "text": ";",
            "lineNumber": 115
          }
        ]
      },
      "score": 0.4178299903869629
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1354
          },
          "endPosition": {
            "line": 1395,
            "column": 10
          }
        },
        "contents": "        let clockOutType = ''\n\n        if (clockOut) {\n          clockOutType = apiRecord?.CLOCK_OUT_TYPE || ''\n        }\n        \n        // 打刻時刻と入力時刻が異なる場合の判定\n        // 打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）が存在し、\n        // かつ入力時刻（CLOCK_IN_TIME/CLOCK_OUT_TIME）と異なる場合にtrue\n        // または、打刻種別がMANUALで、かつ打刻時刻が存在する場合\n        const hasClockInMismatch = originalClockIn &amp;&amp; clockIn &amp;&amp; originalClockIn !== clockIn\n        const hasClockOutMismatch = originalClockOut &amp;&amp; clockOut &amp;&amp; originalClockOut !== clockOut\n        const hasStampManualMismatch = hasClockInMismatch || hasClockOutMismatch || \n          (clockInType === 'MANUAL' &amp;&amp; originalClockIn &amp;&amp; clockIn) || \n          (clockOutType === 'MANUAL' &amp;&amp; originalClockOut &amp;&amp; clockOut)\n        \n        // 休日出勤申請の情報を取得\n        const holidayWorkApp = apiRecord?.holidayWorkApplication\n        const hasHolidayWorkApplication = !!(holidayWorkApp &amp;&amp; \n          (holidayWorkApp.APPROVAL_STATUS === 'PENDING' || holidayWorkApp.APPROVAL_STATUS === 'APPROVED'))\n        const holidayWorkApplicationStatus = holidayWorkApp?.APPROVAL_STATUS || null\n        \n        // 休日出勤申請の時間情報を取得（REASONフィールドからJSON形式で取得）\n        let holidayWorkStartTime = null\n        let holidayWorkEndTime = null\n        let holidayWorkBreakHours = null\n        if (holidayWorkApp &amp;&amp; holidayWorkApp.REASON) {\n          try {\n            const reasonData = JSON.parse(holidayWorkApp.REASON)\n            if (reasonData.startTime &amp;&amp; reasonData.endTime) {\n              holidayWorkStartTime = reasonData.startTime\n              holidayWorkEndTime = reasonData.endTime\n              holidayWorkBreakHours = reasonData.breakHours || 1.0\n            }\n          } catch (e) {\n            // JSON解析エラーの場合は無視\n          }\n        }\n        \n        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定\n        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        let clockOutType = ''",
            "lineNumber": 1355
          },
          {
            "lineNumber": 1356
          },
          {
            "text": "        if (clockOut) {",
            "lineNumber": 1357
          },
          {
            "text": "          clockOutType = apiRecord?.CLOCK_OUT_TYPE || ''",
            "lineNumber": 1358
          },
          {
            "text": "        }",
            "lineNumber": 1359
          },
          {
            "text": "        ",
            "lineNumber": 1360
          },
          {
            "text": "        // 打刻時刻と入力時刻が異なる場合の判定",
            "lineNumber": 1361
          },
          {
            "text": "        // 打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）が存在し、",
            "lineNumber": 1362
          },
          {
            "text": "        // かつ入力時刻（CLOCK_IN_TIME/CLOCK_OUT_TIME）と異なる場合にtrue",
            "lineNumber": 1363
          },
          {
            "text": "        // または、打刻種別がMANUALで、かつ打刻時刻が存在する場合",
            "lineNumber": 1364
          },
          {
            "text": "        const hasClockInMismatch = originalClockIn &amp;&amp; clockIn &amp;&amp; originalClockIn !== clockIn",
            "lineNumber": 1365
          },
          {
            "text": "        const hasClockOutMismatch = originalClockOut &amp;&amp; clockOut &amp;&amp; originalClockOut !== clockOut",
            "lineNumber": 1366
          },
          {
            "text": "        const hasStampManualMismatch = hasClockInMismatch || hasClockOutMismatch || ",
            "lineNumber": 1367
          },
          {
            "text": "          (clockInType === 'MANUAL' &amp;&amp; originalClockIn &amp;&amp; clockIn) || ",
            "lineNumber": 1368
          },
          {
            "text": "          (clockOutType === 'MANUAL' &amp;&amp; originalClockOut &amp;&amp; clockOut)",
            "lineNumber": 1369
          },
          {
            "text": "        ",
            "lineNumber": 1370
          },
          {
            "text": "        // 休日出勤申請の情報を取得",
            "lineNumber": 1371
          },
          {
            "text": "        const holidayWorkApp = apiRecord?.holidayWorkApplication",
            "lineNumber": 1372
          },
          {
            "text": "        const hasHolidayWorkApplication = !!(holidayWorkApp &amp;&amp; ",
            "lineNumber": 1373
          },
          {
            "text": "          (holidayWorkApp.APPROVAL_STATUS === 'PENDING' || holidayWorkApp.APPROVAL_STATUS === 'APPROVED'))",
            "lineNumber": 1374
          },
          {
            "text": "        const holidayWorkApplicationStatus = holidayWorkApp?.APPROVAL_STATUS || null",
            "lineNumber": 1375
          },
          {
            "text": "        ",
            "lineNumber": 1376
          },
          {
            "text": "        // 休日出勤申請の時間情報を取得（REASONフィールドからJSON形式で取得）",
            "lineNumber": 1377
          },
          {
            "text": "        let holidayWorkStartTime = null",
            "lineNumber": 1378
          },
          {
            "text": "        let holidayWorkEndTime = null",
            "lineNumber": 1379
          },
          {
            "text": "        let holidayWorkBreakHours = null",
            "lineNumber": 1380
          },
          {
            "text": "        if (holidayWorkApp &amp;&amp; holidayWorkApp.REASON) {",
            "lineNumber": 1381
          },
          {
            "text": "          try {",
            "lineNumber": 1382
          },
          {
            "text": "            const reasonData = JSON.parse(holidayWorkApp.REASON)",
            "lineNumber": 1383
          },
          {
            "text": "            if (reasonData.startTime &amp;&amp; reasonData.endTime) {",
            "lineNumber": 1384
          },
          {
            "text": "              holidayWorkStartTime = reasonData.startTime",
            "lineNumber": 1385
          },
          {
            "text": "              holidayWorkEndTime = reasonData.endTime",
            "lineNumber": 1386
          },
          {
            "text": "              holidayWorkBreakHours = reasonData.breakHours || 1.0",
            "lineNumber": 1387
          },
          {
            "text": "            }",
            "lineNumber": 1388
          },
          {
            "text": "          } catch (e) {",
            "lineNumber": 1389
          },
          {
            "text": "            // JSON解析エラーの場合は無視",
            "lineNumber": 1390
          },
          {
            "text": "          }",
            "lineNumber": 1391
          },
          {
            "text": "        }",
            "lineNumber": 1392
          },
          {
            "text": "        ",
            "lineNumber": 1393
          },
          {
            "text": "        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定",
            "lineNumber": 1394
          },
          {
            "text": "        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {",
            "lineNumber": 1395
          },
          {
            "text": "          ",
            "lineNumber": 1396
          }
        ]
      },
      "score": 0.41742753982543945
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 717
          },
          "endPosition": {
            "line": 730
          }
        },
        "contents": "- 編集仕様名：初期画面表示\n- 関連する取得仕様名：-\n  | 項目名 | 編集内容 | 条件or前提 |\n  | :--- | :--- | :--- |\n  | タイトル | 「勤怠関連申請」 | |\n  | 勤務予定日（日付表示） | 入出力項目定義.対象日付をYYYY年MM月DD日X曜日形式で表示。勤務中（まだ退社していない場合）も同様の形式で表示する | |\n  | メニューリスト | 申請タイプのメニューリストを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | 「日次確定」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | 「休暇申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | 「休日出勤申請」ボタンを表示。対象日が平日の場合、常に非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | 「残業申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請 | 「早朝勤務申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請 | 「振替申請」ボタンを表示 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 編集仕様名：初期画面表示",
            "lineNumber": 718
          },
          {
            "text": "- 関連する取得仕様名：-",
            "lineNumber": 719
          },
          {
            "text": "  | 項目名 | 編集内容 | 条件or前提 |",
            "lineNumber": 720
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 721
          },
          {
            "text": "  | タイトル | 「勤怠関連申請」 | |",
            "lineNumber": 722
          },
          {
            "text": "  | 勤務予定日（日付表示） | 入出力項目定義.対象日付をYYYY年MM月DD日X曜日形式で表示。勤務中（まだ退社していない場合）も同様の形式で表示する | |",
            "lineNumber": 723
          },
          {
            "text": "  | メニューリスト | 申請タイプのメニューリストを表示 | |",
            "lineNumber": 724
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | 「日次確定」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 725
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | 「休暇申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 726
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | 「休日出勤申請」ボタンを表示。対象日が平日の場合、常に非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能 | |",
            "lineNumber": 727
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | 「残業申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 728
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請 | 「早朝勤務申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 729
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請 | 「振替申請」ボタンを表示 | |",
            "lineNumber": 730
          }
        ]
      },
      "score": 0.4149908125400543
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\home-screen.md",
        "range": {
          "startPosition": {
            "line": 333
          },
          "endPosition": {
            "line": 373
          }
        },
        "contents": "| :--- | :--- | :--- | :--- | :--- | :--- |\n| 1 | APPLICATION_ID | 申請ID | EMPLOYEE_ID = ログインユーザーの従業員ID | - | ログインユーザーの申請 |\n| 2 | APPROVAL_STATUS | 承認状態 | APPLICATION_TYPE = 'HOLIDAY_WORK' | - | 休日出勤申請のみ |\n| 3 | TARGET_START_DATE | 対象開始日 | TARGET_START_DATE &lt;= システム日付 | - | 申請期間内 |\n| 4 | TARGET_END_DATE | 対象終了日 | TARGET_END_DATE &gt;= システム日付 | - | 申請期間内 |\n| 5 | - | - | APPROVAL_STATUS IN ('PENDING', 'APPROVED') | - | 申請中または承認済みのみ |\n\n**取得条件の詳細**:\n&#96;&#96;&#96;sql\nSELECT APPLICATION_ID, APPROVAL_STATUS\nFROM APPLICATION_HISTORY\nWHERE EMPLOYEE_ID = :employeeId\n  AND APPLICATION_TYPE = 'HOLIDAY_WORK'\n  AND TARGET_START_DATE &lt;= CURDATE()\n  AND TARGET_END_DATE &gt;= CURDATE()\n  AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\nLIMIT 1;\n&#96;&#96;&#96;\n\n**備考**: \n- 当日が土日祝の場合のみ取得する\n- 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する\n- 申請が存在しない、または申請中（PENDING）・承認済み（APPROVED）でない場合、打刻ボタンは非活性化される\n- 申請中（PENDING）の場合でも打刻が可能になる\n\n## テーブル更新仕様\n\n### No.1\n- テーブル更新仕様名：出勤打刻登録\n- 対象テーブル：ATTENDANCE_RECORD\n- 更新タイミング：出勤ボタン押下時\n\n| No | 更新項目 | 項目名（論理名） | 設定値 | 条件 | 備考 |\n| :--- | :--- | :--- | :--- | :--- | :--- |\n| 1 | EMPLOYEE_ID | 従業員ID | ログインユーザーの従業員ID | 新規レコード作成時 | - |\n| 2 | WORK_DATE | 勤務日 | システム日付 | 新規レコード作成時 | - |\n| 3 | CLOCK_IN_TIME | 出勤時刻 | システム日時 | - | 現在時刻を設定 |\n| 4 | CLOCK_IN_TYPE | 出勤打刻種別 | 'STAMP' | - | 打刻による出勤 |\n| 5 | WORK_LOCATION_CODE | 勤務場所コード | 選択された勤務場所コード | - | - |\n| 6 | CREATED_AT | 作成日時 | システム日時 | 新規レコード作成時 | - |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| :--- | :--- | :--- | :--- | :--- | :--- |",
            "lineNumber": 334
          },
          {
            "text": "| 1 | APPLICATION_ID | 申請ID | EMPLOYEE_ID = ログインユーザーの従業員ID | - | ログインユーザーの申請 |",
            "lineNumber": 335
          },
          {
            "text": "| 2 | APPROVAL_STATUS | 承認状態 | APPLICATION_TYPE = 'HOLIDAY_WORK' | - | 休日出勤申請のみ |",
            "lineNumber": 336
          },
          {
            "text": "| 3 | TARGET_START_DATE | 対象開始日 | TARGET_START_DATE &lt;= システム日付 | - | 申請期間内 |",
            "lineNumber": 337
          },
          {
            "text": "| 4 | TARGET_END_DATE | 対象終了日 | TARGET_END_DATE &gt;= システム日付 | - | 申請期間内 |",
            "lineNumber": 338
          },
          {
            "text": "| 5 | - | - | APPROVAL_STATUS IN ('PENDING', 'APPROVED') | - | 申請中または承認済みのみ |",
            "lineNumber": 339
          },
          {
            "lineNumber": 340
          },
          {
            "text": "**取得条件の詳細**:",
            "lineNumber": 341
          },
          {
            "text": "&#96;&#96;&#96;sql",
            "lineNumber": 342
          },
          {
            "text": "SELECT APPLICATION_ID, APPROVAL_STATUS",
            "lineNumber": 343
          },
          {
            "text": "FROM APPLICATION_HISTORY",
            "lineNumber": 344
          },
          {
            "text": "WHERE EMPLOYEE_ID = :employeeId",
            "lineNumber": 345
          },
          {
            "text": "  AND APPLICATION_TYPE = 'HOLIDAY_WORK'",
            "lineNumber": 346
          },
          {
            "text": "  AND TARGET_START_DATE &lt;= CURDATE()",
            "lineNumber": 347
          },
          {
            "text": "  AND TARGET_END_DATE &gt;= CURDATE()",
            "lineNumber": 348
          },
          {
            "text": "  AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 349
          },
          {
            "text": "LIMIT 1;",
            "lineNumber": 350
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 351
          },
          {
            "lineNumber": 352
          },
          {
            "text": "**備考**: ",
            "lineNumber": 353
          },
          {
            "text": "- 当日が土日祝の場合のみ取得する",
            "lineNumber": 354
          },
          {
            "text": "- 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する",
            "lineNumber": 355
          },
          {
            "text": "- 申請が存在しない、または申請中（PENDING）・承認済み（APPROVED）でない場合、打刻ボタンは非活性化される",
            "lineNumber": 356
          },
          {
            "text": "- 申請中（PENDING）の場合でも打刻が可能になる",
            "lineNumber": 357
          },
          {
            "lineNumber": 358
          },
          {
            "text": "## テーブル更新仕様",
            "lineNumber": 359
          },
          {
            "lineNumber": 360
          },
          {
            "text": "### No.1",
            "lineNumber": 361
          },
          {
            "text": "- テーブル更新仕様名：出勤打刻登録",
            "lineNumber": 362
          },
          {
            "text": "- 対象テーブル：ATTENDANCE_RECORD",
            "lineNumber": 363
          },
          {
            "text": "- 更新タイミング：出勤ボタン押下時",
            "lineNumber": 364
          },
          {
            "lineNumber": 365
          },
          {
            "text": "| No | 更新項目 | 項目名（論理名） | 設定値 | 条件 | 備考 |",
            "lineNumber": 366
          },
          {
            "text": "| :--- | :--- | :--- | :--- | :--- | :--- |",
            "lineNumber": 367
          },
          {
            "text": "| 1 | EMPLOYEE_ID | 従業員ID | ログインユーザーの従業員ID | 新規レコード作成時 | - |",
            "lineNumber": 368
          },
          {
            "text": "| 2 | WORK_DATE | 勤務日 | システム日付 | 新規レコード作成時 | - |",
            "lineNumber": 369
          },
          {
            "text": "| 3 | CLOCK_IN_TIME | 出勤時刻 | システム日時 | - | 現在時刻を設定 |",
            "lineNumber": 370
          },
          {
            "text": "| 4 | CLOCK_IN_TYPE | 出勤打刻種別 | 'STAMP' | - | 打刻による出勤 |",
            "lineNumber": 371
          },
          {
            "text": "| 5 | WORK_LOCATION_CODE | 勤務場所コード | 選択された勤務場所コード | - | - |",
            "lineNumber": 372
          },
          {
            "text": "| 6 | CREATED_AT | 作成日時 | システム日時 | 新規レコード作成時 | - |",
            "lineNumber": 373
          }
        ]
      },
      "score": 0.41488003730773926
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1197
          },
          "endPosition": {
            "line": 1224
          }
        },
        "contents": "| 曜日 | 承認状態 | 休日出勤申請 | 表示形式 | 編集可否 |\n| --- | --- | --- | --- | --- |\n| 土日祝 | すべて | 未申請または未承認 | テキストボックスなし（表示しない） | - |\n| 土日祝 | すべて | 申請中（PENDING）または承認済み（APPROVED） | テキストボックス | 編集可能 |\n| 平日 | 未申請（NOT_SUBMITTED） | - | テキストボックス | 編集可能 |\n| 平日 | 却下（REJECTED） | - | テキストボックス | 編集可能 |\n| 平日 | 申請中（PENDING） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |\n| 平日 | 承認済み（APPROVED） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |\n\n##### 押下時の動作\n| 表示形式 | 押下時の動作 |\n| --- | --- |\n| テキストボックス | 勤怠情報入力ダイアログ（編集モード）を表示。「登録」ボタン、「キャンセル」リンク、「リセット」リンク、「日次確定する」チェックボックスが表示され、各項目を編集可能 |\n| テキストのみ | 勤怠情報入力ダイアログ（閲覧モード）を表示。各項目は閲覧のみで編集不可。「閉じる」リンクのみ表示 |\n\n##### 勤怠情報入力ダイアログの項目\n- 出社: 出勤時刻（HH:MM形式）\n- 退社: 退勤時刻（HH:MM形式）\n- 休憩1: 休憩開始時刻 〜 休憩終了時刻\n- 休憩2: 休憩開始時刻 〜 休憩終了時刻（追加ボタンで行追加可能）\n- 公用外出1: 外出開始時刻 〜 外出終了時刻\n- 公用外出2: 外出開始時刻 〜 外出終了時刻（追加ボタンで行追加可能）\n- 勤務場所: プルダウンで選択（通勤/在宅/直行直帰/出張）\n\n##### 土日祝の扱い\n- **土日祝の基本テキストボックス非表示**: 土曜日、日曜日、祝日の行では、休日出勤申請が未申請または未承認の場合、出社・退社・勤務場所の基本テキストボックスは表示されません\n- **休日出勤申請が承認されている場合の例外**: 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）の場合、土日祝でも出社・退社・勤務場所のテキストボックスが表示され、編集可能になります",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 曜日 | 承認状態 | 休日出勤申請 | 表示形式 | 編集可否 |",
            "lineNumber": 1198
          },
          {
            "text": "| --- | --- | --- | --- | --- |",
            "lineNumber": 1199
          },
          {
            "text": "| 土日祝 | すべて | 未申請または未承認 | テキストボックスなし（表示しない） | - |",
            "lineNumber": 1200
          },
          {
            "text": "| 土日祝 | すべて | 申請中（PENDING）または承認済み（APPROVED） | テキストボックス | 編集可能 |",
            "lineNumber": 1201
          },
          {
            "text": "| 平日 | 未申請（NOT_SUBMITTED） | - | テキストボックス | 編集可能 |",
            "lineNumber": 1202
          },
          {
            "text": "| 平日 | 却下（REJECTED） | - | テキストボックス | 編集可能 |",
            "lineNumber": 1203
          },
          {
            "text": "| 平日 | 申請中（PENDING） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |",
            "lineNumber": 1204
          },
          {
            "text": "| 平日 | 承認済み（APPROVED） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |",
            "lineNumber": 1205
          },
          {
            "lineNumber": 1206
          },
          {
            "text": "##### 押下時の動作",
            "lineNumber": 1207
          },
          {
            "text": "| 表示形式 | 押下時の動作 |",
            "lineNumber": 1208
          },
          {
            "text": "| --- | --- |",
            "lineNumber": 1209
          },
          {
            "text": "| テキストボックス | 勤怠情報入力ダイアログ（編集モード）を表示。「登録」ボタン、「キャンセル」リンク、「リセット」リンク、「日次確定する」チェックボックスが表示され、各項目を編集可能 |",
            "lineNumber": 1210
          },
          {
            "text": "| テキストのみ | 勤怠情報入力ダイアログ（閲覧モード）を表示。各項目は閲覧のみで編集不可。「閉じる」リンクのみ表示 |",
            "lineNumber": 1211
          },
          {
            "lineNumber": 1212
          },
          {
            "text": "##### 勤怠情報入力ダイアログの項目",
            "lineNumber": 1213
          },
          {
            "text": "- 出社: 出勤時刻（HH:MM形式）",
            "lineNumber": 1214
          },
          {
            "text": "- 退社: 退勤時刻（HH:MM形式）",
            "lineNumber": 1215
          },
          {
            "text": "- 休憩1: 休憩開始時刻 〜 休憩終了時刻",
            "lineNumber": 1216
          },
          {
            "text": "- 休憩2: 休憩開始時刻 〜 休憩終了時刻（追加ボタンで行追加可能）",
            "lineNumber": 1217
          },
          {
            "text": "- 公用外出1: 外出開始時刻 〜 外出終了時刻",
            "lineNumber": 1218
          },
          {
            "text": "- 公用外出2: 外出開始時刻 〜 外出終了時刻（追加ボタンで行追加可能）",
            "lineNumber": 1219
          },
          {
            "text": "- 勤務場所: プルダウンで選択（通勤/在宅/直行直帰/出張）",
            "lineNumber": 1220
          },
          {
            "lineNumber": 1221
          },
          {
            "text": "##### 土日祝の扱い",
            "lineNumber": 1222
          },
          {
            "text": "- **土日祝の基本テキストボックス非表示**: 土曜日、日曜日、祝日の行では、休日出勤申請が未申請または未承認の場合、出社・退社・勤務場所の基本テキストボックスは表示されません",
            "lineNumber": 1223
          },
          {
            "text": "- **休日出勤申請が承認されている場合の例外**: 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）の場合、土日祝でも出社・退社・勤務場所のテキストボックスが表示され、編集可能になります",
            "lineNumber": 1224
          }
        ]
      },
      "score": 0.41040515899658203
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1252
          },
          "endPosition": {
            "line": 1310
          }
        },
        "contents": "    filteredVacationTypes() {\n      return this.vacationTypes.filter(type =&gt; {\n        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示\n        if (type.code === 'SUBSTITUTE_HOLIDAY') {\n          return this.hasHolidayWorkApplication\n        }\n        // その他の休暇種別は常に表示\n        return true\n      })\n    },\n    // 全メニュー項目の説明文\n    menuDescriptions() {\n      return {\n        dailyConfirmation: '日次確定を申請します。',\n        vacation: '休暇、代休、時間単位休暇を申請します。',\n        holidayWork: '休日出勤を申請します。',\n        overtime: '残業を申請します。',\n        earlyWork: '早朝勤務を申請します。',\n        transfer: '振替を申請します。'\n      }\n    },\n    // 申請中または承認済みかどうかを判定（各申請タイプごと）\n    isPendingOrApproved() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status === 'PENDING' || status === 'APPROVED'\n      }\n    },\n    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）\n    isEditable() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'\n      }\n    },\n    // 対象日が休日かどうかを判定\n    isHoliday() {\n      if (!this.targetDate) return false\n      const date = new Date(this.targetDate)\n      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日\n      \n      // 土曜日または日曜日の場合\n      if (dayOfWeek === 0 || dayOfWeek === 6) {\n        return true\n      }\n      \n      // 祝日判定（HolidayJpライブラリを使用）\n      try {\n        return HolidayJp.isHoliday(date)\n      } catch (error) {\n        console.error('祝日判定エラー:', error)\n        return false\n      }\n    },\n    // 対象日が平日かどうかを判定\n    isWeekday() {\n      return !this.isHoliday\n    },",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    filteredVacationTypes() {",
            "lineNumber": 1253
          },
          {
            "text": "      return this.vacationTypes.filter(type =&gt; {",
            "lineNumber": 1254
          },
          {
            "text": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示",
            "lineNumber": 1255
          },
          {
            "text": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 1256
          },
          {
            "text": "          return this.hasHolidayWorkApplication",
            "lineNumber": 1257
          },
          {
            "text": "        }",
            "lineNumber": 1258
          },
          {
            "text": "        // その他の休暇種別は常に表示",
            "lineNumber": 1259
          },
          {
            "text": "        return true",
            "lineNumber": 1260
          },
          {
            "text": "      })",
            "lineNumber": 1261
          },
          {
            "text": "    },",
            "lineNumber": 1262
          },
          {
            "text": "    // 全メニュー項目の説明文",
            "lineNumber": 1263
          },
          {
            "text": "    menuDescriptions() {",
            "lineNumber": 1264
          },
          {
            "text": "      return {",
            "lineNumber": 1265
          },
          {
            "text": "        dailyConfirmation: '日次確定を申請します。',",
            "lineNumber": 1266
          },
          {
            "text": "        vacation: '休暇、代休、時間単位休暇を申請します。',",
            "lineNumber": 1267
          },
          {
            "text": "        holidayWork: '休日出勤を申請します。',",
            "lineNumber": 1268
          },
          {
            "text": "        overtime: '残業を申請します。',",
            "lineNumber": 1269
          },
          {
            "text": "        earlyWork: '早朝勤務を申請します。',",
            "lineNumber": 1270
          },
          {
            "text": "        transfer: '振替を申請します。'",
            "lineNumber": 1271
          },
          {
            "text": "      }",
            "lineNumber": 1272
          },
          {
            "text": "    },",
            "lineNumber": 1273
          },
          {
            "text": "    // 申請中または承認済みかどうかを判定（各申請タイプごと）",
            "lineNumber": 1274
          },
          {
            "text": "    isPendingOrApproved() {",
            "lineNumber": 1275
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1276
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1277
          },
          {
            "text": "        return status === 'PENDING' || status === 'APPROVED'",
            "lineNumber": 1278
          },
          {
            "text": "      }",
            "lineNumber": 1279
          },
          {
            "text": "    },",
            "lineNumber": 1280
          },
          {
            "text": "    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1281
          },
          {
            "text": "    isEditable() {",
            "lineNumber": 1282
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1283
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1284
          },
          {
            "text": "        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'",
            "lineNumber": 1285
          },
          {
            "text": "      }",
            "lineNumber": 1286
          },
          {
            "text": "    },",
            "lineNumber": 1287
          },
          {
            "text": "    // 対象日が休日かどうかを判定",
            "lineNumber": 1288
          },
          {
            "text": "    isHoliday() {",
            "lineNumber": 1289
          },
          {
            "text": "      if (!this.targetDate) return false",
            "lineNumber": 1290
          },
          {
            "text": "      const date = new Date(this.targetDate)",
            "lineNumber": 1291
          },
          {
            "text": "      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日",
            "lineNumber": 1292
          },
          {
            "text": "      ",
            "lineNumber": 1293
          },
          {
            "text": "      // 土曜日または日曜日の場合",
            "lineNumber": 1294
          },
          {
            "text": "      if (dayOfWeek === 0 || dayOfWeek === 6) {",
            "lineNumber": 1295
          },
          {
            "text": "        return true",
            "lineNumber": 1296
          },
          {
            "text": "      }",
            "lineNumber": 1297
          },
          {
            "text": "      ",
            "lineNumber": 1298
          },
          {
            "text": "      // 祝日判定（HolidayJpライブラリを使用）",
            "lineNumber": 1299
          },
          {
            "text": "      try {",
            "lineNumber": 1300
          },
          {
            "text": "        return HolidayJp.isHoliday(date)",
            "lineNumber": 1301
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1302
          },
          {
            "text": "        console.error('祝日判定エラー:', error)",
            "lineNumber": 1303
          },
          {
            "text": "        return false",
            "lineNumber": 1304
          },
          {
            "text": "      }",
            "lineNumber": 1305
          },
          {
            "text": "    },",
            "lineNumber": 1306
          },
          {
            "text": "    // 対象日が平日かどうかを判定",
            "lineNumber": 1307
          },
          {
            "text": "    isWeekday() {",
            "lineNumber": 1308
          },
          {
            "text": "      return !this.isHoliday",
            "lineNumber": 1309
          },
          {
            "text": "    },",
            "lineNumber": 1310
          }
        ]
      },
      "score": 0.40958499908447266
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 84
          },
          "endPosition": {
            "line": 95
          }
        },
        "contents": "| 35-9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;コメント | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認/却下時に入力されたコメント。空欄の場合は空欄で表示 |\n| 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休暇申請を送信する。青色のボタン。押下で申請が送信され、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |\n| 36-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |\n| 37 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;休日出勤申請フォーム&gt; | | | | | | | | | | | | |\n| 38 | 休日出勤申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請タブが選択されている場合に表示 |\n| 39 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 出力 | | 時間 | | | | H:MM | 表示 | 活性 | | 当月の時間外残業時間の合計を表示（例: 0:00） |\n| 40 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 勤務時間を指定 |\n| 41 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の開始時間（例: 9:00） |\n| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |\n| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 35-9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;コメント | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認/却下時に入力されたコメント。空欄の場合は空欄で表示 |",
            "lineNumber": 85
          },
          {
            "text": "| 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休暇申請を送信する。青色のボタン。押下で申請が送信され、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |",
            "lineNumber": 86
          },
          {
            "text": "| 36-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 87
          },
          {
            "text": "| 37 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 88
          },
          {
            "text": "| | &lt;休日出勤申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 89
          },
          {
            "text": "| 38 | 休日出勤申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請タブが選択されている場合に表示 |",
            "lineNumber": 90
          },
          {
            "text": "| 39 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 出力 | | 時間 | | | | H:MM | 表示 | 活性 | | 当月の時間外残業時間の合計を表示（例: 0:00） |",
            "lineNumber": 91
          },
          {
            "text": "| 40 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 勤務時間を指定 |",
            "lineNumber": 92
          },
          {
            "text": "| 41 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の開始時間（例: 9:00） |",
            "lineNumber": 93
          },
          {
            "text": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |",
            "lineNumber": 94
          },
          {
            "text": "| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |",
            "lineNumber": 95
          }
        ]
      },
      "score": 0.40779051184654236
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 119
          },
          "endPosition": {
            "line": 131
          }
        },
        "contents": "| | &lt;早朝勤務申請フォーム&gt; | | | | | | | | | | | | |\n| 57 | 早朝勤務申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請タブが選択されている場合に表示 |\n| 58 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 早朝勤務を申請します。 |\n| 59 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 早朝勤務期間を指定 |\n| 60 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務開始日 |\n| 61 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務終了日 |\n| 62 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 早朝勤務申請の備考・理由を入力 |\n| 62-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |\n| 62-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |\n| 62-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |\n| 62-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |\n| 63 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| | &lt;早朝勤務申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 120
          },
          {
            "text": "| 57 | 早朝勤務申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請タブが選択されている場合に表示 |",
            "lineNumber": 121
          },
          {
            "text": "| 58 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 早朝勤務を申請します。 |",
            "lineNumber": 122
          },
          {
            "text": "| 59 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 早朝勤務期間を指定 |",
            "lineNumber": 123
          },
          {
            "text": "| 60 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務開始日 |",
            "lineNumber": 124
          },
          {
            "text": "| 61 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務終了日 |",
            "lineNumber": 125
          },
          {
            "text": "| 62 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 早朝勤務申請の備考・理由を入力 |",
            "lineNumber": 126
          },
          {
            "text": "| 62-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |",
            "lineNumber": 127
          },
          {
            "text": "| 62-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |",
            "lineNumber": 128
          },
          {
            "text": "| 62-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |",
            "lineNumber": 129
          },
          {
            "text": "| 62-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |",
            "lineNumber": 130
          },
          {
            "text": "| 63 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |",
            "lineNumber": 131
          }
        ]
      },
      "score": 0.40486910939216614
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\home-screen.md",
        "range": {
          "startPosition": {
            "line": 497
          },
          "endPosition": {
            "line": 534
          }
        },
        "contents": "6. **休日出勤申請の制約**\n   - 土日祝に打刻する場合は、事前に休日出勤申請を行い、申請中（PENDING）または承認済み（APPROVED）である必要がある\n   - 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）でない場合、すべての打刻ボタン（出勤、定時出勤、退勤、定時退勤）は非活性化される\n   - 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する\n   - APPLICATION_HISTORYテーブルのAPPLICATION_TYPE='HOLIDAY_WORK'で、APPROVAL_STATUSが'PENDING'または'APPROVED'の申請が存在する場合のみ打刻可能\n   - **重要**: 休日出勤申請の承認申請ボタンを押下した時点（申請中（PENDING））から、打刻が可能になる\n\n## データベース設計との対応\n\n### 使用テーブル\n\n1. **EMPLOYEE（従業員マスタ）**\n   - ログイン認証後の従業員情報取得に使用\n   - EMPLOYEE_ID、EMPLOYEE_NAME、DEPARTMENTを参照\n\n2. **NOTIFICATION（お知らせマスタ）**\n   - お知らせ情報の表示に使用\n   - TARGET_TYPE（対象種別）、TARGET_ID（対象ID）で絞り込み\n   - DISPLAY_START_DATE、DISPLAY_END_DATEで表示期間を制御\n\n3. **ATTENDANCE_RECORD（勤怠記録）**\n   - 出退勤打刻の記録に使用\n   - EMPLOYEE_ID + WORK_DATEでユニーク制約\n   - CLOCK_IN_TIME、CLOCK_OUT_TIME、CLOCK_IN_TYPE、CLOCK_OUT_TYPE、WORK_LOCATION_CODEを更新\n\n4. **WORK_LOCATION（勤務場所マスタ）**\n   - 勤務場所の選択肢表示に使用\n   - LOCATION_CODE、LOCATION_NAMEを参照\n\n5. **BREAK_TIME（休憩時間）**\n   - 中断・再開時の休憩時間記録に使用\n   - ATTENDANCE_IDで勤怠記録と紐付け\n   - BREAK_SEQで複数の休憩時間帯に対応\n\n6. **APPLICATION_HISTORY（申請履歴）**\n   - 休日出勤申請の承認状態確認に使用",
        "signatures": {},
        "detailedLines": [
          {
            "text": "6. **休日出勤申請の制約**",
            "lineNumber": 499
          },
          {
            "text": "   - 土日祝に打刻する場合は、事前に休日出勤申請を行い、申請中（PENDING）または承認済み（APPROVED）である必要がある",
            "lineNumber": 500
          },
          {
            "text": "   - 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）でない場合、すべての打刻ボタン（出勤、定時出勤、退勤、定時退勤）は非活性化される",
            "lineNumber": 501
          },
          {
            "text": "   - 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する",
            "lineNumber": 502
          },
          {
            "text": "   - APPLICATION_HISTORYテーブルのAPPLICATION_TYPE='HOLIDAY_WORK'で、APPROVAL_STATUSが'PENDING'または'APPROVED'の申請が存在する場合のみ打刻可能",
            "lineNumber": 503
          },
          {
            "text": "   - **重要**: 休日出勤申請の承認申請ボタンを押下した時点（申請中（PENDING））から、打刻が可能になる",
            "lineNumber": 504
          },
          {
            "lineNumber": 505
          },
          {
            "text": "## データベース設計との対応",
            "lineNumber": 506
          },
          {
            "lineNumber": 507
          },
          {
            "text": "### 使用テーブル",
            "lineNumber": 508
          },
          {
            "lineNumber": 509
          },
          {
            "text": "1. **EMPLOYEE（従業員マスタ）**",
            "lineNumber": 510
          },
          {
            "text": "   - ログイン認証後の従業員情報取得に使用",
            "lineNumber": 511
          },
          {
            "text": "   - EMPLOYEE_ID、EMPLOYEE_NAME、DEPARTMENTを参照",
            "lineNumber": 512
          },
          {
            "lineNumber": 513
          },
          {
            "text": "2. **NOTIFICATION（お知らせマスタ）**",
            "lineNumber": 514
          },
          {
            "text": "   - お知らせ情報の表示に使用",
            "lineNumber": 515
          },
          {
            "text": "   - TARGET_TYPE（対象種別）、TARGET_ID（対象ID）で絞り込み",
            "lineNumber": 516
          },
          {
            "text": "   - DISPLAY_START_DATE、DISPLAY_END_DATEで表示期間を制御",
            "lineNumber": 517
          },
          {
            "lineNumber": 518
          },
          {
            "text": "3. **ATTENDANCE_RECORD（勤怠記録）**",
            "lineNumber": 519
          },
          {
            "text": "   - 出退勤打刻の記録に使用",
            "lineNumber": 520
          },
          {
            "text": "   - EMPLOYEE_ID + WORK_DATEでユニーク制約",
            "lineNumber": 521
          },
          {
            "text": "   - CLOCK_IN_TIME、CLOCK_OUT_TIME、CLOCK_IN_TYPE、CLOCK_OUT_TYPE、WORK_LOCATION_CODEを更新",
            "lineNumber": 522
          },
          {
            "lineNumber": 523
          },
          {
            "text": "4. **WORK_LOCATION（勤務場所マスタ）**",
            "lineNumber": 524
          },
          {
            "text": "   - 勤務場所の選択肢表示に使用",
            "lineNumber": 525
          },
          {
            "text": "   - LOCATION_CODE、LOCATION_NAMEを参照",
            "lineNumber": 526
          },
          {
            "lineNumber": 527
          },
          {
            "text": "5. **BREAK_TIME（休憩時間）**",
            "lineNumber": 528
          },
          {
            "text": "   - 中断・再開時の休憩時間記録に使用",
            "lineNumber": 529
          },
          {
            "text": "   - ATTENDANCE_IDで勤怠記録と紐付け",
            "lineNumber": 530
          },
          {
            "text": "   - BREAK_SEQで複数の休憩時間帯に対応",
            "lineNumber": 531
          },
          {
            "lineNumber": 532
          },
          {
            "text": "6. **APPLICATION_HISTORY（申請履歴）**",
            "lineNumber": 533
          },
          {
            "text": "   - 休日出勤申請の承認状態確認に使用",
            "lineNumber": 534
          }
        ]
      },
      "score": 0.403698205947876
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "申請日時|申請済み",
  "path": "frontend",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "申請日時|申請済み",
    "path": "frontend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
              "matches": [
                {
                  "lineNumber": 160,
                  "content": "                  &lt;label class=\"form-label form-label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 311,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 442,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 620,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 737,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 855,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 984,
                  "content": "            &lt;!-- 申請日時 --&gt;"
                },
                {
                  "lineNumber": 987,
                  "content": "                &lt;label&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 1169,
                  "content": "      // 申請情報（申請日時、状況など）"
                },
                {
                  "lineNumber": 1716,
                  "content": "    // 申請日時をフォーマット"
                },
                {
                  "lineNumber": 1736,
                  "content": "        return '申請済み'"
                }
              ]
            },
            {
              "file": "frontend\\src\\views\\TimesheetScreen.vue",
              "matches": [
                {
                  "lineNumber": 878,
                  "content": "      &lt;!-- 閉じるボタン（申請済み時のみ） --&gt;"
                },
                {
                  "lineNumber": 1582,
                  "content": "      // 優先順位: 休暇申請済み &gt; 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日"
                }
              ]
            }
          ],
          "totalLines": 13,
          "totalMatchedLines": 13
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


`AttendanceApplicationDialog.vue`を確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


休日出勤申請の該当箇所を検索中。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "休日出勤申請|申請日時|申請済み",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "contextBefore": 5,
  "contextAfter": 10,
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "休日出勤申請|申請日時|申請済み",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "53-                'menu-item-disabled': isHolidayWorkDisabled || isPendingOrApproved('holidayWork')",
              "matches": [
                {
                  "lineNumber": 54,
                  "content": "              }\"",
                  "isContextLine": true
                },
                {
                  "lineNumber": 55,
                  "content": "              :disabled=\"isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\"",
                  "isContextLine": true
                },
                {
                  "lineNumber": 56,
                  "content": "              @click=\"selectMenuItem('holidayWork')\"",
                  "isContextLine": true
                },
                {
                  "lineNumber": 57,
                  "content": "            &gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 58,
                  "content": "              休日出勤申請"
                },
                {
                  "lineNumber": 59,
                  "content": "            &lt;/button&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 60,
                  "content": "            &lt;button ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 61,
                  "content": "              class=\"menu-item\" ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 62,
                  "content": "              :class=\"{ ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 63,
                  "content": "                'menu-item-disabled': isOvertimeDisabled || isPendingOrApproved('overtime')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 64,
                  "content": "              }\"",
                  "isContextLine": true
                },
                {
                  "lineNumber": 65,
                  "content": "              :disabled=\"isOvertimeDisabled || isPendingOrApproved('overtime')\"",
                  "isContextLine": true
                },
                {
                  "lineNumber": 66,
                  "content": "              @click=\"selectMenuItem('overtime')\"",
                  "isContextLine": true
                },
                {
                  "lineNumber": 67,
                  "content": "            &gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 68,
                  "content": "              残業申請",
                  "isContextLine": true
                },
                {
                  "lineNumber": 155,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 156,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 157,
                  "content": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 158,
                  "content": "              &lt;div v-if=\"isPendingOrApproved('dailyConfirmation')\" class=\"application-info-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 159,
                  "content": "                &lt;div class=\"form-row\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 160,
                  "content": "                  &lt;label class=\"form-label form-label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 161,
                  "content": "                  &lt;div class=\"daily-confirmation-value daily-confirmation-value-inline\"&gt;{{ formatApplicationDate('dailyConfirmation') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 162,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 163,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 164,
                  "content": "                &lt;div class=\"form-row\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 165,
                  "content": "                  &lt;label class=\"form-label form-label-inline\"&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 166,
                  "content": "                  &lt;div class=\"daily-confirmation-value daily-confirmation-value-inline\"&gt;{{ formatStatus('dailyConfirmation') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 167,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 168,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 169,
                  "content": "                &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 170,
                  "content": "                &lt;div class=\"form-row form-row-full-width\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 306,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 307,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 308,
                  "content": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 309,
                  "content": "              &lt;div v-if=\"isPendingOrApproved('vacation')\" class=\"application-info-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 310,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 311,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 312,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatApplicationDate('vacation') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 313,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 314,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 315,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 316,
                  "content": "                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 317,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatStatus('vacation') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 318,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 319,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 320,
                  "content": "                &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 321,
                  "content": "                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 370,
                  "content": "            &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 371,
                  "content": "          &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 372,
                  "content": "        &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 373,
                  "content": "      &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 374,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 375,
                  "content": "      &lt;!-- 休日出勤申請フォーム --&gt;"
                },
                {
                  "lineNumber": 376,
                  "content": "      &lt;div v-if=\"currentTab === 'holidayWork'\" class=\"content-area\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 377,
                  "content": "        &lt;!-- タブリスト--&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 378,
                  "content": "        &lt;div class=\"tab-list\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 379,
                  "content": "          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 380,
                  "content": "            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 381,
                  "content": "          &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 382,
                  "content": "          &lt;div class=\"tab active\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 383,
                  "content": "            &lt;span class=\"tab-title\"&gt;{{ getTabName('holidayWork') }}&lt;/span&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 384,
                  "content": "            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 385,
                  "content": "          &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 437,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 438,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 439,
                  "content": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 440,
                  "content": "              &lt;div v-if=\"isPendingOrApproved('holidayWork')\" class=\"application-info-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 441,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 442,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 443,
                  "content": "                  &lt;div class=\"holiday-work-info-text info-text-inline\"&gt;{{ formatApplicationDate('holidayWork') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 444,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 445,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 446,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 447,
                  "content": "                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 448,
                  "content": "                  &lt;div class=\"holiday-work-info-text info-text-inline\"&gt;{{ formatStatus('holidayWork') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 449,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 450,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 451,
                  "content": "                &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 452,
                  "content": "                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 615,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 616,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 617,
                  "content": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 618,
                  "content": "              &lt;div v-if=\"isPendingOrApproved('overtime')\" class=\"application-info-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 619,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 620,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 621,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatApplicationDate('overtime') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 622,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 623,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 624,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 625,
                  "content": "                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 626,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatStatus('overtime') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 627,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 628,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 629,
                  "content": "                &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 630,
                  "content": "                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 732,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 733,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 734,
                  "content": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 735,
                  "content": "              &lt;div v-if=\"isPendingOrApproved('earlyWork')\" class=\"application-info-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 736,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 737,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 738,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatApplicationDate('earlyWork') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 739,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 740,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 741,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 742,
                  "content": "                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 743,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatStatus('earlyWork') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 744,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 745,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 746,
                  "content": "                &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 747,
                  "content": "                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 850,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 851,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 852,
                  "content": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 853,
                  "content": "              &lt;div v-if=\"isPendingOrApproved('transfer')\" class=\"application-info-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 854,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 855,
                  "content": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 856,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatApplicationDate('transfer') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 857,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 858,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 859,
                  "content": "                &lt;div class=\"form-group form-group-inline\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 860,
                  "content": "                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 861,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ formatStatus('transfer') }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 862,
                  "content": "                &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 863,
                  "content": "                ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 864,
                  "content": "                &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 865,
                  "content": "                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 979,
                  "content": "                &lt;label&gt;備考&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 980,
                  "content": "                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ cancelDialogAttendanceData.remarkText || '' }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 981,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 982,
                  "content": "            &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 983,
                  "content": "            ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 984,
                  "content": "            &lt;!-- 申請日時 --&gt;"
                },
                {
                  "lineNumber": 985,
                  "content": "            &lt;div class=\"cancel-dialog-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 986,
                  "content": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 987,
                  "content": "                &lt;label&gt;申請日時&lt;/label&gt;"
                },
                {
                  "lineNumber": 988,
                  "content": "                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ cancelDialogApplicationInfo?.applicationDate || '---' }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 989,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 990,
                  "content": "              ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 991,
                  "content": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 992,
                  "content": "                &lt;label&gt;状況&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 993,
                  "content": "                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ cancelDialogApplicationInfo?.status || '---' }}&lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 994,
                  "content": "              &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 995,
                  "content": "            &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 996,
                  "content": "            ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 997,
                  "content": "            &lt;!-- 承認履歴テーブル --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1070,
                  "content": "      errorMessage: '',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1071,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1072,
                  "content": "      // 休暇種別マスタ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1073,
                  "content": "      vacationTypes: [],",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1074,
                  "content": "      paidLeaveBalance: 0,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1075,
                  "content": "      // 休日出勤申請状態"
                },
                {
                  "lineNumber": 1076,
                  "content": "      hasHolidayWorkApplication: false,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1077,
                  "content": "      // 代休取得可能日数",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1078,
                  "content": "      compensatoryLeaveBalance: 0,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1079,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1080,
                  "content": "      // 勤怠データ（打刻時刻の状態確認用）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1081,
                  "content": "      attendanceData: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1082,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1083,
                  "content": "      // 打刻時刻の状態",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1084,
                  "content": "      hasClockIn: false,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1085,
                  "content": "      hasClockOut: false,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1105,
                  "content": "        endDate: '',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1106,
                  "content": "        reason: '',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1107,
                  "content": "        contact: ''",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1108,
                  "content": "      },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1109,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1110,
                  "content": "      // 休日出勤申請フォーム"
                },
                {
                  "lineNumber": 1111,
                  "content": "      holidayWorkForm: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1112,
                  "content": "        startTime: '09:00',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1113,
                  "content": "        endTime: '17:30',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1114,
                  "content": "        breakHours: 1.0, // 時間単位（小数）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1115,
                  "content": "        reason: ''",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1116,
                  "content": "      },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1117,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1118,
                  "content": "      // 残業申請フォーム",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1119,
                  "content": "      overtimeForm: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1120,
                  "content": "        startDate: '',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1164,
                  "content": "        overtime: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1165,
                  "content": "        earlyWork: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1166,
                  "content": "        transfer: null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1167,
                  "content": "      },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1168,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1169,
                  "content": "      // 申請情報（申請日時、状況など）"
                },
                {
                  "lineNumber": 1170,
                  "content": "      applicationInfo: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1171,
                  "content": "        dailyConfirmation: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1172,
                  "content": "          applicationDate: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1173,
                  "content": "          status: 'NOT_SUBMITTED',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1174,
                  "content": "          approvalHistory: []",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1175,
                  "content": "        },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1176,
                  "content": "        vacation: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1177,
                  "content": "          applicationDate: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1178,
                  "content": "          status: 'NOT_SUBMITTED',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1179,
                  "content": "          approvalHistory: []",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1250,
                  "content": "      return descriptions[this.selectedMenuItem] || '日次確定を申請します。'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1251,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1252,
                  "content": "    // フィルタ済み休暇種別リスト（代休は条件付きで表示）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1253,
                  "content": "    filteredVacationTypes() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1254,
                  "content": "      return this.vacationTypes.filter(type =&gt; {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1255,
                  "content": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示"
                },
                {
                  "lineNumber": 1256,
                  "content": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1257,
                  "content": "          return this.hasHolidayWorkApplication",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1258,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1259,
                  "content": "        // その他の休暇種別は常に表示",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1260,
                  "content": "        return true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1261,
                  "content": "      })",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1262,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1263,
                  "content": "    // 全メニュー項目の説明文",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1264,
                  "content": "    menuDescriptions() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1265,
                  "content": "      return {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1346,
                  "content": "      // それ以外はfalse（両方の時刻が入力されている）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1347,
                  "content": "      return false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1348,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1349,
                  "content": "    // 日次確定ボタンが非活性かどうか",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1350,
                  "content": "    isDailyConfirmationDisabled() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1351,
                  "content": "      // 休日かつ休日出勤申請が未申請の場合"
                },
                {
                  "lineNumber": 1352,
                  "content": "      if (this.isHoliday &amp;&amp; !this.hasHolidayWorkApplication) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1353,
                  "content": "        return true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1354,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1355,
                  "content": "      // 打刻時刻が未入力または退社時刻が未入力の場合",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1356,
                  "content": "      // attendanceDataがnullの場合はtrueを返す",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1357,
                  "content": "      if (!this.attendanceData) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1358,
                  "content": "        return true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1359,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1360,
                  "content": "      // 両方の時刻が未入力の場合（null、undefined、空文字列をチェック）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1361,
                  "content": "      // Dateオブジェクト、文字列、null、undefinedのすべてのケースに対応",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1391,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1392,
                  "content": "    // 早朝勤務申請ボタンが非活性かどうか",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1393,
                  "content": "    isEarlyWorkDisabled() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1394,
                  "content": "      return this.isHoliday &amp;&amp; !this.hasHolidayWorkApplication",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1395,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1396,
                  "content": "    // 休日出勤申請ボタンが非活性かどうか"
                },
                {
                  "lineNumber": 1397,
                  "content": "    isHolidayWorkDisabled() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1398,
                  "content": "      // 平日の場合は常に非活性（休日出勤申請は休日のみ可能）"
                },
                {
                  "lineNumber": 1399,
                  "content": "      if (this.isWeekday) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1400,
                  "content": "        return true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1401,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1402,
                  "content": "      return false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1403,
                  "content": "    }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1404,
                  "content": "  },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1405,
                  "content": "  watch: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1406,
                  "content": "    visible: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1407,
                  "content": "      handler(newVal) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1408,
                  "content": "        if (newVal) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1431,
                  "content": "        await this.loadVacationTypes()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1432,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1433,
                  "content": "        // 有給残日数取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1434,
                  "content": "        await this.loadPaidLeaveBalance()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1435,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1436,
                  "content": "        // 休日出勤申請状態取得"
                },
                {
                  "lineNumber": 1437,
                  "content": "        await this.loadHolidayWorkStatus()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1438,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1439,
                  "content": "        // 申請状態取得（各申請タイプごと）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1440,
                  "content": "        await this.loadApplicationStatuses()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1441,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1442,
                  "content": "        // 勤怠データ取得（打刻時刻の状態確認用）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1443,
                  "content": "        await this.loadAttendanceDataForButtonControl()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1444,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1445,
                  "content": "        // 打刻時刻の状態を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1446,
                  "content": "        await this.loadClockStatus()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1476,
                  "content": "      this.dailyConfirmationError = ''",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1477,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1478,
                  "content": "      // 各フォームの日付を対象日付で初期化",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1479,
                  "content": "      this.vacationForm.startDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1480,
                  "content": "      this.vacationForm.endDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1481,
                  "content": "      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）"
                },
                {
                  "lineNumber": 1482,
                  "content": "      this.overtimeForm.startDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1483,
                  "content": "      this.overtimeForm.endDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1484,
                  "content": "      this.earlyWorkForm.startDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1485,
                  "content": "      this.earlyWorkForm.endDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1486,
                  "content": "      this.transferForm.fromDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1487,
                  "content": "      this.transferForm.toDate = this.targetDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1488,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1489,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1490,
                  "content": "    async loadVacationTypes() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1491,
                  "content": "      try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1519,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1520,
                  "content": "    async loadHolidayWorkStatus() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1521,
                  "content": "      try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1522,
                  "content": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1523,
                  "content": "        if (response.success) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1524,
                  "content": "          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能"
                },
                {
                  "lineNumber": 1525,
                  "content": "          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1526,
                  "content": "          // 休日出勤申請がある場合、代休取得可能日数を取得"
                },
                {
                  "lineNumber": 1527,
                  "content": "          if (this.hasHolidayWorkApplication) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1528,
                  "content": "            await this.loadCompensatoryLeaveBalance()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1529,
                  "content": "          }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1530,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1531,
                  "content": "      } catch (error) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1532,
                  "content": "        console.error('休日出勤申請状態取得エラー:', error)"
                },
                {
                  "lineNumber": 1533,
                  "content": "        // エラー時はfalseとして扱う",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1534,
                  "content": "        this.hasHolidayWorkApplication = false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1535,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1536,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1537,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1538,
                  "content": "    async loadApplicationStatuses() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1539,
                  "content": "      // 各申請タイプの申請状態を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1540,
                  "content": "      const applicationTypes = [",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1541,
                  "content": "        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1542,
                  "content": "        { key: 'vacation', apiType: 'VACATION' },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1562,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1563,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1564,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1565,
                  "content": "    async loadCompensatoryLeaveBalance() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1566,
                  "content": "      try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1567,
                  "content": "        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント"
                },
                {
                  "lineNumber": 1568,
                  "content": "        // 対象日から過去1年間の休日出勤申請を取得"
                },
                {
                  "lineNumber": 1569,
                  "content": "        const oneYearAgo = new Date(this.targetDate);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1570,
                  "content": "        oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1571,
                  "content": "        const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1572,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1573,
                  "content": "        const response = await fetch(",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1574,
                  "content": "          &#96;http://localhost:3000/api/application/holiday-work-list?employeeId=${this.employeeId}&amp;startDate=${oneYearAgoStr}&amp;endDate=${this.targetDate}&#96;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1575,
                  "content": "        );",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1576,
                  "content": "        const data = await response.json();",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1577,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1578,
                  "content": "        if (data.success &amp;&amp; data.applications) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1579,
                  "content": "          // 承認済みまたは申請中の休日出勤申請の日数をカウント"
                },
                {
                  "lineNumber": 1580,
                  "content": "          let totalDays = 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1581,
                  "content": "          for (const app of data.applications) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1582,
                  "content": "            if (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1583,
                  "content": "              const startDate = new Date(app.TARGET_START_DATE);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1584,
                  "content": "              const endDate = new Date(app.TARGET_END_DATE);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1585,
                  "content": "              const days = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1586,
                  "content": "              totalDays += days;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1587,
                  "content": "            }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1588,
                  "content": "          }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1589,
                  "content": "          this.compensatoryLeaveBalance = totalDays;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1711,
                  "content": "      const hours = Math.floor(totalMinutes / 60)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1712,
                  "content": "      const minutes = totalMinutes % 60",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1713,
                  "content": "      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1714,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1715,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1716,
                  "content": "    // 申請日時をフォーマット"
                },
                {
                  "lineNumber": 1717,
                  "content": "    formatApplicationDate(applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1718,
                  "content": "      const info = this.applicationInfo[applicationType]",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1719,
                  "content": "      if (!info || !info.applicationDate) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1720,
                  "content": "        return '---'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1721,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1722,
                  "content": "      // APIから返される形式（YYYY/MM/DD HH:MM）をそのまま使用",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1723,
                  "content": "      return info.applicationDate",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1724,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1725,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1726,
                  "content": "    // 状況をフォーマット",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1731,
                  "content": "        return info.status",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1732,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1733,
                  "content": "      // フォールバック：applicationStatusesから取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1734,
                  "content": "      const status = this.applicationStatuses[applicationType]",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1735,
                  "content": "      if (status === 'PENDING') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1736,
                  "content": "        return '申請済み'"
                },
                {
                  "lineNumber": 1737,
                  "content": "      } else if (status === 'APPROVED') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1738,
                  "content": "        return '承認済み'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1739,
                  "content": "      } else if (status === 'REJECTED') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1740,
                  "content": "        return '却下'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1741,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1742,
                  "content": "      return '未申請'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1743,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1744,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1745,
                  "content": "    // 申請取消ボタンのラベルを取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1746,
                  "content": "    getCancelButtonLabel(applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1886,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1887,
                  "content": "      if (applicationType === 'transfer' &amp;&amp; this.isPendingOrApproved('transfer')) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1888,
                  "content": "        await this.loadApplicationInfo('transfer')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1889,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1890,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1891,
                  "content": "      // 休日出勤申請タブを開いた場合、当月時間外残業を取得"
                },
                {
                  "lineNumber": 1892,
                  "content": "      if (applicationType === 'holidayWork') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1893,
                  "content": "        await this.loadMonthlyOvertime()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1894,
                  "content": "        // 申請中または承認済みの場合、申請データを読み込む",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1895,
                  "content": "        if (this.isPendingOrApproved('holidayWork')) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1896,
                  "content": "          await this.loadHolidayWorkApplicationData()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1897,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1898,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1899,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1900,
                  "content": "      // その他の申請タイプで申請中または承認済みの場合、申請データを読み込む",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1901,
                  "content": "      if (applicationType === 'vacation' &amp;&amp; this.isPendingOrApproved('vacation')) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1938,
                  "content": "        this.applicationIds[applicationType] = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1939,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1940,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1941,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1942,
                  "content": "    async loadHolidayWorkApplicationData() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1943,
                  "content": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）"
                },
                {
                  "lineNumber": 1944,
                  "content": "      try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1945,
                  "content": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1946,
                  "content": "        if (response.success &amp;&amp; response.applicationStatus) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1947,
                  "content": "          // 申請データを取得してフォームに設定",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1948,
                  "content": "          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1949,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1950,
                  "content": "      } catch (error) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1951,
                  "content": "        console.error('休日出勤申請データ取得エラー:', error)"
                },
                {
                  "lineNumber": 1952,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1953,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1954,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1955,
                  "content": "    async loadVacationApplicationData() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1956,
                  "content": "      // 休暇申請データを読み込む（申請中または承認済みの場合）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1957,
                  "content": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1958,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1959,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1960,
                  "content": "    async loadOvertimeApplicationData() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1961,
                  "content": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1988,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1989,
                  "content": "    getTabName(applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1990,
                  "content": "      const names = {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1991,
                  "content": "        dailyConfirmation: '日次確定',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1992,
                  "content": "        vacation: '休暇申請',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1993,
                  "content": "        holidayWork: '休日出勤申請',"
                },
                {
                  "lineNumber": 1994,
                  "content": "        overtime: '残業申請',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1995,
                  "content": "        earlyWork: '早朝勤務申請',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1996,
                  "content": "        transfer: '振替申請'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1997,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1998,
                  "content": "      return names[applicationType] || ''",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1999,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2000,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2001,
                  "content": "    onVacationTypeChange() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2002,
                  "content": "      // 有給休暇が選択された場合のみ残日数を再取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2003,
                  "content": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2326,
                  "content": "        })",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2327,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2328,
                  "content": "        const data = await response.json()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2329,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2330,
                  "content": "        if (data.success) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2331,
                  "content": "          // 休日出勤申請状態を更新"
                },
                {
                  "lineNumber": 2332,
                  "content": "          this.hasHolidayWorkApplication = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2333,
                  "content": "          this.$emit('application-submitted')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2334,
                  "content": "          this.closeDialog()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2335,
                  "content": "        } else {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2336,
                  "content": "          this.showError(data.message || '休日出勤申請に失敗しました')"
                },
                {
                  "lineNumber": 2337,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2338,
                  "content": "      } catch (error) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2339,
                  "content": "        console.error('休日出勤申請エラー:', error)"
                },
                {
                  "lineNumber": 2340,
                  "content": "        this.showError('休日出勤申請中にエラーが発生しました')"
                },
                {
                  "lineNumber": 2341,
                  "content": "      } finally {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2342,
                  "content": "        this.loading = false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2343,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2344,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2345,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2346,
                  "content": "    async submitOvertimeApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2347,
                  "content": "      // バリデーション",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2348,
                  "content": "      if (!this.overtimeForm.startDate) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2349,
                  "content": "        this.showError('開始日を入力してください。')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2350,
                  "content": "        return",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2539,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.vacation",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2540,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2541,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2542,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2543,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2544,
                  "content": "    // 休日出勤申請取消"
                },
                {
                  "lineNumber": 2545,
                  "content": "    async cancelHolidayWorkApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2546,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2547,
                  "content": "      await this.loadApplicationInfo('holidayWork')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2548,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2549,
                  "content": "      // 申請取消確認ダイアログを表示",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2550,
                  "content": "      this.cancelDialogApplicationType = 'holidayWork'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2551,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.holidayWork",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2552,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2553,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2554,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3234,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3235,
                  "content": ".close-link:hover {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3236,
                  "content": "  color: rgb(70, 70, 200);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3237,
                  "content": "}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3238,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3239,
                  "content": "/* 休日出勤申請フォーム用スタイル */"
                },
                {
                  "lineNumber": 3240,
                  "content": ".overtime-display {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3241,
                  "content": "  font-size: 14px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3242,
                  "content": "  color: #333;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3243,
                  "content": "  padding: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3244,
                  "content": "  margin-top: 12px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3245,
                  "content": "}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3246,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3247,
                  "content": ".form-group-inline {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3248,
                  "content": "  display: flex;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3249,
                  "content": "  align-items: flex-start;",
                  "isContextLine": true
                }
              ]
            }
          ],
          "totalLines": 473,
          "totalMatchedLines": 37
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


休日出勤申請の申請情報セクションのスタイルを確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "\\.label-inline|\\.info-text-inline|\\.holiday-work-info-text|\\.form-group-inline",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "contextAfter": 10,
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "\\.label-inline|\\.info-text-inline|\\.holiday-work-info-text|\\.form-group-inline",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "2996:.holiday-work-info-text {",
              "matches": [
                {
                  "lineNumber": 2997,
                  "content": "  flex: 1;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2998,
                  "content": "  font-size: 14.159px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2999,
                  "content": "  font-family: Arial, sans-serif;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3000,
                  "content": "  color: rgb(0, 0, 0);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3001,
                  "content": "  padding: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3002,
                  "content": "  margin: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3003,
                  "content": "}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3004,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3005,
                  "content": "/* 日次確定フォーム専用スタイル */",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3006,
                  "content": ".daily-confirmation-container {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3247,
                  "content": ".form-group-inline {"
                },
                {
                  "lineNumber": 3248,
                  "content": "  display: flex;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3249,
                  "content": "  align-items: flex-start;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3250,
                  "content": "  gap: 10px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3251,
                  "content": "  margin-bottom: 20px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3252,
                  "content": "  margin-top: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3253,
                  "content": "  width: 100%;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3254,
                  "content": "}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3255,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3256,
                  "content": ".form-group-compact {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3257,
                  "content": "  margin-bottom: 6px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3260,
                  "content": ".label-inline {"
                },
                {
                  "lineNumber": 3261,
                  "content": "  margin-bottom: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3262,
                  "content": "  white-space: nowrap;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3263,
                  "content": "  line-height: 1.5;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3264,
                  "content": "  padding: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3265,
                  "content": "  margin-top: 10px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3266,
                  "content": "  min-width: 80px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3267,
                  "content": "  font-weight: bold;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3268,
                  "content": "  color: #333;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3269,
                  "content": "  font-size: 14px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3270,
                  "content": "}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3376,
                  "content": ".info-text-inline {"
                },
                {
                  "lineNumber": 3377,
                  "content": "  flex: 1;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3378,
                  "content": "  margin-top: -3px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3379,
                  "content": "}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3380,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3381,
                  "content": ".form-label-inline {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3382,
                  "content": "  display: inline-block;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3383,
                  "content": "  margin-right: 10px;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3384,
                  "content": "  margin-bottom: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3385,
                  "content": "  white-space: nowrap;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3386,
                  "content": "  min-width: 80px;",
                  "isContextLine": true
                }
              ]
            }
          ],
          "totalLines": 43,
          "totalMatchedLines": 3
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


スタイル定義を確認中。該当箇所を特定します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


`.holiday-work-info-text`のスタイルを確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


`.info-text-inline`の`margin-top`を調整し、ラベルと値の位置を揃えます。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "6e41f14d-1e14-4f31-95aa-18bf6d9d58e9"
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正しました。休日出勤申請の「申請日時」と「状況」の値の位置を、左側のラベルに合わせて調整しました。

変更内容：
- `.info-text-inline`の`margin-top`を`-3px`から`10px`に変更し、ラベル（`.label-inline`）と同じ`margin-top`に揃えました。

これにより、「申請日時」と「2025/12/16 11:17」、「状況」と「申請済み」の位置が揃います。他の申請タイプ（休暇、残業、早朝勤務、振替）でも同じスタイルが適用されます。

---

_**User**_

時間をほんの少し下にずらしてください。
またステータス(申請済みのところ)をほんの少し上にずらしてください

---

_**Agent (model composer-1, mode Agent)**_



---


申請日時の値を少し下に、状況の値を少し上に調整します。該当箇所を確認します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


申請日時の値を少し下に、状況の値を少し上に調整するCSSを追加します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "94711f60-861e-4990-a31c-317db8564aac"
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正しました。休日出勤申請の申請情報セクションで、申請日時の値を少し下に、状況の値を少し上に調整しました。

変更内容：
- 申請日時の値（時間）: `margin-top: 12px` に設定（少し下に）
- 状況の値（申請済み）: `margin-top: 8px` に設定（少し上に）

これにより、申請日時と状況の位置が微調整されます。

---

_**User**_

勤務表画面で休日出勤申請をして、その日の打刻をして(手入力含む)、工数実績なども入力した後に、休日出勤申請の申請を取り消したら画像のように記録が残ってしまい、編集すらできなくなるので、もし休日出勤申請を取消した際には全てのデータを消すように元の状態に戻すようにしたい。

---

_**Agent (model composer-1, mode Agent)**_



---


休日出勤申請の取消処理を確認し、取消時にその日の勤怠データ（打刻時刻、工数実績など）も削除するよう修正します。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "休日出勤申請.*取消|申請取消|cancel.*holiday|holiday.*cancel",
  "path": "frontend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "休日出勤申請.*取消|申請取消|cancel.*holiday|holiday.*cancel",
    "path": "frontend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
              "matches": [
                {
                  "lineNumber": 496,
                  "content": "                @click=\"cancelHolidayWorkApplication\""
                },
                {
                  "lineNumber": 499,
                  "content": "                {{ getCancelButtonLabel('holidayWork') }}"
                },
                {
                  "lineNumber": 943,
                  "content": "      &lt;!-- 申請取消確認ダイアログ --&gt;"
                },
                {
                  "lineNumber": 947,
                  "content": "            &lt;span class=\"cancel-confirmation-dialog-title\"&gt;申請取消&lt;/span&gt;"
                },
                {
                  "lineNumber": 1042,
                  "content": "import { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'"
                },
                {
                  "lineNumber": 1203,
                  "content": "      // 申請取消確認ダイアログの表示状態"
                },
                {
                  "lineNumber": 1745,
                  "content": "    // 申請取消ボタンのラベルを取得"
                },
                {
                  "lineNumber": 1749,
                  "content": "        return '申請取消'"
                },
                {
                  "lineNumber": 1756,
                  "content": "    // 申請取消確認ダイアログのボタンラベルを取得"
                },
                {
                  "lineNumber": 1761,
                  "content": "        return '申請取消'"
                },
                {
                  "lineNumber": 2505,
                  "content": "    // 日次確定申請取消"
                },
                {
                  "lineNumber": 2525,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2532,
                  "content": "    // 休暇申請取消"
                },
                {
                  "lineNumber": 2537,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2544,
                  "content": "    // 休日出勤申請取消"
                },
                {
                  "lineNumber": 2545,
                  "content": "    async cancelHolidayWorkApplication() {"
                },
                {
                  "lineNumber": 2549,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2550,
                  "content": "      this.cancelDialogApplicationType = 'holidayWork'"
                },
                {
                  "lineNumber": 2551,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.holidayWork"
                },
                {
                  "lineNumber": 2556,
                  "content": "    // 残業申請取消"
                },
                {
                  "lineNumber": 2561,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2568,
                  "content": "    // 早朝勤務申請取消"
                },
                {
                  "lineNumber": 2573,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2580,
                  "content": "    // 振替申請取消"
                },
                {
                  "lineNumber": 2585,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2592,
                  "content": "    // 申請取消確認ダイアログを閉じる"
                },
                {
                  "lineNumber": 2600,
                  "content": "    // 申請取消を実行"
                },
                {
                  "lineNumber": 2626,
                  "content": "          // 申請取消確認ダイアログを閉じる"
                },
                {
                  "lineNumber": 2631,
                  "content": "          this.showError(response.message || '申請取消に失敗しました')"
                },
                {
                  "lineNumber": 2634,
                  "content": "        console.error('申請取消エラー:', error)"
                },
                {
                  "lineNumber": 2635,
                  "content": "        this.showError(error.message || '申請取消中にエラーが発生しました')"
                },
                {
                  "lineNumber": 3735,
                  "content": "/* 申請取消確認ダイアログ */"
                }
              ]
            }
          ],
          "totalLines": 32,
          "totalMatchedLines": 32
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "申請取消|承認取消|cancelApplication",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "contextAfter": 10,
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "申請取消|承認取消|cancelApplication",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "943:      &lt;!-- 申請取消確認ダイアログ --&gt;",
              "matches": [
                {
                  "lineNumber": 944,
                  "content": "      &lt;div v-if=\"showCancelConfirmationDialog\" class=\"cancel-confirmation-dialog-overlay\" @click.self=\"closeCancelConfirmationDialog\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 945,
                  "content": "        &lt;div class=\"cancel-confirmation-dialog-container\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 946,
                  "content": "          &lt;div class=\"cancel-confirmation-dialog-header\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 947,
                  "content": "            &lt;span class=\"cancel-confirmation-dialog-title\"&gt;申請取消&lt;/span&gt;"
                },
                {
                  "lineNumber": 948,
                  "content": "            &lt;button class=\"cancel-confirmation-dialog-close-button\" @click=\"closeCancelConfirmationDialog\"&gt;×&lt;/button&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 949,
                  "content": "          &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 950,
                  "content": "          ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 951,
                  "content": "          &lt;div class=\"cancel-confirmation-dialog-content\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 952,
                  "content": "            &lt;!-- 日次確定申請の場合、勤務情報を表示 --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 953,
                  "content": "            &lt;div v-if=\"cancelDialogApplicationType === 'dailyConfirmation' &amp;&amp; cancelDialogAttendanceData\" class=\"cancel-dialog-section\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 954,
                  "content": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 955,
                  "content": "                &lt;label&gt;出退社時刻&lt;/label&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 956,
                  "content": "                &lt;div class=\"cancel-dialog-info-text\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 957,
                  "content": "                  {{ formatClockTime(cancelDialogAttendanceData.clockInTime) }}-{{ formatClockTime(cancelDialogAttendanceData.clockOutTime) }}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1042,
                  "content": "import { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'"
                },
                {
                  "lineNumber": 1043,
                  "isContextLine": true
                },
                {
                  "lineNumber": 1044,
                  "content": "export default {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1045,
                  "content": "  name: 'AttendanceApplicationDialog',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1046,
                  "content": "  props: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1047,
                  "content": "    visible: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1048,
                  "content": "      type: Boolean,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1049,
                  "content": "      default: false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1050,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1051,
                  "content": "    targetDate: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1052,
                  "content": "      type: String,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1203,
                  "content": "      // 申請取消確認ダイアログの表示状態"
                },
                {
                  "lineNumber": 1204,
                  "content": "      showCancelConfirmationDialog: false,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1205,
                  "content": "      cancelDialogApplicationType: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1206,
                  "content": "      cancelDialogApplicationInfo: null,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1207,
                  "content": "      cancelDialogAttendanceData: null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1208,
                  "content": "    }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1209,
                  "content": "  },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1210,
                  "content": "  computed: {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1211,
                  "content": "    formattedDate() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1212,
                  "content": "      if (!this.targetDate) return ''",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1213,
                  "content": "      const date = new Date(this.targetDate)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1745,
                  "content": "    // 申請取消ボタンのラベルを取得"
                },
                {
                  "lineNumber": 1746,
                  "content": "    getCancelButtonLabel(applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1747,
                  "content": "      const status = this.applicationStatuses[applicationType]",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1748,
                  "content": "      if (status === 'PENDING') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1749,
                  "content": "        return '申請取消'"
                },
                {
                  "lineNumber": 1750,
                  "content": "      } else if (status === 'APPROVED') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1751,
                  "content": "        return '承認取消'"
                },
                {
                  "lineNumber": 1752,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1753,
                  "content": "      return '取消'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1754,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1755,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1756,
                  "content": "    // 申請取消確認ダイアログのボタンラベルを取得"
                },
                {
                  "lineNumber": 1757,
                  "content": "    getCancelConfirmationButtonLabel() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1758,
                  "content": "      if (!this.cancelDialogApplicationType) return '取消'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1759,
                  "content": "      const status = this.applicationStatuses[this.cancelDialogApplicationType]",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1760,
                  "content": "      if (status === 'PENDING') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1761,
                  "content": "        return '申請取消'"
                },
                {
                  "lineNumber": 1762,
                  "content": "      } else if (status === 'APPROVED') {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1763,
                  "content": "        return '承認取消'"
                },
                {
                  "lineNumber": 1764,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1765,
                  "content": "      return '取消'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1766,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1767,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1768,
                  "content": "    // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1769,
                  "content": "    async loadApplicationInfo(applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1770,
                  "content": "      try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1771,
                  "content": "        const apiTypeMap = {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1772,
                  "content": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 1773,
                  "content": "          vacation: 'VACATION',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2505,
                  "content": "    // 日次確定申請取消"
                },
                {
                  "lineNumber": 2506,
                  "content": "    async cancelDailyConfirmation() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2507,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2508,
                  "content": "      await this.loadApplicationInfo('dailyConfirmation')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2509,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2510,
                  "content": "      // 日次確定申請の場合、勤務データも取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2511,
                  "content": "      let attendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2512,
                  "content": "      if (this.isPendingOrApproved('dailyConfirmation')) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2513,
                  "content": "        await this.loadDailyAttendanceData()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2514,
                  "content": "        // 勤務データを取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2515,
                  "content": "        try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2525,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2526,
                  "content": "      this.cancelDialogApplicationType = 'dailyConfirmation'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2527,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.dailyConfirmation",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2528,
                  "content": "      this.cancelDialogAttendanceData = attendanceData",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2529,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2530,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2531,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2532,
                  "content": "    // 休暇申請取消"
                },
                {
                  "lineNumber": 2533,
                  "content": "    async cancelVacationApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2534,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2535,
                  "content": "      await this.loadApplicationInfo('vacation')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2536,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2537,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2538,
                  "content": "      this.cancelDialogApplicationType = 'vacation'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2539,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.vacation",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2540,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2541,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2542,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2543,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2544,
                  "content": "    // 休日出勤申請取消"
                },
                {
                  "lineNumber": 2545,
                  "content": "    async cancelHolidayWorkApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2546,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2547,
                  "content": "      await this.loadApplicationInfo('holidayWork')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2548,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2549,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2550,
                  "content": "      this.cancelDialogApplicationType = 'holidayWork'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2551,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.holidayWork",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2552,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2553,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2554,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2555,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2556,
                  "content": "    // 残業申請取消"
                },
                {
                  "lineNumber": 2557,
                  "content": "    async cancelOvertimeApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2558,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2559,
                  "content": "      await this.loadApplicationInfo('overtime')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2560,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2561,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2562,
                  "content": "      this.cancelDialogApplicationType = 'overtime'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2563,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.overtime",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2564,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2565,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2566,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2567,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2568,
                  "content": "    // 早朝勤務申請取消"
                },
                {
                  "lineNumber": 2569,
                  "content": "    async cancelEarlyWorkApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2570,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2571,
                  "content": "      await this.loadApplicationInfo('earlyWork')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2572,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2573,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2574,
                  "content": "      this.cancelDialogApplicationType = 'earlyWork'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2575,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.earlyWork",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2576,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2577,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2578,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2579,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2580,
                  "content": "    // 振替申請取消"
                },
                {
                  "lineNumber": 2581,
                  "content": "    async cancelTransferApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2582,
                  "content": "      // 申請情報を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2583,
                  "content": "      await this.loadApplicationInfo('transfer')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2584,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2585,
                  "content": "      // 申請取消確認ダイアログを表示"
                },
                {
                  "lineNumber": 2586,
                  "content": "      this.cancelDialogApplicationType = 'transfer'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2587,
                  "content": "      this.cancelDialogApplicationInfo = this.applicationInfo.transfer",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2588,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2589,
                  "content": "      this.showCancelConfirmationDialog = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2590,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2591,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2592,
                  "content": "    // 申請取消確認ダイアログを閉じる"
                },
                {
                  "lineNumber": 2593,
                  "content": "    closeCancelConfirmationDialog() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2594,
                  "content": "      this.showCancelConfirmationDialog = false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2595,
                  "content": "      this.cancelDialogApplicationType = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2596,
                  "content": "      this.cancelDialogApplicationInfo = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2597,
                  "content": "      this.cancelDialogAttendanceData = null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2598,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2599,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2600,
                  "content": "    // 申請取消を実行"
                },
                {
                  "lineNumber": 2601,
                  "content": "    async executeCancelApplication() {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2602,
                  "content": "      if (!this.cancelDialogApplicationType) return",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2603,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2604,
                  "content": "      this.loading = true",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2605,
                  "content": "      try {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2606,
                  "content": "        const apiTypeMap = {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2607,
                  "content": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2608,
                  "content": "          vacation: 'VACATION',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2609,
                  "content": "          holidayWork: 'HOLIDAY_WORK',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2610,
                  "content": "          overtime: 'OVERTIME',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2618,
                  "content": "        const response = await cancelApplication("
                },
                {
                  "lineNumber": 2619,
                  "content": "          this.employeeId,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2620,
                  "content": "          apiType,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2621,
                  "content": "          applicationId,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2622,
                  "content": "          this.cancelDialogApplicationType === 'dailyConfirmation' ? this.targetDate : null",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2623,
                  "content": "        )",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2624,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2625,
                  "content": "        if (response.success) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2626,
                  "content": "          // 申請取消確認ダイアログを閉じる"
                },
                {
                  "lineNumber": 2627,
                  "content": "          this.closeCancelConfirmationDialog()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2628,
                  "content": "          this.$emit('application-submitted')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2629,
                  "content": "          this.closeDialog()",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2630,
                  "content": "        } else {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2631,
                  "content": "          this.showError(response.message || '申請取消に失敗しました')"
                },
                {
                  "lineNumber": 2632,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2633,
                  "content": "      } catch (error) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2634,
                  "content": "        console.error('申請取消エラー:', error)"
                },
                {
                  "lineNumber": 2635,
                  "content": "        this.showError(error.message || '申請取消中にエラーが発生しました')"
                },
                {
                  "lineNumber": 2636,
                  "content": "      } finally {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2637,
                  "content": "        this.loading = false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2638,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2639,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2640,
                  "content": "    ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2641,
                  "content": "    // 時刻をフォーマット（HH:MM形式）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2642,
                  "content": "    formatClockTime(timeString) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2643,
                  "content": "      if (!timeString) return '---'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2644,
                  "content": "      const date = new Date(timeString)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2645,
                  "content": "      const hours = String(date.getHours()).padStart(2, '0')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3735,
                  "content": "/* 申請取消確認ダイアログ */"
                },
                {
                  "lineNumber": 3736,
                  "content": ".cancel-confirmation-dialog-overlay {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3737,
                  "content": "  position: fixed;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3738,
                  "content": "  top: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3739,
                  "content": "  left: 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3740,
                  "content": "  width: 100%;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3741,
                  "content": "  height: 100%;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3742,
                  "content": "  background-color: rgba(0, 0, 0, 0.5);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3743,
                  "content": "  display: flex;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3744,
                  "content": "  justify-content: center;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3745,
                  "content": "  align-items: center;",
                  "isContextLine": true
                }
              ]
            }
          ],
          "totalLines": 201,
          "totalMatchedLines": 29
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


申請取消処理の実装を確認中。バックエンドの取消APIも確認します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\frontend\src\components\dialog\AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "cancelApplication|申請取消",
  "path": "backend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "cancelApplication|申請取消",
    "path": "backend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "backend\\routes\\attendance.js",
              "matches": [
                {
                  "lineNumber": 31,
                  "content": " * 日次確定申請取消API"
                }
              ]
            },
            {
              "file": "backend\\services\\applicationService.js",
              "matches": [
                {
                  "lineNumber": 262,
                  "content": " * 月次確定申請取消"
                },
                {
                  "lineNumber": 301,
                  "content": "const cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {"
                },
                {
                  "lineNumber": 424,
                  "content": "  cancelApplication"
                }
              ]
            },
            {
              "file": "backend\\routes\\application.js",
              "matches": [
                {
                  "lineNumber": 101,
                  "content": " * 申請取消API"
                },
                {
                  "lineNumber": 104,
                  "content": "router.delete('/application', applicationController.cancelApplication);"
                },
                {
                  "lineNumber": 113,
                  "content": " * 月次確定申請取消API"
                }
              ]
            },
            {
              "file": "backend\\models\\applicationModel.js",
              "matches": [
                {
                  "lineNumber": 456,
                  "content": "        ACTION_TYPE_DISPLAY: '申請取消',"
                },
                {
                  "lineNumber": 548,
                  "content": "        ACTION_TYPE_DISPLAY: '申請取消',"
                },
                {
                  "lineNumber": 642,
                  "content": "        ACTION_TYPE_DISPLAY: '申請取消',"
                }
              ]
            },
            {
              "file": "backend\\controllers\\applicationController.js",
              "matches": [
                {
                  "lineNumber": 228,
                  "content": " * 月次確定申請取消"
                },
                {
                  "lineNumber": 350,
                  "content": " * 申請取消"
                },
                {
                  "lineNumber": 352,
                  "content": "const cancelApplication = async (req, res, next) =&gt; {"
                },
                {
                  "lineNumber": 379,
                  "content": "    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);"
                },
                {
                  "lineNumber": 408,
                  "content": "  cancelApplication"
                }
              ]
            }
          ],
          "totalLines": 15,
          "totalMatchedLines": 15
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "deleteAttendance|deleteWorkHours|勤怠.*削除|工数.*削除",
  "path": "backend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "deleteAttendance|deleteWorkHours|勤怠.*削除|工数.*削除",
    "path": "backend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "backend\\models\\workHoursModel.js",
              "matches": [
                {
                  "lineNumber": 117,
                  "content": " * 工数実績を削除"
                },
                {
                  "lineNumber": 121,
                  "content": "const deleteWorkHours = async (workHoursId) =&gt; {"
                },
                {
                  "lineNumber": 131,
                  "content": "  deleteWorkHours"
                }
              ]
            },
            {
              "file": "backend\\services\\workHoursService.js",
              "matches": [
                {
                  "lineNumber": 65,
                  "content": " * 工数実績を削除"
                },
                {
                  "lineNumber": 69,
                  "content": "const deleteWorkHours = async (workHoursId) =&gt; {"
                },
                {
                  "lineNumber": 70,
                  "content": "  await workHoursModel.deleteWorkHours(workHoursId);"
                },
                {
                  "lineNumber": 76,
                  "content": "  deleteWorkHours"
                }
              ]
            },
            {
              "file": "backend\\routes\\workHours.js",
              "matches": [
                {
                  "lineNumber": 18,
                  "content": " * 工数実績削除API"
                },
                {
                  "lineNumber": 21,
                  "content": "router.delete('/:workHoursId', workHoursController.deleteWorkHours);"
                }
              ]
            },
            {
              "file": "backend\\controllers\\workHoursController.js",
              "matches": [
                {
                  "lineNumber": 57,
                  "content": " * 工数実績削除"
                },
                {
                  "lineNumber": 59,
                  "content": "const deleteWorkHours = async (req, res, next) =&gt; {"
                },
                {
                  "lineNumber": 70,
                  "content": "    await workHoursService.deleteWorkHours(workHoursId);"
                },
                {
                  "lineNumber": 74,
                  "content": "      message: '工数実績を削除しました。'"
                },
                {
                  "lineNumber": 84,
                  "content": "  deleteWorkHours"
                }
              ]
            }
          ],
          "totalLines": 14,
          "totalMatchedLines": 14
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


バックエンドの申請取消処理と勤怠データ削除APIを確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\controllers\applicationController.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "deleteAttendance|勤怠.*削除|ATTENDANCE.*DELETE",
  "path": "backend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "deleteAttendance|勤怠.*削除|ATTENDANCE.*DELETE",
    "path": "backend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {}
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


勤怠データと工数実績の削除APIを確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\attendanceService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "deleteAttendance|deleteWorkHoursByDate|工数.*日付|workHours.*date",
  "path": "backend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "deleteAttendance|deleteWorkHoursByDate|工数.*日付|workHours.*date",
    "path": "backend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "backend\\models\\workHoursModel.js",
              "matches": [
                {
                  "lineNumber": 12,
                  "content": "const getWorkHours = async (employeeId, workDate) =&gt; {"
                },
                {
                  "lineNumber": 98,
                  "content": "const updateWorkHours = async (workHoursId, updateData) =&gt; {"
                }
              ]
            },
            {
              "file": "backend\\services\\workHoursService.js",
              "matches": [
                {
                  "lineNumber": 13,
                  "content": "const getWorkHours = async (employeeId, workDate) =&gt; {"
                },
                {
                  "lineNumber": 14,
                  "content": "  return await workHoursModel.getWorkHours(employeeId, workDate);"
                },
                {
                  "lineNumber": 39,
                  "content": "    await workHoursModel.updateWorkHours(workHoursId, {"
                }
              ]
            },
            {
              "file": "backend\\services\\attendanceService.js",
              "matches": [
                {
                  "lineNumber": 361,
                  "content": "    const workHours = await workHoursModel.getWorkHours(employeeId, normalizeDate(attendance.WORK_DATE));"
                }
              ]
            },
            {
              "file": "backend\\controllers\\workHoursController.js",
              "matches": [
                {
                  "lineNumber": 20,
                  "content": "    const workHours = await workHoursService.getWorkHours(employeeId, workDate);"
                },
                {
                  "lineNumber": 38,
                  "content": "    if (!workHoursData.employeeId || !workHoursData.workDate || !workHoursData.jobCode) {"
                }
              ]
            }
          ],
          "totalLines": 8,
          "totalMatchedLines": 8
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\models\workHoursModel.js</summary>

</details>
</tool-use>

---



---


勤怠データの削除機能を確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\models\attendanceModel.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "deleteAttendance|勤怠.*削除|DELETE.*ATTENDANCE",
  "path": "backend/models/attendanceModel.js",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "deleteAttendance|勤怠.*削除|DELETE.*ATTENDANCE",
    "path": "backend/models/attendanceModel.js",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {}
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


休日出勤申請取消時に、その日の勤怠データと工数実績を削除する機能を追加します。まず、必要な削除機能を追加します。


---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [-] 勤怠データの削除機能をattendanceModelに追加
- [ ] 工数実績の日付指定削除機能をworkHoursModelに追加
- [ ] 休日出勤申請取消時に勤怠データと工数実績を削除する処理をapplicationServiceに追加

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "d9ca9ec1-62ee-4dba-aa80-664aaf88b9f9"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "cb859ab6-f548-4431-a01b-0a92a3b104c6"
}
```
Status: **completed**


</details>
</tool-use>

---



---


休日出勤申請取消時に、勤怠データと工数実績を削除する処理を追加中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "deleteBreakTimes|休憩.*削除|BREAK.*DELETE",
  "path": "backend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "deleteBreakTimes|休憩.*削除|BREAK.*DELETE",
    "path": "backend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "backend\\services\\attendanceService.js",
              "matches": [
                {
                  "lineNumber": 265,
                  "content": "      // 既存の休憩時間と公用外出を削除"
                },
                {
                  "lineNumber": 266,
                  "content": "      await breakTimeModel.deleteBreakTimesByAttendanceId(currentAttendanceId);"
                },
                {
                  "lineNumber": 267,
                  "content": "      await breakTimeModel.deleteOfficialOutingsByAttendanceId(currentAttendanceId);"
                }
              ]
            },
            {
              "file": "backend\\models\\breakTimeModel.js",
              "matches": [
                {
                  "lineNumber": 171,
                  "content": " * 休憩時間を削除（勤怠記録ID指定）"
                },
                {
                  "lineNumber": 175,
                  "content": "const deleteBreakTimesByAttendanceId = async (attendanceId) =&gt; {"
                },
                {
                  "lineNumber": 236,
                  "content": "  deleteBreakTimesByAttendanceId,"
                }
              ]
            }
          ],
          "totalLines": 6,
          "totalMatchedLines": 6
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\models\breakTimeModel.js</summary>

</details>
</tool-use>

---



---


休日出勤申請取消時に、勤怠データと工数実績を削除する処理を追加中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "77a6d42e-6b18-492a-9d28-dbabdcb84d5e"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---



---


日付形式の確認と、workHoursModelのインポート確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "TARGET_START_DATE|targetDate|workDate",
  "path": "backend/services/applicationService.js",
  "contextAfter": 3,
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "TARGET_START_DATE|targetDate|workDate",
    "path": "backend/services/applicationService.js",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "55:  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;",
              "matches": [
                {
                  "lineNumber": 56,
                  "content": "  const now = getNow();",
                  "isContextLine": true
                },
                {
                  "lineNumber": 57,
                  "content": "  ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 58,
                  "content": "  // REASONフィールドにJSON形式で時間情報を保存",
                  "isContextLine": true
                },
                {
                  "lineNumber": 69,
                  "content": "    targetStartDate: workDate,"
                },
                {
                  "lineNumber": 70,
                  "content": "    targetEndDate: workDate,"
                },
                {
                  "lineNumber": 71,
                  "content": "    reason: JSON.stringify(reasonData),",
                  "isContextLine": true
                },
                {
                  "lineNumber": 72,
                  "content": "    approvalStatus: 'PENDING',",
                  "isContextLine": true
                },
                {
                  "lineNumber": 73,
                  "content": "    createdAt: now,",
                  "isContextLine": true
                },
                {
                  "lineNumber": 151,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）"
                },
                {
                  "lineNumber": 152,
                  "content": " * @returns {Promise&lt;Object&gt;} 申請状態",
                  "isContextLine": true
                },
                {
                  "lineNumber": 153,
                  "content": " */",
                  "isContextLine": true
                },
                {
                  "lineNumber": 154,
                  "content": "const getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {"
                },
                {
                  "lineNumber": 155,
                  "content": "  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);"
                },
                {
                  "lineNumber": 156,
                  "content": "  ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 157,
                  "content": "  let applicationStatus = null;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 158,
                  "isContextLine": true
                },
                {
                  "lineNumber": 165,
                  "content": "  const oneYearAgo = new Date(targetDate);"
                },
                {
                  "lineNumber": 166,
                  "content": "  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
                  "isContextLine": true
                },
                {
                  "lineNumber": 167,
                  "content": "  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
                  "isContextLine": true
                },
                {
                  "lineNumber": 168,
                  "content": "  ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 173,
                  "content": "    targetDate"
                },
                {
                  "lineNumber": 174,
                  "content": "  );",
                  "isContextLine": true
                },
                {
                  "lineNumber": 175,
                  "isContextLine": true
                },
                {
                  "lineNumber": 176,
                  "content": "  const hasPastHolidayWork = pastApplications.length &gt; 0;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 209,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）"
                },
                {
                  "lineNumber": 210,
                  "content": " * @returns {Promise&lt;Object&gt;} 申請状態",
                  "isContextLine": true
                },
                {
                  "lineNumber": 211,
                  "content": " */",
                  "isContextLine": true
                },
                {
                  "lineNumber": 212,
                  "content": "const getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {"
                },
                {
                  "lineNumber": 213,
                  "content": "  let status = 'NOT_SUBMITTED';",
                  "isContextLine": true
                },
                {
                  "lineNumber": 214,
                  "content": "  let applicationId = null;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 215,
                  "content": "  ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 220,
                  "content": "      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);"
                },
                {
                  "lineNumber": 221,
                  "content": "      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 222,
                  "content": "        status = attendance.APPROVAL_STATUS;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 223,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 228,
                  "content": "      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);"
                },
                {
                  "lineNumber": 229,
                  "content": "      if (vacations &amp;&amp; vacations.length &gt; 0) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 230,
                  "content": "        const vacation = vacations.find(v =&gt; ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 231,
                  "content": "          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;"
                },
                {
                  "lineNumber": 232,
                  "content": "          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')",
                  "isContextLine": true
                },
                {
                  "lineNumber": 233,
                  "content": "        );",
                  "isContextLine": true
                },
                {
                  "lineNumber": 234,
                  "content": "        if (vacation) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 246,
                  "content": "      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);"
                },
                {
                  "lineNumber": 247,
                  "content": "      if (application) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 248,
                  "content": "        status = application.APPROVAL_STATUS;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 249,
                  "content": "        applicationId = application.APPLICATION_ID;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 298,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）"
                },
                {
                  "lineNumber": 299,
                  "content": " * @returns {Promise&lt;void&gt;}",
                  "isContextLine": true
                },
                {
                  "lineNumber": 300,
                  "content": " */",
                  "isContextLine": true
                },
                {
                  "lineNumber": 301,
                  "content": "const cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {"
                },
                {
                  "lineNumber": 302,
                  "content": "  switch (applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 303,
                  "content": "    case 'DAILY_CONFIRMATION': {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 304,
                  "content": "      // 日次確定申請の取り消し",
                  "isContextLine": true
                },
                {
                  "lineNumber": 308,
                  "content": "      if (!targetDate) {"
                },
                {
                  "lineNumber": 309,
                  "content": "        throw new Error('対象日が必要です。');",
                  "isContextLine": true
                },
                {
                  "lineNumber": 310,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 311,
                  "content": "      ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 313,
                  "content": "      const date = new Date(targetDate);"
                },
                {
                  "lineNumber": 314,
                  "content": "      const year = date.getFullYear();",
                  "isContextLine": true
                },
                {
                  "lineNumber": 315,
                  "content": "      const month = date.getMonth() + 1;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 316,
                  "content": "      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(",
                  "isContextLine": true
                },
                {
                  "lineNumber": 325,
                  "content": "      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);"
                },
                {
                  "lineNumber": 326,
                  "content": "      break;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 327,
                  "content": "    }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 328,
                  "content": "    case 'VACATION': {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 357,
                  "content": "        SELECT TARGET_START_DATE"
                },
                {
                  "lineNumber": 358,
                  "content": "        FROM APPLICATION_HISTORY",
                  "isContextLine": true
                },
                {
                  "lineNumber": 359,
                  "content": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
                  "isContextLine": true
                },
                {
                  "lineNumber": 360,
                  "content": "      &#96;;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 364,
                  "content": "        const targetDate = applicationRows[0].TARGET_START_DATE;"
                },
                {
                  "lineNumber": 365,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 366,
                  "content": "        // その日の勤怠データを削除",
                  "isContextLine": true
                },
                {
                  "lineNumber": 367,
                  "content": "        const attendanceModel = require('../models/attendanceModel');",
                  "isContextLine": true
                },
                {
                  "lineNumber": 372,
                  "content": "        const attendance = await attendanceModel.getAttendanceByDate(employeeId, targetDate);"
                },
                {
                  "lineNumber": 373,
                  "content": "        ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 374,
                  "content": "        if (attendance) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 375,
                  "content": "          const attendanceId = attendance.ATTENDANCE_ID;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 382,
                  "content": "          await workHoursModel.deleteWorkHoursByDate(employeeId, targetDate);"
                },
                {
                  "lineNumber": 383,
                  "content": "          ",
                  "isContextLine": true
                },
                {
                  "lineNumber": 384,
                  "content": "          // 勤怠記録を削除",
                  "isContextLine": true
                },
                {
                  "lineNumber": 385,
                  "content": "          await attendanceModel.deleteAttendanceByDate(employeeId, targetDate);"
                },
                {
                  "lineNumber": 386,
                  "content": "        } else {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 387,
                  "content": "          // 勤怠記録が存在しない場合でも工数実績は削除",
                  "isContextLine": true
                },
                {
                  "lineNumber": 388,
                  "content": "          await workHoursModel.deleteWorkHoursByDate(employeeId, targetDate);"
                },
                {
                  "lineNumber": 389,
                  "content": "        }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 390,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 391,
                  "content": "      break;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 443,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）"
                },
                {
                  "lineNumber": 444,
                  "content": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
                  "isContextLine": true
                },
                {
                  "lineNumber": 445,
                  "content": " */",
                  "isContextLine": true
                },
                {
                  "lineNumber": 446,
                  "content": "const getApplicationInfo = async (employeeId, applicationType, targetDate) =&gt; {"
                },
                {
                  "lineNumber": 447,
                  "content": "  switch (applicationType) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 448,
                  "content": "    case 'DAILY_CONFIRMATION':",
                  "isContextLine": true
                },
                {
                  "lineNumber": 449,
                  "content": "      return await applicationModel.getDailyConfirmationApplicationInfo(employeeId, targetDate);"
                },
                {
                  "lineNumber": 450,
                  "content": "    case 'VACATION':",
                  "isContextLine": true
                },
                {
                  "lineNumber": 451,
                  "content": "      return await applicationModel.getVacationApplicationInfo(employeeId, targetDate);"
                },
                {
                  "lineNumber": 452,
                  "content": "    case 'HOLIDAY_WORK':",
                  "isContextLine": true
                },
                {
                  "lineNumber": 453,
                  "content": "    case 'OVERTIME':",
                  "isContextLine": true
                },
                {
                  "lineNumber": 454,
                  "content": "    case 'EARLY_WORK':",
                  "isContextLine": true
                },
                {
                  "lineNumber": 456,
                  "content": "      return await applicationModel.getApplicationInfo(employeeId, applicationType, targetDate);"
                },
                {
                  "lineNumber": 457,
                  "content": "    default:",
                  "isContextLine": true
                },
                {
                  "lineNumber": 458,
                  "content": "      throw new Error('無効な申請タイプです。');",
                  "isContextLine": true
                },
                {
                  "lineNumber": 459,
                  "content": "  }",
                  "isContextLine": true
                }
              ]
            }
          ],
          "totalLines": 103,
          "totalMatchedLines": 29
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


日付形式を確認し、必要に応じて修正中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "normalizeDate|toISOString|YYYY-MM-DD",
  "path": "backend/services/applicationService.js",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "normalizeDate|toISOString|YYYY-MM-DD",
    "path": "backend/services/applicationService.js",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "151: * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
              "matches": [
                {
                  "lineNumber": 167,
                  "content": "  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];"
                },
                {
                  "lineNumber": 209,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）"
                },
                {
                  "lineNumber": 298,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）"
                },
                {
                  "lineNumber": 443,
                  "content": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）"
                }
              ]
            }
          ],
          "totalLines": 4,
          "totalMatchedLines": 4
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\utils\dateUtils.js</summary>

</details>
</tool-use>

---



---


日付をYYYY-MM-DD形式に正規化する処理を追加中。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "normalizeDate",
  "path": "backend/utils/dateUtils.js",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "normalizeDate",
    "path": "backend/utils/dateUtils.js",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "161:const normalizeDate = (date) =&gt; {",
              "matches": [
                {
                  "lineNumber": 218,
                  "content": "  normalizeDate,"
                }
              ]
            }
          ],
          "totalLines": 1,
          "totalMatchedLines": 1
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\utils\dateUtils.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "a0909c7a-0010-4ad7-81e8-acf20c9c8881"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] 勤怠データの削除機能をattendanceModelに追加
- [x] 工数実績の日付指定削除機能をworkHoursModelに追加
- [x] 休日出勤申請取消時に勤怠データと工数実績を削除する処理をapplicationServiceに追加

</details>
</tool-use>

---



---


normalizeDate関数を使用するように修正中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\utils\dateUtils.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "20fcf27e-51a4-4e0c-bbd2-7942af8f9dce"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "5fda0f0a-cd6b-40ac-b181-dcf9f258d9cc"
}
```
Status: **completed**


</details>
</tool-use>

---



---


変更内容を確認し、エラーがないかチェック中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "backend/services/applicationService.js",
    "backend/models/attendanceModel.js",
    "backend/models/workHoursModel.js"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "backend/services/applicationService.js"
    },
    {
      "relativeWorkspacePath": "backend/models/attendanceModel.js"
    },
    {
      "relativeWorkspacePath": "backend/models/workHoursModel.js"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正を完了しました。休日出勤申請を取り消すと、その日の勤怠データと工数実績が削除され、元の状態に戻ります。

## 変更内容

### 1. 勤怠データの削除機能を追加 (`backend/models/attendanceModel.js`)
- `deleteAttendanceByDate`関数を追加し、日付指定で勤怠記録を削除できるようにしました。

### 2. 工数実績の日付指定削除機能を追加 (`backend/models/workHoursModel.js`)
- `deleteWorkHoursByDate`関数を追加し、日付指定で工数実績を削除できるようにしました。

### 3. 休日出勤申請取消時のデータ削除処理を追加 (`backend/services/applicationService.js`)
- 休日出勤申請（`HOLIDAY_WORK`）を取り消す際に、以下のデータを削除する処理を追加しました：
  - 休憩時間（BREAK_TIME）
  - 公用外出（OFFICIAL_OUTING）
  - 工数実績（WORK_HOURS）
  - 勤怠記録（ATTENDANCE_RECORD）

これにより、休日出勤申請を取り消すと、その日の打刻時刻、休憩時間、公用外出、工数実績がすべて削除され、勤務表画面で編集可能な状態に戻ります。

---

_**User**_

備考とかも同様です。

---

_**Agent (model composer-1, mode Agent)**_



---


備考も確実に削除されるよう確認中。備考の保存場所を確認します。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "REMARK_TEXT|備考|remark",
  "path": "backend",
  "outputMode": "files_with_matches",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "REMARK_TEXT|備考|remark",
    "path": "backend",
    "outputMode": "files_with_matches",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "files": {
          "files": [
            "backend\\models\\attendanceModel.js",
            "backend\\services\\monthlySummaryService.js",
            "backend\\services\\attendanceService.js",
            "backend\\controllers\\attendanceController.js",
            "backend\\node_modules\\debug\\CHANGELOG.md"
          ],
          "totalFiles": 5
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "REMARK_TEXT|備考",
  "path": "backend/models/attendanceModel.js",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "REMARK_TEXT|備考",
    "path": "backend/models/attendanceModel.js",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "53:      REMARK_TEXT,",
              "matches": [
                {
                  "lineNumber": 101,
                  "content": "      ar.REMARK_TEXT"
                },
                {
                  "lineNumber": 136,
                  "content": "    (EMPLOYEE_ID, WORK_DATE, CLOCK_IN_TIME, CLOCK_OUT_TIME, CLOCK_IN_TYPE, CLOCK_OUT_TYPE, ORIGINAL_CLOCK_IN_TIME, ORIGINAL_CLOCK_OUT_TIME, WORK_LOCATION_CODE, REMARK_TEXT, CREATED_AT, UPDATED_AT)"
                },
                {
                  "lineNumber": 198,
                  "content": "    updateFields.push('REMARK_TEXT = ?');"
                }
              ]
            }
          ],
          "totalLines": 3,
          "totalMatchedLines": 3
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---



---


備考の保存場所を確認中。休日出勤申請の備考が別テーブルに保存されていないか確認します。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "APPLICATION_HISTORY.*REASON|REASON.*APPLICATION|休日出勤.*備考",
  "path": "backend",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "APPLICATION_HISTORY.*REASON|REASON.*APPLICATION|休日出勤.*備考",
    "path": "backend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "backend\\services\\applicationService.js",
              "matches": [
                {
                  "lineNumber": 55,
                  "content": "  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;"
                },
                {
                  "lineNumber": 84,
                  "content": "  const { employeeId, startDate, endDate, overtimeHours, reason } = applicationData;"
                },
                {
                  "lineNumber": 106,
                  "content": "  const { employeeId, startDate, endDate, reason } = applicationData;"
                },
                {
                  "lineNumber": 127,
                  "content": "  const { employeeId, fromDate, toDate, reason } = applicationData;"
                }
              ]
            }
          ],
          "totalLines": 4,
          "totalMatchedLines": 4
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "休日出勤申請の備考はどこに保存されているか",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 46,
            "column": 2
          },
          "endPosition": {
            "line": 81,
            "column": 3
          }
        },
        "contents": "/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */\nconst applyHolidayWork = async (applicationData) =&gt; {\n  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;\n  const now = getNow();\n  \n  // REASONフィールドにJSON形式で時間情報を保存\n  const reasonData = {\n    text: reason || '',\n    startTime: startTime,\n    endTime: endTime,\n    breakHours: breakHours\n  };\n  \n  return await applicationModel.createApplication({\n    employeeId,\n    applicationType: 'HOLIDAY_WORK',\n    targetStartDate: workDate,\n    targetEndDate: workDate,\n    reason: JSON.stringify(reasonData),\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 残業申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 49
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 50
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          },
          {
            "text": "const applyHolidayWork = async (applicationData) =&gt; {",
            "lineNumber": 54
          },
          {
            "text": "  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;",
            "lineNumber": 55
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 56
          },
          {
            "text": "  ",
            "lineNumber": 57
          },
          {
            "text": "  // REASONフィールドにJSON形式で時間情報を保存",
            "lineNumber": 58
          },
          {
            "text": "  const reasonData = {",
            "lineNumber": 59
          },
          {
            "text": "    text: reason || '',",
            "lineNumber": 60
          },
          {
            "text": "    startTime: startTime,",
            "lineNumber": 61
          },
          {
            "text": "    endTime: endTime,",
            "lineNumber": 62
          },
          {
            "text": "    breakHours: breakHours",
            "lineNumber": 63
          },
          {
            "text": "  };",
            "lineNumber": 64
          },
          {
            "text": "  ",
            "lineNumber": 65
          },
          {
            "text": "  return await applicationModel.createApplication({",
            "lineNumber": 66
          },
          {
            "text": "    employeeId,",
            "lineNumber": 67
          },
          {
            "text": "    applicationType: 'HOLIDAY_WORK',",
            "lineNumber": 68
          },
          {
            "text": "    targetStartDate: workDate,",
            "lineNumber": 69
          },
          {
            "text": "    targetEndDate: workDate,",
            "lineNumber": 70
          },
          {
            "text": "    reason: JSON.stringify(reasonData),",
            "lineNumber": 71
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 72
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 73
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 74
          },
          {
            "text": "  });",
            "lineNumber": 75
          },
          {
            "text": "};",
            "lineNumber": 76
          },
          {
            "lineNumber": 77
          },
          {
            "text": "/**",
            "lineNumber": 78
          },
          {
            "text": " * 残業申請",
            "lineNumber": 79
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 80
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 81
          },
          {
            "text": " */",
            "lineNumber": 82
          }
        ]
      },
      "score": 0.4484831988811493
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\home-screen.md",
        "range": {
          "startPosition": {
            "line": 497
          },
          "endPosition": {
            "line": 534
          }
        },
        "contents": "6. **休日出勤申請の制約**\n   - 土日祝に打刻する場合は、事前に休日出勤申請を行い、申請中（PENDING）または承認済み（APPROVED）である必要がある\n   - 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）でない場合、すべての打刻ボタン（出勤、定時出勤、退勤、定時退勤）は非活性化される\n   - 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する\n   - APPLICATION_HISTORYテーブルのAPPLICATION_TYPE='HOLIDAY_WORK'で、APPROVAL_STATUSが'PENDING'または'APPROVED'の申請が存在する場合のみ打刻可能\n   - **重要**: 休日出勤申請の承認申請ボタンを押下した時点（申請中（PENDING））から、打刻が可能になる\n\n## データベース設計との対応\n\n### 使用テーブル\n\n1. **EMPLOYEE（従業員マスタ）**\n   - ログイン認証後の従業員情報取得に使用\n   - EMPLOYEE_ID、EMPLOYEE_NAME、DEPARTMENTを参照\n\n2. **NOTIFICATION（お知らせマスタ）**\n   - お知らせ情報の表示に使用\n   - TARGET_TYPE（対象種別）、TARGET_ID（対象ID）で絞り込み\n   - DISPLAY_START_DATE、DISPLAY_END_DATEで表示期間を制御\n\n3. **ATTENDANCE_RECORD（勤怠記録）**\n   - 出退勤打刻の記録に使用\n   - EMPLOYEE_ID + WORK_DATEでユニーク制約\n   - CLOCK_IN_TIME、CLOCK_OUT_TIME、CLOCK_IN_TYPE、CLOCK_OUT_TYPE、WORK_LOCATION_CODEを更新\n\n4. **WORK_LOCATION（勤務場所マスタ）**\n   - 勤務場所の選択肢表示に使用\n   - LOCATION_CODE、LOCATION_NAMEを参照\n\n5. **BREAK_TIME（休憩時間）**\n   - 中断・再開時の休憩時間記録に使用\n   - ATTENDANCE_IDで勤怠記録と紐付け\n   - BREAK_SEQで複数の休憩時間帯に対応\n\n6. **APPLICATION_HISTORY（申請履歴）**\n   - 休日出勤申請の承認状態確認に使用",
        "signatures": {},
        "detailedLines": [
          {
            "text": "6. **休日出勤申請の制約**",
            "lineNumber": 499
          },
          {
            "text": "   - 土日祝に打刻する場合は、事前に休日出勤申請を行い、申請中（PENDING）または承認済み（APPROVED）である必要がある",
            "lineNumber": 500
          },
          {
            "text": "   - 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）でない場合、すべての打刻ボタン（出勤、定時出勤、退勤、定時退勤）は非活性化される",
            "lineNumber": 501
          },
          {
            "text": "   - 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する",
            "lineNumber": 502
          },
          {
            "text": "   - APPLICATION_HISTORYテーブルのAPPLICATION_TYPE='HOLIDAY_WORK'で、APPROVAL_STATUSが'PENDING'または'APPROVED'の申請が存在する場合のみ打刻可能",
            "lineNumber": 503
          },
          {
            "text": "   - **重要**: 休日出勤申請の承認申請ボタンを押下した時点（申請中（PENDING））から、打刻が可能になる",
            "lineNumber": 504
          },
          {
            "lineNumber": 505
          },
          {
            "text": "## データベース設計との対応",
            "lineNumber": 506
          },
          {
            "lineNumber": 507
          },
          {
            "text": "### 使用テーブル",
            "lineNumber": 508
          },
          {
            "lineNumber": 509
          },
          {
            "text": "1. **EMPLOYEE（従業員マスタ）**",
            "lineNumber": 510
          },
          {
            "text": "   - ログイン認証後の従業員情報取得に使用",
            "lineNumber": 511
          },
          {
            "text": "   - EMPLOYEE_ID、EMPLOYEE_NAME、DEPARTMENTを参照",
            "lineNumber": 512
          },
          {
            "lineNumber": 513
          },
          {
            "text": "2. **NOTIFICATION（お知らせマスタ）**",
            "lineNumber": 514
          },
          {
            "text": "   - お知らせ情報の表示に使用",
            "lineNumber": 515
          },
          {
            "text": "   - TARGET_TYPE（対象種別）、TARGET_ID（対象ID）で絞り込み",
            "lineNumber": 516
          },
          {
            "text": "   - DISPLAY_START_DATE、DISPLAY_END_DATEで表示期間を制御",
            "lineNumber": 517
          },
          {
            "lineNumber": 518
          },
          {
            "text": "3. **ATTENDANCE_RECORD（勤怠記録）**",
            "lineNumber": 519
          },
          {
            "text": "   - 出退勤打刻の記録に使用",
            "lineNumber": 520
          },
          {
            "text": "   - EMPLOYEE_ID + WORK_DATEでユニーク制約",
            "lineNumber": 521
          },
          {
            "text": "   - CLOCK_IN_TIME、CLOCK_OUT_TIME、CLOCK_IN_TYPE、CLOCK_OUT_TYPE、WORK_LOCATION_CODEを更新",
            "lineNumber": 522
          },
          {
            "lineNumber": 523
          },
          {
            "text": "4. **WORK_LOCATION（勤務場所マスタ）**",
            "lineNumber": 524
          },
          {
            "text": "   - 勤務場所の選択肢表示に使用",
            "lineNumber": 525
          },
          {
            "text": "   - LOCATION_CODE、LOCATION_NAMEを参照",
            "lineNumber": 526
          },
          {
            "lineNumber": 527
          },
          {
            "text": "5. **BREAK_TIME（休憩時間）**",
            "lineNumber": 528
          },
          {
            "text": "   - 中断・再開時の休憩時間記録に使用",
            "lineNumber": 529
          },
          {
            "text": "   - ATTENDANCE_IDで勤怠記録と紐付け",
            "lineNumber": 530
          },
          {
            "text": "   - BREAK_SEQで複数の休憩時間帯に対応",
            "lineNumber": 531
          },
          {
            "lineNumber": 532
          },
          {
            "text": "6. **APPLICATION_HISTORY（申請履歴）**",
            "lineNumber": 533
          },
          {
            "text": "   - 休日出勤申請の承認状態確認に使用",
            "lineNumber": 534
          }
        ]
      },
      "score": 0.40595969557762146
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 182
          },
          "endPosition": {
            "line": 202
          }
        },
        "contents": "| 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定日時 | 日時 | 正常 | | DAILY_CONFIRMED_AT |\n| 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認状態 | 文字 | 正常 | NOT_SUBMITTED | APPROVAL_STATUS (NOT_SUBMITTED/PENDING/APPROVED/REJECTED) |\n| 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | REMARK_TEXT |\n| 20 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIME |\n| 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;公用外出リスト | リスト | 正常 | | OFFICIAL_OUTING |\n| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数実績リスト | リスト | 正常 | | WORK_HOURS |\n| 23 | 月次サマリーデータ | オブジェクト | 正常 | | 月間集計データ |\n| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定出勤日数 | 整数 | 正常 | | SCHEDULED_WORK_DAYS |\n| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実出勤日数 | 整数 | 正常 | | ACTUAL_WORK_DAYS（出勤時刻と退勤時刻が両方記録されている日数） |\n| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 文字 | 正常 | | SCHEDULED_WORK_HOURS |\n| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 文字 | 正常 | | TOTAL_WORK_HOURS |\n| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;過不足時間 | 文字 | 正常 | | OVER_UNDER_TIME |\n| 29 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日労働 | 文字 | 正常 | | LEGAL_HOLIDAY_WORK_HOURS |\n| 30 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 文字 | 正常 | | WITHIN_LEGAL_OVERTIME_HOURS |\n| 31 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 文字 | 正常 | | OVER_LEGAL_OVERTIME_HOURS |\n| 32 | 勤務場所マスタ | リスト | 正常 | | WORK_LOCATION |\n| 33 | 休暇申請データ | リスト | 正常 | | VACATION_HISTORY（該当月の休暇申請情報） |\n| 34 | 月次承認状態 | 文字 | 正常 | NOT_SUBMITTED | MONTHLY_APPROVAL_STATUS (NOT_SUBMITTED/PENDING/APPROVED/REJECTED) |\n| 35 | 月次承認履歴 | リスト | 正常 | | MONTHLY_APPROVAL_HISTORY（月次確定の承認履歴） |\n| 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;履歴ID | 整数 | 正常 | | HISTORY_ID |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定日時 | 日時 | 正常 | | DAILY_CONFIRMED_AT |",
            "lineNumber": 183
          },
          {
            "text": "| 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認状態 | 文字 | 正常 | NOT_SUBMITTED | APPROVAL_STATUS (NOT_SUBMITTED/PENDING/APPROVED/REJECTED) |",
            "lineNumber": 184
          },
          {
            "text": "| 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | REMARK_TEXT |",
            "lineNumber": 185
          },
          {
            "text": "| 20 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIME |",
            "lineNumber": 186
          },
          {
            "text": "| 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;公用外出リスト | リスト | 正常 | | OFFICIAL_OUTING |",
            "lineNumber": 187
          },
          {
            "text": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数実績リスト | リスト | 正常 | | WORK_HOURS |",
            "lineNumber": 188
          },
          {
            "text": "| 23 | 月次サマリーデータ | オブジェクト | 正常 | | 月間集計データ |",
            "lineNumber": 189
          },
          {
            "text": "| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定出勤日数 | 整数 | 正常 | | SCHEDULED_WORK_DAYS |",
            "lineNumber": 190
          },
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実出勤日数 | 整数 | 正常 | | ACTUAL_WORK_DAYS（出勤時刻と退勤時刻が両方記録されている日数） |",
            "lineNumber": 191
          },
          {
            "text": "| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 文字 | 正常 | | SCHEDULED_WORK_HOURS |",
            "lineNumber": 192
          },
          {
            "text": "| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 文字 | 正常 | | TOTAL_WORK_HOURS |",
            "lineNumber": 193
          },
          {
            "text": "| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;過不足時間 | 文字 | 正常 | | OVER_UNDER_TIME |",
            "lineNumber": 194
          },
          {
            "text": "| 29 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日労働 | 文字 | 正常 | | LEGAL_HOLIDAY_WORK_HOURS |",
            "lineNumber": 195
          },
          {
            "text": "| 30 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 文字 | 正常 | | WITHIN_LEGAL_OVERTIME_HOURS |",
            "lineNumber": 196
          },
          {
            "text": "| 31 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 文字 | 正常 | | OVER_LEGAL_OVERTIME_HOURS |",
            "lineNumber": 197
          },
          {
            "text": "| 32 | 勤務場所マスタ | リスト | 正常 | | WORK_LOCATION |",
            "lineNumber": 198
          },
          {
            "text": "| 33 | 休暇申請データ | リスト | 正常 | | VACATION_HISTORY（該当月の休暇申請情報） |",
            "lineNumber": 199
          },
          {
            "text": "| 34 | 月次承認状態 | 文字 | 正常 | NOT_SUBMITTED | MONTHLY_APPROVAL_STATUS (NOT_SUBMITTED/PENDING/APPROVED/REJECTED) |",
            "lineNumber": 200
          },
          {
            "text": "| 35 | 月次承認履歴 | リスト | 正常 | | MONTHLY_APPROVAL_HISTORY（月次確定の承認履歴） |",
            "lineNumber": 201
          },
          {
            "text": "| 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;履歴ID | 整数 | 正常 | | HISTORY_ID |",
            "lineNumber": 202
          }
        ]
      },
      "score": 0.38701194524765015
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 42,
            "column": 2
          },
          "endPosition": {
            "line": 114,
            "column": 1
          }
        },
        "contents": "/**\n * 休日出勤申請\n */\nconst applyHolidayWork = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, workDate, startTime, endTime, breakHours, reason } = req.body;\n    \n    if (!employeeId || !workDate || !startTime || !endTime || breakHours === undefined) {\n      return res.status(400).json({\n        success: false,\n        message: '必須項目が不足しています。'\n      });\n    }\n    \n    // バリデーション\n    if (startTime &gt;= endTime) {\n      return res.status(400).json({\n        success: false,\n        message: '開始時間は終了時間より前の時刻を入力してください。'\n      });\n    }\n    \n    if (breakHours &lt; 0) {\n      return res.status(400).json({\n        success: false,\n        message: '休憩時間を入力してください。'\n      });\n    }\n    \n    await applicationService.applyHolidayWork({ \n      employeeId, \n      workDate, \n      startTime, \n      endTime, \n      breakHours, \n      reason \n    });\n    \n    res.json({\n      success: true,\n      message: '休日出勤申請が完了しました。'\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * 残業申請\n */\nconst applyOvertime = async (req, res, next) =&gt;\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 45
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 46
          },
          {
            "text": " */",
            "lineNumber": 47
          },
          {
            "text": "const applyHolidayWork = async (req, res, next) =&gt; {",
            "lineNumber": 48
          },
          {
            "text": "  try {",
            "lineNumber": 49
          },
          {
            "text": "    const { employeeId, workDate, startTime, endTime, breakHours, reason } = req.body;",
            "lineNumber": 50
          },
          {
            "text": "    ",
            "lineNumber": 51
          },
          {
            "text": "    if (!employeeId || !workDate || !startTime || !endTime || breakHours === undefined) {",
            "lineNumber": 52
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 53
          },
          {
            "text": "        success: false,",
            "lineNumber": 54
          },
          {
            "text": "        message: '必須項目が不足しています。'",
            "lineNumber": 55
          },
          {
            "text": "      });",
            "lineNumber": 56
          },
          {
            "text": "    }",
            "lineNumber": 57
          },
          {
            "text": "    ",
            "lineNumber": 58
          },
          {
            "text": "    // バリデーション",
            "lineNumber": 59
          },
          {
            "text": "    if (startTime &gt;= endTime) {",
            "lineNumber": 60
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 61
          },
          {
            "text": "        success: false,",
            "lineNumber": 62
          },
          {
            "text": "        message: '開始時間は終了時間より前の時刻を入力してください。'",
            "lineNumber": 63
          },
          {
            "text": "      });",
            "lineNumber": 64
          },
          {
            "text": "    }",
            "lineNumber": 65
          },
          {
            "text": "    ",
            "lineNumber": 66
          },
          {
            "text": "    if (breakHours &lt; 0) {",
            "lineNumber": 67
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 68
          },
          {
            "text": "        success: false,",
            "lineNumber": 69
          },
          {
            "text": "        message: '休憩時間を入力してください。'",
            "lineNumber": 70
          },
          {
            "text": "      });",
            "lineNumber": 71
          },
          {
            "text": "    }",
            "lineNumber": 72
          },
          {
            "text": "    ",
            "lineNumber": 73
          },
          {
            "text": "    await applicationService.applyHolidayWork({ ",
            "lineNumber": 74
          },
          {
            "text": "      employeeId, ",
            "lineNumber": 75
          },
          {
            "text": "      workDate, ",
            "lineNumber": 76
          },
          {
            "text": "      startTime, ",
            "lineNumber": 77
          },
          {
            "text": "      endTime, ",
            "lineNumber": 78
          },
          {
            "text": "      breakHours, ",
            "lineNumber": 79
          },
          {
            "text": "      reason ",
            "lineNumber": 80
          },
          {
            "text": "    });",
            "lineNumber": 81
          },
          {
            "text": "    ",
            "lineNumber": 82
          },
          {
            "text": "    res.json({",
            "lineNumber": 83
          },
          {
            "text": "      success: true,",
            "lineNumber": 84
          },
          {
            "text": "      message: '休日出勤申請が完了しました。'",
            "lineNumber": 85
          },
          {
            "text": "    });",
            "lineNumber": 86
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 87
          },
          {
            "text": "    next(error);",
            "lineNumber": 88
          },
          {
            "text": "  }",
            "lineNumber": 89
          },
          {
            "text": "};",
            "lineNumber": 90
          },
          {
            "lineNumber": 91
          },
          {
            "text": "/**",
            "lineNumber": 92
          },
          {
            "text": " * 残業申請",
            "lineNumber": 93
          },
          {
            "text": " */",
            "lineNumber": 94
          },
          {
            "text": "const applyOvertime = async (req, res, next) =&gt;",
            "lineNumber": 95
          },
          {
            "text": ";",
            "lineNumber": 115
          }
        ]
      },
      "score": 0.3820455074310303
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1465
          },
          "endPosition": {
            "line": 1493
          }
        },
        "contents": "4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n### 休日出勤申請\n休日出勤申請は、休日に出勤する場合の申請です。\n\n#### 申請内容\n- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）\n- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）\n- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **備考**: 休日出勤の理由や備考を入力（任意）\n\n#### 表示内容\n休日出勤申請タブを開くと、以下の情報が表示されます：\n- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）\n- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）\n- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）\n- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）\n- **備考**: テキストエリアで備考を入力（任意）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1466
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1467
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1468
          },
          {
            "lineNumber": 1469
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1470
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1471
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1472
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1473
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1474
          },
          {
            "lineNumber": 1475
          },
          {
            "text": "### 休日出勤申請",
            "lineNumber": 1476
          },
          {
            "text": "休日出勤申請は、休日に出勤する場合の申請です。",
            "lineNumber": 1477
          },
          {
            "lineNumber": 1478
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1479
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）",
            "lineNumber": 1480
          },
          {
            "text": "- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）",
            "lineNumber": 1481
          },
          {
            "text": "- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1482
          },
          {
            "text": "- **備考**: 休日出勤の理由や備考を入力（任意）",
            "lineNumber": 1483
          },
          {
            "lineNumber": 1484
          },
          {
            "text": "#### 表示内容",
            "lineNumber": 1485
          },
          {
            "text": "休日出勤申請タブを開くと、以下の情報が表示されます：",
            "lineNumber": 1486
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）",
            "lineNumber": 1487
          },
          {
            "text": "- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）",
            "lineNumber": 1488
          },
          {
            "text": "- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）",
            "lineNumber": 1489
          },
          {
            "text": "- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1490
          },
          {
            "text": "- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）",
            "lineNumber": 1491
          },
          {
            "text": "- **備考**: テキストエリアで備考を入力（任意）",
            "lineNumber": 1492
          }
        ]
      },
      "score": 0.3806706666946411
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\create_application_history_table.sql",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 25
          }
        },
        "contents": "-- ====================================================================\n-- APPLICATION_HISTORYテーブル作成スクリプト\n-- 申請履歴テーブル（休日出勤申請、残業申請、早朝勤務申請、振替申請など）\n-- ====================================================================\n\nUSE teamspirit_db;\n\n-- APPLICATION_HISTORYテーブルが存在しない場合のみ作成\nCREATE TABLE IF NOT EXISTS APPLICATION_HISTORY (\n    APPLICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '申請ID: 主キー。申請履歴を一意に識別するID（自動採番）',\n    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID: 外部キー。どの従業員の申請か。EMPLOYEEテーブルを参照',\n    APPLICATION_TYPE VARCHAR(20) NOT NULL COMMENT '申請種別: HOLIDAY_WORK=休日出勤申請、OVERTIME=残業申請、EARLY_WORK=早朝勤務申請、TRANSFER=振替申請',\n    TARGET_START_DATE DATE NOT NULL COMMENT '対象開始日: 申請対象期間の開始日。形式YYYY-MM-DD',\n    TARGET_END_DATE DATE NOT NULL COMMENT '対象終了日: 申請対象期間の終了日。形式YYYY-MM-DD',\n    OVERTIME_HOURS DECIMAL(5,2) COMMENT '残業時間: 残業申請の場合の残業時間（時間単位）。例: 2.00=2時間',\n    REASON TEXT COMMENT '申請理由: 申請の理由や詳細',\n    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態: PENDING=申請中、APPROVED=承認済、REJECTED=却下',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時: レコード作成日時（自動設定）',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時: レコード更新日時（自動更新）',\n    PRIMARY KEY (APPLICATION_ID),\n    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,\n    INDEX IDX_EMP_TYPE (EMPLOYEE_ID, APPLICATION_TYPE),\n    INDEX IDX_TARGET_DATE (TARGET_START_DATE, TARGET_END_DATE),\n    INDEX IDX_APPROVAL (APPROVAL_STATUS)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='申請履歴';",
        "signatures": {},
        "detailedLines": [
          {
            "text": "-- ====================================================================",
            "lineNumber": 1
          },
          {
            "text": "-- APPLICATION_HISTORYテーブル作成スクリプト",
            "lineNumber": 2
          },
          {
            "text": "-- 申請履歴テーブル（休日出勤申請、残業申請、早朝勤務申請、振替申請など）",
            "lineNumber": 3
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "USE teamspirit_db;",
            "lineNumber": 6
          },
          {
            "lineNumber": 7
          },
          {
            "text": "-- APPLICATION_HISTORYテーブルが存在しない場合のみ作成",
            "lineNumber": 8
          },
          {
            "text": "CREATE TABLE IF NOT EXISTS APPLICATION_HISTORY (",
            "lineNumber": 9
          },
          {
            "text": "    APPLICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '申請ID: 主キー。申請履歴を一意に識別するID（自動採番）',",
            "lineNumber": 10
          },
          {
            "text": "    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID: 外部キー。どの従業員の申請か。EMPLOYEEテーブルを参照',",
            "lineNumber": 11
          },
          {
            "text": "    APPLICATION_TYPE VARCHAR(20) NOT NULL COMMENT '申請種別: HOLIDAY_WORK=休日出勤申請、OVERTIME=残業申請、EARLY_WORK=早朝勤務申請、TRANSFER=振替申請',",
            "lineNumber": 12
          },
          {
            "text": "    TARGET_START_DATE DATE NOT NULL COMMENT '対象開始日: 申請対象期間の開始日。形式YYYY-MM-DD',",
            "lineNumber": 13
          },
          {
            "text": "    TARGET_END_DATE DATE NOT NULL COMMENT '対象終了日: 申請対象期間の終了日。形式YYYY-MM-DD',",
            "lineNumber": 14
          },
          {
            "text": "    OVERTIME_HOURS DECIMAL(5,2) COMMENT '残業時間: 残業申請の場合の残業時間（時間単位）。例: 2.00=2時間',",
            "lineNumber": 15
          },
          {
            "text": "    REASON TEXT COMMENT '申請理由: 申請の理由や詳細',",
            "lineNumber": 16
          },
          {
            "text": "    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態: PENDING=申請中、APPROVED=承認済、REJECTED=却下',",
            "lineNumber": 17
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時: レコード作成日時（自動設定）',",
            "lineNumber": 18
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時: レコード更新日時（自動更新）',",
            "lineNumber": 19
          },
          {
            "text": "    PRIMARY KEY (APPLICATION_ID),",
            "lineNumber": 20
          },
          {
            "text": "    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,",
            "lineNumber": 21
          },
          {
            "text": "    INDEX IDX_EMP_TYPE (EMPLOYEE_ID, APPLICATION_TYPE),",
            "lineNumber": 22
          },
          {
            "text": "    INDEX IDX_TARGET_DATE (TARGET_START_DATE, TARGET_END_DATE),",
            "lineNumber": 23
          },
          {
            "text": "    INDEX IDX_APPROVAL (APPROVAL_STATUS)",
            "lineNumber": 24
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='申請履歴';",
            "lineNumber": 25
          }
        ]
      },
      "score": 0.37641671299934387
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\attendanceService.js",
        "range": {
          "startPosition": {
            "line": 333,
            "column": 2
          },
          "endPosition": {
            "line": 533,
            "column": 1
          }
        },
        "contents": "/**\n * 月間勤務表を取得する。\n *\n * @param {string} employeeId 従業員ID\n * @param {number} year 年\n * @param {number} month 月\n * @returns {Promise&lt;Object&gt;} 月間勤務表データ\n */\nconst getMonthlyAttendance = async (employeeId, year, month) =&gt; {\n  const { startDate, endDate } = getMonthRange(year, month);\n  const attendanceRows = await attendanceModel.getMonthlyAttendance(employeeId, startDate, endDate);\n\n  // 休日出勤申請を取得\n  const holidayWorkApplications = await applicationModel.getApplicationsByType(\n    employeeId,\n    'HOLIDAY_WORK',\n    startDate,\n    endDate\n  );\n  \n  // 各勤怠記録に対して休憩時間、公用外出、工数実績を取得\n  const dailyData = [];\n  for (const attendance of attendanceRows) {\n    const breakTimes = await breakTimeModel.getBreakTimes(attendance.ATTENDANCE_ID);\n    const officialOutings = await breakTimeModel.getOfficialOutings(attendance.ATTENDANCE_ID);\n    const workHours = await workHoursModel.getWorkHours(employeeId, normalizeDate(attendance.WORK_DATE));\n    \n    // 該当日の休日出勤申請を取得\n    const workDate = normalizeDate(attendance.WORK_DATE);\n    const holidayWorkApp = holidayWorkApplications.find(app =&gt; {\n      const appStartDate = normalizeDate(app.TARGET_START_DATE);\n      const appEndDate = normalizeDate(app.TARGET_END_DATE);\n      return workDate &gt;= appStartDate &amp;&amp; workDate &lt;= appEndDate &amp;&amp; \n             (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED');\n    });\n    \n    dailyData.push({\n      ...attendance,\n      WORK_DATE: normalizeDate(attendance.WORK_DATE),\n      breakTimes,\n      officialOutings,\n      workHours,\n      holidayWorkApplication: holidayWorkApp || null\n    });\n  }\n  \n  // 勤怠記録がない日付にも休日出勤申請の情報を追加\n  const daysInMonth = new Date(year, month, 0).getDate();\n  const existingDates = new Set(dailyData.map(d =&gt; d.WORK_DATE));\n  \n  for (let day = 1; day &lt;= daysInMonth; day++) {\n    const dateStr = &#96;${year}&#96;;\n  }\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 336
          },
          {
            "text": " * 月間勤務表を取得する。",
            "lineNumber": 337
          },
          {
            "text": " *",
            "lineNumber": 338
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 339
          },
          {
            "text": " * @param {number} year 年",
            "lineNumber": 340
          },
          {
            "text": " * @param {number} month 月",
            "lineNumber": 341
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 月間勤務表データ",
            "lineNumber": 342
          },
          {
            "text": " */",
            "lineNumber": 343
          },
          {
            "text": "const getMonthlyAttendance = async (employeeId, year, month) =&gt; {",
            "lineNumber": 344
          },
          {
            "text": "  const { startDate, endDate } = getMonthRange(year, month);",
            "lineNumber": 345
          },
          {
            "text": "  const attendanceRows = await attendanceModel.getMonthlyAttendance(employeeId, startDate, endDate);",
            "lineNumber": 346
          },
          {
            "lineNumber": 347
          },
          {
            "text": "  // 休日出勤申請を取得",
            "lineNumber": 348
          },
          {
            "text": "  const holidayWorkApplications = await applicationModel.getApplicationsByType(",
            "lineNumber": 349
          },
          {
            "text": "    employeeId,",
            "lineNumber": 350
          },
          {
            "text": "    'HOLIDAY_WORK',",
            "lineNumber": 351
          },
          {
            "text": "    startDate,",
            "lineNumber": 352
          },
          {
            "text": "    endDate",
            "lineNumber": 353
          },
          {
            "text": "  );",
            "lineNumber": 354
          },
          {
            "text": "  ",
            "lineNumber": 355
          },
          {
            "text": "  // 各勤怠記録に対して休憩時間、公用外出、工数実績を取得",
            "lineNumber": 356
          },
          {
            "text": "  const dailyData = [];",
            "lineNumber": 357
          },
          {
            "text": "  for (const attendance of attendanceRows) {",
            "lineNumber": 358
          },
          {
            "text": "    const breakTimes = await breakTimeModel.getBreakTimes(attendance.ATTENDANCE_ID);",
            "lineNumber": 359
          },
          {
            "text": "    const officialOutings = await breakTimeModel.getOfficialOutings(attendance.ATTENDANCE_ID);",
            "lineNumber": 360
          },
          {
            "text": "    const workHours = await workHoursModel.getWorkHours(employeeId, normalizeDate(attendance.WORK_DATE));",
            "lineNumber": 361
          },
          {
            "text": "    ",
            "lineNumber": 362
          },
          {
            "text": "    // 該当日の休日出勤申請を取得",
            "lineNumber": 363
          },
          {
            "text": "    const workDate = normalizeDate(attendance.WORK_DATE);",
            "lineNumber": 364
          },
          {
            "text": "    const holidayWorkApp = holidayWorkApplications.find(app =&gt; {",
            "lineNumber": 365
          },
          {
            "text": "      const appStartDate = normalizeDate(app.TARGET_START_DATE);",
            "lineNumber": 366
          },
          {
            "text": "      const appEndDate = normalizeDate(app.TARGET_END_DATE);",
            "lineNumber": 367
          },
          {
            "text": "      return workDate &gt;= appStartDate &amp;&amp; workDate &lt;= appEndDate &amp;&amp; ",
            "lineNumber": 368
          },
          {
            "text": "             (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED');",
            "lineNumber": 369
          },
          {
            "text": "    });",
            "lineNumber": 370
          },
          {
            "text": "    ",
            "lineNumber": 371
          },
          {
            "text": "    dailyData.push({",
            "lineNumber": 372
          },
          {
            "text": "      ...attendance,",
            "lineNumber": 373
          },
          {
            "text": "      WORK_DATE: normalizeDate(attendance.WORK_DATE),",
            "lineNumber": 374
          },
          {
            "text": "      breakTimes,",
            "lineNumber": 375
          },
          {
            "text": "      officialOutings,",
            "lineNumber": 376
          },
          {
            "text": "      workHours,",
            "lineNumber": 377
          },
          {
            "text": "      holidayWorkApplication: holidayWorkApp || null",
            "lineNumber": 378
          },
          {
            "text": "    });",
            "lineNumber": 379
          },
          {
            "text": "  }",
            "lineNumber": 380
          },
          {
            "text": "  ",
            "lineNumber": 381
          },
          {
            "text": "  // 勤怠記録がない日付にも休日出勤申請の情報を追加",
            "lineNumber": 382
          },
          {
            "text": "  const daysInMonth = new Date(year, month, 0).getDate();",
            "lineNumber": 383
          },
          {
            "text": "  const existingDates = new Set(dailyData.map(d =&gt; d.WORK_DATE));",
            "lineNumber": 384
          },
          {
            "text": "  ",
            "lineNumber": 385
          },
          {
            "text": "  for (let day = 1; day &lt;= daysInMonth; day++) {",
            "lineNumber": 386
          },
          {
            "text": "    const dateStr = &#96;${year}&#96;;",
            "lineNumber": 387
          },
          {
            "text": "  }",
            "lineNumber": 410
          },
          {
            "text": ";",
            "lineNumber": 534
          }
        ]
      },
      "score": 0.37357795238494873
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 756
          },
          "endPosition": {
            "line": 802,
            "column": 8
          }
        },
        "contents": "                          &lt;th&gt;コメント&lt;/th&gt;\n                        &lt;/tr&gt;\n                      &lt;/thead&gt;\n                      &lt;tbody&gt;\n                        &lt;tr v-for=\"(history, index) in applicationInfo.earlyWork.approvalHistory\" :key=\"index\"&gt;\n                          &lt;td&gt;{{ history.seqNo }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.actionDateTime }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.status }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.actorName }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.comment || '' }}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr v-if=\"applicationInfo.earlyWork.approvalHistory.length === 0\"&gt;\n                          &lt;td colspan=\"5\" class=\"no-history\"&gt;承認履歴はありません&lt;/td&gt;\n                        &lt;/tr&gt;\n                      &lt;/tbody&gt;\n                    &lt;/table&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('earlyWork')\" \n                class=\"submit-button\" \n                @click=\"submitEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('earlyWork')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('earlyWork') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 振替申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                          &lt;th&gt;コメント&lt;/th&gt;",
            "lineNumber": 757
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 758
          },
          {
            "text": "                      &lt;/thead&gt;",
            "lineNumber": 759
          },
          {
            "text": "                      &lt;tbody&gt;",
            "lineNumber": 760
          },
          {
            "text": "                        &lt;tr v-for=\"(history, index) in applicationInfo.earlyWork.approvalHistory\" :key=\"index\"&gt;",
            "lineNumber": 761
          },
          {
            "text": "                          &lt;td&gt;{{ history.seqNo }}&lt;/td&gt;",
            "lineNumber": 762
          },
          {
            "text": "                          &lt;td&gt;{{ history.actionDateTime }}&lt;/td&gt;",
            "lineNumber": 763
          },
          {
            "text": "                          &lt;td&gt;{{ history.status }}&lt;/td&gt;",
            "lineNumber": 764
          },
          {
            "text": "                          &lt;td&gt;{{ history.actorName }}&lt;/td&gt;",
            "lineNumber": 765
          },
          {
            "text": "                          &lt;td&gt;{{ history.comment || '' }}&lt;/td&gt;",
            "lineNumber": 766
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 767
          },
          {
            "text": "                        &lt;tr v-if=\"applicationInfo.earlyWork.approvalHistory.length === 0\"&gt;",
            "lineNumber": 768
          },
          {
            "text": "                          &lt;td colspan=\"5\" class=\"no-history\"&gt;承認履歴はありません&lt;/td&gt;",
            "lineNumber": 769
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 770
          },
          {
            "text": "                      &lt;/tbody&gt;",
            "lineNumber": 771
          },
          {
            "text": "                    &lt;/table&gt;",
            "lineNumber": 772
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 773
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 774
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 775
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 776
          },
          {
            "text": "            ",
            "lineNumber": 777
          },
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 778
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 779
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 780
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 781
          },
          {
            "text": "                @click=\"submitEarlyWorkApplication\"",
            "lineNumber": 782
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 783
          },
          {
            "text": "              &gt;",
            "lineNumber": 784
          },
          {
            "text": "                承認申請",
            "lineNumber": 785
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 786
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 787
          },
          {
            "text": "                v-if=\"isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 788
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 789
          },
          {
            "text": "                @click=\"cancelEarlyWorkApplication\"",
            "lineNumber": 790
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 791
          },
          {
            "text": "              &gt;",
            "lineNumber": 792
          },
          {
            "text": "                {{ getCancelButtonLabel('earlyWork') }}",
            "lineNumber": 793
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 794
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 795
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 796
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 797
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 798
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 799
          },
          {
            "text": "      ",
            "lineNumber": 800
          },
          {
            "text": "      &lt;!-- 振替申請フォーム --&gt;",
            "lineNumber": 801
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;",
            "lineNumber": 802
          },
          {
            "text": "        ",
            "lineNumber": 803
          }
        ]
      },
      "score": 0.37219715118408203
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 211
          },
          "endPosition": {
            "line": 230
          }
        },
        "contents": "| 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |\n| 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |\n| 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | ATTENDANCE_RECORD.REMARK_TEXT |\n| 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIMEテーブルから取得 |\n| 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩開始時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_START_TIME |\n| 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩終了時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_END_TIME |\n| 20 | 申請状態 | 文字 | 正常 | | 各申請タイプの申請状態（NOT_SUBMITTED/PENDING/APPROVED/REJECTED）。申請中または承認済みの場合に申請取消ボタンを表示 |\n| 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定申請状態 | 文字 | 正常 | | ATTENDANCE_RECORD.APPROVAL_STATUS |\n| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請状態 | 文字 | 正常 | | VACATION_HISTORY.APPROVAL_STATUS |\n| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='HOLIDAY_WORK'） |\n| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='OVERTIME'） |\n| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='EARLY_WORK'） |\n| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='TRANSFER'） |\n| 27 | 月次申請状態 | 文字 | 正常 | | 月次確定申請の状態（NOT_SUBMITTED/PENDING/APPROVED）。月次申請を行っている場合、日次申請の取り消しはできない |\n| 28 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |\n\n## イベント処理説明\n\n#### 名称：初期表示処理、英名：initializeScreen、処理タイミング：-",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |",
            "lineNumber": 212
          },
          {
            "text": "| 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |",
            "lineNumber": 213
          },
          {
            "text": "| 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | ATTENDANCE_RECORD.REMARK_TEXT |",
            "lineNumber": 214
          },
          {
            "text": "| 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIMEテーブルから取得 |",
            "lineNumber": 215
          },
          {
            "text": "| 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩開始時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_START_TIME |",
            "lineNumber": 216
          },
          {
            "text": "| 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩終了時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_END_TIME |",
            "lineNumber": 217
          },
          {
            "text": "| 20 | 申請状態 | 文字 | 正常 | | 各申請タイプの申請状態（NOT_SUBMITTED/PENDING/APPROVED/REJECTED）。申請中または承認済みの場合に申請取消ボタンを表示 |",
            "lineNumber": 218
          },
          {
            "text": "| 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定申請状態 | 文字 | 正常 | | ATTENDANCE_RECORD.APPROVAL_STATUS |",
            "lineNumber": 219
          },
          {
            "text": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請状態 | 文字 | 正常 | | VACATION_HISTORY.APPROVAL_STATUS |",
            "lineNumber": 220
          },
          {
            "text": "| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='HOLIDAY_WORK'） |",
            "lineNumber": 221
          },
          {
            "text": "| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='OVERTIME'） |",
            "lineNumber": 222
          },
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='EARLY_WORK'） |",
            "lineNumber": 223
          },
          {
            "text": "| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='TRANSFER'） |",
            "lineNumber": 224
          },
          {
            "text": "| 27 | 月次申請状態 | 文字 | 正常 | | 月次確定申請の状態（NOT_SUBMITTED/PENDING/APPROVED）。月次申請を行っている場合、日次申請の取り消しはできない |",
            "lineNumber": 225
          },
          {
            "text": "| 28 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |",
            "lineNumber": 226
          },
          {
            "lineNumber": 227
          },
          {
            "text": "## イベント処理説明",
            "lineNumber": 228
          },
          {
            "lineNumber": 229
          },
          {
            "text": "#### 名称：初期表示処理、英名：initializeScreen、処理タイミング：-",
            "lineNumber": 230
          }
        ]
      },
      "score": 0.3689347505569458
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 52,
            "column": 3
          }
        },
        "contents": "/**\n * 申請モデル\n */\nconst db = require('../config/database');\n\n/**\n * 休暇申請を作成\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst createVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo,\n    approvalStatus,\n    createdAt,\n    updatedAt\n  } = vacationData;\n  \n  const query = &#96;\n    INSERT INTO VACATION_HISTORY \n    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n  &#96;;\n  \n  const [result] = await db.execute(query, [\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason || null,\n    contactInfo || null,\n    approvalStatus || 'PENDING',\n    createdAt,\n    updatedAt\n  ]);\n  \n  return result.insertId;\n};\n\n/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請モデル",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const db = require('../config/database');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請を作成",
            "lineNumber": 7
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 8
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 9
          },
          {
            "text": " */",
            "lineNumber": 10
          },
          {
            "text": "const createVacation = async (vacationData) =&gt; {",
            "lineNumber": 11
          },
          {
            "text": "  const {",
            "lineNumber": 12
          },
          {
            "text": "    employeeId,",
            "lineNumber": 13
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 14
          },
          {
            "text": "    startDate,",
            "lineNumber": 15
          },
          {
            "text": "    endDate,",
            "lineNumber": 16
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contactInfo,",
            "lineNumber": 19
          },
          {
            "text": "    approvalStatus,",
            "lineNumber": 20
          },
          {
            "text": "    createdAt,",
            "lineNumber": 21
          },
          {
            "text": "    updatedAt",
            "lineNumber": 22
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 25
          },
          {
            "text": "    INSERT INTO VACATION_HISTORY ",
            "lineNumber": 26
          },
          {
            "text": "    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)",
            "lineNumber": 27
          },
          {
            "text": "    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
            "lineNumber": 28
          },
          {
            "text": "  &#96;;",
            "lineNumber": 29
          },
          {
            "text": "  ",
            "lineNumber": 30
          },
          {
            "text": "  const [result] = await db.execute(query, [",
            "lineNumber": 31
          },
          {
            "text": "    employeeId,",
            "lineNumber": 32
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 33
          },
          {
            "text": "    startDate,",
            "lineNumber": 34
          },
          {
            "text": "    endDate,",
            "lineNumber": 35
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 36
          },
          {
            "text": "    reason || null,",
            "lineNumber": 37
          },
          {
            "text": "    contactInfo || null,",
            "lineNumber": 38
          },
          {
            "text": "    approvalStatus || 'PENDING',",
            "lineNumber": 39
          },
          {
            "text": "    createdAt,",
            "lineNumber": 40
          },
          {
            "text": "    updatedAt",
            "lineNumber": 41
          },
          {
            "text": "  ]);",
            "lineNumber": 42
          },
          {
            "text": "  ",
            "lineNumber": 43
          },
          {
            "text": "  return result.insertId;",
            "lineNumber": 44
          },
          {
            "text": "};",
            "lineNumber": 45
          },
          {
            "lineNumber": 46
          },
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          }
        ]
      },
      "score": 0.36587440967559814
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1390
          },
          "endPosition": {
            "line": 1441
          }
        },
        "contents": "          }\n        }\n        \n        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定\n        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {\n          holidayWorkBreakHours = 1.0\n        }\n        \n        displayData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          hasStampManualMismatch: hasStampManualMismatch,\n          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',\n          clockIn: clockIn,\n          clockOut: clockOut,\n          clockInType: clockInType,\n          clockOutType: clockOutType,\n          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',\n          workHours: formatWorkHours(totalWorkHours),\n          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,\n          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,\n          isHoliday: holiday,\n          hasVacation: false, // TODO: 休暇データから判定\n          attendanceId: apiRecord?.ATTENDANCE_ID,\n          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,\n          breakTimes: breakTimes,\n          hasHolidayWorkApplication: hasHolidayWorkApplication,\n          holidayWorkApplicationStatus: holidayWorkApplicationStatus,\n          holidayWorkStartTime: holidayWorkStartTime,\n          holidayWorkEndTime: holidayWorkEndTime,\n          holidayWorkBreakHours: holidayWorkBreakHours,\n          remarkText: (() =&gt; {\n            if (apiRecord?.REMARK_TEXT !== null &amp;&amp; apiRecord?.REMARK_TEXT !== undefined) {\n              return String(apiRecord.REMARK_TEXT)\n            }\n\n            return ''\n          })()\n        })\n      }\n\n      return displayData\n    },\n\n    // 年月変更処理（テーブル上部）\n    async changeYearMonthTable() {\n      this.loading = true",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          }",
            "lineNumber": 1391
          },
          {
            "text": "        }",
            "lineNumber": 1392
          },
          {
            "text": "        ",
            "lineNumber": 1393
          },
          {
            "text": "        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定",
            "lineNumber": 1394
          },
          {
            "text": "        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {",
            "lineNumber": 1395
          },
          {
            "text": "          holidayWorkBreakHours = 1.0",
            "lineNumber": 1396
          },
          {
            "text": "        }",
            "lineNumber": 1397
          },
          {
            "text": "        ",
            "lineNumber": 1398
          },
          {
            "text": "        displayData.push({",
            "lineNumber": 1399
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1400
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1401
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1402
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1403
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1404
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1405
          },
          {
            "text": "          hasStampManualMismatch: hasStampManualMismatch,",
            "lineNumber": 1406
          },
          {
            "text": "          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',",
            "lineNumber": 1407
          },
          {
            "text": "          clockIn: clockIn,",
            "lineNumber": 1408
          },
          {
            "text": "          clockOut: clockOut,",
            "lineNumber": 1409
          },
          {
            "text": "          clockInType: clockInType,",
            "lineNumber": 1410
          },
          {
            "text": "          clockOutType: clockOutType,",
            "lineNumber": 1411
          },
          {
            "text": "          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',",
            "lineNumber": 1412
          },
          {
            "text": "          workHours: formatWorkHours(totalWorkHours),",
            "lineNumber": 1413
          },
          {
            "text": "          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,",
            "lineNumber": 1414
          },
          {
            "text": "          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,",
            "lineNumber": 1415
          },
          {
            "text": "          isHoliday: holiday,",
            "lineNumber": 1416
          },
          {
            "text": "          hasVacation: false, // TODO: 休暇データから判定",
            "lineNumber": 1417
          },
          {
            "text": "          attendanceId: apiRecord?.ATTENDANCE_ID,",
            "lineNumber": 1418
          },
          {
            "text": "          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,",
            "lineNumber": 1419
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1420
          },
          {
            "text": "          hasHolidayWorkApplication: hasHolidayWorkApplication,",
            "lineNumber": 1421
          },
          {
            "text": "          holidayWorkApplicationStatus: holidayWorkApplicationStatus,",
            "lineNumber": 1422
          },
          {
            "text": "          holidayWorkStartTime: holidayWorkStartTime,",
            "lineNumber": 1423
          },
          {
            "text": "          holidayWorkEndTime: holidayWorkEndTime,",
            "lineNumber": 1424
          },
          {
            "text": "          holidayWorkBreakHours: holidayWorkBreakHours,",
            "lineNumber": 1425
          },
          {
            "text": "          remarkText: (() =&gt; {",
            "lineNumber": 1426
          },
          {
            "text": "            if (apiRecord?.REMARK_TEXT !== null &amp;&amp; apiRecord?.REMARK_TEXT !== undefined) {",
            "lineNumber": 1427
          },
          {
            "text": "              return String(apiRecord.REMARK_TEXT)",
            "lineNumber": 1428
          },
          {
            "text": "            }",
            "lineNumber": 1429
          },
          {
            "lineNumber": 1430
          },
          {
            "text": "            return ''",
            "lineNumber": 1431
          },
          {
            "text": "          })()",
            "lineNumber": 1432
          },
          {
            "text": "        })",
            "lineNumber": 1433
          },
          {
            "text": "      }",
            "lineNumber": 1434
          },
          {
            "lineNumber": 1435
          },
          {
            "text": "      return displayData",
            "lineNumber": 1436
          },
          {
            "text": "    },",
            "lineNumber": 1437
          },
          {
            "lineNumber": 1438
          },
          {
            "text": "    // 年月変更処理（テーブル上部）",
            "lineNumber": 1439
          },
          {
            "text": "    async changeYearMonthTable() {",
            "lineNumber": 1440
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 1441
          }
        ]
      },
      "score": 0.36579036712646484
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 211
          },
          "endPosition": {
            "line": 235
          }
        },
        "contents": "| **SCHEDULED_WORK_HOURS** | DECIMAL(5,2) | NULL | &#96;8.00&#96; | 所定労働時間（時間単位）。通常は8時間。例: &#96;8.00&#96;=8時間 |\n| **OVERTIME_HOURS** | DECIMAL(5,2) | NULL | &#96;0&#96; | 残業時間（時間単位）。実労働時間が所定労働時間を超えた分。例: &#96;0.50&#96;=30分残業 |\n| **NIGHT_WORK_HOURS** | DECIMAL(5,2) | NULL | &#96;0&#96; | 深夜労働時間（時間単位）。22時〜5時の労働時間。例: &#96;2.00&#96;=2時間 |\n| **HOLIDAY_WORK_HOURS** | DECIMAL(5,2) | NULL | &#96;0&#96; | 休日労働時間（時間単位）。法定休日に働いた時間。例: &#96;8.00&#96;=8時間 |\n| **IS_DAILY_CONFIRMED** | BOOLEAN | NULL | &#96;FALSE&#96; | 日次確定フラグ。&#96;TRUE&#96;=その日の勤怠を確定申請済み。日次確定ボタンで変更されます。 |\n| **DAILY_CONFIRMED_AT** | DATETIME | NULL | - | 日次確定日時。いつ確定申請したか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |\n| **IS_MONTHLY_CONFIRMED** | BOOLEAN | NULL | &#96;FALSE&#96; | 月次確定フラグ。&#96;TRUE&#96;=月次の勤怠を確定申請済み。 |\n| **MONTHLY_CONFIRMED_AT** | DATETIME | NULL | - | 月次確定日時。いつ月次確定申請したか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |\n| **APPROVAL_STATUS** | VARCHAR(20) | NULL | &#96;NOT_SUBMITTED&#96; | 承認状態。&#96;NOT_SUBMITTED&#96;=未申請、&#96;PENDING&#96;=申請中、&#96;APPROVED&#96;=承認済、&#96;REJECTED&#96;=却下 |\n| **REMARK_TEXT** | TEXT | NULL | - | 備考内容。打刻できなかった理由やその他の備考を記入します。手入力の場合は必須入力。 |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n**重要な制約:**\n- 1人の従業員は1日1レコードのみ（&#96;EMPLOYEE_ID&#96; + &#96;WORK_DATE&#96;でユニーク）\n- 日次確定申請には勤務場所の入力が必須\n\n---\n\n### 7. 休憩時間 (BREAK_TIME)\n\n1日の勤怠記録に紐づく複数の休憩時間帯を記録するテーブルです。1つの勤怠記録に対して複数レコード（休憩1、休憩2、休憩3など）が存在します。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| **SCHEDULED_WORK_HOURS** | DECIMAL(5,2) | NULL | &#96;8.00&#96; | 所定労働時間（時間単位）。通常は8時間。例: &#96;8.00&#96;=8時間 |",
            "lineNumber": 212
          },
          {
            "text": "| **OVERTIME_HOURS** | DECIMAL(5,2) | NULL | &#96;0&#96; | 残業時間（時間単位）。実労働時間が所定労働時間を超えた分。例: &#96;0.50&#96;=30分残業 |",
            "lineNumber": 213
          },
          {
            "text": "| **NIGHT_WORK_HOURS** | DECIMAL(5,2) | NULL | &#96;0&#96; | 深夜労働時間（時間単位）。22時〜5時の労働時間。例: &#96;2.00&#96;=2時間 |",
            "lineNumber": 214
          },
          {
            "text": "| **HOLIDAY_WORK_HOURS** | DECIMAL(5,2) | NULL | &#96;0&#96; | 休日労働時間（時間単位）。法定休日に働いた時間。例: &#96;8.00&#96;=8時間 |",
            "lineNumber": 215
          },
          {
            "text": "| **IS_DAILY_CONFIRMED** | BOOLEAN | NULL | &#96;FALSE&#96; | 日次確定フラグ。&#96;TRUE&#96;=その日の勤怠を確定申請済み。日次確定ボタンで変更されます。 |",
            "lineNumber": 216
          },
          {
            "text": "| **DAILY_CONFIRMED_AT** | DATETIME | NULL | - | 日次確定日時。いつ確定申請したか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |",
            "lineNumber": 217
          },
          {
            "text": "| **IS_MONTHLY_CONFIRMED** | BOOLEAN | NULL | &#96;FALSE&#96; | 月次確定フラグ。&#96;TRUE&#96;=月次の勤怠を確定申請済み。 |",
            "lineNumber": 218
          },
          {
            "text": "| **MONTHLY_CONFIRMED_AT** | DATETIME | NULL | - | 月次確定日時。いつ月次確定申請したか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |",
            "lineNumber": 219
          },
          {
            "text": "| **APPROVAL_STATUS** | VARCHAR(20) | NULL | &#96;NOT_SUBMITTED&#96; | 承認状態。&#96;NOT_SUBMITTED&#96;=未申請、&#96;PENDING&#96;=申請中、&#96;APPROVED&#96;=承認済、&#96;REJECTED&#96;=却下 |",
            "lineNumber": 220
          },
          {
            "text": "| **REMARK_TEXT** | TEXT | NULL | - | 備考内容。打刻できなかった理由やその他の備考を記入します。手入力の場合は必須入力。 |",
            "lineNumber": 221
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 222
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 223
          },
          {
            "lineNumber": 224
          },
          {
            "text": "**重要な制約:**",
            "lineNumber": 225
          },
          {
            "text": "- 1人の従業員は1日1レコードのみ（&#96;EMPLOYEE_ID&#96; + &#96;WORK_DATE&#96;でユニーク）",
            "lineNumber": 226
          },
          {
            "text": "- 日次確定申請には勤務場所の入力が必須",
            "lineNumber": 227
          },
          {
            "lineNumber": 228
          },
          {
            "text": "---",
            "lineNumber": 229
          },
          {
            "lineNumber": 230
          },
          {
            "text": "### 7. 休憩時間 (BREAK_TIME)",
            "lineNumber": 231
          },
          {
            "lineNumber": 232
          },
          {
            "text": "1日の勤怠記録に紐づく複数の休憩時間帯を記録するテーブルです。1つの勤怠記録に対して複数レコード（休憩1、休憩2、休憩3など）が存在します。",
            "lineNumber": 233
          },
          {
            "lineNumber": 234
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 235
          }
        ]
      },
      "score": 0.365494966506958
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 867
          },
          "endPosition": {
            "line": 884
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;深夜労働時間 | ATTENDANCE_RECORD.NIGHT_WORK_HOURS | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日労働時間 | ATTENDANCE_RECORD.HOLIDAY_WORK_HOURS | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定フラグ | ATTENDANCE_RECORD.IS_DAILY_CONFIRMED | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定日時 | ATTENDANCE_RECORD.DAILY_CONFIRMED_AT | YYYY-MM-DD HH:MM:SS形式 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ATTENDANCE_RECORD.REMARK_TEXT | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | BREAK_TIME | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;公用外出リスト | OFFICIAL_OUTING | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数実績リスト | WORK_HOURS | |\n  | 月次サマリーデータ | 月間集計データ | JSON形式 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定出勤日数 | 月間の所定出勤日数 | 整数 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実出勤日数 | 月間の実出勤日数（出勤時刻と退勤時刻が両方記録されている日数） | 整数（例: 4） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 月間の所定労働時間 | HHH:MM形式（例: 150:00） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 月間の総労働時間 | HHH:MM形式（例: 70:01） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;過不足時間 | 過不足時間 | +/-H:MM形式（例: +2:31）。計算方法: 前日までの実作業時間 - (前日までの想定出勤日数 * 7:30)。当日退勤済みの場合は当日まで、退勤していない場合は前日までの過不足時間 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日労働 | 法定休日の労働時間 | H:MM形式（例: 0:00） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 法定時間内の残業時間 | H:MM形式（例: 0:00）。所定労働時間（7.5時間/日）を超えて法定労働時間（8時間/日）以内の残業時間。計算方法: 実作業時間が所定労働時間を超えている場合、その超過分のうち法定労働時間（所定出勤日数 * 8:00）以内の部分。max(0, min(実作業時間 - 所定労働時間, (所定出勤日数 * 8:00) - 所定労働時間)) |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 法定時間外の残業時間 | H:MM形式（例: 0:00）。法定労働時間（8時間/日）を超えた残業時間。計算方法: 実作業時間が法定労働時間（所定出勤日数 * 8:00）を超えた部分。max(0, 実作業時間 - (所定出勤日数 * 8:00)) |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;深夜労働時間 | ATTENDANCE_RECORD.NIGHT_WORK_HOURS | |",
            "lineNumber": 868
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日労働時間 | ATTENDANCE_RECORD.HOLIDAY_WORK_HOURS | |",
            "lineNumber": 869
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定フラグ | ATTENDANCE_RECORD.IS_DAILY_CONFIRMED | |",
            "lineNumber": 870
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定日時 | ATTENDANCE_RECORD.DAILY_CONFIRMED_AT | YYYY-MM-DD HH:MM:SS形式 |",
            "lineNumber": 871
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ATTENDANCE_RECORD.REMARK_TEXT | |",
            "lineNumber": 872
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | BREAK_TIME | |",
            "lineNumber": 873
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;公用外出リスト | OFFICIAL_OUTING | |",
            "lineNumber": 874
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数実績リスト | WORK_HOURS | |",
            "lineNumber": 875
          },
          {
            "text": "  | 月次サマリーデータ | 月間集計データ | JSON形式 |",
            "lineNumber": 876
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定出勤日数 | 月間の所定出勤日数 | 整数 |",
            "lineNumber": 877
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実出勤日数 | 月間の実出勤日数（出勤時刻と退勤時刻が両方記録されている日数） | 整数（例: 4） |",
            "lineNumber": 878
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 月間の所定労働時間 | HHH:MM形式（例: 150:00） |",
            "lineNumber": 879
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 月間の総労働時間 | HHH:MM形式（例: 70:01） |",
            "lineNumber": 880
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;過不足時間 | 過不足時間 | +/-H:MM形式（例: +2:31）。計算方法: 前日までの実作業時間 - (前日までの想定出勤日数 * 7:30)。当日退勤済みの場合は当日まで、退勤していない場合は前日までの過不足時間 |",
            "lineNumber": 881
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日労働 | 法定休日の労働時間 | H:MM形式（例: 0:00） |",
            "lineNumber": 882
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 法定時間内の残業時間 | H:MM形式（例: 0:00）。所定労働時間（7.5時間/日）を超えて法定労働時間（8時間/日）以内の残業時間。計算方法: 実作業時間が所定労働時間を超えている場合、その超過分のうち法定労働時間（所定出勤日数 * 8:00）以内の部分。max(0, min(実作業時間 - 所定労働時間, (所定出勤日数 * 8:00) - 所定労働時間)) |",
            "lineNumber": 883
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 法定時間外の残業時間 | H:MM形式（例: 0:00）。法定労働時間（8時間/日）を超えた残業時間。計算方法: 実作業時間が法定労働時間（所定出勤日数 * 8:00）を超えた部分。max(0, 実作業時間 - (所定出勤日数 * 8:00)) |",
            "lineNumber": 884
          }
        ]
      },
      "score": 0.3638482689857483
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2311
          },
          "endPosition": {
            "line": 2347
          }
        },
        "contents": "      try {\n        const response = await fetch('http://localhost:3000/api/application/holiday-work', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            employeeId: this.employeeId,\n            workDate: this.targetDate,\n            startTime: this.holidayWorkForm.startTime,\n            endTime: this.holidayWorkForm.endTime,\n            breakHours: this.holidayWorkForm.breakHours,\n            reason: this.holidayWorkForm.reason\n          })\n        })\n        \n        const data = await response.json()\n        \n        if (data.success) {\n          // 休日出勤申請状態を更新\n          this.hasHolidayWorkApplication = true\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(data.message || '休日出勤申請に失敗しました')\n        }\n      } catch (error) {\n        console.error('休日出勤申請エラー:', error)\n        this.showError('休日出勤申請中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    async submitOvertimeApplication() {\n      // バリデーション",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      try {",
            "lineNumber": 2312
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/application/holiday-work', {",
            "lineNumber": 2313
          },
          {
            "text": "          method: 'POST',",
            "lineNumber": 2314
          },
          {
            "text": "          headers: {",
            "lineNumber": 2315
          },
          {
            "text": "            'Content-Type': 'application/json'",
            "lineNumber": 2316
          },
          {
            "text": "          },",
            "lineNumber": 2317
          },
          {
            "text": "          body: JSON.stringify({",
            "lineNumber": 2318
          },
          {
            "text": "            employeeId: this.employeeId,",
            "lineNumber": 2319
          },
          {
            "text": "            workDate: this.targetDate,",
            "lineNumber": 2320
          },
          {
            "text": "            startTime: this.holidayWorkForm.startTime,",
            "lineNumber": 2321
          },
          {
            "text": "            endTime: this.holidayWorkForm.endTime,",
            "lineNumber": 2322
          },
          {
            "text": "            breakHours: this.holidayWorkForm.breakHours,",
            "lineNumber": 2323
          },
          {
            "text": "            reason: this.holidayWorkForm.reason",
            "lineNumber": 2324
          },
          {
            "text": "          })",
            "lineNumber": 2325
          },
          {
            "text": "        })",
            "lineNumber": 2326
          },
          {
            "text": "        ",
            "lineNumber": 2327
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 2328
          },
          {
            "text": "        ",
            "lineNumber": 2329
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 2330
          },
          {
            "text": "          // 休日出勤申請状態を更新",
            "lineNumber": 2331
          },
          {
            "text": "          this.hasHolidayWorkApplication = true",
            "lineNumber": 2332
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2333
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2334
          },
          {
            "text": "        } else {",
            "lineNumber": 2335
          },
          {
            "text": "          this.showError(data.message || '休日出勤申請に失敗しました')",
            "lineNumber": 2336
          },
          {
            "text": "        }",
            "lineNumber": 2337
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2338
          },
          {
            "text": "        console.error('休日出勤申請エラー:', error)",
            "lineNumber": 2339
          },
          {
            "text": "        this.showError('休日出勤申請中にエラーが発生しました')",
            "lineNumber": 2340
          },
          {
            "text": "      } finally {",
            "lineNumber": 2341
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2342
          },
          {
            "text": "      }",
            "lineNumber": 2343
          },
          {
            "text": "    },",
            "lineNumber": 2344
          },
          {
            "text": "    ",
            "lineNumber": 2345
          },
          {
            "text": "    async submitOvertimeApplication() {",
            "lineNumber": 2346
          },
          {
            "text": "      // バリデーション",
            "lineNumber": 2347
          }
        ]
      },
      "score": 0.35409191250801086
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1397
          },
          "endPosition": {
            "line": 1436
          }
        },
        "contents": "2. **手入力修正の判定**\n   - 元の出勤打刻時刻（ORIGINAL_CLOCK_IN_TIME）が存在し、現在の出勤時刻（CLOCK_IN_TIME）と異なる場合\n   - 元の退勤打刻時刻（ORIGINAL_CLOCK_OUT_TIME）が存在し、現在の退勤時刻（CLOCK_OUT_TIME）と異なる場合\n   - 表示内容:\n     - 出勤時刻修正: 「(出社打刻 HH:MM)」（例: (出社打刻 8:51)）\n     - 退勤時刻修正: 「(退社打刻 HH:MM)」（例: (退社打刻 18:30)）\n\n3. **表示スタイル**\n   - 背景色: 黄色（#FFFF00）\n   - 文字色: 黒色（#000000）\n   - 位置: top: 70px\n   - 複数の情報がある場合は「、」で区切って表示\n\n4. **動的レイアウト調整**\n   - 打刻漏れ・手入力修正情報が表示される場合:\n     - 備考入力欄の位置を下にずらす（top: 95px/97px）\n   - 打刻漏れ・手入力修正情報が表示されない場合:\n     - 備考入力欄を元の位置に配置（top: 78px/80px）\n\n#### 備考の保存\n登録ボタン押下時の処理：\n1. 入力された備考内容をバリデーション\n2. API経由で勤怠記録を更新（勤怠記録更新API No.5）\n3. 保存成功後、ダイアログを閉じる\n4. 月間勤務データを再取得して画面を更新\n\n### 休暇申請時の行の表示\n\n#### 休暇申請済み行の背景色\n- **背景色**: オレンジ色（#FFA500）\n  - **曜日に関係なく、常にオレンジ色で表示**\n  - 日曜日（#FFE8D9）、土曜日（#E8F5FF）、祝日（#E8F5FF）よりも優先\n- **曜日ラベルの色**: 元の曜日に応じた色を維持\n  - 日曜日の場合: #FF0000（赤色）\n  - 土曜日・祝日の場合: #0000FF（青色）\n  - 平日の場合: 黒色\n- **申請状況アイコン**: ↑マーク（申請中の場合）、✓チェックマーク（承認済みの場合）\n- **表示条件**: \n  - 有給休暇、特別休暇など、休暇種別が設定されている日",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. **手入力修正の判定**",
            "lineNumber": 1398
          },
          {
            "text": "   - 元の出勤打刻時刻（ORIGINAL_CLOCK_IN_TIME）が存在し、現在の出勤時刻（CLOCK_IN_TIME）と異なる場合",
            "lineNumber": 1399
          },
          {
            "text": "   - 元の退勤打刻時刻（ORIGINAL_CLOCK_OUT_TIME）が存在し、現在の退勤時刻（CLOCK_OUT_TIME）と異なる場合",
            "lineNumber": 1400
          },
          {
            "text": "   - 表示内容:",
            "lineNumber": 1401
          },
          {
            "text": "     - 出勤時刻修正: 「(出社打刻 HH:MM)」（例: (出社打刻 8:51)）",
            "lineNumber": 1402
          },
          {
            "text": "     - 退勤時刻修正: 「(退社打刻 HH:MM)」（例: (退社打刻 18:30)）",
            "lineNumber": 1403
          },
          {
            "lineNumber": 1404
          },
          {
            "text": "3. **表示スタイル**",
            "lineNumber": 1405
          },
          {
            "text": "   - 背景色: 黄色（#FFFF00）",
            "lineNumber": 1406
          },
          {
            "text": "   - 文字色: 黒色（#000000）",
            "lineNumber": 1407
          },
          {
            "text": "   - 位置: top: 70px",
            "lineNumber": 1408
          },
          {
            "text": "   - 複数の情報がある場合は「、」で区切って表示",
            "lineNumber": 1409
          },
          {
            "lineNumber": 1410
          },
          {
            "text": "4. **動的レイアウト調整**",
            "lineNumber": 1411
          },
          {
            "text": "   - 打刻漏れ・手入力修正情報が表示される場合:",
            "lineNumber": 1412
          },
          {
            "text": "     - 備考入力欄の位置を下にずらす（top: 95px/97px）",
            "lineNumber": 1413
          },
          {
            "text": "   - 打刻漏れ・手入力修正情報が表示されない場合:",
            "lineNumber": 1414
          },
          {
            "text": "     - 備考入力欄を元の位置に配置（top: 78px/80px）",
            "lineNumber": 1415
          },
          {
            "lineNumber": 1416
          },
          {
            "text": "#### 備考の保存",
            "lineNumber": 1417
          },
          {
            "text": "登録ボタン押下時の処理：",
            "lineNumber": 1418
          },
          {
            "text": "1. 入力された備考内容をバリデーション",
            "lineNumber": 1419
          },
          {
            "text": "2. API経由で勤怠記録を更新（勤怠記録更新API No.5）",
            "lineNumber": 1420
          },
          {
            "text": "3. 保存成功後、ダイアログを閉じる",
            "lineNumber": 1421
          },
          {
            "text": "4. 月間勤務データを再取得して画面を更新",
            "lineNumber": 1422
          },
          {
            "lineNumber": 1423
          },
          {
            "text": "### 休暇申請時の行の表示",
            "lineNumber": 1424
          },
          {
            "lineNumber": 1425
          },
          {
            "text": "#### 休暇申請済み行の背景色",
            "lineNumber": 1426
          },
          {
            "text": "- **背景色**: オレンジ色（#FFA500）",
            "lineNumber": 1427
          },
          {
            "text": "  - **曜日に関係なく、常にオレンジ色で表示**",
            "lineNumber": 1428
          },
          {
            "text": "  - 日曜日（#FFE8D9）、土曜日（#E8F5FF）、祝日（#E8F5FF）よりも優先",
            "lineNumber": 1429
          },
          {
            "text": "- **曜日ラベルの色**: 元の曜日に応じた色を維持",
            "lineNumber": 1430
          },
          {
            "text": "  - 日曜日の場合: #FF0000（赤色）",
            "lineNumber": 1431
          },
          {
            "text": "  - 土曜日・祝日の場合: #0000FF（青色）",
            "lineNumber": 1432
          },
          {
            "text": "  - 平日の場合: 黒色",
            "lineNumber": 1433
          },
          {
            "text": "- **申請状況アイコン**: ↑マーク（申請中の場合）、✓チェックマーク（承認済みの場合）",
            "lineNumber": 1434
          },
          {
            "text": "- **表示条件**: ",
            "lineNumber": 1435
          },
          {
            "text": "  - 有給休暇、特別休暇など、休暇種別が設定されている日",
            "lineNumber": 1436
          }
        ]
      },
      "score": 0.353041410446167
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 193
          },
          "endPosition": {
            "line": 213
          }
        },
        "contents": "| 3 | 申請タイプ | 入力 | 勤務表画面 | 文字 | 任意 | | 初期表示時に開く申請タイプ（日次確定、休暇申請など）。未指定の場合はメニュー画面を表示。申請中または承認済みのアイコンをクリックした場合は、該当する申請タイプのタブが開く |\n\n## その他の項目定義\n\n| No | 項目名 | ドメイン | 正常異常区分 | デフォルト値 | 備考 |\n| :----- | :----- | :----- | :----- | :----- | :----- |\n| 1 | 現在開いているタブ | オブジェクト | 正常 | | 現在開いている申請タイプのタブ情報。常に1つのタブのみが開く |\n| 2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブID | 文字 | 正常 | | タブの一意ID |\n| 3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプ | 文字 | 正常 | | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）。未選択時はNULL |\n| 4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請データ | オブジェクト | 正常 | | 各申請タイプの入力データ |\n| 6 | 休暇種別マスタ | リスト | 正常 | | VACATION_TYPEテーブルから取得した休暇種別マスタ |\n| 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別情報 | オブジェクト | 正常 | | 1つの休暇種別の情報 |\n| 8 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_CODE |\n| 9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_NAME |\n| 10 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | フラグ | 正常 | | VACATION_TYPE.IS_PAID |\n| 11 | 有給残日数 | 整数 | 正常 | | 年次有給休暇の残日数 |\n| 12 | 日次勤務データ | オブジェクト | 正常 | | 対象日付の勤務データ |\n| 13 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_IN_TIME |\n| 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |\n| 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 3 | 申請タイプ | 入力 | 勤務表画面 | 文字 | 任意 | | 初期表示時に開く申請タイプ（日次確定、休暇申請など）。未指定の場合はメニュー画面を表示。申請中または承認済みのアイコンをクリックした場合は、該当する申請タイプのタブが開く |",
            "lineNumber": 194
          },
          {
            "lineNumber": 195
          },
          {
            "text": "## その他の項目定義",
            "lineNumber": 196
          },
          {
            "lineNumber": 197
          },
          {
            "text": "| No | 項目名 | ドメイン | 正常異常区分 | デフォルト値 | 備考 |",
            "lineNumber": 198
          },
          {
            "text": "| :----- | :----- | :----- | :----- | :----- | :----- |",
            "lineNumber": 199
          },
          {
            "text": "| 1 | 現在開いているタブ | オブジェクト | 正常 | | 現在開いている申請タイプのタブ情報。常に1つのタブのみが開く |",
            "lineNumber": 200
          },
          {
            "text": "| 2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブID | 文字 | 正常 | | タブの一意ID |",
            "lineNumber": 201
          },
          {
            "text": "| 3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプ | 文字 | 正常 | | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）。未選択時はNULL |",
            "lineNumber": 202
          },
          {
            "text": "| 4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請データ | オブジェクト | 正常 | | 各申請タイプの入力データ |",
            "lineNumber": 203
          },
          {
            "text": "| 6 | 休暇種別マスタ | リスト | 正常 | | VACATION_TYPEテーブルから取得した休暇種別マスタ |",
            "lineNumber": 204
          },
          {
            "text": "| 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別情報 | オブジェクト | 正常 | | 1つの休暇種別の情報 |",
            "lineNumber": 205
          },
          {
            "text": "| 8 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_CODE |",
            "lineNumber": 206
          },
          {
            "text": "| 9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_NAME |",
            "lineNumber": 207
          },
          {
            "text": "| 10 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | フラグ | 正常 | | VACATION_TYPE.IS_PAID |",
            "lineNumber": 208
          },
          {
            "text": "| 11 | 有給残日数 | 整数 | 正常 | | 年次有給休暇の残日数 |",
            "lineNumber": 209
          },
          {
            "text": "| 12 | 日次勤務データ | オブジェクト | 正常 | | 対象日付の勤務データ |",
            "lineNumber": 210
          },
          {
            "text": "| 13 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_IN_TIME |",
            "lineNumber": 211
          },
          {
            "text": "| 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |",
            "lineNumber": 212
          },
          {
            "text": "| 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |",
            "lineNumber": 213
          }
        ]
      },
      "score": 0.35160839557647705
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 270
          },
          "endPosition": {
            "line": 291
          }
        },
        "contents": "CREATE TABLE APPLICATION_HISTORY (\n    APPLICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '申請ID: 主キー。申請履歴を一意に識別するID（自動採番）',\n    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID: 外部キー。どの従業員の申請か。EMPLOYEEテーブルを参照',\n    APPLICATION_TYPE VARCHAR(20) NOT NULL COMMENT '申請種別: HOLIDAY_WORK=休日出勤申請、OVERTIME=残業申請、EARLY_WORK=早朝勤務申請、TRANSFER=振替申請',\n    TARGET_START_DATE DATE NOT NULL COMMENT '対象開始日: 申請対象期間の開始日。形式YYYY-MM-DD',\n    TARGET_END_DATE DATE NOT NULL COMMENT '対象終了日: 申請対象期間の終了日。形式YYYY-MM-DD',\n    OVERTIME_HOURS DECIMAL(5,2) COMMENT '残業時間: 残業申請の場合の残業時間（時間単位）。例: 2.00=2時間',\n    REASON TEXT COMMENT '申請理由: 申請の理由や詳細',\n    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態: PENDING=申請中、APPROVED=承認済、REJECTED=却下',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時: レコード作成日時（自動設定）',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時: レコード更新日時（自動更新）',\n    PRIMARY KEY (APPLICATION_ID),\n    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,\n    INDEX IDX_EMP_TYPE (EMPLOYEE_ID, APPLICATION_TYPE),\n    INDEX IDX_TARGET_DATE (TARGET_START_DATE, TARGET_END_DATE),\n    INDEX IDX_APPROVAL (APPROVAL_STATUS)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='申請履歴';\n\n-- 14. 休暇取得履歴 (VACATION_HISTORY)\nCREATE TABLE VACATION_HISTORY (\n    VACATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇取得ID',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "CREATE TABLE APPLICATION_HISTORY (",
            "lineNumber": 271
          },
          {
            "text": "    APPLICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '申請ID: 主キー。申請履歴を一意に識別するID（自動採番）',",
            "lineNumber": 272
          },
          {
            "text": "    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID: 外部キー。どの従業員の申請か。EMPLOYEEテーブルを参照',",
            "lineNumber": 273
          },
          {
            "text": "    APPLICATION_TYPE VARCHAR(20) NOT NULL COMMENT '申請種別: HOLIDAY_WORK=休日出勤申請、OVERTIME=残業申請、EARLY_WORK=早朝勤務申請、TRANSFER=振替申請',",
            "lineNumber": 274
          },
          {
            "text": "    TARGET_START_DATE DATE NOT NULL COMMENT '対象開始日: 申請対象期間の開始日。形式YYYY-MM-DD',",
            "lineNumber": 275
          },
          {
            "text": "    TARGET_END_DATE DATE NOT NULL COMMENT '対象終了日: 申請対象期間の終了日。形式YYYY-MM-DD',",
            "lineNumber": 276
          },
          {
            "text": "    OVERTIME_HOURS DECIMAL(5,2) COMMENT '残業時間: 残業申請の場合の残業時間（時間単位）。例: 2.00=2時間',",
            "lineNumber": 277
          },
          {
            "text": "    REASON TEXT COMMENT '申請理由: 申請の理由や詳細',",
            "lineNumber": 278
          },
          {
            "text": "    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態: PENDING=申請中、APPROVED=承認済、REJECTED=却下',",
            "lineNumber": 279
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時: レコード作成日時（自動設定）',",
            "lineNumber": 280
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時: レコード更新日時（自動更新）',",
            "lineNumber": 281
          },
          {
            "text": "    PRIMARY KEY (APPLICATION_ID),",
            "lineNumber": 282
          },
          {
            "text": "    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,",
            "lineNumber": 283
          },
          {
            "text": "    INDEX IDX_EMP_TYPE (EMPLOYEE_ID, APPLICATION_TYPE),",
            "lineNumber": 284
          },
          {
            "text": "    INDEX IDX_TARGET_DATE (TARGET_START_DATE, TARGET_END_DATE),",
            "lineNumber": 285
          },
          {
            "text": "    INDEX IDX_APPROVAL (APPROVAL_STATUS)",
            "lineNumber": 286
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='申請履歴';",
            "lineNumber": 287
          },
          {
            "lineNumber": 288
          },
          {
            "text": "-- 14. 休暇取得履歴 (VACATION_HISTORY)",
            "lineNumber": 289
          },
          {
            "text": "CREATE TABLE VACATION_HISTORY (",
            "lineNumber": 290
          },
          {
            "text": "    VACATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇取得ID',",
            "lineNumber": 291
          }
        ]
      },
      "score": 0.3515898883342743
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\er-diagram.md",
        "range": {
          "startPosition": {
            "line": 128
          },
          "endPosition": {
            "line": 205
          }
        },
        "contents": "        datetime UPDATED_AT\n    }\n\n    OFFICIAL_OUTING {\n        int OUTING_ID PK\n        int ATTENDANCE_ID FK\n        int OUTING_SEQ\n        datetime OUTING_START_TIME\n        datetime OUTING_END_TIME\n        int OUTING_DURATION_MINUTES\n        string OUTING_PURPOSE\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    WORK_HOURS {\n        int WORK_HOURS_ID PK\n        int ATTENDANCE_ID FK\n        string EMPLOYEE_ID FK\n        date WORK_DATE\n        string JOB_CODE FK\n        string WORK_CODE\n        float WORK_HOURS_VALUE\n        int WORK_VOLUME\n        string INPUT_TYPE\n        text REMARKS\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    VACATION_BALANCE {\n        int BALANCE_ID PK\n        string EMPLOYEE_ID FK\n        string VACATION_TYPE_CODE FK\n        int FISCAL_YEAR\n        float GRANTED_DAYS\n        float USED_DAYS\n        float REMAINING_DAYS\n        date GRANT_DATE\n        date EXPIRATION_DATE\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    VACATION_HISTORY {\n        int VACATION_ID PK\n        string EMPLOYEE_ID FK\n        string VACATION_TYPE_CODE FK\n        date START_DATE\n        date END_DATE\n        float VACATION_DAYS\n        string HALF_DAY_TYPE\n        text REASON\n        text CONTACT_INFO\n        string APPROVAL_STATUS\n        string APPROVED_BY\n        datetime APPROVED_AT\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    APPLICATION_HISTORY {\n        int APPLICATION_ID PK\n        string EMPLOYEE_ID FK\n        string APPLICATION_TYPE\n        date TARGET_START_DATE\n        date TARGET_END_DATE\n        float OVERTIME_HOURS\n        text REASON\n        string APPROVAL_STATUS\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    MONTHLY_ATTENDANCE {\n        int MONTHLY_ATTENDANCE_ID PK\n        string EMPLOYEE_ID FK",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 129
          },
          {
            "text": "    }",
            "lineNumber": 130
          },
          {
            "lineNumber": 131
          },
          {
            "text": "    OFFICIAL_OUTING {",
            "lineNumber": 132
          },
          {
            "text": "        int OUTING_ID PK",
            "lineNumber": 133
          },
          {
            "text": "        int ATTENDANCE_ID FK",
            "lineNumber": 134
          },
          {
            "text": "        int OUTING_SEQ",
            "lineNumber": 135
          },
          {
            "text": "        datetime OUTING_START_TIME",
            "lineNumber": 136
          },
          {
            "text": "        datetime OUTING_END_TIME",
            "lineNumber": 137
          },
          {
            "text": "        int OUTING_DURATION_MINUTES",
            "lineNumber": 138
          },
          {
            "text": "        string OUTING_PURPOSE",
            "lineNumber": 139
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 140
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 141
          },
          {
            "text": "    }",
            "lineNumber": 142
          },
          {
            "lineNumber": 143
          },
          {
            "text": "    WORK_HOURS {",
            "lineNumber": 144
          },
          {
            "text": "        int WORK_HOURS_ID PK",
            "lineNumber": 145
          },
          {
            "text": "        int ATTENDANCE_ID FK",
            "lineNumber": 146
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 147
          },
          {
            "text": "        date WORK_DATE",
            "lineNumber": 148
          },
          {
            "text": "        string JOB_CODE FK",
            "lineNumber": 149
          },
          {
            "text": "        string WORK_CODE",
            "lineNumber": 150
          },
          {
            "text": "        float WORK_HOURS_VALUE",
            "lineNumber": 151
          },
          {
            "text": "        int WORK_VOLUME",
            "lineNumber": 152
          },
          {
            "text": "        string INPUT_TYPE",
            "lineNumber": 153
          },
          {
            "text": "        text REMARKS",
            "lineNumber": 154
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 155
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 156
          },
          {
            "text": "    }",
            "lineNumber": 157
          },
          {
            "lineNumber": 158
          },
          {
            "text": "    VACATION_BALANCE {",
            "lineNumber": 159
          },
          {
            "text": "        int BALANCE_ID PK",
            "lineNumber": 160
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 161
          },
          {
            "text": "        string VACATION_TYPE_CODE FK",
            "lineNumber": 162
          },
          {
            "text": "        int FISCAL_YEAR",
            "lineNumber": 163
          },
          {
            "text": "        float GRANTED_DAYS",
            "lineNumber": 164
          },
          {
            "text": "        float USED_DAYS",
            "lineNumber": 165
          },
          {
            "text": "        float REMAINING_DAYS",
            "lineNumber": 166
          },
          {
            "text": "        date GRANT_DATE",
            "lineNumber": 167
          },
          {
            "text": "        date EXPIRATION_DATE",
            "lineNumber": 168
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 169
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 170
          },
          {
            "text": "    }",
            "lineNumber": 171
          },
          {
            "lineNumber": 172
          },
          {
            "text": "    VACATION_HISTORY {",
            "lineNumber": 173
          },
          {
            "text": "        int VACATION_ID PK",
            "lineNumber": 174
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 175
          },
          {
            "text": "        string VACATION_TYPE_CODE FK",
            "lineNumber": 176
          },
          {
            "text": "        date START_DATE",
            "lineNumber": 177
          },
          {
            "text": "        date END_DATE",
            "lineNumber": 178
          },
          {
            "text": "        float VACATION_DAYS",
            "lineNumber": 179
          },
          {
            "text": "        string HALF_DAY_TYPE",
            "lineNumber": 180
          },
          {
            "text": "        text REASON",
            "lineNumber": 181
          },
          {
            "text": "        text CONTACT_INFO",
            "lineNumber": 182
          },
          {
            "text": "        string APPROVAL_STATUS",
            "lineNumber": 183
          },
          {
            "text": "        string APPROVED_BY",
            "lineNumber": 184
          },
          {
            "text": "        datetime APPROVED_AT",
            "lineNumber": 185
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 186
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 187
          },
          {
            "text": "    }",
            "lineNumber": 188
          },
          {
            "lineNumber": 189
          },
          {
            "text": "    APPLICATION_HISTORY {",
            "lineNumber": 190
          },
          {
            "text": "        int APPLICATION_ID PK",
            "lineNumber": 191
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 192
          },
          {
            "text": "        string APPLICATION_TYPE",
            "lineNumber": 193
          },
          {
            "text": "        date TARGET_START_DATE",
            "lineNumber": 194
          },
          {
            "text": "        date TARGET_END_DATE",
            "lineNumber": 195
          },
          {
            "text": "        float OVERTIME_HOURS",
            "lineNumber": 196
          },
          {
            "text": "        text REASON",
            "lineNumber": 197
          },
          {
            "text": "        string APPROVAL_STATUS",
            "lineNumber": 198
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 199
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 200
          },
          {
            "text": "    }",
            "lineNumber": 201
          },
          {
            "lineNumber": 202
          },
          {
            "text": "    MONTHLY_ATTENDANCE {",
            "lineNumber": 203
          },
          {
            "text": "        int MONTHLY_ATTENDANCE_ID PK",
            "lineNumber": 204
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 205
          }
        ]
      },
      "score": 0.3496626615524292
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\attendanceService.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 85,
            "column": 1
          }
        },
        "contents": "/**\n * 勤怠サービス\n */\nconst attendanceModel = require('../models/attendanceModel');\nconst breakTimeModel = require('../models/breakTimeModel');\nconst workHoursModel = require('../models/workHoursModel');\nconst applicationModel = require('../models/applicationModel');\nconst { \n  getTodayJST, \n  getNow, \n  toDateTime, \n  formatHours, \n  formatOverUnder,\n  getMonthRange,\n  getScheduledWorkDays,\n  normalizeDate,\n  calculateMinutes\n} = require('../utils/dateUtils');\nconst db = require('../config/database');\n\n/**\n * 日次勤怠記録を取得する。\n *\n * @param {string} employeeId 従業員ID\n * @param {string} workDate 勤務日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 勤怠記録\n */\nconst getDailyAttendance = async (employeeId, workDate) =&gt; {\n  const attendance = await attendanceModel.getAttendanceDetail(employeeId, workDate);\n  \n  if (!attendance) {\n    return null;\n  }\n  \n  const breakTimes = await breakTimeModel.getBreakTimes(attendance.ATTENDANCE_ID);\n  const officialOutings = await breakTimeModel.getOfficialOutings(attendance.ATTENDANCE_ID);\n  \n  // 休憩時間と公用外出を統合\n  const combinedBreakTimes = [];\n  \n  for (const breakTime of breakTimes) {\n    combinedBreakTimes.push({\n      ...breakTime,\n      BREAK_TYPE: 'BREAK'\n    });\n  }\n  \n  for (const outing of officialOutings) {\n    combinedBreakTimes.push({\n      BREAK_ID: outing.OUTING_ID,\n      BREAK_SEQ: outing.OUTING_SEQ,\n      BREAK_START_TIME: outing.OUTING_START_TIME,\n      BREAK_END_TIME: outing.OUTING_END_TIME,\n      BREAK_DURATION_MINUTES: outing.OUTING_DURATION_MINUTES,\n      BREAK_TYPE: 'OFFICIAL_OUTING',\n      OUTING_PURPOSE: outing.OUTING_PURPOSE\n    });\n  }\n  \n  const isClockInManual = attendance.CLOCK_IN_TYPE === 'MANUAL';\n  const isClockOutManual = attendance.CLOCK_OUT_TYPE === 'MANUAL';\n\n  // ORIGINAL_CLOCK_IN_TIMEとORIGINAL_CLOCK_OUT_TIMEはデータベースから直接取得\n  // データベースに値が存在しない場合は、CLOCK_IN_TYPEがSTAMPの場合にCLOCK_IN_TIMEを使用\n  let originalClockInTime = attendance.ORIGINAL_CLOCK_IN_TIME;\n\n  if (!originalClockInTime &amp;&amp; attendance.CLOCK_IN_TYPE === 'STAMP')\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 勤怠サービス",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 4
          },
          {
            "text": "const breakTimeModel = require('../models/breakTimeModel');",
            "lineNumber": 5
          },
          {
            "text": "const workHoursModel = require('../models/workHoursModel');",
            "lineNumber": 6
          },
          {
            "text": "const applicationModel = require('../models/applicationModel');",
            "lineNumber": 7
          },
          {
            "text": "const { ",
            "lineNumber": 8
          },
          {
            "text": "  getTodayJST, ",
            "lineNumber": 9
          },
          {
            "text": "  getNow, ",
            "lineNumber": 10
          },
          {
            "text": "  toDateTime, ",
            "lineNumber": 11
          },
          {
            "text": "  formatHours, ",
            "lineNumber": 12
          },
          {
            "text": "  formatOverUnder,",
            "lineNumber": 13
          },
          {
            "text": "  getMonthRange,",
            "lineNumber": 14
          },
          {
            "text": "  getScheduledWorkDays,",
            "lineNumber": 15
          },
          {
            "text": "  normalizeDate,",
            "lineNumber": 16
          },
          {
            "text": "  calculateMinutes",
            "lineNumber": 17
          },
          {
            "text": "} = require('../utils/dateUtils');",
            "lineNumber": 18
          },
          {
            "text": "const db = require('../config/database');",
            "lineNumber": 19
          },
          {
            "lineNumber": 20
          },
          {
            "text": "/**",
            "lineNumber": 21
          },
          {
            "text": " * 日次勤怠記録を取得する。",
            "lineNumber": 22
          },
          {
            "text": " *",
            "lineNumber": 23
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 24
          },
          {
            "text": " * @param {string} workDate 勤務日（YYYY-MM-DD形式）",
            "lineNumber": 25
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 勤怠記録",
            "lineNumber": 26
          },
          {
            "text": " */",
            "lineNumber": 27
          },
          {
            "text": "const getDailyAttendance = async (employeeId, workDate) =&gt; {",
            "lineNumber": 28
          },
          {
            "text": "  const attendance = await attendanceModel.getAttendanceDetail(employeeId, workDate);",
            "lineNumber": 29
          },
          {
            "text": "  ",
            "lineNumber": 30
          },
          {
            "text": "  if (!attendance) {",
            "lineNumber": 31
          },
          {
            "text": "    return null;",
            "lineNumber": 32
          },
          {
            "text": "  }",
            "lineNumber": 33
          },
          {
            "text": "  ",
            "lineNumber": 34
          },
          {
            "text": "  const breakTimes = await breakTimeModel.getBreakTimes(attendance.ATTENDANCE_ID);",
            "lineNumber": 35
          },
          {
            "text": "  const officialOutings = await breakTimeModel.getOfficialOutings(attendance.ATTENDANCE_ID);",
            "lineNumber": 36
          },
          {
            "text": "  ",
            "lineNumber": 37
          },
          {
            "text": "  // 休憩時間と公用外出を統合",
            "lineNumber": 38
          },
          {
            "text": "  const combinedBreakTimes = [];",
            "lineNumber": 39
          },
          {
            "text": "  ",
            "lineNumber": 40
          },
          {
            "text": "  for (const breakTime of breakTimes) {",
            "lineNumber": 41
          },
          {
            "text": "    combinedBreakTimes.push({",
            "lineNumber": 42
          },
          {
            "text": "      ...breakTime,",
            "lineNumber": 43
          },
          {
            "text": "      BREAK_TYPE: 'BREAK'",
            "lineNumber": 44
          },
          {
            "text": "    });",
            "lineNumber": 45
          },
          {
            "text": "  }",
            "lineNumber": 46
          },
          {
            "text": "  ",
            "lineNumber": 47
          },
          {
            "text": "  for (const outing of officialOutings) {",
            "lineNumber": 48
          },
          {
            "text": "    combinedBreakTimes.push({",
            "lineNumber": 49
          },
          {
            "text": "      BREAK_ID: outing.OUTING_ID,",
            "lineNumber": 50
          },
          {
            "text": "      BREAK_SEQ: outing.OUTING_SEQ,",
            "lineNumber": 51
          },
          {
            "text": "      BREAK_START_TIME: outing.OUTING_START_TIME,",
            "lineNumber": 52
          },
          {
            "text": "      BREAK_END_TIME: outing.OUTING_END_TIME,",
            "lineNumber": 53
          },
          {
            "text": "      BREAK_DURATION_MINUTES: outing.OUTING_DURATION_MINUTES,",
            "lineNumber": 54
          },
          {
            "text": "      BREAK_TYPE: 'OFFICIAL_OUTING',",
            "lineNumber": 55
          },
          {
            "text": "      OUTING_PURPOSE: outing.OUTING_PURPOSE",
            "lineNumber": 56
          },
          {
            "text": "    });",
            "lineNumber": 57
          },
          {
            "text": "  }",
            "lineNumber": 58
          },
          {
            "text": "  ",
            "lineNumber": 59
          },
          {
            "text": "  const isClockInManual = attendance.CLOCK_IN_TYPE === 'MANUAL';",
            "lineNumber": 60
          },
          {
            "text": "  const isClockOutManual = attendance.CLOCK_OUT_TYPE === 'MANUAL';",
            "lineNumber": 61
          },
          {
            "lineNumber": 62
          },
          {
            "text": "  // ORIGINAL_CLOCK_IN_TIMEとORIGINAL_CLOCK_OUT_TIMEはデータベースから直接取得",
            "lineNumber": 63
          },
          {
            "text": "  // データベースに値が存在しない場合は、CLOCK_IN_TYPEがSTAMPの場合にCLOCK_IN_TIMEを使用",
            "lineNumber": 64
          },
          {
            "text": "  let originalClockInTime = attendance.ORIGINAL_CLOCK_IN_TIME;",
            "lineNumber": 65
          },
          {
            "lineNumber": 66
          },
          {
            "text": "  if (!originalClockInTime &amp;&amp; attendance.CLOCK_IN_TYPE === 'STAMP')",
            "lineNumber": 67
          },
          {
            "text": ";",
            "lineNumber": 86
          }
        ]
      },
      "score": 0.3428192138671875
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 143
          },
          "endPosition": {
            "line": 174
          }
        },
        "contents": "    REMARK_TEXT TEXT COMMENT '備考内容: 打刻できなかった理由やその他の備考。手入力の場合は必須入力',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時: レコード作成日時（自動設定）',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時: レコード更新日時（自動更新）',\n    PRIMARY KEY (ATTENDANCE_ID),\n    UNIQUE KEY UK_EMP_DATE (EMPLOYEE_ID, WORK_DATE),\n    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,\n    FOREIGN KEY (WORK_LOCATION_CODE) REFERENCES WORK_LOCATION(LOCATION_CODE),\n    INDEX IDX_WORK_DATE (WORK_DATE),\n    INDEX IDX_APPROVAL (APPROVAL_STATUS)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='勤怠記録';\n\n-- 7. 休憩時間 (BREAK_TIME)\nCREATE TABLE BREAK_TIME (\n    BREAK_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休憩ID',\n    ATTENDANCE_ID BIGINT NOT NULL COMMENT '勤怠ID',\n    BREAK_SEQ INT NOT NULL COMMENT '休憩順序(1,2,3)',\n    BREAK_START_TIME DATETIME NOT NULL COMMENT '休憩開始時刻',\n    BREAK_END_TIME DATETIME COMMENT '休憩終了時刻',\n    BREAK_DURATION_MINUTES INT COMMENT '休憩時間(分)',\n    BREAK_TYPE VARCHAR(20) DEFAULT 'REGULAR' COMMENT '休憩種別(通常/中断)',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (BREAK_ID),\n    FOREIGN KEY (ATTENDANCE_ID) REFERENCES ATTENDANCE_RECORD(ATTENDANCE_ID) ON DELETE CASCADE,\n    INDEX IDX_ATTENDANCE (ATTENDANCE_ID),\n    UNIQUE KEY UK_ATT_SEQ (ATTENDANCE_ID, BREAK_SEQ)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休憩時間';\n\n-- 8. 公用外出 (OFFICIAL_OUTING)\nCREATE TABLE OFFICIAL_OUTING (\n    OUTING_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '公用外出ID',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    REMARK_TEXT TEXT COMMENT '備考内容: 打刻できなかった理由やその他の備考。手入力の場合は必須入力',",
            "lineNumber": 144
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時: レコード作成日時（自動設定）',",
            "lineNumber": 145
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時: レコード更新日時（自動更新）',",
            "lineNumber": 146
          },
          {
            "text": "    PRIMARY KEY (ATTENDANCE_ID),",
            "lineNumber": 147
          },
          {
            "text": "    UNIQUE KEY UK_EMP_DATE (EMPLOYEE_ID, WORK_DATE),",
            "lineNumber": 148
          },
          {
            "text": "    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,",
            "lineNumber": 149
          },
          {
            "text": "    FOREIGN KEY (WORK_LOCATION_CODE) REFERENCES WORK_LOCATION(LOCATION_CODE),",
            "lineNumber": 150
          },
          {
            "text": "    INDEX IDX_WORK_DATE (WORK_DATE),",
            "lineNumber": 151
          },
          {
            "text": "    INDEX IDX_APPROVAL (APPROVAL_STATUS)",
            "lineNumber": 152
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='勤怠記録';",
            "lineNumber": 153
          },
          {
            "lineNumber": 154
          },
          {
            "text": "-- 7. 休憩時間 (BREAK_TIME)",
            "lineNumber": 155
          },
          {
            "text": "CREATE TABLE BREAK_TIME (",
            "lineNumber": 156
          },
          {
            "text": "    BREAK_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休憩ID',",
            "lineNumber": 157
          },
          {
            "text": "    ATTENDANCE_ID BIGINT NOT NULL COMMENT '勤怠ID',",
            "lineNumber": 158
          },
          {
            "text": "    BREAK_SEQ INT NOT NULL COMMENT '休憩順序(1,2,3)',",
            "lineNumber": 159
          },
          {
            "text": "    BREAK_START_TIME DATETIME NOT NULL COMMENT '休憩開始時刻',",
            "lineNumber": 160
          },
          {
            "text": "    BREAK_END_TIME DATETIME COMMENT '休憩終了時刻',",
            "lineNumber": 161
          },
          {
            "text": "    BREAK_DURATION_MINUTES INT COMMENT '休憩時間(分)',",
            "lineNumber": 162
          },
          {
            "text": "    BREAK_TYPE VARCHAR(20) DEFAULT 'REGULAR' COMMENT '休憩種別(通常/中断)',",
            "lineNumber": 163
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 164
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 165
          },
          {
            "text": "    PRIMARY KEY (BREAK_ID),",
            "lineNumber": 166
          },
          {
            "text": "    FOREIGN KEY (ATTENDANCE_ID) REFERENCES ATTENDANCE_RECORD(ATTENDANCE_ID) ON DELETE CASCADE,",
            "lineNumber": 167
          },
          {
            "text": "    INDEX IDX_ATTENDANCE (ATTENDANCE_ID),",
            "lineNumber": 168
          },
          {
            "text": "    UNIQUE KEY UK_ATT_SEQ (ATTENDANCE_ID, BREAK_SEQ)",
            "lineNumber": 169
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休憩時間';",
            "lineNumber": 170
          },
          {
            "lineNumber": 171
          },
          {
            "text": "-- 8. 公用外出 (OFFICIAL_OUTING)",
            "lineNumber": 172
          },
          {
            "text": "CREATE TABLE OFFICIAL_OUTING (",
            "lineNumber": 173
          },
          {
            "text": "    OUTING_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '公用外出ID',",
            "lineNumber": 174
          }
        ]
      },
      "score": 0.34236639738082886
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1032
          },
          "endPosition": {
            "line": 1121
          }
        },
        "contents": "          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"js\"&gt;\nimport HolidayJp from '@holiday-jp/holiday_jp'\nimport { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'\n\nexport default {\n  name: 'AttendanceApplicationDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    targetDate: {\n      type: String,\n      required: true\n    },\n    employeeId: {\n      type: String,\n      required: true\n    },\n    initialApplicationType: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      currentTab: 'menu',\n      activeApplicationTab: null,\n      loading: false,\n      showErrorDialog: false,\n      errorMessage: '',\n      \n      // 休暇種別マスタ\n      vacationTypes: [],\n      paidLeaveBalance: 0,\n      // 休日出勤申請状態\n      hasHolidayWorkApplication: false,\n      // 代休取得可能日数\n      compensatoryLeaveBalance: 0,\n      \n      // 勤怠データ（打刻時刻の状態確認用）\n      attendanceData: null,\n      \n      // 打刻時刻の状態\n      hasClockIn: false,\n      hasClockOut: false,\n      \n      // 選択中のメニュー項目\n      selectedMenuItem: 'dailyConfirmation',\n      \n      // 日次確定申請フォーム\n      dailyConfirmationForm: {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      },\n      // 日次確定申請のエラーメッセージ\n      dailyConfirmationError: '',\n      \n      // 休暇申請フォーム\n      vacationForm: {\n        vacationType: '',\n        startDate: '',\n        endDate: '',\n        reason: '',\n        contact: ''\n      },\n      \n      // 休日出勤申請フォーム\n      holidayWorkForm: {\n        startTime: '09:00',\n        endTime: '17:30',\n        breakHours: 1.0, // 時間単位（小数）\n        reason: ''\n      },\n      \n      // 残業申請フォーム\n      overtimeForm: {\n        startDate: '',\n        endDate: '',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 1033
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 1034
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 1035
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 1036
          },
          {
            "text": "  &lt;/div&gt;",
            "lineNumber": 1037
          },
          {
            "text": "&lt;/template&gt;",
            "lineNumber": 1038
          },
          {
            "lineNumber": 1039
          },
          {
            "text": "&lt;script lang=\"js\"&gt;",
            "lineNumber": 1040
          },
          {
            "text": "import HolidayJp from '@holiday-jp/holiday_jp'",
            "lineNumber": 1041
          },
          {
            "text": "import { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'",
            "lineNumber": 1042
          },
          {
            "lineNumber": 1043
          },
          {
            "text": "export default {",
            "lineNumber": 1044
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 1045
          },
          {
            "text": "  props: {",
            "lineNumber": 1046
          },
          {
            "text": "    visible: {",
            "lineNumber": 1047
          },
          {
            "text": "      type: Boolean,",
            "lineNumber": 1048
          },
          {
            "text": "      default: false",
            "lineNumber": 1049
          },
          {
            "text": "    },",
            "lineNumber": 1050
          },
          {
            "text": "    targetDate: {",
            "lineNumber": 1051
          },
          {
            "text": "      type: String,",
            "lineNumber": 1052
          },
          {
            "text": "      required: true",
            "lineNumber": 1053
          },
          {
            "text": "    },",
            "lineNumber": 1054
          },
          {
            "text": "    employeeId: {",
            "lineNumber": 1055
          },
          {
            "text": "      type: String,",
            "lineNumber": 1056
          },
          {
            "text": "      required: true",
            "lineNumber": 1057
          },
          {
            "text": "    },",
            "lineNumber": 1058
          },
          {
            "text": "    initialApplicationType: {",
            "lineNumber": 1059
          },
          {
            "text": "      type: String,",
            "lineNumber": 1060
          },
          {
            "text": "      default: null",
            "lineNumber": 1061
          },
          {
            "text": "    }",
            "lineNumber": 1062
          },
          {
            "text": "  },",
            "lineNumber": 1063
          },
          {
            "text": "  data() {",
            "lineNumber": 1064
          },
          {
            "text": "    return {",
            "lineNumber": 1065
          },
          {
            "text": "      currentTab: 'menu',",
            "lineNumber": 1066
          },
          {
            "text": "      activeApplicationTab: null,",
            "lineNumber": 1067
          },
          {
            "text": "      loading: false,",
            "lineNumber": 1068
          },
          {
            "text": "      showErrorDialog: false,",
            "lineNumber": 1069
          },
          {
            "text": "      errorMessage: '',",
            "lineNumber": 1070
          },
          {
            "text": "      ",
            "lineNumber": 1071
          },
          {
            "text": "      // 休暇種別マスタ",
            "lineNumber": 1072
          },
          {
            "text": "      vacationTypes: [],",
            "lineNumber": 1073
          },
          {
            "text": "      paidLeaveBalance: 0,",
            "lineNumber": 1074
          },
          {
            "text": "      // 休日出勤申請状態",
            "lineNumber": 1075
          },
          {
            "text": "      hasHolidayWorkApplication: false,",
            "lineNumber": 1076
          },
          {
            "text": "      // 代休取得可能日数",
            "lineNumber": 1077
          },
          {
            "text": "      compensatoryLeaveBalance: 0,",
            "lineNumber": 1078
          },
          {
            "text": "      ",
            "lineNumber": 1079
          },
          {
            "text": "      // 勤怠データ（打刻時刻の状態確認用）",
            "lineNumber": 1080
          },
          {
            "text": "      attendanceData: null,",
            "lineNumber": 1081
          },
          {
            "text": "      ",
            "lineNumber": 1082
          },
          {
            "text": "      // 打刻時刻の状態",
            "lineNumber": 1083
          },
          {
            "text": "      hasClockIn: false,",
            "lineNumber": 1084
          },
          {
            "text": "      hasClockOut: false,",
            "lineNumber": 1085
          },
          {
            "text": "      ",
            "lineNumber": 1086
          },
          {
            "text": "      // 選択中のメニュー項目",
            "lineNumber": 1087
          },
          {
            "text": "      selectedMenuItem: 'dailyConfirmation',",
            "lineNumber": 1088
          },
          {
            "text": "      ",
            "lineNumber": 1089
          },
          {
            "text": "      // 日次確定申請フォーム",
            "lineNumber": 1090
          },
          {
            "text": "      dailyConfirmationForm: {",
            "lineNumber": 1091
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1092
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1093
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1094
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1095
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1096
          },
          {
            "text": "      },",
            "lineNumber": 1097
          },
          {
            "text": "      // 日次確定申請のエラーメッセージ",
            "lineNumber": 1098
          },
          {
            "text": "      dailyConfirmationError: '',",
            "lineNumber": 1099
          },
          {
            "text": "      ",
            "lineNumber": 1100
          },
          {
            "text": "      // 休暇申請フォーム",
            "lineNumber": 1101
          },
          {
            "text": "      vacationForm: {",
            "lineNumber": 1102
          },
          {
            "text": "        vacationType: '',",
            "lineNumber": 1103
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1104
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1105
          },
          {
            "text": "        reason: '',",
            "lineNumber": 1106
          },
          {
            "text": "        contact: ''",
            "lineNumber": 1107
          },
          {
            "text": "      },",
            "lineNumber": 1108
          },
          {
            "text": "      ",
            "lineNumber": 1109
          },
          {
            "text": "      // 休日出勤申請フォーム",
            "lineNumber": 1110
          },
          {
            "text": "      holidayWorkForm: {",
            "lineNumber": 1111
          },
          {
            "text": "        startTime: '09:00',",
            "lineNumber": 1112
          },
          {
            "text": "        endTime: '17:30',",
            "lineNumber": 1113
          },
          {
            "text": "        breakHours: 1.0, // 時間単位（小数）",
            "lineNumber": 1114
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1115
          },
          {
            "text": "      },",
            "lineNumber": 1116
          },
          {
            "text": "      ",
            "lineNumber": 1117
          },
          {
            "text": "      // 残業申請フォーム",
            "lineNumber": 1118
          },
          {
            "text": "      overtimeForm: {",
            "lineNumber": 1119
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1120
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1121
          }
        ]
      },
      "score": 0.3408474922180176
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1331
          },
          "endPosition": {
            "line": 1366
          }
        },
        "contents": "- **日曜日に祝日イベントがあっても日曜日と同じ扱い**（背景色#FFE8D9、ラベル色#FF0000）とする\n\n#### 背景色の優先順位\n複数の条件に該当する場合の優先順位：\n1. 休暇申請済み（オレンジ色 #FFA500）- 最優先\n2. 日曜日（薄いピンク #FFE8D9）- 祝日より優先（日曜日に祝日イベントがあっても日曜日と同じ扱い）\n3. 祝日（薄い青 #E8F5FF）- 日曜日でない場合のみ\n4. 土曜日（薄い青 #E8F5FF）\n5. 平日（白色）- デフォルト\n\n### 備考ダイアログの表示\n\n備考列の+アイコンを押下すると、備考入力ダイアログが表示されます。\n\n#### ダイアログの構成\n- **タイトル**: 「備考」（位置: top: 6px）\n- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（位置: top: 47px）\n  - 例: 2025年12月5日金曜日\n- **打刻漏れ・手入力修正情報**（条件付き表示）:\n  - 黄色背景（#FFFF00）で黒文字表示（位置: top: 70px）\n  - 打刻漏れがある場合: 「出退打刻なし」「出社打刻なし」「退社打刻なし」を表示\n  - 手入力修正がある場合: 「(出社打刻 HH:MM)」「(退社打刻 HH:MM)」を表示\n  - 複数の情報がある場合は「、」で区切って表示\n- **備考入力欄**: 複数行テキストボックス\n  - 打刻漏れ・手入力修正情報が表示される場合: 位置 top: 95px（背景）/ 97px（テキストエリア）\n  - 打刻漏れ・手入力修正情報が表示されない場合: 位置 top: 78px（背景）/ 80px（テキストエリア）\n- **ボタン**: 承認状態により異なる\n  - 登録ボタン・キャンセルボタン: 位置 top: 203px（背景）/ 208px（テキスト）\n  - 閉じるボタン: 位置 left: 245px, top: 208px\n\n#### 承認状態による表示制御\n\n##### 1. 申請済み（APPROVAL_STATUS = PENDING または APPROVED）の場合\n- **備考入力欄**:\n  - グレー背景",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **日曜日に祝日イベントがあっても日曜日と同じ扱い**（背景色#FFE8D9、ラベル色#FF0000）とする",
            "lineNumber": 1332
          },
          {
            "lineNumber": 1333
          },
          {
            "text": "#### 背景色の優先順位",
            "lineNumber": 1334
          },
          {
            "text": "複数の条件に該当する場合の優先順位：",
            "lineNumber": 1335
          },
          {
            "text": "1. 休暇申請済み（オレンジ色 #FFA500）- 最優先",
            "lineNumber": 1336
          },
          {
            "text": "2. 日曜日（薄いピンク #FFE8D9）- 祝日より優先（日曜日に祝日イベントがあっても日曜日と同じ扱い）",
            "lineNumber": 1337
          },
          {
            "text": "3. 祝日（薄い青 #E8F5FF）- 日曜日でない場合のみ",
            "lineNumber": 1338
          },
          {
            "text": "4. 土曜日（薄い青 #E8F5FF）",
            "lineNumber": 1339
          },
          {
            "text": "5. 平日（白色）- デフォルト",
            "lineNumber": 1340
          },
          {
            "lineNumber": 1341
          },
          {
            "text": "### 備考ダイアログの表示",
            "lineNumber": 1342
          },
          {
            "lineNumber": 1343
          },
          {
            "text": "備考列の+アイコンを押下すると、備考入力ダイアログが表示されます。",
            "lineNumber": 1344
          },
          {
            "lineNumber": 1345
          },
          {
            "text": "#### ダイアログの構成",
            "lineNumber": 1346
          },
          {
            "text": "- **タイトル**: 「備考」（位置: top: 6px）",
            "lineNumber": 1347
          },
          {
            "text": "- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（位置: top: 47px）",
            "lineNumber": 1348
          },
          {
            "text": "  - 例: 2025年12月5日金曜日",
            "lineNumber": 1349
          },
          {
            "text": "- **打刻漏れ・手入力修正情報**（条件付き表示）:",
            "lineNumber": 1350
          },
          {
            "text": "  - 黄色背景（#FFFF00）で黒文字表示（位置: top: 70px）",
            "lineNumber": 1351
          },
          {
            "text": "  - 打刻漏れがある場合: 「出退打刻なし」「出社打刻なし」「退社打刻なし」を表示",
            "lineNumber": 1352
          },
          {
            "text": "  - 手入力修正がある場合: 「(出社打刻 HH:MM)」「(退社打刻 HH:MM)」を表示",
            "lineNumber": 1353
          },
          {
            "text": "  - 複数の情報がある場合は「、」で区切って表示",
            "lineNumber": 1354
          },
          {
            "text": "- **備考入力欄**: 複数行テキストボックス",
            "lineNumber": 1355
          },
          {
            "text": "  - 打刻漏れ・手入力修正情報が表示される場合: 位置 top: 95px（背景）/ 97px（テキストエリア）",
            "lineNumber": 1356
          },
          {
            "text": "  - 打刻漏れ・手入力修正情報が表示されない場合: 位置 top: 78px（背景）/ 80px（テキストエリア）",
            "lineNumber": 1357
          },
          {
            "text": "- **ボタン**: 承認状態により異なる",
            "lineNumber": 1358
          },
          {
            "text": "  - 登録ボタン・キャンセルボタン: 位置 top: 203px（背景）/ 208px（テキスト）",
            "lineNumber": 1359
          },
          {
            "text": "  - 閉じるボタン: 位置 left: 245px, top: 208px",
            "lineNumber": 1360
          },
          {
            "lineNumber": 1361
          },
          {
            "text": "#### 承認状態による表示制御",
            "lineNumber": 1362
          },
          {
            "lineNumber": 1363
          },
          {
            "text": "##### 1. 申請済み（APPROVAL_STATUS = PENDING または APPROVED）の場合",
            "lineNumber": 1364
          },
          {
            "text": "- **備考入力欄**:",
            "lineNumber": 1365
          },
          {
            "text": "  - グレー背景",
            "lineNumber": 1366
          }
        ]
      },
      "score": 0.33309733867645264
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 93
          },
          "endPosition": {
            "line": 103
          }
        },
        "contents": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |\n| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |\n| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | リンク | | | | | | | 表示 | 活性 | | 休憩時間を変更するためのリンク。押下で休憩時間入力ダイアログを表示 |\n| 45 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休日出勤申請の備考・理由を入力（任意） |\n| 45-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |\n| 45-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |\n| 45-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |\n| 45-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |\n| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |\n| 46-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |",
            "lineNumber": 94
          },
          {
            "text": "| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |",
            "lineNumber": 95
          },
          {
            "text": "| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | リンク | | | | | | | 表示 | 活性 | | 休憩時間を変更するためのリンク。押下で休憩時間入力ダイアログを表示 |",
            "lineNumber": 96
          },
          {
            "text": "| 45 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休日出勤申請の備考・理由を入力（任意） |",
            "lineNumber": 97
          },
          {
            "text": "| 45-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |",
            "lineNumber": 98
          },
          {
            "text": "| 45-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |",
            "lineNumber": 99
          },
          {
            "text": "| 45-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |",
            "lineNumber": 100
          },
          {
            "text": "| 45-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |",
            "lineNumber": 101
          },
          {
            "text": "| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |",
            "lineNumber": 102
          },
          {
            "text": "| 46-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 103
          }
        ]
      },
      "score": 0.3328748941421509
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\home-screen.md",
        "range": {
          "startPosition": {
            "line": 333
          },
          "endPosition": {
            "line": 373
          }
        },
        "contents": "| :--- | :--- | :--- | :--- | :--- | :--- |\n| 1 | APPLICATION_ID | 申請ID | EMPLOYEE_ID = ログインユーザーの従業員ID | - | ログインユーザーの申請 |\n| 2 | APPROVAL_STATUS | 承認状態 | APPLICATION_TYPE = 'HOLIDAY_WORK' | - | 休日出勤申請のみ |\n| 3 | TARGET_START_DATE | 対象開始日 | TARGET_START_DATE &lt;= システム日付 | - | 申請期間内 |\n| 4 | TARGET_END_DATE | 対象終了日 | TARGET_END_DATE &gt;= システム日付 | - | 申請期間内 |\n| 5 | - | - | APPROVAL_STATUS IN ('PENDING', 'APPROVED') | - | 申請中または承認済みのみ |\n\n**取得条件の詳細**:\n&#96;&#96;&#96;sql\nSELECT APPLICATION_ID, APPROVAL_STATUS\nFROM APPLICATION_HISTORY\nWHERE EMPLOYEE_ID = :employeeId\n  AND APPLICATION_TYPE = 'HOLIDAY_WORK'\n  AND TARGET_START_DATE &lt;= CURDATE()\n  AND TARGET_END_DATE &gt;= CURDATE()\n  AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\nLIMIT 1;\n&#96;&#96;&#96;\n\n**備考**: \n- 当日が土日祝の場合のみ取得する\n- 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する\n- 申請が存在しない、または申請中（PENDING）・承認済み（APPROVED）でない場合、打刻ボタンは非活性化される\n- 申請中（PENDING）の場合でも打刻が可能になる\n\n## テーブル更新仕様\n\n### No.1\n- テーブル更新仕様名：出勤打刻登録\n- 対象テーブル：ATTENDANCE_RECORD\n- 更新タイミング：出勤ボタン押下時\n\n| No | 更新項目 | 項目名（論理名） | 設定値 | 条件 | 備考 |\n| :--- | :--- | :--- | :--- | :--- | :--- |\n| 1 | EMPLOYEE_ID | 従業員ID | ログインユーザーの従業員ID | 新規レコード作成時 | - |\n| 2 | WORK_DATE | 勤務日 | システム日付 | 新規レコード作成時 | - |\n| 3 | CLOCK_IN_TIME | 出勤時刻 | システム日時 | - | 現在時刻を設定 |\n| 4 | CLOCK_IN_TYPE | 出勤打刻種別 | 'STAMP' | - | 打刻による出勤 |\n| 5 | WORK_LOCATION_CODE | 勤務場所コード | 選択された勤務場所コード | - | - |\n| 6 | CREATED_AT | 作成日時 | システム日時 | 新規レコード作成時 | - |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| :--- | :--- | :--- | :--- | :--- | :--- |",
            "lineNumber": 334
          },
          {
            "text": "| 1 | APPLICATION_ID | 申請ID | EMPLOYEE_ID = ログインユーザーの従業員ID | - | ログインユーザーの申請 |",
            "lineNumber": 335
          },
          {
            "text": "| 2 | APPROVAL_STATUS | 承認状態 | APPLICATION_TYPE = 'HOLIDAY_WORK' | - | 休日出勤申請のみ |",
            "lineNumber": 336
          },
          {
            "text": "| 3 | TARGET_START_DATE | 対象開始日 | TARGET_START_DATE &lt;= システム日付 | - | 申請期間内 |",
            "lineNumber": 337
          },
          {
            "text": "| 4 | TARGET_END_DATE | 対象終了日 | TARGET_END_DATE &gt;= システム日付 | - | 申請期間内 |",
            "lineNumber": 338
          },
          {
            "text": "| 5 | - | - | APPROVAL_STATUS IN ('PENDING', 'APPROVED') | - | 申請中または承認済みのみ |",
            "lineNumber": 339
          },
          {
            "lineNumber": 340
          },
          {
            "text": "**取得条件の詳細**:",
            "lineNumber": 341
          },
          {
            "text": "&#96;&#96;&#96;sql",
            "lineNumber": 342
          },
          {
            "text": "SELECT APPLICATION_ID, APPROVAL_STATUS",
            "lineNumber": 343
          },
          {
            "text": "FROM APPLICATION_HISTORY",
            "lineNumber": 344
          },
          {
            "text": "WHERE EMPLOYEE_ID = :employeeId",
            "lineNumber": 345
          },
          {
            "text": "  AND APPLICATION_TYPE = 'HOLIDAY_WORK'",
            "lineNumber": 346
          },
          {
            "text": "  AND TARGET_START_DATE &lt;= CURDATE()",
            "lineNumber": 347
          },
          {
            "text": "  AND TARGET_END_DATE &gt;= CURDATE()",
            "lineNumber": 348
          },
          {
            "text": "  AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 349
          },
          {
            "text": "LIMIT 1;",
            "lineNumber": 350
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 351
          },
          {
            "lineNumber": 352
          },
          {
            "text": "**備考**: ",
            "lineNumber": 353
          },
          {
            "text": "- 当日が土日祝の場合のみ取得する",
            "lineNumber": 354
          },
          {
            "text": "- 土日祝の判定は、曜日（0=日曜日、6=土曜日）と祝日ライブラリ（HolidayJp）を使用する",
            "lineNumber": 355
          },
          {
            "text": "- 申請が存在しない、または申請中（PENDING）・承認済み（APPROVED）でない場合、打刻ボタンは非活性化される",
            "lineNumber": 356
          },
          {
            "text": "- 申請中（PENDING）の場合でも打刻が可能になる",
            "lineNumber": 357
          },
          {
            "lineNumber": 358
          },
          {
            "text": "## テーブル更新仕様",
            "lineNumber": 359
          },
          {
            "lineNumber": 360
          },
          {
            "text": "### No.1",
            "lineNumber": 361
          },
          {
            "text": "- テーブル更新仕様名：出勤打刻登録",
            "lineNumber": 362
          },
          {
            "text": "- 対象テーブル：ATTENDANCE_RECORD",
            "lineNumber": 363
          },
          {
            "text": "- 更新タイミング：出勤ボタン押下時",
            "lineNumber": 364
          },
          {
            "lineNumber": 365
          },
          {
            "text": "| No | 更新項目 | 項目名（論理名） | 設定値 | 条件 | 備考 |",
            "lineNumber": 366
          },
          {
            "text": "| :--- | :--- | :--- | :--- | :--- | :--- |",
            "lineNumber": 367
          },
          {
            "text": "| 1 | EMPLOYEE_ID | 従業員ID | ログインユーザーの従業員ID | 新規レコード作成時 | - |",
            "lineNumber": 368
          },
          {
            "text": "| 2 | WORK_DATE | 勤務日 | システム日付 | 新規レコード作成時 | - |",
            "lineNumber": 369
          },
          {
            "text": "| 3 | CLOCK_IN_TIME | 出勤時刻 | システム日時 | - | 現在時刻を設定 |",
            "lineNumber": 370
          },
          {
            "text": "| 4 | CLOCK_IN_TYPE | 出勤打刻種別 | 'STAMP' | - | 打刻による出勤 |",
            "lineNumber": 371
          },
          {
            "text": "| 5 | WORK_LOCATION_CODE | 勤務場所コード | 選択された勤務場所コード | - | - |",
            "lineNumber": 372
          },
          {
            "text": "| 6 | CREATED_AT | 作成日時 | システム日時 | 新規レコード作成時 | - |",
            "lineNumber": 373
          }
        ]
      },
      "score": 0.33164966106414795
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1197
          },
          "endPosition": {
            "line": 1224
          }
        },
        "contents": "| 曜日 | 承認状態 | 休日出勤申請 | 表示形式 | 編集可否 |\n| --- | --- | --- | --- | --- |\n| 土日祝 | すべて | 未申請または未承認 | テキストボックスなし（表示しない） | - |\n| 土日祝 | すべて | 申請中（PENDING）または承認済み（APPROVED） | テキストボックス | 編集可能 |\n| 平日 | 未申請（NOT_SUBMITTED） | - | テキストボックス | 編集可能 |\n| 平日 | 却下（REJECTED） | - | テキストボックス | 編集可能 |\n| 平日 | 申請中（PENDING） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |\n| 平日 | 承認済み（APPROVED） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |\n\n##### 押下時の動作\n| 表示形式 | 押下時の動作 |\n| --- | --- |\n| テキストボックス | 勤怠情報入力ダイアログ（編集モード）を表示。「登録」ボタン、「キャンセル」リンク、「リセット」リンク、「日次確定する」チェックボックスが表示され、各項目を編集可能 |\n| テキストのみ | 勤怠情報入力ダイアログ（閲覧モード）を表示。各項目は閲覧のみで編集不可。「閉じる」リンクのみ表示 |\n\n##### 勤怠情報入力ダイアログの項目\n- 出社: 出勤時刻（HH:MM形式）\n- 退社: 退勤時刻（HH:MM形式）\n- 休憩1: 休憩開始時刻 〜 休憩終了時刻\n- 休憩2: 休憩開始時刻 〜 休憩終了時刻（追加ボタンで行追加可能）\n- 公用外出1: 外出開始時刻 〜 外出終了時刻\n- 公用外出2: 外出開始時刻 〜 外出終了時刻（追加ボタンで行追加可能）\n- 勤務場所: プルダウンで選択（通勤/在宅/直行直帰/出張）\n\n##### 土日祝の扱い\n- **土日祝の基本テキストボックス非表示**: 土曜日、日曜日、祝日の行では、休日出勤申請が未申請または未承認の場合、出社・退社・勤務場所の基本テキストボックスは表示されません\n- **休日出勤申請が承認されている場合の例外**: 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）の場合、土日祝でも出社・退社・勤務場所のテキストボックスが表示され、編集可能になります",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 曜日 | 承認状態 | 休日出勤申請 | 表示形式 | 編集可否 |",
            "lineNumber": 1198
          },
          {
            "text": "| --- | --- | --- | --- | --- |",
            "lineNumber": 1199
          },
          {
            "text": "| 土日祝 | すべて | 未申請または未承認 | テキストボックスなし（表示しない） | - |",
            "lineNumber": 1200
          },
          {
            "text": "| 土日祝 | すべて | 申請中（PENDING）または承認済み（APPROVED） | テキストボックス | 編集可能 |",
            "lineNumber": 1201
          },
          {
            "text": "| 平日 | 未申請（NOT_SUBMITTED） | - | テキストボックス | 編集可能 |",
            "lineNumber": 1202
          },
          {
            "text": "| 平日 | 却下（REJECTED） | - | テキストボックス | 編集可能 |",
            "lineNumber": 1203
          },
          {
            "text": "| 平日 | 申請中（PENDING） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |",
            "lineNumber": 1204
          },
          {
            "text": "| 平日 | 承認済み（APPROVED） | - | テキストのみ（テキストボックスは表示されない） | 編集不可 |",
            "lineNumber": 1205
          },
          {
            "lineNumber": 1206
          },
          {
            "text": "##### 押下時の動作",
            "lineNumber": 1207
          },
          {
            "text": "| 表示形式 | 押下時の動作 |",
            "lineNumber": 1208
          },
          {
            "text": "| --- | --- |",
            "lineNumber": 1209
          },
          {
            "text": "| テキストボックス | 勤怠情報入力ダイアログ（編集モード）を表示。「登録」ボタン、「キャンセル」リンク、「リセット」リンク、「日次確定する」チェックボックスが表示され、各項目を編集可能 |",
            "lineNumber": 1210
          },
          {
            "text": "| テキストのみ | 勤怠情報入力ダイアログ（閲覧モード）を表示。各項目は閲覧のみで編集不可。「閉じる」リンクのみ表示 |",
            "lineNumber": 1211
          },
          {
            "lineNumber": 1212
          },
          {
            "text": "##### 勤怠情報入力ダイアログの項目",
            "lineNumber": 1213
          },
          {
            "text": "- 出社: 出勤時刻（HH:MM形式）",
            "lineNumber": 1214
          },
          {
            "text": "- 退社: 退勤時刻（HH:MM形式）",
            "lineNumber": 1215
          },
          {
            "text": "- 休憩1: 休憩開始時刻 〜 休憩終了時刻",
            "lineNumber": 1216
          },
          {
            "text": "- 休憩2: 休憩開始時刻 〜 休憩終了時刻（追加ボタンで行追加可能）",
            "lineNumber": 1217
          },
          {
            "text": "- 公用外出1: 外出開始時刻 〜 外出終了時刻",
            "lineNumber": 1218
          },
          {
            "text": "- 公用外出2: 外出開始時刻 〜 外出終了時刻（追加ボタンで行追加可能）",
            "lineNumber": 1219
          },
          {
            "text": "- 勤務場所: プルダウンで選択（通勤/在宅/直行直帰/出張）",
            "lineNumber": 1220
          },
          {
            "lineNumber": 1221
          },
          {
            "text": "##### 土日祝の扱い",
            "lineNumber": 1222
          },
          {
            "text": "- **土日祝の基本テキストボックス非表示**: 土曜日、日曜日、祝日の行では、休日出勤申請が未申請または未承認の場合、出社・退社・勤務場所の基本テキストボックスは表示されません",
            "lineNumber": 1223
          },
          {
            "text": "- **休日出勤申請が承認されている場合の例外**: 休日出勤申請が申請中（PENDING）または承認済み（APPROVED）の場合、土日祝でも出社・退社・勤務場所のテキストボックスが表示され、編集可能になります",
            "lineNumber": 1224
          }
        ]
      },
      "score": 0.33164799213409424
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


備考は2箇所に保存されています:
1. 休日出勤申請の備考: `APPLICATION_HISTORY`の`REASON`（JSON形式）
2. 勤怠記録の備考: `ATTENDANCE_RECORD`の`REMARK_TEXT`

休日出勤申請取消時に、`APPLICATION_HISTORY`の`REASON`もクリアするよう修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\backend\services\applicationService.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "b6ba8f88-2b45-4d75-972f-04dea800bc0c"
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正しました。休日出勤申請を取り消す際に、`APPLICATION_HISTORY`の`REASON`（備考を含むJSON）もクリアするようにしました。

## 変更内容

### `backend/services/applicationService.js`
- 休日出勤申請取消時に、`APPLICATION_HISTORY`の`REASON`フィールドも`NULL`に設定するように変更しました。

これにより、休日出勤申請を取り消すと、以下のデータが削除またはクリアされます：
- 休日出勤申請の備考（`APPLICATION_HISTORY.REASON`）
- 勤怠記録の備考（`ATTENDANCE_RECORD.REMARK_TEXT` - 勤怠記録削除時に削除）
- 打刻時刻（`ATTENDANCE_RECORD`）
- 休憩時間（`BREAK_TIME`）
- 公用外出（`OFFICIAL_OUTING`）
- 工数実績（`WORK_HOURS`）

すべてのデータが削除され、元の状態に戻ります。

---

_**User**_

またその内容を詳細設計書に記載してください。

---

_**Agent (model composer-1, mode Agent)**_



---


詳細設計書を確認し、休日出勤申請取消時のデータ削除処理を追記します。


---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **4** results in **1** directory</summary>

Directory: **undefined** (4 files)

| File |
|------|
| `.\.specstory\history\2025-12-15_12-52Z-attendanceapplicationdialog-vue-のエラー.md` |
| `.\.specstory\history\2025-12-12_08-16Z-attendance-application-button-and-description-issues.md` |
| `.\.specstory\history\2025-12-09_01-35Z-attendanceapplicationdialogをdialogフォルダへ移動.md` |
| `.\docs\detailed-design\ui\attendance-application-screen.md` |

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **5** results in **1** directory</summary>

Directory: **undefined** (5 files)

| File |
|------|
| `.\.specstory\history\2025-12-15_06-28Z-休日出勤申請の詳細設計書.md` |
| `.\.specstory\history\2025-12-11_23-43Z-月次サマリー情報画面の詳細設計書.md` |
| `.\.specstory\history\2025-12-09_04-55Z-工数実績入力ダイアログの詳細設計書作成.md` |
| `.\.specstory\history\2025-12-09_01-23Z-勤怠情報入力画面の詳細設計.md` |
| `.\.specstory\history\2025-12-08_07-44Z-勤怠申請画面の詳細設計書作成.md` |

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "休日出勤申請取消 詳細設計書",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 563
          },
          "endPosition": {
            "line": 601
          }
        },
        "contents": "2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休暇申請取消\n     - API利用仕様に従い、休暇申請を取り消す。\n     - 【API利用仕様 No.14（休暇申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。\n\n#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 564
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 565
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 566
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 567
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 568
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 569
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 570
          },
          {
            "lineNumber": 571
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 572
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 573
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 574
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 575
          },
          {
            "text": "   - 休暇申請取消",
            "lineNumber": 576
          },
          {
            "text": "     - API利用仕様に従い、休暇申請を取り消す。",
            "lineNumber": 577
          },
          {
            "text": "     - 【API利用仕様 No.14（休暇申請取消API）】",
            "lineNumber": 578
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 579
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 580
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 581
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 582
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 583
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。",
            "lineNumber": 584
          },
          {
            "lineNumber": 585
          },
          {
            "text": "#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下",
            "lineNumber": 586
          },
          {
            "lineNumber": 587
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 588
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 589
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 590
          },
          {
            "lineNumber": 591
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 592
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 593
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 594
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 595
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 596
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 597
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 598
          },
          {
            "lineNumber": 599
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 600
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 601
          }
        ]
      },
      "score": 0.5057200193405151
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 756
          },
          "endPosition": {
            "line": 769
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n  | 休日出勤申請フォーム | 休日出勤申請タブが選択されている場合に表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 当月の時間外残業時間の合計をH:MM形式で表示（例: 0:00） | API利用仕様 No.10（当月時間外残業取得API）から取得 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 時刻入力フィールドを表示。初期値は空欄または9:00 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 時刻入力フィールドを表示。初期値は空欄または17:30 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 休憩時間をH:MM形式で表示（例: 1:00）。初期値は1:00 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | 休憩時間の変更リンクを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(事後申請)ラベル | 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示 | 対象日が過去の日付で、かつ土日祝の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 757
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 758
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 759
          },
          {
            "text": "  | 休日出勤申請フォーム | 休日出勤申請タブが選択されている場合に表示 | |",
            "lineNumber": 760
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 当月の時間外残業時間の合計をH:MM形式で表示（例: 0:00） | API利用仕様 No.10（当月時間外残業取得API）から取得 |",
            "lineNumber": 761
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 時刻入力フィールドを表示。初期値は空欄または9:00 | |",
            "lineNumber": 762
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 時刻入力フィールドを表示。初期値は空欄または17:30 | |",
            "lineNumber": 763
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 休憩時間をH:MM形式で表示（例: 1:00）。初期値は1:00 | |",
            "lineNumber": 764
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;変更リンク | 休憩時間の変更リンクを表示 | |",
            "lineNumber": 765
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;(事後申請)ラベル | 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示 | 対象日が過去の日付で、かつ土日祝の場合のみ表示 |",
            "lineNumber": 766
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
            "lineNumber": 767
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 768
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 769
          }
        ]
      },
      "score": 0.495316743850708
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1237
          },
          "endPosition": {
            "line": 1281
          }
        },
        "contents": "- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/vacation/apply | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | APPLICATION_ID | 申請ID | リクエストボディ |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 休暇申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 申請取消後、VACATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.15\n- API仕様名：休日出勤申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/holiday-work | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | APPLICATION_ID | 申請ID | リクエストボディ |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 休日出勤申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.16\n- API仕様名：残業申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- リクエスト",
            "lineNumber": 1238
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1239
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1240
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1241
          },
          {
            "text": "  | エンドポイント | /api/attendance/vacation/apply | |",
            "lineNumber": 1242
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1243
          },
          {
            "text": "  | APPLICATION_ID | 申請ID | リクエストボディ |",
            "lineNumber": 1244
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1245
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1246
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1247
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1248
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1249
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1250
          },
          {
            "text": "  - なし",
            "lineNumber": 1251
          },
          {
            "text": "- その他",
            "lineNumber": 1252
          },
          {
            "text": "  - 休暇申請を取り消す",
            "lineNumber": 1253
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1254
          },
          {
            "text": "  - 申請取消後、VACATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1255
          },
          {
            "lineNumber": 1256
          },
          {
            "text": "#### No.15",
            "lineNumber": 1257
          },
          {
            "text": "- API仕様名：休日出勤申請取消API",
            "lineNumber": 1258
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1259
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1260
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1261
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1262
          },
          {
            "text": "  | エンドポイント | /api/attendance/holiday-work | |",
            "lineNumber": 1263
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1264
          },
          {
            "text": "  | APPLICATION_ID | 申請ID | リクエストボディ |",
            "lineNumber": 1265
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1266
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1267
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1268
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1269
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1270
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1271
          },
          {
            "text": "  - なし",
            "lineNumber": 1272
          },
          {
            "text": "- その他",
            "lineNumber": 1273
          },
          {
            "text": "  - 休日出勤申請を取り消す",
            "lineNumber": 1274
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1275
          },
          {
            "text": "  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1276
          },
          {
            "lineNumber": 1277
          },
          {
            "text": "#### No.16",
            "lineNumber": 1278
          },
          {
            "text": "- API仕様名：残業申請取消API",
            "lineNumber": 1279
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1280
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1281
          }
        ]
      },
      "score": 0.48936569690704346
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1465
          },
          "endPosition": {
            "line": 1493
          }
        },
        "contents": "4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n### 休日出勤申請\n休日出勤申請は、休日に出勤する場合の申請です。\n\n#### 申請内容\n- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）\n- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）\n- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **備考**: 休日出勤の理由や備考を入力（任意）\n\n#### 表示内容\n休日出勤申請タブを開くと、以下の情報が表示されます：\n- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）\n- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）\n- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）\n- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）\n- **備考**: テキストエリアで備考を入力（任意）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1466
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1467
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1468
          },
          {
            "lineNumber": 1469
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1470
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1471
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1472
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1473
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1474
          },
          {
            "lineNumber": 1475
          },
          {
            "text": "### 休日出勤申請",
            "lineNumber": 1476
          },
          {
            "text": "休日出勤申請は、休日に出勤する場合の申請です。",
            "lineNumber": 1477
          },
          {
            "lineNumber": 1478
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1479
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）",
            "lineNumber": 1480
          },
          {
            "text": "- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）",
            "lineNumber": 1481
          },
          {
            "text": "- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1482
          },
          {
            "text": "- **備考**: 休日出勤の理由や備考を入力（任意）",
            "lineNumber": 1483
          },
          {
            "lineNumber": 1484
          },
          {
            "text": "#### 表示内容",
            "lineNumber": 1485
          },
          {
            "text": "休日出勤申請タブを開くと、以下の情報が表示されます：",
            "lineNumber": 1486
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）",
            "lineNumber": 1487
          },
          {
            "text": "- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）",
            "lineNumber": 1488
          },
          {
            "text": "- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）",
            "lineNumber": 1489
          },
          {
            "text": "- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1490
          },
          {
            "text": "- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）",
            "lineNumber": 1491
          },
          {
            "text": "- **備考**: テキストエリアで備考を入力（任意）",
            "lineNumber": 1492
          }
        ]
      },
      "score": 0.4652009606361389
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 599
          },
          "endPosition": {
            "line": 629
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休日出勤申請取消\n     - API利用仕様に従い、休日出勤申請を取り消す。\n     - 【API利用仕様 No.15（休日出勤申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n\n#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 600
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 601
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 602
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 603
          },
          {
            "text": "   - 休日出勤申請取消",
            "lineNumber": 604
          },
          {
            "text": "     - API利用仕様に従い、休日出勤申請を取り消す。",
            "lineNumber": 605
          },
          {
            "text": "     - 【API利用仕様 No.15（休日出勤申請取消API）】",
            "lineNumber": 606
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 607
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 608
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 609
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 610
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 611
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 612
          },
          {
            "lineNumber": 613
          },
          {
            "text": "#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下",
            "lineNumber": 614
          },
          {
            "lineNumber": 615
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 616
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 617
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 618
          },
          {
            "lineNumber": 619
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 620
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 621
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 622
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 623
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 624
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 625
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 626
          },
          {
            "lineNumber": 627
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 628
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 629
          }
        ]
      },
      "score": 0.4520041346549988
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 300
          },
          "endPosition": {
            "line": 413,
            "column": 1
          }
        },
        "contents": "const cancelApplication = async \n\n    case 'HOLIDAY_WORK': {\n      // 休日出勤申請の取り消し\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE APPLICATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            REASON = NULL,\n            UPDATED_AT = NOW()\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPLICATION_TYPE = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId, applicationType]);\n      \n      // 申請情報から対象日を取得\n      const applicationInfoQuery = &#96;\n        SELECT TARGET_START_DATE\n        FROM APPLICATION_HISTORY\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n      &#96;;\n      const [applicationRows] = await db.execute(applicationInfoQuery, [applicationId, employeeId]);\n      \n      if (applicationRows.length &gt; 0)\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 301,
                "column": 1
              },
              "endPosition": {
                "line": 301,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 301,
                "column": 7
              },
              "endPosition": {
                "line": 301,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const cancelApplication = async ",
            "lineNumber": 301
          },
          {
            "lineNumber": 340
          },
          {
            "text": "    case 'HOLIDAY_WORK': {",
            "lineNumber": 341
          },
          {
            "text": "      // 休日出勤申請の取り消し",
            "lineNumber": 342
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）",
            "lineNumber": 343
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 344
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 345
          },
          {
            "text": "        UPDATE APPLICATION_HISTORY",
            "lineNumber": 346
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 347
          },
          {
            "text": "            REASON = NULL,",
            "lineNumber": 348
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 349
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 350
          },
          {
            "text": "          AND APPLICATION_TYPE = ?",
            "lineNumber": 351
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 352
          },
          {
            "text": "      &#96;;",
            "lineNumber": 353
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId, applicationType]);",
            "lineNumber": 354
          },
          {
            "text": "      ",
            "lineNumber": 355
          },
          {
            "text": "      // 申請情報から対象日を取得",
            "lineNumber": 356
          },
          {
            "text": "      const applicationInfoQuery = &#96;",
            "lineNumber": 357
          },
          {
            "text": "        SELECT TARGET_START_DATE",
            "lineNumber": 358
          },
          {
            "text": "        FROM APPLICATION_HISTORY",
            "lineNumber": 359
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 360
          },
          {
            "text": "      &#96;;",
            "lineNumber": 361
          },
          {
            "text": "      const [applicationRows] = await db.execute(applicationInfoQuery, [applicationId, employeeId]);",
            "lineNumber": 362
          },
          {
            "text": "      ",
            "lineNumber": 363
          },
          {
            "text": "      if (applicationRows.length &gt; 0)",
            "lineNumber": 364
          },
          {
            "text": ";",
            "lineNumber": 414
          }
        ]
      },
      "score": 0.44966113567352295
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 84
          },
          "endPosition": {
            "line": 95
          }
        },
        "contents": "| 35-9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;コメント | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認/却下時に入力されたコメント。空欄の場合は空欄で表示 |\n| 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休暇申請を送信する。青色のボタン。押下で申請が送信され、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |\n| 36-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |\n| 37 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;休日出勤申請フォーム&gt; | | | | | | | | | | | | |\n| 38 | 休日出勤申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請タブが選択されている場合に表示 |\n| 39 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 出力 | | 時間 | | | | H:MM | 表示 | 活性 | | 当月の時間外残業時間の合計を表示（例: 0:00） |\n| 40 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 勤務時間を指定 |\n| 41 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の開始時間（例: 9:00） |\n| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |\n| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 35-9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;コメント | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認/却下時に入力されたコメント。空欄の場合は空欄で表示 |",
            "lineNumber": 85
          },
          {
            "text": "| 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休暇申請を送信する。青色のボタン。押下で申請が送信され、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |",
            "lineNumber": 86
          },
          {
            "text": "| 36-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 87
          },
          {
            "text": "| 37 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 88
          },
          {
            "text": "| | &lt;休日出勤申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 89
          },
          {
            "text": "| 38 | 休日出勤申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請タブが選択されている場合に表示 |",
            "lineNumber": 90
          },
          {
            "text": "| 39 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;当月時間外残業 | 出力 | | 時間 | | | | H:MM | 表示 | 活性 | | 当月の時間外残業時間の合計を表示（例: 0:00） |",
            "lineNumber": 91
          },
          {
            "text": "| 40 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 勤務時間を指定 |",
            "lineNumber": 92
          },
          {
            "text": "| 41 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の開始時間（例: 9:00） |",
            "lineNumber": 93
          },
          {
            "text": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |",
            "lineNumber": 94
          },
          {
            "text": "| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |",
            "lineNumber": 95
          }
        ]
      },
      "score": 0.44612956047058105
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 527
          },
          "endPosition": {
            "line": 565
          }
        },
        "contents": "2. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n   - 日次勤務データを取得する。\n   - 【API利用仕様 No.9（日次勤務データ取得API）】\n\n3. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n4. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 日次確定申請取消\n     - API利用仕様に従い、日次確定申請を取り消す。\n     - 【API利用仕様 No.13（日次確定申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n\n#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. 申請情報取得",
            "lineNumber": 529
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 530
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 531
          },
          {
            "text": "   - 日次勤務データを取得する。",
            "lineNumber": 532
          },
          {
            "text": "   - 【API利用仕様 No.9（日次勤務データ取得API）】",
            "lineNumber": 533
          },
          {
            "lineNumber": 534
          },
          {
            "text": "3. 申請取消確認ダイアログ表示",
            "lineNumber": 535
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 536
          },
          {
            "text": "   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。",
            "lineNumber": 537
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 538
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 539
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 540
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 541
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 542
          },
          {
            "lineNumber": 543
          },
          {
            "text": "4. 承認取消ボタン押下処理",
            "lineNumber": 544
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 545
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 546
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 547
          },
          {
            "text": "   - 日次確定申請取消",
            "lineNumber": 548
          },
          {
            "text": "     - API利用仕様に従い、日次確定申請を取り消す。",
            "lineNumber": 549
          },
          {
            "text": "     - 【API利用仕様 No.13（日次確定申請取消API）】",
            "lineNumber": 550
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 551
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 552
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 553
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 554
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 555
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 556
          },
          {
            "lineNumber": 557
          },
          {
            "text": "#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下",
            "lineNumber": 558
          },
          {
            "lineNumber": 559
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 560
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 561
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 562
          },
          {
            "lineNumber": 563
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 564
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 565
          }
        ]
      },
      "score": 0.4424471855163574
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 746
          },
          "endPosition": {
            "line": 758
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n  | 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 747
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 748
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 749
          },
          {
            "text": "  | 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |",
            "lineNumber": 750
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |",
            "lineNumber": 751
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |",
            "lineNumber": 752
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |",
            "lineNumber": 753
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |",
            "lineNumber": 754
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |",
            "lineNumber": 755
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
            "lineNumber": 756
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 757
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 758
          }
        ]
      },
      "score": 0.4360162615776062
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 59
          },
          "endPosition": {
            "line": 69
          }
        },
        "contents": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |\n| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |\n| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |\n| 24-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |\n| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |\n| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |\n| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |\n| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |\n| 28-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |",
            "lineNumber": 60
          },
          {
            "text": "| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |",
            "lineNumber": 61
          },
          {
            "text": "| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |",
            "lineNumber": 62
          },
          {
            "text": "| 24-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |",
            "lineNumber": 63
          },
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 64
          },
          {
            "text": "| | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 65
          },
          {
            "text": "| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |",
            "lineNumber": 66
          },
          {
            "text": "| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |",
            "lineNumber": 67
          },
          {
            "text": "| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |",
            "lineNumber": 68
          },
          {
            "text": "| 28-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |",
            "lineNumber": 69
          }
        ]
      },
      "score": 0.43145835399627686
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 789
          },
          "endPosition": {
            "line": 804
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n  | 休憩時間設定ダイアログ | 休日出勤申請フォームの変更リンク押下時に表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | 「休憩時間の設定」を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | 既存の休憩時間がある場合はその値を表示、ない場合は1行の空欄の入力行を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその開始時刻を初期値として設定 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその終了時刻を初期値として設定 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;追加ボタン | 「+」ボタンを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OKボタン | 青色のボタンを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルリンク | 青色のリンクを表示 | |\n  | 休憩時間設定ダイアログ | 休日出勤申請フォームの変更リンク押下時に表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | 「休憩時間の設定」を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | 既存の休憩時間がある場合はその値を表示、ない場合は1行の空欄の入力行を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその開始時刻を初期値として設定 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 790
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 791
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 792
          },
          {
            "text": "  | 休憩時間設定ダイアログ | 休日出勤申請フォームの変更リンク押下時に表示 | |",
            "lineNumber": 793
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | 「休憩時間の設定」を表示 | |",
            "lineNumber": 794
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | 既存の休憩時間がある場合はその値を表示、ない場合は1行の空欄の入力行を表示 | |",
            "lineNumber": 795
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその開始時刻を初期値として設定 | |",
            "lineNumber": 796
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその終了時刻を初期値として設定 | |",
            "lineNumber": 797
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;追加ボタン | 「+」ボタンを表示 | |",
            "lineNumber": 798
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OKボタン | 青色のボタンを表示 | |",
            "lineNumber": 799
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルリンク | 青色のリンクを表示 | |",
            "lineNumber": 800
          },
          {
            "text": "  | 休憩時間設定ダイアログ | 休日出勤申請フォームの変更リンク押下時に表示 | |",
            "lineNumber": 801
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | 「休憩時間の設定」を表示 | |",
            "lineNumber": 802
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | 既存の休憩時間がある場合はその値を表示、ない場合は1行の空欄の入力行を表示 | |",
            "lineNumber": 803
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその開始時刻を初期値として設定 | |",
            "lineNumber": 804
          }
        ]
      },
      "score": 0.4299614131450653
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 101
          },
          "endPosition": {
            "line": 114
          }
        },
        "contents": "| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |\n| 46-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |\n| 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルリンク | リンク | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる。青色のリンク |\n| | &lt;残業申請フォーム&gt; | | | | | | | | | | | | |\n| 48 | 残業申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 残業申請タブが選択されている場合に表示 |\n| 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 残業を申請します。 |\n| 50 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 残業期間を指定 |\n| 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業開始日 |\n| 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業終了日 |\n| 53 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 残業時間を指定 |\n| 54 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 残業申請の備考・理由を入力 |\n| 54-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |\n| 54-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |",
            "lineNumber": 102
          },
          {
            "text": "| 46-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 103
          },
          {
            "text": "| 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルリンク | リンク | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる。青色のリンク |",
            "lineNumber": 104
          },
          {
            "text": "| | &lt;残業申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 105
          },
          {
            "text": "| 48 | 残業申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 残業申請タブが選択されている場合に表示 |",
            "lineNumber": 106
          },
          {
            "text": "| 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 残業を申請します。 |",
            "lineNumber": 107
          },
          {
            "text": "| 50 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 残業期間を指定 |",
            "lineNumber": 108
          },
          {
            "text": "| 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業開始日 |",
            "lineNumber": 109
          },
          {
            "text": "| 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業終了日 |",
            "lineNumber": 110
          },
          {
            "text": "| 53 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 残業時間を指定 |",
            "lineNumber": 111
          },
          {
            "text": "| 54 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 残業申請の備考・理由を入力 |",
            "lineNumber": 112
          },
          {
            "text": "| 54-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |",
            "lineNumber": 113
          },
          {
            "text": "| 54-2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |",
            "lineNumber": 114
          }
        ]
      },
      "score": 0.42938995361328125
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1195
          },
          "endPosition": {
            "line": 1239
          }
        },
        "contents": "- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | GET | |\n  | エンドポイント | /api/attendance/monthly-approval-status | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |\n  | YEAR | 対象年の年 | クエリパラメータ、YYYY形式 |\n  | MONTH | 対象月の月 | クエリパラメータ、MM形式 |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 月次申請状態 | 月次申請状態（NOT_SUBMITTED/PENDING/APPROVED） | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 月次申請状態を取得する\n  - 月次申請が申請中または承認済みの場合、日次申請の取り消しはできない\n\n#### No.13\n- API仕様名：日次確定申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/daily-confirmation | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 日次確定申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 月次申請が申請中または承認済みの場合、取り消し不可\n  - 申請取消後、ATTENDANCE_RECORDのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.14\n- API仕様名：休暇申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- リクエスト",
            "lineNumber": 1196
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1197
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1198
          },
          {
            "text": "  | HTTPメソッド | GET | |",
            "lineNumber": 1199
          },
          {
            "text": "  | エンドポイント | /api/attendance/monthly-approval-status | |",
            "lineNumber": 1200
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |",
            "lineNumber": 1201
          },
          {
            "text": "  | YEAR | 対象年の年 | クエリパラメータ、YYYY形式 |",
            "lineNumber": 1202
          },
          {
            "text": "  | MONTH | 対象月の月 | クエリパラメータ、MM形式 |",
            "lineNumber": 1203
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1204
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1205
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1206
          },
          {
            "text": "  | 月次申請状態 | 月次申請状態（NOT_SUBMITTED/PENDING/APPROVED） | |",
            "lineNumber": 1207
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1208
          },
          {
            "text": "  - なし",
            "lineNumber": 1209
          },
          {
            "text": "- その他",
            "lineNumber": 1210
          },
          {
            "text": "  - 月次申請状態を取得する",
            "lineNumber": 1211
          },
          {
            "text": "  - 月次申請が申請中または承認済みの場合、日次申請の取り消しはできない",
            "lineNumber": 1212
          },
          {
            "lineNumber": 1213
          },
          {
            "text": "#### No.13",
            "lineNumber": 1214
          },
          {
            "text": "- API仕様名：日次確定申請取消API",
            "lineNumber": 1215
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1216
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1217
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1218
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1219
          },
          {
            "text": "  | エンドポイント | /api/attendance/daily-confirmation | |",
            "lineNumber": 1220
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1221
          },
          {
            "text": "  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |",
            "lineNumber": 1222
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1223
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1224
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1225
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1226
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1227
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1228
          },
          {
            "text": "  - なし",
            "lineNumber": 1229
          },
          {
            "text": "- その他",
            "lineNumber": 1230
          },
          {
            "text": "  - 日次確定申請を取り消す",
            "lineNumber": 1231
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1232
          },
          {
            "text": "  - 月次申請が申請中または承認済みの場合、取り消し不可",
            "lineNumber": 1233
          },
          {
            "text": "  - 申請取消後、ATTENDANCE_RECORDのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1234
          },
          {
            "lineNumber": 1235
          },
          {
            "text": "#### No.14",
            "lineNumber": 1236
          },
          {
            "text": "- API仕様名：休暇申請取消API",
            "lineNumber": 1237
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1238
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1239
          }
        ]
      },
      "score": 0.4244087040424347
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 267
          },
          "endPosition": {
            "line": 413,
            "column": 1
          }
        },
        "contents": "const \n;\n\n/**\n * 申請を取り消す\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId - 申請ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {\n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の取り消し\n      const attendanceModel = require('../models/attendanceModel');\n      const attendanceService = require('../services/attendanceService');\n      \n      if (!targetDate) {\n        throw new Error('対象日が必要です。');\n      }\n      \n      // 月次申請状態を確認\n      const date = new Date(targetDate);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(\n        employeeId, \n        &#96;${year}-${String(month).padStart(2, '0')}&#96;\n      );\n      \n      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {\n        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');\n      }\n      \n      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の取り消し\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE VACATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            UPDATED_AT = NOW()\n        WHERE VACATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId]);\n      break;\n    }\n    case 'HOLIDAY_WORK': {\n      // 休日出勤申請の取り消し\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "const ",
            "lineNumber": 268
          },
          {
            "text": ";",
            "lineNumber": 291
          },
          {
            "lineNumber": 292
          },
          {
            "text": "/**",
            "lineNumber": 293
          },
          {
            "text": " * 申請を取り消す",
            "lineNumber": 294
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 295
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 296
          },
          {
            "text": " * @param {string|number} applicationId - 申請ID",
            "lineNumber": 297
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）",
            "lineNumber": 298
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 299
          },
          {
            "text": " */",
            "lineNumber": 300
          },
          {
            "text": "const cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {",
            "lineNumber": 301
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 302
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 303
          },
          {
            "text": "      // 日次確定申請の取り消し",
            "lineNumber": 304
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 305
          },
          {
            "text": "      const attendanceService = require('../services/attendanceService');",
            "lineNumber": 306
          },
          {
            "text": "      ",
            "lineNumber": 307
          },
          {
            "text": "      if (!targetDate) {",
            "lineNumber": 308
          },
          {
            "text": "        throw new Error('対象日が必要です。');",
            "lineNumber": 309
          },
          {
            "text": "      }",
            "lineNumber": 310
          },
          {
            "text": "      ",
            "lineNumber": 311
          },
          {
            "text": "      // 月次申請状態を確認",
            "lineNumber": 312
          },
          {
            "text": "      const date = new Date(targetDate);",
            "lineNumber": 313
          },
          {
            "text": "      const year = date.getFullYear();",
            "lineNumber": 314
          },
          {
            "text": "      const month = date.getMonth() + 1;",
            "lineNumber": 315
          },
          {
            "text": "      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(",
            "lineNumber": 316
          },
          {
            "text": "        employeeId, ",
            "lineNumber": 317
          },
          {
            "text": "        &#96;${year}-${String(month).padStart(2, '0')}&#96;",
            "lineNumber": 318
          },
          {
            "text": "      );",
            "lineNumber": 319
          },
          {
            "text": "      ",
            "lineNumber": 320
          },
          {
            "text": "      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {",
            "lineNumber": 321
          },
          {
            "text": "        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');",
            "lineNumber": 322
          },
          {
            "text": "      }",
            "lineNumber": 323
          },
          {
            "text": "      ",
            "lineNumber": 324
          },
          {
            "text": "      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);",
            "lineNumber": 325
          },
          {
            "text": "      break;",
            "lineNumber": 326
          },
          {
            "text": "    }",
            "lineNumber": 327
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 328
          },
          {
            "text": "      // 休暇申請の取り消し",
            "lineNumber": 329
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 330
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 331
          },
          {
            "text": "        UPDATE VACATION_HISTORY",
            "lineNumber": 332
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 333
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 334
          },
          {
            "text": "        WHERE VACATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 335
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 336
          },
          {
            "text": "      &#96;;",
            "lineNumber": 337
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId]);",
            "lineNumber": 338
          },
          {
            "text": "      break;",
            "lineNumber": 339
          },
          {
            "text": "    }",
            "lineNumber": 340
          },
          {
            "text": "    case 'HOLIDAY_WORK': {",
            "lineNumber": 341
          },
          {
            "text": "      // 休日出勤申請の取り消し",
            "lineNumber": 342
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）",
            "lineNumber": 343
          },
          {
            "text": ";",
            "lineNumber": 414
          }
        ]
      },
      "score": 0.4241165518760681
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1655
          },
          "endPosition": {
            "line": 1690
          }
        },
        "contents": "### 申請取り消し機能\n\n申請中または承認済みの申請を取り消すことができます。\n\n#### 申請取消ボタンの表示条件\n- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます\n- 申請取消ボタンは赤色のボタンで表示されます\n- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります\n\n#### 申請取り消しの手順\n1. 申請中または承認済みの申請タイプのタブを開く\n2. 「申請取消」ボタンをクリックする\n3. 申請取消確認ダイアログが表示される\n   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される\n   - 申請日時が表示される\n   - 状況（申請済みまたは承認済み）が表示される\n   - 承認履歴テーブルが表示される\n4. 「承認取消」ボタンをクリックする\n5. 申請が取り消され、申請前の状態に戻る\n\n#### 申請取り消しの制約\n- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません\n- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です\n\n#### 申請取り消し後の動作\n- 申請取消成功後、申請取消確認ダイアログが閉じます\n- 勤怠関連申請画面のダイアログが閉じます\n- 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新されます\n- 休暇申請の場合は、該当日の背景色が通常色に戻ります\n\n#### メニュー項目の活性/非活性制御\n- 申請中（PENDING）または承認済み（APPROVED）の申請がある場合、メニュー画面の各申請タイプのボタンは非活性（押せない状態）になります\n- 非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になります\n- これにより、申請中または承認済みの申請がある場合、新しい申請を行うことができなくなります",
        "signatures": {},
        "detailedLines": [
          {
            "text": "### 申請取り消し機能",
            "lineNumber": 1657
          },
          {
            "lineNumber": 1658
          },
          {
            "text": "申請中または承認済みの申請を取り消すことができます。",
            "lineNumber": 1659
          },
          {
            "lineNumber": 1660
          },
          {
            "text": "#### 申請取消ボタンの表示条件",
            "lineNumber": 1661
          },
          {
            "text": "- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます",
            "lineNumber": 1662
          },
          {
            "text": "- 申請取消ボタンは赤色のボタンで表示されます",
            "lineNumber": 1663
          },
          {
            "text": "- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります",
            "lineNumber": 1664
          },
          {
            "lineNumber": 1665
          },
          {
            "text": "#### 申請取り消しの手順",
            "lineNumber": 1666
          },
          {
            "text": "1. 申請中または承認済みの申請タイプのタブを開く",
            "lineNumber": 1667
          },
          {
            "text": "2. 「申請取消」ボタンをクリックする",
            "lineNumber": 1668
          },
          {
            "text": "3. 申請取消確認ダイアログが表示される",
            "lineNumber": 1669
          },
          {
            "text": "   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される",
            "lineNumber": 1670
          },
          {
            "text": "   - 申請日時が表示される",
            "lineNumber": 1671
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）が表示される",
            "lineNumber": 1672
          },
          {
            "text": "   - 承認履歴テーブルが表示される",
            "lineNumber": 1673
          },
          {
            "text": "4. 「承認取消」ボタンをクリックする",
            "lineNumber": 1674
          },
          {
            "text": "5. 申請が取り消され、申請前の状態に戻る",
            "lineNumber": 1675
          },
          {
            "lineNumber": 1676
          },
          {
            "text": "#### 申請取り消しの制約",
            "lineNumber": 1677
          },
          {
            "text": "- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません",
            "lineNumber": 1678
          },
          {
            "text": "- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
            "lineNumber": 1679
          },
          {
            "lineNumber": 1680
          },
          {
            "text": "#### 申請取り消し後の動作",
            "lineNumber": 1681
          },
          {
            "text": "- 申請取消成功後、申請取消確認ダイアログが閉じます",
            "lineNumber": 1682
          },
          {
            "text": "- 勤怠関連申請画面のダイアログが閉じます",
            "lineNumber": 1683
          },
          {
            "text": "- 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新されます",
            "lineNumber": 1684
          },
          {
            "text": "- 休暇申請の場合は、該当日の背景色が通常色に戻ります",
            "lineNumber": 1685
          },
          {
            "lineNumber": 1686
          },
          {
            "text": "#### メニュー項目の活性/非活性制御",
            "lineNumber": 1687
          },
          {
            "text": "- 申請中（PENDING）または承認済み（APPROVED）の申請がある場合、メニュー画面の各申請タイプのボタンは非活性（押せない状態）になります",
            "lineNumber": 1688
          },
          {
            "text": "- 非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になります",
            "lineNumber": 1689
          },
          {
            "text": "- これにより、申請中または承認済みの申請がある場合、新しい申請を行うことができなくなります",
            "lineNumber": 1690
          }
        ]
      },
      "score": 0.41929930448532104
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2504
          },
          "endPosition": {
            "line": 2559
          }
        },
        "contents": "    // 日次確定申請取消\n    async cancelDailyConfirmation() {\n      // 申請情報を取得\n      await this.loadApplicationInfo('dailyConfirmation')\n      \n      // 日次確定申請の場合、勤務データも取得\n      let attendanceData = null\n      if (this.isPendingOrApproved('dailyConfirmation')) {\n        await this.loadDailyAttendanceData()\n        // 勤務データを取得\n        try {\n          const response = await getWorkHours(this.employeeId, this.targetDate)\n          if (response.success &amp;&amp; response.attendance) {\n            attendanceData = response.attendance\n          }\n        } catch (error) {\n          console.error('勤務データ取得エラー:', error)\n        }\n      }\n      \n      // 申請取消確認ダイアログを表示\n      this.cancelDialogApplicationType = 'dailyConfirmation'\n      this.cancelDialogApplicationInfo = this.applicationInfo.dailyConfirmation\n      this.cancelDialogAttendanceData = attendanceData\n      this.showCancelConfirmationDialog = true\n    },\n    \n    // 休暇申請取消\n    async cancelVacationApplication() {\n      // 申請情報を取得\n      await this.loadApplicationInfo('vacation')\n      \n      // 申請取消確認ダイアログを表示\n      this.cancelDialogApplicationType = 'vacation'\n      this.cancelDialogApplicationInfo = this.applicationInfo.vacation\n      this.cancelDialogAttendanceData = null\n      this.showCancelConfirmationDialog = true\n    },\n    \n    // 休日出勤申請取消\n    async cancelHolidayWorkApplication() {\n      // 申請情報を取得\n      await this.loadApplicationInfo('holidayWork')\n      \n      // 申請取消確認ダイアログを表示\n      this.cancelDialogApplicationType = 'holidayWork'\n      this.cancelDialogApplicationInfo = this.applicationInfo.holidayWork\n      this.cancelDialogAttendanceData = null\n      this.showCancelConfirmationDialog = true\n    },\n    \n    // 残業申請取消\n    async cancelOvertimeApplication() {\n      // 申請情報を取得\n      await this.loadApplicationInfo('overtime')",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    // 日次確定申請取消",
            "lineNumber": 2505
          },
          {
            "text": "    async cancelDailyConfirmation() {",
            "lineNumber": 2506
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 2507
          },
          {
            "text": "      await this.loadApplicationInfo('dailyConfirmation')",
            "lineNumber": 2508
          },
          {
            "text": "      ",
            "lineNumber": 2509
          },
          {
            "text": "      // 日次確定申請の場合、勤務データも取得",
            "lineNumber": 2510
          },
          {
            "text": "      let attendanceData = null",
            "lineNumber": 2511
          },
          {
            "text": "      if (this.isPendingOrApproved('dailyConfirmation')) {",
            "lineNumber": 2512
          },
          {
            "text": "        await this.loadDailyAttendanceData()",
            "lineNumber": 2513
          },
          {
            "text": "        // 勤務データを取得",
            "lineNumber": 2514
          },
          {
            "text": "        try {",
            "lineNumber": 2515
          },
          {
            "text": "          const response = await getWorkHours(this.employeeId, this.targetDate)",
            "lineNumber": 2516
          },
          {
            "text": "          if (response.success &amp;&amp; response.attendance) {",
            "lineNumber": 2517
          },
          {
            "text": "            attendanceData = response.attendance",
            "lineNumber": 2518
          },
          {
            "text": "          }",
            "lineNumber": 2519
          },
          {
            "text": "        } catch (error) {",
            "lineNumber": 2520
          },
          {
            "text": "          console.error('勤務データ取得エラー:', error)",
            "lineNumber": 2521
          },
          {
            "text": "        }",
            "lineNumber": 2522
          },
          {
            "text": "      }",
            "lineNumber": 2523
          },
          {
            "text": "      ",
            "lineNumber": 2524
          },
          {
            "text": "      // 申請取消確認ダイアログを表示",
            "lineNumber": 2525
          },
          {
            "text": "      this.cancelDialogApplicationType = 'dailyConfirmation'",
            "lineNumber": 2526
          },
          {
            "text": "      this.cancelDialogApplicationInfo = this.applicationInfo.dailyConfirmation",
            "lineNumber": 2527
          },
          {
            "text": "      this.cancelDialogAttendanceData = attendanceData",
            "lineNumber": 2528
          },
          {
            "text": "      this.showCancelConfirmationDialog = true",
            "lineNumber": 2529
          },
          {
            "text": "    },",
            "lineNumber": 2530
          },
          {
            "text": "    ",
            "lineNumber": 2531
          },
          {
            "text": "    // 休暇申請取消",
            "lineNumber": 2532
          },
          {
            "text": "    async cancelVacationApplication() {",
            "lineNumber": 2533
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 2534
          },
          {
            "text": "      await this.loadApplicationInfo('vacation')",
            "lineNumber": 2535
          },
          {
            "text": "      ",
            "lineNumber": 2536
          },
          {
            "text": "      // 申請取消確認ダイアログを表示",
            "lineNumber": 2537
          },
          {
            "text": "      this.cancelDialogApplicationType = 'vacation'",
            "lineNumber": 2538
          },
          {
            "text": "      this.cancelDialogApplicationInfo = this.applicationInfo.vacation",
            "lineNumber": 2539
          },
          {
            "text": "      this.cancelDialogAttendanceData = null",
            "lineNumber": 2540
          },
          {
            "text": "      this.showCancelConfirmationDialog = true",
            "lineNumber": 2541
          },
          {
            "text": "    },",
            "lineNumber": 2542
          },
          {
            "text": "    ",
            "lineNumber": 2543
          },
          {
            "text": "    // 休日出勤申請取消",
            "lineNumber": 2544
          },
          {
            "text": "    async cancelHolidayWorkApplication() {",
            "lineNumber": 2545
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 2546
          },
          {
            "text": "      await this.loadApplicationInfo('holidayWork')",
            "lineNumber": 2547
          },
          {
            "text": "      ",
            "lineNumber": 2548
          },
          {
            "text": "      // 申請取消確認ダイアログを表示",
            "lineNumber": 2549
          },
          {
            "text": "      this.cancelDialogApplicationType = 'holidayWork'",
            "lineNumber": 2550
          },
          {
            "text": "      this.cancelDialogApplicationInfo = this.applicationInfo.holidayWork",
            "lineNumber": 2551
          },
          {
            "text": "      this.cancelDialogAttendanceData = null",
            "lineNumber": 2552
          },
          {
            "text": "      this.showCancelConfirmationDialog = true",
            "lineNumber": 2553
          },
          {
            "text": "    },",
            "lineNumber": 2554
          },
          {
            "text": "    ",
            "lineNumber": 2555
          },
          {
            "text": "    // 残業申請取消",
            "lineNumber": 2556
          },
          {
            "text": "    async cancelOvertimeApplication() {",
            "lineNumber": 2557
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 2558
          },
          {
            "text": "      await this.loadApplicationInfo('overtime')",
            "lineNumber": 2559
          }
        ]
      },
      "score": 0.41083014011383057
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1102
          },
          "endPosition": {
            "line": 1142
          }
        },
        "contents": "- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | POST | |\n  | エンドポイント | /api/attendance/monthly-approval/cancel | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | YEAR | 表示対象年 | リクエストボディ、YYYY形式 |\n  | MONTH | 表示対象月 | リクエストボディ、MM形式 |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 月次確定申請中（MONTHLY_APPROVAL_STATUS=PENDING）の場合のみ取消可能\n  - MONTHLY_APPROVAL_HISTORYにCANCEL履歴を追加\n  - MONTHLY_ATTENDANCEのMONTHLY_APPROVAL_STATUSをNOT_SUBMITTEDに更新\n\n## 補足説明\n\n### ホーム画面からの連携\nホーム画面で出勤ボタン・定時出勤ボタン・退勤ボタン・定時退勤ボタンが押されると、バックエンドAPIを通じてATTENDANCE_RECORDテーブルに勤怠データが記録されます。勤務表画面では、このデータを取得して該当日の出社・退社の列に時刻を表示します。\n\n### フレックスタイム制の労働時間管理\n本システムはフレックスタイム制を採用しており、以下の規定に基づいて労働時間を管理します：\n\n#### 基本規定\n- **標準勤務時間**: 9:00-17:30（標準勤務時間帯、グラフ上でグレー表示）\n- **1日の標準労働時間**: 7時間30分（7.5時間）\n- **最小勤務時間**: 3時間45分/日\n- **清算期間**: 1ヶ月単位\n- **遅刻・早退の扱い**: フレックスタイム適用社員には遅刻・早退・私用外出の定義は適用しない\n\n#### 残業時間の計算方法\nフレックスタイム制では、月次で残業を判定します：\n\n1. **法定時間内残業**:\n   - 計算方法: 実作業時間 - 所定労働時間",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- リクエスト",
            "lineNumber": 1103
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1104
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1105
          },
          {
            "text": "  | HTTPメソッド | POST | |",
            "lineNumber": 1106
          },
          {
            "text": "  | エンドポイント | /api/attendance/monthly-approval/cancel | |",
            "lineNumber": 1107
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1108
          },
          {
            "text": "  | YEAR | 表示対象年 | リクエストボディ、YYYY形式 |",
            "lineNumber": 1109
          },
          {
            "text": "  | MONTH | 表示対象月 | リクエストボディ、MM形式 |",
            "lineNumber": 1110
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1111
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1112
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1113
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1114
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1115
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1116
          },
          {
            "text": "  - なし",
            "lineNumber": 1117
          },
          {
            "text": "- その他",
            "lineNumber": 1118
          },
          {
            "text": "  - 月次確定申請中（MONTHLY_APPROVAL_STATUS=PENDING）の場合のみ取消可能",
            "lineNumber": 1119
          },
          {
            "text": "  - MONTHLY_APPROVAL_HISTORYにCANCEL履歴を追加",
            "lineNumber": 1120
          },
          {
            "text": "  - MONTHLY_ATTENDANCEのMONTHLY_APPROVAL_STATUSをNOT_SUBMITTEDに更新",
            "lineNumber": 1121
          },
          {
            "lineNumber": 1122
          },
          {
            "text": "## 補足説明",
            "lineNumber": 1123
          },
          {
            "lineNumber": 1124
          },
          {
            "text": "### ホーム画面からの連携",
            "lineNumber": 1125
          },
          {
            "text": "ホーム画面で出勤ボタン・定時出勤ボタン・退勤ボタン・定時退勤ボタンが押されると、バックエンドAPIを通じてATTENDANCE_RECORDテーブルに勤怠データが記録されます。勤務表画面では、このデータを取得して該当日の出社・退社の列に時刻を表示します。",
            "lineNumber": 1126
          },
          {
            "lineNumber": 1127
          },
          {
            "text": "### フレックスタイム制の労働時間管理",
            "lineNumber": 1128
          },
          {
            "text": "本システムはフレックスタイム制を採用しており、以下の規定に基づいて労働時間を管理します：",
            "lineNumber": 1129
          },
          {
            "lineNumber": 1130
          },
          {
            "text": "#### 基本規定",
            "lineNumber": 1131
          },
          {
            "text": "- **標準勤務時間**: 9:00-17:30（標準勤務時間帯、グラフ上でグレー表示）",
            "lineNumber": 1132
          },
          {
            "text": "- **1日の標準労働時間**: 7時間30分（7.5時間）",
            "lineNumber": 1133
          },
          {
            "text": "- **最小勤務時間**: 3時間45分/日",
            "lineNumber": 1134
          },
          {
            "text": "- **清算期間**: 1ヶ月単位",
            "lineNumber": 1135
          },
          {
            "text": "- **遅刻・早退の扱い**: フレックスタイム適用社員には遅刻・早退・私用外出の定義は適用しない",
            "lineNumber": 1136
          },
          {
            "lineNumber": 1137
          },
          {
            "text": "#### 残業時間の計算方法",
            "lineNumber": 1138
          },
          {
            "text": "フレックスタイム制では、月次で残業を判定します：",
            "lineNumber": 1139
          },
          {
            "lineNumber": 1140
          },
          {
            "text": "1. **法定時間内残業**:",
            "lineNumber": 1141
          },
          {
            "text": "   - 計算方法: 実作業時間 - 所定労働時間",
            "lineNumber": 1142
          }
        ]
      },
      "score": 0.404768705368042
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1733
          },
          "endPosition": {
            "line": 1739
          }
        },
        "contents": "| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |\n| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |\n| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |\n| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |\n| 2025-12-20 | 申請取消ボタンのラベルをステータスごとに分ける仕様を追加。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される仕様を追加。各申請フォームの申請取消ボタンと申請取消確認ダイアログの承認取消ボタンに適用 | AI Assistant |\n| 2025-12-20 | 申請日時の表示仕様を変更。申請日時は承認申請ボタンが押された日時を表示する仕様に変更。画面項目定義、編集仕様、API利用仕様を更新 | AI Assistant |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |",
            "lineNumber": 1734
          },
          {
            "text": "| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |",
            "lineNumber": 1735
          },
          {
            "text": "| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |",
            "lineNumber": 1736
          },
          {
            "text": "| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |",
            "lineNumber": 1737
          },
          {
            "text": "| 2025-12-20 | 申請取消ボタンのラベルをステータスごとに分ける仕様を追加。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される仕様を追加。各申請フォームの申請取消ボタンと申請取消確認ダイアログの承認取消ボタンに適用 | AI Assistant |",
            "lineNumber": 1738
          },
          {
            "text": "| 2025-12-20 | 申請日時の表示仕様を変更。申請日時は承認申請ボタンが押された日時を表示する仕様に変更。画面項目定義、編集仕様、API利用仕様を更新 | AI Assistant |",
            "lineNumber": 1739
          }
        ]
      },
      "score": 0.40417444705963135
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 767
          },
          "endPosition": {
            "line": 779
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n  | 残業申請フォーム | 残業申請タブが選択されている場合に表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業説明 | 「残業を申請します。」を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n  | 早朝勤務申請フォーム | 早朝勤務申請タブが選択されている場合に表示 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 768
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 769
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 770
          },
          {
            "text": "  | 残業申請フォーム | 残業申請タブが選択されている場合に表示 | |",
            "lineNumber": 771
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業説明 | 「残業を申請します。」を表示 | |",
            "lineNumber": 772
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |",
            "lineNumber": 773
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |",
            "lineNumber": 774
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
            "lineNumber": 775
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 776
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 777
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 778
          },
          {
            "text": "  | 早朝勤務申請フォーム | 早朝勤務申請タブが選択されている場合に表示 | |",
            "lineNumber": 779
          }
        ]
      },
      "score": 0.4021874666213989
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1713
          },
          "endPosition": {
            "line": 1747
          }
        },
        "contents": "- **承認履歴テーブル**: 以下の列で構成\n  - **#**: 履歴の連番（1, 2, 3...）\n  - **日時**: アクションが行われた日時（YYYY-MM-DD HH:MM形式）\n  - **状況**: アクション種別\n    - 「申請」: 月次確定を申請した\n    - 「承認」: 申請が承認された\n    - 「却下」: 申請が却下された\n    - 「取消」: 申請を取り消した\n  - **実行者**: アクションを実行した人の名前\n  - **コメント**: 承認/却下時に入力されたコメント\n- **承認履歴なしメッセージ**: 履歴が0件の場合、「承認履歴はありません」と表示\n- **申請取消ボタン**: グレー/青色のボタン\n  - 月次確定申請中（PENDING）の場合: 青色で活性、押下で申請取消\n  - それ以外の場合: グレーで非活性\n- **閉じるリンク**: 青色のリンク、押下でダイアログを閉じる\n\n#### 申請取消処理\n申請取消ボタンを押下すると：\n1. 確認ダイアログ「月次確定申請を取り消しますか？」を表示\n2. OKを押すと申請が取り消され、ステータスが「未確定」に戻る\n3. 承認履歴テーブルに「取消」の履歴が追加される\n\n### 申請状況詳細ダイアログ\n\n申請状況アイコン（申請中、承認済み、却下）を押下すると、申請状況の詳細を表示するダイアログが開きます。\n\n#### ダイアログの構成\n- **タイトル**: 「申請状況」（青色のヘッダーバー）\n- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n- **申請状態**: 申請中/承認済み/却下のいずれかを表示\n- **申請日時**: 日次確定申請を行った日時をYYYY-MM-DD HH:MM形式で表示\n- **承認日時**: 承認済みの場合のみ表示。承認された日時をYYYY-MM-DD HH:MM形式で表示\n- **却下日時**: 却下の場合のみ表示。却下された日時をYYYY-MM-DD HH:MM形式で表示\n- **承認者**: 申請中または承認済みの場合に表示。承認者名を表示",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **承認履歴テーブル**: 以下の列で構成",
            "lineNumber": 1714
          },
          {
            "text": "  - **#**: 履歴の連番（1, 2, 3...）",
            "lineNumber": 1715
          },
          {
            "text": "  - **日時**: アクションが行われた日時（YYYY-MM-DD HH:MM形式）",
            "lineNumber": 1716
          },
          {
            "text": "  - **状況**: アクション種別",
            "lineNumber": 1717
          },
          {
            "text": "    - 「申請」: 月次確定を申請した",
            "lineNumber": 1718
          },
          {
            "text": "    - 「承認」: 申請が承認された",
            "lineNumber": 1719
          },
          {
            "text": "    - 「却下」: 申請が却下された",
            "lineNumber": 1720
          },
          {
            "text": "    - 「取消」: 申請を取り消した",
            "lineNumber": 1721
          },
          {
            "text": "  - **実行者**: アクションを実行した人の名前",
            "lineNumber": 1722
          },
          {
            "text": "  - **コメント**: 承認/却下時に入力されたコメント",
            "lineNumber": 1723
          },
          {
            "text": "- **承認履歴なしメッセージ**: 履歴が0件の場合、「承認履歴はありません」と表示",
            "lineNumber": 1724
          },
          {
            "text": "- **申請取消ボタン**: グレー/青色のボタン",
            "lineNumber": 1725
          },
          {
            "text": "  - 月次確定申請中（PENDING）の場合: 青色で活性、押下で申請取消",
            "lineNumber": 1726
          },
          {
            "text": "  - それ以外の場合: グレーで非活性",
            "lineNumber": 1727
          },
          {
            "text": "- **閉じるリンク**: 青色のリンク、押下でダイアログを閉じる",
            "lineNumber": 1728
          },
          {
            "lineNumber": 1729
          },
          {
            "text": "#### 申請取消処理",
            "lineNumber": 1730
          },
          {
            "text": "申請取消ボタンを押下すると：",
            "lineNumber": 1731
          },
          {
            "text": "1. 確認ダイアログ「月次確定申請を取り消しますか？」を表示",
            "lineNumber": 1732
          },
          {
            "text": "2. OKを押すと申請が取り消され、ステータスが「未確定」に戻る",
            "lineNumber": 1733
          },
          {
            "text": "3. 承認履歴テーブルに「取消」の履歴が追加される",
            "lineNumber": 1734
          },
          {
            "lineNumber": 1735
          },
          {
            "text": "### 申請状況詳細ダイアログ",
            "lineNumber": 1736
          },
          {
            "lineNumber": 1737
          },
          {
            "text": "申請状況アイコン（申請中、承認済み、却下）を押下すると、申請状況の詳細を表示するダイアログが開きます。",
            "lineNumber": 1738
          },
          {
            "lineNumber": 1739
          },
          {
            "text": "#### ダイアログの構成",
            "lineNumber": 1740
          },
          {
            "text": "- **タイトル**: 「申請状況」（青色のヘッダーバー）",
            "lineNumber": 1741
          },
          {
            "text": "- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 1742
          },
          {
            "text": "- **申請状態**: 申請中/承認済み/却下のいずれかを表示",
            "lineNumber": 1743
          },
          {
            "text": "- **申請日時**: 日次確定申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1744
          },
          {
            "text": "- **承認日時**: 承認済みの場合のみ表示。承認された日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1745
          },
          {
            "text": "- **却下日時**: 却下の場合のみ表示。却下された日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1746
          },
          {
            "text": "- **承認者**: 申請中または承認済みの場合に表示。承認者名を表示",
            "lineNumber": 1747
          }
        ]
      },
      "score": 0.3981224298477173
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 161
          },
          "endPosition": {
            "line": 173
          }
        },
        "contents": "| 83 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時刻 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休憩開始時刻（例: 12:00） |\n| 84 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;区切り文字 | 出力 | | 文字 | | | | | 表示 | 活性 | ～ | 開始時刻と終了時刻の区切り文字 |\n| 85 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時刻 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休憩終了時刻（例: 13:00） |\n| 86 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;削除ボタン | ボタン | | | | | | | 表示 | 活性 | | その行の休憩時間を削除する。ゴミ箱アイコン |\n| 87 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;追加ボタン | ボタン | | | | | | | 表示 | 活性 | | 新しい休憩時間の行を追加する。「+」ボタン |\n| 88 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OKボタン | ボタン | | | | | | | 表示 | 活性 | | 休憩時間の設定を確定する。青色のボタン |\n| 89 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルリンク | リンク | | | | | | | 表示 | 活性 | | 設定を破棄してダイアログを閉じる。青色のリンク |\n| | &lt;申請取消確認ダイアログ&gt; | | | | | | | | | | | | |\n| 90 | 申請取消確認ダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請取消ボタン押下時に表示。申請情報と承認履歴を表示する |\n| 91 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務情報セクション | セクション | | | | | | | | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示 |\n| 92 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出退社時刻 | 出力 | | 文字 | | | | HH:MM-HH:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。出勤時刻と退勤時刻を表示（例: 8:51-17:40） |\n| 93 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 出力 | | 文字 | | | | HH:MM-HH:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。休憩時間帯を表示（例: 12:00-13:00） |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 83 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始時刻 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休憩開始時刻（例: 12:00） |",
            "lineNumber": 162
          },
          {
            "text": "| 84 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;区切り文字 | 出力 | | 文字 | | | | | 表示 | 活性 | ～ | 開始時刻と終了時刻の区切り文字 |",
            "lineNumber": 163
          },
          {
            "text": "| 85 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了時刻 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休憩終了時刻（例: 13:00） |",
            "lineNumber": 164
          },
          {
            "text": "| 86 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;削除ボタン | ボタン | | | | | | | 表示 | 活性 | | その行の休憩時間を削除する。ゴミ箱アイコン |",
            "lineNumber": 165
          },
          {
            "text": "| 87 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;追加ボタン | ボタン | | | | | | | 表示 | 活性 | | 新しい休憩時間の行を追加する。「+」ボタン |",
            "lineNumber": 166
          },
          {
            "text": "| 88 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OKボタン | ボタン | | | | | | | 表示 | 活性 | | 休憩時間の設定を確定する。青色のボタン |",
            "lineNumber": 167
          },
          {
            "text": "| 89 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルリンク | リンク | | | | | | | 表示 | 活性 | | 設定を破棄してダイアログを閉じる。青色のリンク |",
            "lineNumber": 168
          },
          {
            "text": "| | &lt;申請取消確認ダイアログ&gt; | | | | | | | | | | | | |",
            "lineNumber": 169
          },
          {
            "text": "| 90 | 申請取消確認ダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請取消ボタン押下時に表示。申請情報と承認履歴を表示する |",
            "lineNumber": 170
          },
          {
            "text": "| 91 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務情報セクション | セクション | | | | | | | | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示 |",
            "lineNumber": 171
          },
          {
            "text": "| 92 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出退社時刻 | 出力 | | 文字 | | | | HH:MM-HH:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。出勤時刻と退勤時刻を表示（例: 8:51-17:40） |",
            "lineNumber": 172
          },
          {
            "text": "| 93 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 出力 | | 文字 | | | | HH:MM-HH:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。休憩時間帯を表示（例: 12:00-13:00） |",
            "lineNumber": 173
          }
        ]
      },
      "score": 0.39790016412734985
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1633
          },
          "endPosition": {
            "line": 1661
          }
        },
        "contents": "対象日が平日かつ以下のいずれかの場合、以下のメニューボタンが非活性（押せない状態）になります：\n- 出社と退社の両方の打刻時刻が未入力の場合\n- 出社の打刻時刻は入力されているが、退社の打刻時刻が未入力の場合（勤務中）\n\n非活性になるボタン：\n- **日次確定**: 打刻時刻が未入力または退勤していないため、日次確定申請ができない\n- **休日出勤申請**: 平日のため、休日出勤申請ができない\n\n非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。\n\n**制御ロジック**:\n1. 対象日が平日（月曜日～金曜日、かつ祝日でない）かどうかを判定\n2. 対象日の勤怠記録で出社時刻（CLOCK_IN_TIME）と退社時刻（CLOCK_OUT_TIME）の状態を確認\n3. 以下のいずれかの場合、日次確定ボタンと休日出勤申請ボタンを非活性化：\n   - 出社時刻と退社時刻の両方が未入力の場合\n   - 出社時刻は入力されているが、退社時刻が未入力の場合\n4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化\n\n**注意事項**:\n- 振替申請ボタンは休日でも常に活性状態を維持します\n- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です\n- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります\n\n### 申請取り消し機能\n\n申請中または承認済みの申請を取り消すことができます。\n\n#### 申請取消ボタンの表示条件",
        "signatures": {},
        "detailedLines": [
          {
            "text": "対象日が平日かつ以下のいずれかの場合、以下のメニューボタンが非活性（押せない状態）になります：",
            "lineNumber": 1634
          },
          {
            "text": "- 出社と退社の両方の打刻時刻が未入力の場合",
            "lineNumber": 1635
          },
          {
            "text": "- 出社の打刻時刻は入力されているが、退社の打刻時刻が未入力の場合（勤務中）",
            "lineNumber": 1636
          },
          {
            "lineNumber": 1637
          },
          {
            "text": "非活性になるボタン：",
            "lineNumber": 1638
          },
          {
            "text": "- **日次確定**: 打刻時刻が未入力または退勤していないため、日次確定申請ができない",
            "lineNumber": 1639
          },
          {
            "text": "- **休日出勤申請**: 平日のため、休日出勤申請ができない",
            "lineNumber": 1640
          },
          {
            "lineNumber": 1641
          },
          {
            "text": "非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。",
            "lineNumber": 1642
          },
          {
            "lineNumber": 1643
          },
          {
            "text": "**制御ロジック**:",
            "lineNumber": 1644
          },
          {
            "text": "1. 対象日が平日（月曜日～金曜日、かつ祝日でない）かどうかを判定",
            "lineNumber": 1645
          },
          {
            "text": "2. 対象日の勤怠記録で出社時刻（CLOCK_IN_TIME）と退社時刻（CLOCK_OUT_TIME）の状態を確認",
            "lineNumber": 1646
          },
          {
            "text": "3. 以下のいずれかの場合、日次確定ボタンと休日出勤申請ボタンを非活性化：",
            "lineNumber": 1647
          },
          {
            "text": "   - 出社時刻と退社時刻の両方が未入力の場合",
            "lineNumber": 1648
          },
          {
            "text": "   - 出社時刻は入力されているが、退社時刻が未入力の場合",
            "lineNumber": 1649
          },
          {
            "text": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化",
            "lineNumber": 1650
          },
          {
            "lineNumber": 1651
          },
          {
            "text": "**注意事項**:",
            "lineNumber": 1652
          },
          {
            "text": "- 振替申請ボタンは休日でも常に活性状態を維持します",
            "lineNumber": 1653
          },
          {
            "text": "- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です",
            "lineNumber": 1654
          },
          {
            "text": "- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります",
            "lineNumber": 1655
          },
          {
            "lineNumber": 1656
          },
          {
            "text": "### 申請取り消し機能",
            "lineNumber": 1657
          },
          {
            "lineNumber": 1658
          },
          {
            "text": "申請中または承認済みの申請を取り消すことができます。",
            "lineNumber": 1659
          },
          {
            "lineNumber": 1660
          },
          {
            "text": "#### 申請取消ボタンの表示条件",
            "lineNumber": 1661
          }
        ]
      },
      "score": 0.39696574211120605
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2599
          },
          "endPosition": {
            "line": 2652
          }
        },
        "contents": "    // 申請取消を実行\n    async executeCancelApplication() {\n      if (!this.cancelDialogApplicationType) return\n      \n      this.loading = true\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[this.cancelDialogApplicationType]\n        const applicationId = this.applicationIds[this.cancelDialogApplicationType]\n        \n        const response = await cancelApplication(\n          this.employeeId,\n          apiType,\n          applicationId,\n          this.cancelDialogApplicationType === 'dailyConfirmation' ? this.targetDate : null\n        )\n        \n        if (response.success) {\n          // 申請取消確認ダイアログを閉じる\n          this.closeCancelConfirmationDialog()\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(response.message || '申請取消に失敗しました')\n        }\n      } catch (error) {\n        console.error('申請取消エラー:', error)\n        this.showError(error.message || '申請取消中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    // 時刻をフォーマット（HH:MM形式）\n    formatClockTime(timeString) {\n      if (!timeString) return '---'\n      const date = new Date(timeString)\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      return &#96;${hours}:${minutes}&#96;\n    },\n    \n    // 休憩時間をフォーマット\n    formatBreakTimes(breakTimes) {\n      if (!breakTimes || breakTimes.length === 0) return '---'",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    // 申請取消を実行",
            "lineNumber": 2600
          },
          {
            "text": "    async executeCancelApplication() {",
            "lineNumber": 2601
          },
          {
            "text": "      if (!this.cancelDialogApplicationType) return",
            "lineNumber": 2602
          },
          {
            "text": "      ",
            "lineNumber": 2603
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2604
          },
          {
            "text": "      try {",
            "lineNumber": 2605
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 2606
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 2607
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 2608
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 2609
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 2610
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 2611
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 2612
          },
          {
            "text": "        }",
            "lineNumber": 2613
          },
          {
            "text": "        ",
            "lineNumber": 2614
          },
          {
            "text": "        const apiType = apiTypeMap[this.cancelDialogApplicationType]",
            "lineNumber": 2615
          },
          {
            "text": "        const applicationId = this.applicationIds[this.cancelDialogApplicationType]",
            "lineNumber": 2616
          },
          {
            "text": "        ",
            "lineNumber": 2617
          },
          {
            "text": "        const response = await cancelApplication(",
            "lineNumber": 2618
          },
          {
            "text": "          this.employeeId,",
            "lineNumber": 2619
          },
          {
            "text": "          apiType,",
            "lineNumber": 2620
          },
          {
            "text": "          applicationId,",
            "lineNumber": 2621
          },
          {
            "text": "          this.cancelDialogApplicationType === 'dailyConfirmation' ? this.targetDate : null",
            "lineNumber": 2622
          },
          {
            "text": "        )",
            "lineNumber": 2623
          },
          {
            "text": "        ",
            "lineNumber": 2624
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 2625
          },
          {
            "text": "          // 申請取消確認ダイアログを閉じる",
            "lineNumber": 2626
          },
          {
            "text": "          this.closeCancelConfirmationDialog()",
            "lineNumber": 2627
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2628
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2629
          },
          {
            "text": "        } else {",
            "lineNumber": 2630
          },
          {
            "text": "          this.showError(response.message || '申請取消に失敗しました')",
            "lineNumber": 2631
          },
          {
            "text": "        }",
            "lineNumber": 2632
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2633
          },
          {
            "text": "        console.error('申請取消エラー:', error)",
            "lineNumber": 2634
          },
          {
            "text": "        this.showError(error.message || '申請取消中にエラーが発生しました')",
            "lineNumber": 2635
          },
          {
            "text": "      } finally {",
            "lineNumber": 2636
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2637
          },
          {
            "text": "      }",
            "lineNumber": 2638
          },
          {
            "text": "    },",
            "lineNumber": 2639
          },
          {
            "text": "    ",
            "lineNumber": 2640
          },
          {
            "text": "    // 時刻をフォーマット（HH:MM形式）",
            "lineNumber": 2641
          },
          {
            "text": "    formatClockTime(timeString) {",
            "lineNumber": 2642
          },
          {
            "text": "      if (!timeString) return '---'",
            "lineNumber": 2643
          },
          {
            "text": "      const date = new Date(timeString)",
            "lineNumber": 2644
          },
          {
            "text": "      const hours = String(date.getHours()).padStart(2, '0')",
            "lineNumber": 2645
          },
          {
            "text": "      const minutes = String(date.getMinutes()).padStart(2, '0')",
            "lineNumber": 2646
          },
          {
            "text": "      return &#96;${hours}:${minutes}&#96;",
            "lineNumber": 2647
          },
          {
            "text": "    },",
            "lineNumber": 2648
          },
          {
            "text": "    ",
            "lineNumber": 2649
          },
          {
            "text": "    // 休憩時間をフォーマット",
            "lineNumber": 2650
          },
          {
            "text": "    formatBreakTimes(breakTimes) {",
            "lineNumber": 2651
          },
          {
            "text": "      if (!breakTimes || breakTimes.length === 0) return '---'",
            "lineNumber": 2652
          }
        ]
      },
      "score": 0.3960394859313965
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 717
          },
          "endPosition": {
            "line": 730
          }
        },
        "contents": "- 編集仕様名：初期画面表示\n- 関連する取得仕様名：-\n  | 項目名 | 編集内容 | 条件or前提 |\n  | :--- | :--- | :--- |\n  | タイトル | 「勤怠関連申請」 | |\n  | 勤務予定日（日付表示） | 入出力項目定義.対象日付をYYYY年MM月DD日X曜日形式で表示。勤務中（まだ退社していない場合）も同様の形式で表示する | |\n  | メニューリスト | 申請タイプのメニューリストを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | 「日次確定」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | 「休暇申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | 「休日出勤申請」ボタンを表示。対象日が平日の場合、常に非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | 「残業申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請 | 「早朝勤務申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請 | 「振替申請」ボタンを表示 | |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 編集仕様名：初期画面表示",
            "lineNumber": 718
          },
          {
            "text": "- 関連する取得仕様名：-",
            "lineNumber": 719
          },
          {
            "text": "  | 項目名 | 編集内容 | 条件or前提 |",
            "lineNumber": 720
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 721
          },
          {
            "text": "  | タイトル | 「勤怠関連申請」 | |",
            "lineNumber": 722
          },
          {
            "text": "  | 勤務予定日（日付表示） | 入出力項目定義.対象日付をYYYY年MM月DD日X曜日形式で表示。勤務中（まだ退社していない場合）も同様の形式で表示する | |",
            "lineNumber": 723
          },
          {
            "text": "  | メニューリスト | 申請タイプのメニューリストを表示 | |",
            "lineNumber": 724
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | 「日次確定」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 725
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | 「休暇申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 726
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | 「休日出勤申請」ボタンを表示。対象日が平日の場合、常に非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能 | |",
            "lineNumber": 727
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | 「残業申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 728
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請 | 「早朝勤務申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |",
            "lineNumber": 729
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請 | 「振替申請」ボタンを表示 | |",
            "lineNumber": 730
          }
        ]
      },
      "score": 0.39555680751800537
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 943
          },
          "endPosition": {
            "line": 980
          }
        },
        "contents": "      &lt;div v-if=\"showCancelConfirmationDialog\" class=\"cancel-confirmation-dialog-overlay\" @click.self=\"closeCancelConfirmationDialog\"&gt;\n        &lt;div class=\"cancel-confirmation-dialog-container\"&gt;\n          &lt;div class=\"cancel-confirmation-dialog-header\"&gt;\n            &lt;span class=\"cancel-confirmation-dialog-title\"&gt;申請取消&lt;/span&gt;\n            &lt;button class=\"cancel-confirmation-dialog-close-button\" @click=\"closeCancelConfirmationDialog\"&gt;×&lt;/button&gt;\n          &lt;/div&gt;\n          \n          &lt;div class=\"cancel-confirmation-dialog-content\"&gt;\n            &lt;!-- 日次確定申請の場合、勤務情報を表示 --&gt;\n            &lt;div v-if=\"cancelDialogApplicationType === 'dailyConfirmation' &amp;&amp; cancelDialogAttendanceData\" class=\"cancel-dialog-section\"&gt;\n              &lt;div class=\"cancel-dialog-form-group\"&gt;\n                &lt;label&gt;出退社時刻&lt;/label&gt;\n                &lt;div class=\"cancel-dialog-info-text\"&gt;\n                  {{ formatClockTime(cancelDialogAttendanceData.clockInTime) }}-{{ formatClockTime(cancelDialogAttendanceData.clockOutTime) }}\n                &lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"cancel-dialog-form-group\"&gt;\n                &lt;label&gt;休憩時間&lt;/label&gt;\n                &lt;div class=\"cancel-dialog-info-text\"&gt;\n                  {{ formatBreakTimes(cancelDialogAttendanceData.breakTimes) }}\n                &lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"cancel-dialog-form-group\"&gt;\n                &lt;label&gt;総労働時間&lt;/label&gt;\n                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ formatWorkHours(cancelDialogAttendanceData.totalWorkHours) }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"cancel-dialog-form-group\"&gt;\n                &lt;label&gt;実労働時間&lt;/label&gt;\n                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ formatWorkHours(cancelDialogAttendanceData.actualWorkHours) }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"cancel-dialog-form-group\"&gt;\n                &lt;label&gt;備考&lt;/label&gt;\n                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ cancelDialogAttendanceData.remarkText || '' }}&lt;/div&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;div v-if=\"showCancelConfirmationDialog\" class=\"cancel-confirmation-dialog-overlay\" @click.self=\"closeCancelConfirmationDialog\"&gt;",
            "lineNumber": 944
          },
          {
            "text": "        &lt;div class=\"cancel-confirmation-dialog-container\"&gt;",
            "lineNumber": 945
          },
          {
            "text": "          &lt;div class=\"cancel-confirmation-dialog-header\"&gt;",
            "lineNumber": 946
          },
          {
            "text": "            &lt;span class=\"cancel-confirmation-dialog-title\"&gt;申請取消&lt;/span&gt;",
            "lineNumber": 947
          },
          {
            "text": "            &lt;button class=\"cancel-confirmation-dialog-close-button\" @click=\"closeCancelConfirmationDialog\"&gt;×&lt;/button&gt;",
            "lineNumber": 948
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 949
          },
          {
            "text": "          ",
            "lineNumber": 950
          },
          {
            "text": "          &lt;div class=\"cancel-confirmation-dialog-content\"&gt;",
            "lineNumber": 951
          },
          {
            "text": "            &lt;!-- 日次確定申請の場合、勤務情報を表示 --&gt;",
            "lineNumber": 952
          },
          {
            "text": "            &lt;div v-if=\"cancelDialogApplicationType === 'dailyConfirmation' &amp;&amp; cancelDialogAttendanceData\" class=\"cancel-dialog-section\"&gt;",
            "lineNumber": 953
          },
          {
            "text": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
            "lineNumber": 954
          },
          {
            "text": "                &lt;label&gt;出退社時刻&lt;/label&gt;",
            "lineNumber": 955
          },
          {
            "text": "                &lt;div class=\"cancel-dialog-info-text\"&gt;",
            "lineNumber": 956
          },
          {
            "text": "                  {{ formatClockTime(cancelDialogAttendanceData.clockInTime) }}-{{ formatClockTime(cancelDialogAttendanceData.clockOutTime) }}",
            "lineNumber": 957
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 958
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 959
          },
          {
            "text": "              ",
            "lineNumber": 960
          },
          {
            "text": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
            "lineNumber": 961
          },
          {
            "text": "                &lt;label&gt;休憩時間&lt;/label&gt;",
            "lineNumber": 962
          },
          {
            "text": "                &lt;div class=\"cancel-dialog-info-text\"&gt;",
            "lineNumber": 963
          },
          {
            "text": "                  {{ formatBreakTimes(cancelDialogAttendanceData.breakTimes) }}",
            "lineNumber": 964
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 965
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 966
          },
          {
            "text": "              ",
            "lineNumber": 967
          },
          {
            "text": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
            "lineNumber": 968
          },
          {
            "text": "                &lt;label&gt;総労働時間&lt;/label&gt;",
            "lineNumber": 969
          },
          {
            "text": "                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ formatWorkHours(cancelDialogAttendanceData.totalWorkHours) }}&lt;/div&gt;",
            "lineNumber": 970
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 971
          },
          {
            "text": "              ",
            "lineNumber": 972
          },
          {
            "text": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
            "lineNumber": 973
          },
          {
            "text": "                &lt;label&gt;実労働時間&lt;/label&gt;",
            "lineNumber": 974
          },
          {
            "text": "                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ formatWorkHours(cancelDialogAttendanceData.actualWorkHours) }}&lt;/div&gt;",
            "lineNumber": 975
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 976
          },
          {
            "text": "              ",
            "lineNumber": 977
          },
          {
            "text": "              &lt;div class=\"cancel-dialog-form-group\"&gt;",
            "lineNumber": 978
          },
          {
            "text": "                &lt;label&gt;備考&lt;/label&gt;",
            "lineNumber": 979
          },
          {
            "text": "                &lt;div class=\"cancel-dialog-info-text\"&gt;{{ cancelDialogAttendanceData.remarkText || '' }}&lt;/div&gt;",
            "lineNumber": 980
          }
        ]
      },
      "score": 0.3952735662460327
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


詳細設計書を確認し、休日出勤申請取消時のデータ削除処理を追記します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\docs\detailed-design\ui\attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: c:\TeamSpirit\CodeCommit\TeamSpirit再現企画\docs\detailed-design\ui\attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "8a66d511-8010-40cb-9853-2e60a322b219"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "50c974f6-2302-4fad-8a73-1adecde0e414"
}
```
Status: **completed**


</details>
</tool-use>

---



---


詳細設計書に、休日出勤申請取消時のデータ削除処理を追記しました。

## 更新内容

### 1. 休日出勤申請取消ボタン押下処理のセクション（586-612行目）
- 申請取消時に削除されるデータを明記：
  - 打刻時刻（出社時刻、退社時刻）
  - 休憩時間（BREAK_TIME）
  - 公用外出（OFFICIAL_OUTING）
  - 工数実績（WORK_HOURS）
  - 勤怠記録の備考（ATTENDANCE_RECORD.REMARK_TEXT）
  - 休日出勤申請の備考（APPLICATION_HISTORY.REASON）
- 申請取消成功後、該当日が元の状態（データなし）に戻ることを明記

### 2. API利用仕様 No.15（休日出勤申請取消API）のセクション（1257-1277行目）
- 申請取消時のデータ削除処理を詳細に記載：
  - 削除されるテーブルとデータ項目を列挙
  - 削除処理の順序を記載
  - 勤怠記録が存在しない場合でも工数実績は削除されることを明記

これにより、休日出勤申請取消時に全ての勤怠データが削除され、元の状態に戻る仕様が詳細設計書に記載されました。

---

