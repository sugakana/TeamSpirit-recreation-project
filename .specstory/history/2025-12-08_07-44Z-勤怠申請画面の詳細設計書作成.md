<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session eb72a43c-0671-43f4-b698-ea4c463621b2 (2025-12-08 07:44Z) -->

# 勤怠申請画面の詳細設計書作成 (2025-12-08 07:44Z)

_**User (2025-12-07 14:19Z)**_

勤怠関連申請画面の詳細設計書を

@rules/R03_Detailed_Design/R0302_Ui_Detailed_Design/R030201_ui_detailed_design.mdc に基づいて、作成してください。

本画面は勤務表画面の申請列の＋アイコンを押下することで表示される。詳しくは

@docs/detailed-design/ui/attendance-table-screen.md を参照してください

本画面は日時確定や休暇申請などの申請を出すダイアログ画面であり、休暇申請ボタンを押下すると2枚目の画像のように新規タグが追加されて複数の種類の休暇申請ができるようになる。承認申請ボタンを押下することでその日の背景色や申請マークが↑マークに代わる。詳細は

@docs/detailed-design/ui/attendance-table-screen.md を確認してください。

また日時確定を押下すると、日時確定の新規タグが開き、承認申請を押すことで、日付列と申請列の＋アイコンが↑マークに代わる。

また

@OperationManual も参考にしてください。

---

_**Agent (model composer-1, mode Agent)**_



---

テンプレートと関連ファイルを確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: rules/R03_Detailed_Design/R0302_Ui_Detailed_Design/R030201_ui_detailed_design.mdc</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "勤怠関連申請画面 申請ボタン 日次確定 休暇申請" • **15** results</summary>
            
| File | Lines |
|------|-------|
| `docs/detailed-design/ui/attendance-table-screen.md` | L1188-1222 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1142-1190 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L439-472 |
| `frontend/src/views/TimesheetScreen.vue` | L1145-1186 |
| `frontend/src/views/TimesheetScreen.vue` | L209-244 |
| `backend/routes/attendance.js` | L1103-1207 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L352-398 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1247-1281 |
| `backend/routes/attendance.js` | L1076-1202 |
| `frontend/src/views/TimesheetScreen.vue` | L100-142 |
| `frontend/src/services/api.js` | L70-95 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L469-511 |
| `feture_list/TeamSpirit機能一覧.md` | L58-65 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L52-66 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L508-550 |

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/entities/mysql_table_design.sql</summary>

</details>
</tool-use>

---



---

休暇申請と日次確定申請のテーブル構造を確認中です。


---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** • Grep for "VACATION_HISTORY|DAILY_CONFIRMATION|APPLICATION" in "docs/entities/mysql_table_design.sql" • 3 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `docs/entities/mysql_table_design.sql` | `-- 13. 休暇取得履歴 (VACATION_HISTORY)` | L267 |
| `docs/entities/mysql_table_design.sql` | `CREATE TABLE VACATION_HISTORY (` | L268 |
| `docs/entities/mysql_table_design.sql` | `INSERT INTO VACATION_HISTORY (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, APPROVAL_STATUS, APPROVED_BY, APPROVED_AT) VALUES` | L389 |


</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "休暇申請 API 日次確定申請 承認申請" • **14** results</summary>
            
| File | Lines |
|------|-------|
| `backend/routes/attendance.js` | L1103-1207 |
| `backend/routes/attendance.js` | L1076-1202 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1188-1222 |
| `frontend/src/services/api.js` | L70-95 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1142-1190 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L835-881 |
| `feture_list/TeamSpirit機能一覧.md` | L125-132 |
| `backend/routes/attendance.js` | L1109-1310 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L439-472 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L508-550 |
| `backend/routes/attendance.js` | L1377-1522 |
| `frontend/src/views/TimesheetScreen.vue` | L1145-1186 |
| `backend/routes/attendance.js` | L1244-1376 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L927-967 |

</details>
</tool-use>

---



---

勤怠関連申請画面の詳細設計書を作成中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/entities/mysql_table_design.sql</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "**/attendance-application*.md" • **0** result in **1** directory</summary>

Directory: **c:\TeamSpirit\CodeCommit\TeamSpirit再現企画** (0 file)

</details>
</tool-use>

---



---

勤怠関連申請画面の詳細設計書を作成中です。


---

<tool-use data-tool-type="write" data-tool-name="write">

<details><summary>Tool use: **write** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 846, lines removed: 1

```diff
@@ -1,1 +1,846 @@
- 
+ # TeamSpirit勤怠管理システム
+ # 勤怠関連申請画面
+ 
+ ## 概要
+ 本画面は、勤務表画面の申請列の+アイコンを押下することで表示されるダイアログ形式の申請画面です。
+ 日次確定、休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請などの各種申請を行うことができます。
+ 各申請タイプはタブ形式で管理され、複数の申請タイプを同時に開いて入力することができます。
+ 承認申請ボタンを押下することで申請が送信され、勤務表画面の該当日の申請状況アイコンが↑マーク（申請中）に変更されます。
+ 
+ ## 画面レイアウト
+ 
+ ### Figmaデザイン
+ 
+ **勤怠関連申請画面のデザイン（Figma）**
+ 
+ （FigmaのURLが提供された場合はここに記載）
+ 
+ ### 参考画像（操作マニュアルより）
+ 
+ 以下の画像は参考として掲載しています。正式なデザイン仕様は上記のFigmaを参照してください。
+ 
+ - 勤怠関連申請メニュー画面（参考）
+ 
+ ![勤怠関連申請メニュー画面](../../OperationManual/スクリーンショット%202025-12-01%20114837.png)
+ 
+ - 休暇申請入力画面（参考）
+ 
+ ![休暇申請入力画面](../../OperationManual/スクリーンショット%202025-12-01%20114849.png)
+ 
+ ## 画面項目定義
+ 
+ | No | 項目名 | 種別 | 入力タイプ | ドメイン | 最小桁数 | 最大桁数 | 表示文字数 | 表示形式 | 表示/非表示 | 活性/非活性 | 初期値 | 備考 |
+ | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- |
+ | | &lt;ヘッダー部分（青色バー）&gt; | | | | | | | | | | | |
+ | 1 | タイトル | 出力 | | 文字 | | | | | 表示 | 活性 | 勤怠関連申請 | ダイアログのタイトル「勤怠関連申請」を表示 |
+ | 2 | 閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる。「X」アイコン |
+ | 3 | 日付表示 | 出力 | | 文字 | | | | YYYY年MM月DD日X曜日 | 表示 | 活性 | | 対象日の日付を表示（例: 2025年12月8日月曜日） |
+ | | &lt;メニュー画面&gt; | | | | | | | | | | | |
+ | 4 | メニューリスト | リスト | | | | | | | 表示 | 活性 | | 申請タイプのメニューリスト |
+ | 5 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | ボタン | | | | | | | 表示 | 活性 | | 日次確定申請を行うメニュー項目 |
+ | 6 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | ボタン | | | | | | | 表示 | 活性 | | 休暇申請を行うメニュー項目 |
+ | 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | ボタン | | | | | | | 表示 | 活性 | | 休日出勤申請を行うメニュー項目 |
+ | 8 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | ボタン | | | | | | | 表示 | 活性 | | 残業申請を行うメニュー項目 |
+ | 9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請 | ボタン | | | | | | | 表示 | 活性 | | 早朝勤務申請を行うメニュー項目 |
+ | 10 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請 | ボタン | | | | | | | 表示 | 活性 | | 振替申請を行うメニュー項目 |
+ | 11 | 説明文 | 出力 | | 文字 | | | | | 表示 | 活性 | | 選択中のメニュー項目の説明文を表示 |
+ | | &lt;タブ部分&gt; | | | | | | | | | | | | |
+ | 12 | タブリスト | リスト | | | | | | | 条件付き表示 | 活性 | | 開いている申請タイプのタブリスト。メニュー項目を押下するとタブが追加される |
+ | 13 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;メニュータブ | ボタン | | | | | | | 表示 | 活性 | | 「メニュー」タブ。押下でメニュー画面に戻る |
+ | 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプタブ | ボタン | | | | | | | 条件付き表示 | 活性 | | 各申請タイプのタブ（例: 「休暇申請」「日次確定」）。押下で該当申請フォームを表示。複数追加可能 |
+ | 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ名 | 出力 | | 文字 | | | | | 表示 | 活性 | | 申請タイプ名（例: 「休暇申請」「日次確定」） |
+ | 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | タブを閉じる。「X」アイコン |
+ | | &lt;日次確定申請フォーム&gt; | | | | | | | | | | | | |
+ | 17 | 日次確定フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 日次確定タブが選択されている場合に表示 |
+ | 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 日次確定を申請します。 |
+ | 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる |
+ | 20 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |
+ | 21 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |
+ | 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇など） |
+ | 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |
+ | 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 休暇取得期間を指定 |
+ | 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 休暇開始日 |
+ | 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;からチェックボックス | 入力 | チェックボックス | フラグ | | | | | 表示 | 活性 | | 期間指定の開始を示すチェックボックス |
+ | 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 休暇終了日 |
+ | 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;カレンダーアイコンボタン | ボタン | | | | | | | 表示 | 活性 | | 日付ピッカーを開く |
+ | 29 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休暇申請の備考・理由を入力 |
+ | 30 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;連絡先 | 入力 | テキストボックス | 文字 | | | | | 表示 | 活性 | | 連絡先を入力 |
+ | 31 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 休暇申請を送信する。青色のボタン。押下で申請が送信され、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに代わる |
+ | 32 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | | &lt;休日出勤申請フォーム&gt; | | | | | | | | | | | | |
+ | 33 | 休日出勤申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請タブが選択されている場合に表示 |
+ | 34 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 休日出勤を申請します。 |
+ | 35 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 休日出勤期間を指定 |
+ | 36 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 休日出勤開始日 |
+ | 37 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 休日出勤終了日 |
+ | 38 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休日出勤申請の備考・理由を入力 |
+ | 39 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 休日出勤申請を送信する。青色のボタン |
+ | 40 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | | &lt;残業申請フォーム&gt; | | | | | | | | | | | | |
+ | 41 | 残業申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 残業申請タブが選択されている場合に表示 |
+ | 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 残業を申請します。 |
+ | 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 残業期間を指定 |
+ | 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業開始日 |
+ | 45 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業終了日 |
+ | 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 残業時間を指定 |
+ | 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 残業申請の備考・理由を入力 |
+ | 48 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 残業申請を送信する。青色のボタン |
+ | 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | | &lt;早朝勤務申請フォーム&gt; | | | | | | | | | | | | |
+ | 50 | 早朝勤務申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請タブが選択されている場合に表示 |
+ | 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 早朝勤務を申請します。 |
+ | 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 早朝勤務期間を指定 |
+ | 53 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務開始日 |
+ | 54 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務終了日 |
+ | 55 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 早朝勤務申請の備考・理由を入力 |
+ | 56 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 早朝勤務申請を送信する。青色のボタン |
+ | 57 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | | &lt;振替申請フォーム&gt; | | | | | | | | | | | | |
+ | 58 | 振替申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 振替申請タブが選択されている場合に表示 |
+ | 59 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 振替を申請します。 |
+ | 60 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替元日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 振替元の日付 |
+ | 61 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替先日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 振替先の日付 |
+ | 62 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 振替申請の備考・理由を入力 |
+ | 63 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 振替申請を送信する。青色のボタン |
+ | 64 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | | &lt;下部操作エリア&gt; | | | | | | | | | | | | |
+ | 65 | 閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク |
+ | | &lt;ローディング表示&gt; | | | | | | | | | | | | |
+ | 66 | ローディングマーク | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | API通信中やデータ処理中に表示されるローディングインジケーター |
+ | | &lt;エラーダイアログ&gt; | | | | | | | | | | | | |
+ | 67 | エラーダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請時のエラー時に表示 |
+ | 68 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | エラー | ダイアログのタイトル |
+ | 69 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 表示 | 活性 | | エラーの内容を表示 |
+ | 70 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;OKボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる |
+ 
+ ## 入出力項目定義
+ 
+ | No | 項目名 | 種別 | 画面遷移 | ドメイン | 必須 | デフォルト値 | 備考 |
+ | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- |
+ | 1 | 従業員ID | 入力 | 勤務表画面 | 文字 | 必須 | | ログイン中の従業員ID |
+ | 2 | 対象日付 | 入力 | 勤務表画面 | 日付 | 必須 | | 申請対象の日付（YYYY-MM-DD形式） |
+ | 3 | 申請タイプ | 入力 | 勤務表画面 | 文字 | 任意 | | 初期表示時に開く申請タイプ（日次確定、休暇申請など）。未指定の場合はメニュー画面を表示 |
+ 
+ ## その他の項目定義
+ 
+ | No | 項目名 | ドメイン | 正常異常区分 | デフォルト値 | 備考 |
+ | :----- | :----- | :----- | :----- | :----- | :----- |
+ | 1 | 開いているタブリスト | リスト | 正常 | | 現在開いている申請タイプのタブのリスト |
+ | 2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ情報 | オブジェクト | 正常 | | 1つのタブの情報 |
+ | 3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブID | 文字 | 正常 | | タブの一意ID |
+ | 4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプ | 文字 | 正常 | | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER） |
+ | 5 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請データ | オブジェクト | 正常 | | 各申請タイプの入力データ |
+ | 6 | 休暇種別マスタ | リスト | 正常 | | VACATION_TYPEテーブルから取得した休暇種別マスタ |
+ | 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別情報 | オブジェクト | 正常 | | 1つの休暇種別の情報 |
+ | 8 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_CODE |
+ | 9 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_NAME |
+ | 10 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | フラグ | 正常 | | VACATION_TYPE.IS_PAID |
+ | 11 | 有給残日数 | 整数 | 正常 | | 年次有給休暇の残日数 |
+ | 12 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |
+ 
+ ## イベント処理説明
+ 
+ #### 名称：初期表示処理、英名：initializeScreen、処理タイミング：-
+ 
+ 1. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 2. 従業員情報取得
+    - 編集仕様に従い、ログイン中の従業員情報を取得する。
+    - 【編集仕様 No.1（従業員情報取得）】
+ 
+ 3. 休暇種別マスタ取得
+    - API利用仕様に従い、休暇種別マスタを取得する。
+    - 【API利用仕様 No.1（休暇種別マスタ取得API）】
+ 
+ 4. 有給残日数取得
+    - API利用仕様に従い、有給残日数を取得する。
+    - 【API利用仕様 No.2（有給残日数取得API）】
+ 
+ 5. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 6. 画面表示
+    - 編集仕様に従い、画面を表示する。
+    - 【編集仕様 No.2（初期画面表示）】
+    - 申請タイプが指定されている場合は、該当申請タイプのタブを開く
+ 
+ #### 名称：メニュー項目押下処理、英名：clickMenuItem、処理タイミング：メニュー画面.メニュー項目.押下
+ 
+ 1. タブ追加
+    - 選択された申請タイプのタブを開く。
+    - 既に同じ申請タイプのタブが開いている場合は、そのタブに切り替える。
+ 
+ 2. 申請フォーム表示
+    - 編集仕様に従い、選択された申請タイプのフォームを表示する。
+    - 【編集仕様 No.3（申請フォーム表示）】
+ 
+ #### 名称：タブ切り替え処理、英名：switchTab、処理タイミング：タブ部分.申請タイプタブ.押下
+ 
+ 1. 申請フォーム表示
+    - 編集仕様に従い、選択されたタブの申請フォームを表示する。
+    - 【編集仕様 No.3（申請フォーム表示）】
+ 
+ #### 名称：タブ閉じる処理、英名：closeTab、処理タイミング：タブ部分.タブ閉じるボタン.押下
+ 
+ 1. タブ削除
+    - 選択されたタブを閉じる。
+    - 最後のタブを閉じた場合は、メニュー画面を表示する。
+ 
+ #### 名称：メニュータブ押下処理、英名：clickMenuTab、処理タイミング：タブ部分.メニュータブ.押下
+ 
+ 1. メニュー画面表示
+    - 編集仕様に従い、メニュー画面を表示する。
+    - 【編集仕様 No.2（初期画面表示）】
+ 
+ #### 名称：日次確定承認申請ボタン押下処理、英名：submitDailyConfirmation、処理タイミング：日次確定申請フォーム.承認申請ボタン.押下
+ 
+ 1. 入力チェック
+    - チェック仕様に従い、日次確定申請の入力チェックを行う。
+    - 【チェック仕様 No.1（日次確定申請チェック）】
+    
+    - エラー処理
+      1. エラー内容をエラーダイアログで表示する。
+      2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
+      3. 「OK」ボタン押下で処理を終了する。
+ 
+ 2. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 3. 日次確定申請
+    - API利用仕様に従い、日次確定申請を行う。
+    - 【API利用仕様 No.3（日次確定申請API）】
+ 
+ 4. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 5. ダイアログ閉じる
+    - 申請成功後、ダイアログを閉じる。
+    - 勤務表画面に戻り、該当日の申請状況アイコンが↑マークに更新される。
+ 
+ #### 名称：休暇申請承認申請ボタン押下処理、英名：submitVacationApplication、処理タイミング：休暇申請フォーム.承認申請ボタン.押下
+ 
+ 1. 入力チェック
+    - チェック仕様に従い、休暇申請の入力チェックを行う。
+    - 【チェック仕様 No.2（休暇申請チェック）】
+    
+    - エラー処理
+      1. エラー内容をエラーダイアログで表示する。
+      2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
+      3. 「OK」ボタン押下で処理を終了する。
+ 
+ 2. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 3. 休暇申請
+    - API利用仕様に従い、休暇申請を行う。
+    - 【API利用仕様 No.4（休暇申請API）】
+ 
+ 4. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 5. ダイアログ閉じる
+    - 申請成功後、ダイアログを閉じる。
+    - 勤務表画面に戻り、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに更新される。
+ 
+ #### 名称：休日出勤申請承認申請ボタン押下処理、英名：submitHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.承認申請ボタン.押下
+ 
+ 1. 入力チェック
+    - チェック仕様に従い、休日出勤申請の入力チェックを行う。
+    - 【チェック仕様 No.3（休日出勤申請チェック）】
+    
+    - エラー処理
+      1. エラー内容をエラーダイアログで表示する。
+      2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
+      3. 「OK」ボタン押下で処理を終了する。
+ 
+ 2. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 3. 休日出勤申請
+    - API利用仕様に従い、休日出勤申請を行う。
+    - 【API利用仕様 No.5（休日出勤申請API）】
+ 
+ 4. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 5. ダイアログ閉じる
+    - 申請成功後、ダイアログを閉じる。
+ 
+ #### 名称：残業申請承認申請ボタン押下処理、英名：submitOvertimeApplication、処理タイミング：残業申請フォーム.承認申請ボタン.押下
+ 
+ 1. 入力チェック
+    - チェック仕様に従い、残業申請の入力チェックを行う。
+    - 【チェック仕様 No.4（残業申請チェック）】
+    
+    - エラー処理
+      1. エラー内容をエラーダイアログで表示する。
+      2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
+      3. 「OK」ボタン押下で処理を終了する。
+ 
+ 2. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 3. 残業申請
+    - API利用仕様に従い、残業申請を行う。
+    - 【API利用仕様 No.6（残業申請API）】
+ 
+ 4. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 5. ダイアログ閉じる
+    - 申請成功後、ダイアログを閉じる。
+ 
+ #### 名称：早朝勤務申請承認申請ボタン押下処理、英名：submitEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.承認申請ボタン.押下
+ 
+ 1. 入力チェック
+    - チェック仕様に従い、早朝勤務申請の入力チェックを行う。
+    - 【チェック仕様 No.5（早朝勤務申請チェック）】
+    
+    - エラー処理
+      1. エラー内容をエラーダイアログで表示する。
+      2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
+      3. 「OK」ボタン押下で処理を終了する。
+ 
+ 2. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 3. 早朝勤務申請
+    - API利用仕様に従い、早朝勤務申請を行う。
+    - 【API利用仕様 No.7（早朝勤務申請API）】
+ 
+ 4. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 5. ダイアログ閉じる
+    - 申請成功後、ダイアログを閉じる。
+ 
+ #### 名称：振替申請承認申請ボタン押下処理、英名：submitTransferApplication、処理タイミング：振替申請フォーム.承認申請ボタン.押下
+ 
+ 1. 入力チェック
+    - チェック仕様に従い、振替申請の入力チェックを行う。
+    - 【チェック仕様 No.6（振替申請チェック）】
+    
+    - エラー処理
+      1. エラー内容をエラーダイアログで表示する。
+      2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
+      3. 「OK」ボタン押下で処理を終了する。
+ 
+ 2. ローディング表示開始
+    - ローディングマークを表示する。
+ 
+ 3. 振替申請
+    - API利用仕様に従い、振替申請を行う。
+    - 【API利用仕様 No.8（振替申請API）】
+ 
+ 4. ローディング表示終了
+    - ローディングマークを非表示にする。
+ 
+ 5. ダイアログ閉じる
+    - 申請成功後、ダイアログを閉じる。
+ 
+ #### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下
+ 
+ 1. タブ閉じる
+    - 現在のタブを閉じる。
+    - 最後のタブを閉じた場合は、メニュー画面を表示する。
+ 
+ #### 名称：閉じるリンク押下処理、英名：clickCloseLink、処理タイミング：下部操作エリア.閉じるリンク.押下
+ 
+ 1. ダイアログ閉じる
+    - ダイアログを閉じる。
+    - 勤務表画面に戻る。
+ 
+ #### 名称：閉じるボタン押下処理、英名：clickCloseButton、処理タイミング：ヘッダー部分.閉じるボタン.押下
+ 
+ 1. ダイアログ閉じる
+    - ダイアログを閉じる。
+    - 勤務表画面に戻る。
+ 
+ ## 編集仕様
+ 
+ #### No.1
+ - 編集仕様名：従業員情報取得
+ - 関連する取得仕様名：テーブル取得仕様 No.1（従業員情報取得）
+   | 項目名 | 編集内容 | 条件or前提 |
+   | :--- | :--- | :--- |
+   | 従業員ID | 従業員情報取得.従業員ID | |
+   | 従業員名 | 従業員情報取得.従業員名 | |
+ 
+ #### No.2
+ - 編集仕様名：初期画面表示
+ - 関連する取得仕様名：-
+   | 項目名 | 編集内容 | 条件or前提 |
+   | :--- | :--- | :--- |
+   | タイトル | 「勤怠関連申請」 | |
+   | 日付表示 | 入出力項目定義.対象日付をYYYY年MM月DD日X曜日形式で表示 | |
+   | メニューリスト | 申請タイプのメニューリストを表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | 「日次確定」ボタンを表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | 「休暇申請」ボタンを表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | 「休日出勤申請」ボタンを表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | 「残業申請」ボタンを表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務申請 | 「早朝勤務申請」ボタンを表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替申請 | 「振替申請」ボタンを表示 | |
+   | 説明文 | 選択中のメニュー項目の説明文を表示 | 初期状態では「日次確定を申請します。」を表示 |
+   | タブリスト | メニュータブのみ表示 | 申請タイプが指定されている場合は、該当申請タイプのタブも表示 |
+ 
+ #### No.3
+ - 編集仕様名：申請フォーム表示
+ - 関連する取得仕様名：-
+   | 項目名 | 編集内容 | 条件or前提 |
+   | :--- | :--- | :--- |
+   | 日次確定フォーム | 日次確定タブが選択されている場合に表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定説明 | 「日次確定を申請します。」を表示 | |
+   | 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | 休日出勤申請フォーム | 休日出勤申請タブが選択されている場合に表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤説明 | 「休日出勤を申請します。」を表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | 残業申請フォーム | 残業申請タブが選択されている場合に表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業説明 | 「残業を申請します。」を表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | 早朝勤務申請フォーム | 早朝勤務申請タブが選択されている場合に表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;早朝勤務説明 | 「早朝勤務を申請します。」を表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | 振替申請フォーム | 振替申請タブが選択されている場合に表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替説明 | 「振替を申請します。」を表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替元日 | 入出力項目定義.対象日付を初期値として設定 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;振替先日 | 入出力項目定義.対象日付を初期値として設定 | |
+ 
+ ## チェック仕様
+ 
+ #### No.1
+ - チェック仕様：日次確定申請チェック
+ - 分類：特殊・システム系チェック
+ - 取得元：その他の項目定義
+   | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
+   | :--- | :--- | :--- | :--- | :--- |
+   | 対象日付 | 存在 | 対象日付の勤怠記録が存在しない場合、エラー | E_APP_001 | 対象日の勤怠記録が存在しません。 |
+   | 出退社時刻 | 必須 | 出退社時刻が未入力の場合、エラー | E_APP_002 | 出退社時刻が未入力のため、日次確定できません。 |
+   | 勤務場所 | 必須 | 勤務場所が未選択の場合、エラー | E_APP_003 | 勤務場所を選択してください。 |
+   | 工数合計 | 一致 | 工数合計と実労働時間が一致しない場合、エラー | E_APP_004 | 工数の合計と実労働時間が合いません。 |
+   | 備考 | 依存 | 手入力の場合、備考が未入力の場合、エラー | E_APP_005 | 手入力の場合は備考に理由を入力してください。 |
+ 
+ #### No.2
+ - チェック仕様：休暇申請チェック
+ - 分類：単項目チェック・相関項目チェック
+ - 取得元：画面項目定義
+   | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
+   | :--- | :--- | :--- | :--- | :--- |
+   | 休暇種類 | 必須 | 休暇種類が未選択の場合、エラー | E_APP_011 | 休暇種類を選択してください。 |
+   | 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_012 | 開始日を入力してください。 |
+   | 終了日 | 必須 | 終了日が未入力の場合、エラー | E_APP_013 | 終了日を入力してください。 |
+   | 期間 | 順序整合 | 開始日が終了日より後の場合、エラー | E_APP_014 | 開始日は終了日より前の日付を入力してください。 |
+   | 有休残日数 | 数値範囲 | 年次有給休暇を選択した場合、有休残日数が不足している場合、エラー | E_APP_015 | 有給休暇の残日数が不足しています。 |
+ 
+ #### No.3
+ - チェック仕様：休日出勤申請チェック
+ - 分類：単項目チェック・相関項目チェック
+ - 取得元：画面項目定義
+   | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
+   | :--- | :--- | :--- | :--- | :--- |
+   | 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_021 | 開始日を入力してください。 |
+   | 終了日 | 必須 | 終了日が未入力の場合、エラー | E_APP_022 | 終了日を入力してください。 |
+   | 期間 | 順序整合 | 開始日が終了日より後の場合、エラー | E_APP_023 | 開始日は終了日より前の日付を入力してください。 |
+ 
+ #### No.4
+ - チェック仕様：残業申請チェック
+ - 分類：単項目チェック・相関項目チェック
+ - 取得元：画面項目定義
+   | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
+   | :--- | :--- | :--- | :--- | :--- |
+   | 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_031 | 開始日を入力してください。 |
+   | 終了日 | 必須 | 終了日が未入力の場合、エラー | E_APP_032 | 終了日を入力してください。 |
+   | 期間 | 順序整合 | 開始日が終了日より後の場合、エラー | E_APP_033 | 開始日は終了日より前の日付を入力してください。 |
+   | 残業時間 | 必須 | 残業時間が未入力の場合、エラー | E_APP_034 | 残業時間を入力してください。 |
+ 
+ #### No.5
+ - チェック仕様：早朝勤務申請チェック
+ - 分類：単項目チェック・相関項目チェック
+ - 取得元：画面項目定義
+   | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
+   | :--- | :--- | :--- | :--- | :--- |
+   | 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_041 | 開始日を入力してください。 |
+   | 終了日 | 必須 | 終了日が未入力の場合、エラー | E_APP_042 | 終了日を入力してください。 |
+   | 期間 | 順序整合 | 開始日が終了日より後の場合、エラー | E_APP_043 | 開始日は終了日より前の日付を入力してください。 |
+ 
+ #### No.6
+ - チェック仕様：振替申請チェック
+ - 分類：単項目チェック・相関項目チェック
+ - 取得元：画面項目定義
+   | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
+   | :--- | :--- | :--- | :--- | :--- |
+   | 振替元日 | 必須 | 振替元日が未入力の場合、エラー | E_APP_051 | 振替元日を入力してください。 |
+   | 振替先日 | 必須 | 振替先日が未入力の場合、エラー | E_APP_052 | 振替先日を入力してください。 |
+   | 振替日 | 一致 | 振替元日と振替先日が同じ場合、エラー | E_APP_053 | 振替元日と振替先日は異なる日付を入力してください。 |
+ 
+ ## テーブル取得仕様
+ 
+ #### No.1
+ - 取得仕様名：従業員情報取得
+ - テーブル名：EMPLOYEE
+   | 項目名 | 取得内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 従業員ID | EMPLOYEE.EMPLOYEE_ID | |
+   | 従業員名 | EMPLOYEE.EMPLOYEE_NAME | |
+ - 関連する取得仕様
+   - なし
+ - 取得条件
+   - EMPLOYEE.EMPLOYEE_ID = 入出力項目定義.従業員ID
+   - EMPLOYEE.IS_ACTIVE = TRUE
+ - その他
+   - なし
+ 
+ ## テーブル更新仕様
+ 
+ #### No.1
+ - 更新仕様名：日次確定申請
+ - テーブル名：ATTENDANCE_RECORD
+ - 種別：更新
+   | 項目名 | 更新内容 | 補足 |
+   | :--- | :--- | :--- |
+   | IS_DAILY_CONFIRMED | TRUE | |
+   | DAILY_CONFIRMED_AT | 現在日時 | |
+   | APPROVAL_STATUS | 'PENDING' | |
+   | UPDATED_AT | 現在日時 | |
+ - 関連する取得仕様
+   - なし
+ - 更新条件
+   - ATTENDANCE_RECORD.EMPLOYEE_ID = 入出力項目定義.従業員ID
+   - ATTENDANCE_RECORD.WORK_DATE = 入出力項目定義.対象日付
+ - その他
+   - 日次確定申請時にチェック仕様No.1のチェックを実行
+ 
+ #### No.2
+ - 更新仕様名：休暇申請登録
+ - テーブル名：VACATION_HISTORY
+ - 種別：登録
+   | 項目名 | 更新内容 | 補足 |
+   | :--- | :--- | :--- |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | |
+   | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | |
+   | START_DATE | 画面項目定義.開始日 | |
+   | END_DATE | 画面項目定義.終了日 | |
+   | VACATION_DAYS | 計算値（終了日-開始日+1） | |
+   | REASON | 画面項目定義.備考 | |
+   | APPROVAL_STATUS | 'PENDING' | |
+   | CREATED_AT | 現在日時 | |
+   | UPDATED_AT | 現在日時 | |
+ - 関連する取得仕様
+   - なし
+ - 更新条件
+   - なし（新規登録）
+ - その他
+   - 休暇申請時にチェック仕様No.2のチェックを実行
+ 
+ ## API利用仕様
+ 
+ #### No.1
+ - API仕様名：休暇種別マスタ取得API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | GET | |
+   | エンドポイント | /api/master/vacation-types | |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 休暇種別マスタ | 休暇種別マスタリスト | JSON形式 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | VACATION_TYPE.VACATION_TYPE_CODE | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | VACATION_TYPE.VACATION_TYPE_NAME | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | VACATION_TYPE.IS_PAID | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;表示順 | VACATION_TYPE.DISPLAY_ORDER | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - IS_ACTIVE=TRUEの休暇種別をDISPLAY_ORDER順で取得
+ 
+ #### No.2
+ - API仕様名：有給残日数取得API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | GET | |
+   | エンドポイント | /api/vacation/balance | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
+   | VACATION_TYPE_CODE | 'PAID_LEAVE' | クエリパラメータ（固定値） |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 有給残日数 | 年次有給休暇の残日数 | 整数 |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - V_VACATION_BALANCE_SUMMARYビューから取得
+ 
+ #### No.3
+ - API仕様名：日次確定申請API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | POST | |
+   | エンドポイント | /api/attendance/daily-confirmation | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
+   | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 成功フラグ | 成功/失敗 | true/false |
+   | メッセージ | 処理結果メッセージ | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - 日次確定申請時にチェック仕様No.1のチェックを実行
+   - 申請成功後、ATTENDANCE_RECORDのAPPROVAL_STATUSがPENDINGに更新される
+   - 勤務表画面の該当日の申請状況アイコンが↑マークに変更される
+ 
+ #### No.4
+ - API仕様名：休暇申請API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | POST | |
+   | エンドポイント | /api/vacation/apply | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
+   | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | リクエストボディ |
+   | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
+   | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
+   | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
+   | CONTACT | 画面項目定義.連絡先 | リクエストボディ（任意） |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 成功フラグ | 成功/失敗 | true/false |
+   | メッセージ | 処理結果メッセージ | |
+   | 休暇申請ID | VACATION_HISTORY.VACATION_ID | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - 休暇申請時にチェック仕様No.2のチェックを実行
+   - 申請成功後、VACATION_HISTORYにレコードが登録され、APPROVAL_STATUSがPENDINGに設定される
+   - 勤務表画面の該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに変更される
+ 
+ #### No.5
+ - API仕様名：休日出勤申請API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | POST | |
+   | エンドポイント | /api/attendance/holiday-work | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
+   | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
+   | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
+   | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 成功フラグ | 成功/失敗 | true/false |
+   | メッセージ | 処理結果メッセージ | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - 休日出勤申請時にチェック仕様No.3のチェックを実行
+ 
+ #### No.6
+ - API仕様名：残業申請API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | POST | |
+   | エンドポイント | /api/attendance/overtime | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
+   | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
+   | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
+   | OVERTIME_HOURS | 画面項目定義.残業時間 | リクエストボディ |
+   | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 成功フラグ | 成功/失敗 | true/false |
+   | メッセージ | 処理結果メッセージ | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - 残業申請時にチェック仕様No.4のチェックを実行
+ 
+ #### No.7
+ - API仕様名：早朝勤務申請API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | POST | |
+   | エンドポイント | /api/attendance/early-work | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
+   | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
+   | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
+   | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 成功フラグ | 成功/失敗 | true/false |
+   | メッセージ | 処理結果メッセージ | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - 早朝勤務申請時にチェック仕様No.5のチェックを実行
+ 
+ #### No.8
+ - API仕様名：振替申請API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | POST | |
+   | エンドポイント | /api/attendance/transfer | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
+   | FROM_DATE | 画面項目定義.振替元日 | リクエストボディ、YYYY-MM-DD形式 |
+   | TO_DATE | 画面項目定義.振替先日 | リクエストボディ、YYYY-MM-DD形式 |
+   | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 成功フラグ | 成功/失敗 | true/false |
+   | メッセージ | 処理結果メッセージ | |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - 振替申請時にチェック仕様No.6のチェックを実行
+ 
+ ## 補足説明
+ 
+ ### 勤務表画面からの連携
+ 勤務表画面の申請列の+アイコンを押下することで、本画面がダイアログ形式で表示されます。
+ 対象日付は勤務表画面から渡され、ダイアログの日付表示に反映されます。
+ 
+ ### タブ機能
+ 本画面はタブ形式で複数の申請タイプを同時に管理できます。
+ 
+ #### タブの追加
+ - メニュー画面で各申請タイプのボタンを押下すると、該当申請タイプのタブが追加されます
+ - 既に同じ申請タイプのタブが開いている場合は、そのタブに切り替わります
+ - 複数の異なる申請タイプのタブを同時に開くことができます（例：休暇申請と残業申請を同時に開く）
+ 
+ #### タブの切り替え
+ - タブをクリックすることで、該当申請タイプのフォームに切り替わります
+ - 「メニュー」タブをクリックすると、メニュー画面に戻ります
+ 
+ #### タブの閉じる
+ - 各タブの右側にある「X」ボタンを押下することで、そのタブを閉じることができます
+ - 最後のタブを閉じた場合は、メニュー画面が表示されます
+ 
+ ### 日次確定申請
+ 日次確定申請は、1日の勤務を確定するための申請です。
+ 
+ #### 申請条件
+ 日次確定申請を行うには、以下の条件を満たす必要があります：
+ 1. 出退社時刻が入力されていること
+ 2. 勤務場所が設定されていること
+ 3. 工数合計と実労働時間が一致していること
+ 4. 手入力の場合は備考に理由が入力されていること
+ 
+ #### 申請後の動作
+ - 承認申請ボタンを押下すると、日次確定申請が送信されます
+ - 申請成功後、ATTENDANCE_RECORDテーブルのIS_DAILY_CONFIRMEDがTRUE、APPROVAL_STATUSがPENDINGに更新されます
+ - 勤務表画面に戻ると、該当日の日付列と申請列の+アイコンが↑マーク（申請中）に変更されます
+ 
+ ### 休暇申請
+ 休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。
+ 
+ #### 申請内容
+ - **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇などから選択
+ - **期間**: 開始日と終了日を指定（1日のみの場合は開始日と終了日を同じ日付に設定）
+ - **備考**: 休暇取得の理由や備考を入力
+ - **連絡先**: 連絡先を入力（任意）
+ 
+ #### 有給残日数の表示
+ - 年次有給休暇を選択した場合のみ、「有休残日数」が表示されます
+ - 有給残日数は、V_VACATION_BALANCE_SUMMARYビューから取得した残日数を表示します
+ 
+ #### 申請後の動作
+ - 承認申請ボタンを押下すると、休暇申請が送信されます
+ - 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます
+ - 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます
+ - 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます
+ 
+ ### 休日出勤申請
+ 休日出勤申請は、休日に出勤する場合の申請です。
+ 
+ #### 申請内容
+ - **期間**: 開始日と終了日を指定
+ - **備考**: 休日出勤の理由や備考を入力（任意）
+ 
+ ### 残業申請
+ 残業申請は、残業を行う場合の事前申請です。
+ 
+ #### 申請内容
+ - **期間**: 開始日と終了日を指定
+ - **残業時間**: 残業時間を指定
+ - **備考**: 残業の理由や備考を入力（任意）
+ 
+ ### 早朝勤務申請
+ 早朝勤務申請は、早朝に勤務する場合の申請です。
+ 
+ #### 申請内容
+ - **期間**: 開始日と終了日を指定
+ - **備考**: 早朝勤務の理由や備考を入力（任意）
+ 
+ ### 振替申請
+ 振替申請は、勤務日の振替を行う場合の申請です。
+ 
+ #### 申請内容
+ - **振替元日**: 振替元の日付を指定
+ - **振替先日**: 振替先の日付を指定
+ - **備考**: 振替の理由や備考を入力（任意）
+ 
+ #### 申請条件
+ - 振替元日と振替先日は異なる日付である必要があります
+ 
+ ### 申請状況の更新
+ 各申請タイプの承認申請ボタンを押下すると、申請が送信され、勤務表画面の該当日の申請状況が更新されます。
+ 
+ #### 日次確定申請の場合
+ - 日付列と申請列の+アイコンが↑マーク（申請中）に変更されます
+ - ATTENDANCE_RECORDテーブルのAPPROVAL_STATUSがPENDINGに更新されます
+ 
+ #### 休暇申請の場合
+ - 該当日の背景色がオレンジ色（#FFA500）になります
+ - 申請状況アイコンが↑マーク（申請中）に変更されます
+ - VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます
+ 
+ ### ローディング表示
+ API通信中やデータ処理中は、ローディングマークが表示されます。
+ 
+ **表示タイミング**:
+ - 初期表示処理
+ - 各申請タイプの承認申請ボタン押下時
+ - 休暇種別マスタ取得時
+ - 有給残日数取得時
+ 
+ ローディング表示中は、ユーザーが画面操作できないようにする（ローディングマークの背後にオーバーレイを表示するなど）ことを推奨します。
+ 
+ ### エラーダイアログ
+ 申請時にエラーが発生した場合、エラーダイアログが表示されます。
+ 
+ #### ダイアログの構成
+ - **タイトル**: 「エラー」
+ - **エラーメッセージ**: チェック仕様で定義されたエラーメッセージを表示
+ - **OKボタン**: ダイアログを閉じる
+ 
+ #### エラーメッセージの例
+ - 「出退社時刻が未入力のため、日次確定できません。」
+ - 「休暇種類を選択してください。」
+ - 「開始日は終了日より前の日付を入力してください。」
+ - 「有給休暇の残日数が不足しています。」
+ 
+ ## 変更履歴
+ 
+ | 日付 | 変更内容 | 変更者 |
+ | --- | --- | --- |
+ | 2025-12-08 | 初版作成 | AI Assistant |
+ 
```

</details>

</tool-use>

---



---

リンターエラーを確認中です。


---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** • Read lints for 1 file</summary>
      
Lint paths:

- `docs/detailed-design/ui/attendance-application-screen.md`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---

勤怠関連申請画面の詳細設計書を作成しました。

## 作成した内容

`docs/detailed-design/ui/attendance-application-screen.md` に詳細設計書を作成しました。

### 主な内容

1. **画面構成**
   - ダイアログ形式の申請画面
   - メニュー画面（6種類の申請タイプ）
   - タブ機能（複数の申請タイプを同時に開ける）

2. **申請タイプ**
   - 日次確定申請
   - 休暇申請（休暇種類、期間、備考、連絡先）
   - 休日出勤申請
   - 残業申請
   - 早朝勤務申請
   - 振替申請

3. **主要機能**
   - タブ追加・切り替え・閉じる機能
   - 各申請タイプの入力フォーム
   - 承認申請ボタンによる申請送信
   - 申請後の勤務表画面への反映（申請状況アイコンの更新）

4. **チェック仕様**
   - 各申請タイプの入力チェック
   - エラーメッセージの定義

5. **API仕様**
   - 各申請タイプのAPI定義
   - 休暇種別マスタ取得API
   - 有給残日数取得API

6. **補足説明**
   - タブ機能の詳細
   - 各申請タイプの説明
   - 申請後の動作

テンプレートに沿って作成し、勤務表画面との連携も記載しています。

---

_**User (2025-12-07 14:19Z)**_

複数のタブは開きません。任意の項目を押してその申請関連のタグが開き、メニューのタグを押下して違う項目を押下すると先ほど開いていたタグは消えてその代わりにその押下したタグが開きます。

---

_**Agent (model composer-1, mode Agent)**_



---

タブは常に1つのみ開き、新しいタブを開くと前のタブは閉じる仕様に修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

タブ仕様を1つのみ開く仕様に修正中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 2, lines removed: 1

```diff
@@ -5,5 +5,6 @@
  本画面は、勤務表画面の申請列の+アイコンを押下することで表示されるダイアログ形式の申請画面です。
  日次確定、休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請などの各種申請を行うことができます。
- 各申請タイプはタブ形式で管理され、複数の申請タイプを同時に開いて入力することができます。
+ 各申請タイプはタブ形式で管理され、常に1つの申請タイプのタブのみが開きます。
+ メニューから別の申請タイプを選択すると、以前開いていたタブは閉じて新しいタブが開きます。
  承認申請ボタンを押下することで申請が送信され、勤務表画面の該当日の申請状況アイコンが↑マーク（申請中）に変更されます。
  
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 3, lines removed: 3

```diff
@@ -47,9 +47,9 @@
  | 11 | 説明文 | 出力 | | 文字 | | | | | 表示 | 活性 | | 選択中のメニュー項目の説明文を表示 |
  | | &lt;タブ部分&gt; | | | | | | | | | | | | |
- | 12 | タブリスト | リスト | | | | | | | 条件付き表示 | 活性 | | 開いている申請タイプのタブリスト。メニュー項目を押下するとタブが追加される |
+ | 12 | タブリスト | リスト | | | | | | | 条件付き表示 | 活性 | | 開いている申請タイプのタブリスト。メニュー項目を押下するとタブが開く（既存のタブは閉じる） |
  | 13 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;メニュータブ | ボタン | | | | | | | 表示 | 活性 | | 「メニュー」タブ。押下でメニュー画面に戻る |
- | 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプタブ | ボタン | | | | | | | 条件付き表示 | 活性 | | 各申請タイプのタブ（例: 「休暇申請」「日次確定」）。押下で該当申請フォームを表示。複数追加可能 |
+ | 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプタブ | ボタン | | | | | | | 条件付き表示 | 活性 | | 各申請タイプのタブ（例: 「休暇申請」「日次確定」）。押下で該当申請フォームを表示。常に1つのタブのみが開く |
  | 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ名 | 出力 | | 文字 | | | | | 表示 | 活性 | | 申請タイプ名（例: 「休暇申請」「日次確定」） |
- | 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | タブを閉じる。「X」アイコン |
+ | 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | タブを閉じる。「X」アイコン。押下でメニュー画面に戻る |
  | | &lt;日次確定申請フォーム&gt; | | | | | | | | | | | | |
  | 17 | 日次確定フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 日次確定タブが選択されている場合に表示 |
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 4, lines removed: 5

```diff
@@ -128,9 +128,8 @@
  | No | 項目名 | ドメイン | 正常異常区分 | デフォルト値 | 備考 |
  | :----- | :----- | :----- | :----- | :----- | :----- |
- | 1 | 開いているタブリスト | リスト | 正常 | | 現在開いている申請タイプのタブのリスト |
- | 2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブ情報 | オブジェクト | 正常 | | 1つのタブの情報 |
- | 3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブID | 文字 | 正常 | | タブの一意ID |
- | 4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプ | 文字 | 正常 | | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER） |
- | 5 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請データ | オブジェクト | 正常 | | 各申請タイプの入力データ |
+ | 1 | 現在開いているタブ | オブジェクト | 正常 | | 現在開いている申請タイプのタブ情報。常に1つのタブのみが開く |
+ | 2 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タブID | 文字 | 正常 | | タブの一意ID |
+ | 3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請タイプ | 文字 | 正常 | | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）。未選択時はNULL |
+ | 4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請データ | オブジェクト | 正常 | | 各申請タイプの入力データ |
  | 6 | 休暇種別マスタ | リスト | 正常 | | VACATION_TYPEテーブルから取得した休暇種別マスタ |
  | 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別情報 | オブジェクト | 正常 | | 1つの休暇種別の情報 |
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 5, lines removed: 3

```diff
@@ -169,9 +169,11 @@
  #### 名称：メニュー項目押下処理、英名：clickMenuItem、処理タイミング：メニュー画面.メニュー項目.押下
  
- 1. タブ追加
+ 1. 既存タブの閉じる
+    - 既に開いている申請タイプのタブがある場合は、そのタブを閉じる。
+ 
+ 2. タブを開く
     - 選択された申請タイプのタブを開く。
-    - 既に同じ申請タイプのタブが開いている場合は、そのタブに切り替える。
  
- 2. 申請フォーム表示
+ 3. 申請フォーム表示
     - 編集仕様に従い、選択された申請タイプのフォームを表示する。
     - 【編集仕様 No.3（申請フォーム表示）】
```

**Chunk 2**
Lines added: 3, lines removed: 3

```diff
@@ -185,7 +187,7 @@
  #### 名称：タブ閉じる処理、英名：closeTab、処理タイミング：タブ部分.タブ閉じるボタン.押下
  
- 1. タブ削除
-    - 選択されたタブを閉じる。
-    - 最後のタブを閉じた場合は、メニュー画面を表示する。
+ 1. タブを閉じる
+    - 現在開いているタブを閉じる。
+    - メニュー画面を表示する。
  
  #### 名称：メニュータブ押下処理、英名：clickMenuTab、処理タイミング：タブ部分.メニュータブ.押下
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 3, lines removed: 3

```diff
@@ -345,7 +345,7 @@
  #### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下
  
- 1. タブ閉じる
-    - 現在のタブを閉じる。
-    - 最後のタブを閉じた場合は、メニュー画面を表示する。
+ 1. タブを閉じる
+    - 現在開いているタブを閉じる。
+    - メニュー画面を表示する。
  
  #### 名称：閉じるリンク押下処理、英名：clickCloseLink、処理タイミング：下部操作エリア.閉じるリンク.押下
```

</details>

</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

補足説明のタブ機能セクションを修正中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 9, lines removed: 9

```diff
@@ -722,18 +722,18 @@
  
  ### タブ機能
- 本画面はタブ形式で複数の申請タイプを同時に管理できます。
+ 本画面はタブ形式で申請タイプを管理します。常に1つの申請タイプのタブのみが開きます。
  
- #### タブの追加
- - メニュー画面で各申請タイプのボタンを押下すると、該当申請タイプのタブが追加されます
- - 既に同じ申請タイプのタブが開いている場合は、そのタブに切り替わります
- - 複数の異なる申請タイプのタブを同時に開くことができます（例：休暇申請と残業申請を同時に開く）
+ #### タブの開く
+ - メニュー画面で各申請タイプのボタンを押下すると、該当申請タイプのタブが開きます
+ - 既に別の申請タイプのタブが開いている場合は、そのタブは閉じて新しいタブが開きます
+ - 同じ申請タイプのタブが既に開いている場合は、そのタブのフォームが表示されます
  
  #### タブの切り替え
- - タブをクリックすることで、該当申請タイプのフォームに切り替わります
- - 「メニュー」タブをクリックすると、メニュー画面に戻ります
+ - 申請タイプタブをクリックすることで、該当申請タイプのフォームに切り替わります
+ - 「メニュー」タブをクリックすると、メニュー画面に戻ります（申請タイプタブは閉じます）
  
  #### タブの閉じる
- - 各タブの右側にある「X」ボタンを押下することで、そのタブを閉じることができます
- - 最後のタブを閉じた場合は、メニュー画面が表示されます
+ - 申請タイプタブの右側にある「X」ボタンを押下することで、そのタブを閉じることができます
+ - タブを閉じると、メニュー画面が表示されます
  
  ### 日次確定申請
```

</details>

</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** • Read lints for 1 file</summary>
      
Lint paths:

- `docs/detailed-design/ui/attendance-application-screen.md`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---

編集仕様の初期画面表示を確認し、必要に応じて修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

変更履歴に今回の修正を追加中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -846,4 +846,5 @@
  | --- | --- | --- |
  | 2025-12-08 | 初版作成 | AI Assistant |
+ | 2025-12-08 | タブ機能の仕様を修正。複数のタブを同時に開く仕様から、常に1つのタブのみが開く仕様に変更。メニューから別の申請タイプを選択すると、以前開いていたタブは閉じて新しいタブが開く仕様に変更 | AI Assistant |
  
  
```

</details>

</tool-use>

---



---

修正完了。リンターエラーを確認中です。


---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** • Read lints for 1 file</summary>
      
Lint paths:

- `docs/detailed-design/ui/attendance-application-screen.md`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---

タブ機能の仕様を修正しました。

## 修正内容

1. **概要セクション**: 複数のタブを同時に開く仕様から、常に1つのタブのみが開く仕様に変更
2. **画面項目定義**: タブの説明を修正（「複数追加可能」→「常に1つのタブのみが開く」）
3. **その他の項目定義**: 「開いているタブリスト」から「現在開いているタブ（単一）」に変更
4. **イベント処理説明**: 
   - メニュー項目押下処理: 既存タブを閉じてから新しいタブを開く処理に変更
   - タブ閉じる処理: タブを閉じるとメニュー画面に戻る処理に変更
5. **補足説明のタブ機能セクション**: 複数タブの説明を削除し、1つのタブのみの説明に変更
6. **変更履歴**: 今回の修正を追加

これで、メニューから別の申請タイプを選択すると、以前開いていたタブは閉じて新しいタブが開く仕様になりました。

---

_**User (2025-12-07 14:19Z)**_

日時確定の押下後は画像の通りです。

---

_**Agent (model composer-1, mode Agent)**_



---

画像を確認。日次確定申請フォームの項目定義を、表示内容に合わせて修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "日次確定申請 出退社時刻 休憩時間 総労働時間 実労働時間" • **15** results</summary>
            
| File | Lines |
|------|-------|
| `docs/detailed-design/ui/attendance-table-screen.md` | L172-191 |
| `backend/routes/attendance.js` | L1102-1195 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L784-804 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L71-81 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1250-1284 |
| `backend/routes/attendance.js` | L415-635 |
| `docs/entities/README_MySQL.md` | L210-233 |
| `docs/entities/mysql_table_design.sql` | L129-144 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1060-1081 |
| `backend/routes/attendance.js` | L641-834 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L92-110 |
| `docs/entities/mysql_table_design.sql` | L115-131 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L1026-1062 |
| `docs/detailed-design/ui/attendance-table-screen.md` | L703-726 |
| `backend/routes/attendance.js` | L415-714 |

</details>
</tool-use>

---



---

日次確定申請フォームの項目定義を、画像の内容に合わせて修正します。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 7, lines removed: 3

```diff
@@ -54,7 +54,11 @@
  | | &lt;日次確定申請フォーム&gt; | | | | | | | | | | | | |
  | 17 | 日次確定フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 日次確定タブが選択されている場合に表示 |
- | 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 日次確定を申請します。 |
- | 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる |
- | 20 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
+ | 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出退社時刻 | 出力 | | 文字 | | | | HH:MM-HH:MM | 表示 | 活性 | | 出勤時刻と退勤時刻を表示（例: 8:50-17:40） |
+ | 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 出力 | | 文字 | | | | HH:MM-HH:MM | 表示 | 活性 | | 休憩時間帯を表示（例: 12:00-13:00）。複数の休憩時間がある場合はカンマ区切りで表示 |
+ | 20 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 出力 | | 文字 | | | | H:MM | 表示 | 活性 | | 総労働時間を表示（例: 7:50） |
+ | 21 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 出力 | | 文字 | | | | H:MM | 表示 | 活性 | | 実労働時間を表示（例: 7:50） |
+ | 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |
+ | 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる |
+ | 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
  | | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |
  | 21 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |
```

</details>

</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

初期表示処理と編集仕様を更新中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

日次確定タブが開かれたときの勤務データ取得処理を追加し、編集仕様を更新中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 6, lines removed: 1

```diff
@@ -179,5 +179,10 @@
     - 選択された申請タイプのタブを開く。
  
- 3. 申請フォーム表示
+ 3. 日次確定タブの場合の勤務データ取得
+    - 日次確定タブを開く場合:
+      - API利用仕様に従い、対象日付の勤務データを取得する。
+      - 【API利用仕様 No.9（日次勤務データ取得API）】
+ 
+ 4. 申請フォーム表示
     - 編集仕様に従い、選択された申請タイプのフォームを表示する。
     - 【編集仕様 No.3（申請フォーム表示）】
```

</details>

</tool-use>

---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 6, lines removed: 2

```diff
@@ -399,9 +399,13 @@
  #### No.3
  - 編集仕様名：申請フォーム表示
- - 関連する取得仕様名：-
+ - 関連する取得仕様名：API利用仕様 No.9（日次勤務データ取得API）
    | 項目名 | 編集内容 | 条件or前提 |
    | :--- | :--- | :--- |
    | 日次確定フォーム | 日次確定タブが選択されている場合に表示 | |
-   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定説明 | 「日次確定を申請します。」を表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出退社時刻 | 日次勤務データ取得.出勤時刻-退勤時刻をHH:MM-HH:MM形式で表示 | 日次勤務データ取得.出勤時刻と退勤時刻が存在する場合のみ表示 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 日次勤務データ取得.休憩時間リストから休憩時間帯をHH:MM-HH:MM形式で表示 | 複数の休憩時間がある場合はカンマ区切りで表示 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 日次勤務データ取得.出勤時刻と退勤時刻から総労働時間を計算してH:MM形式で表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 日次勤務データ取得.実労働時間をH:MM形式で表示 | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 日次勤務データ取得.備考を表示 | 既存の備考がある場合はその値を表示、ない場合は空欄 |
    | 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |
    | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示 | |
```

</details>

</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

日次勤務データをその他の項目定義に追加し、API利用仕様も追加中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 9, lines removed: 1

```diff
@@ -142,5 +142,13 @@
  | 10 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | フラグ | 正常 | | VACATION_TYPE.IS_PAID |
  | 11 | 有給残日数 | 整数 | 正常 | | 年次有給休暇の残日数 |
- | 12 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |
+ | 12 | 日次勤務データ | オブジェクト | 正常 | | 対象日付の勤務データ |
+ | 13 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_IN_TIME |
+ | 14 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |
+ | 15 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |
+ | 16 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 文字 | 正常 | | ATTENDANCE_RECORD.REMARK_TEXT |
+ | 17 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIMEテーブルから取得 |
+ | 18 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩開始時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_START_TIME |
+ | 19 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩終了時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_END_TIME |
+ | 20 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |
  
  ## イベント処理説明
```

</details>

</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

日次勤務データ取得APIを追加中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 29, lines removed: undefined

```diff
@@ -736,4 +736,33 @@
    - 振替申請時にチェック仕様No.6のチェックを実行
  
+ #### No.9
+ - API仕様名：日次勤務データ取得API
+ - リクエスト
+   | 項目名 | リクエスト内容 | 補足 |
+   | :--- | :--- | :--- |
+   | HTTPメソッド | GET | |
+   | エンドポイント | /api/attendance/daily | |
+   | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
+   | WORK_DATE | 入出力項目定義.対象日付 | クエリパラメータ、YYYY-MM-DD形式 |
+ - レスポンス
+   | 項目名 | レスポンス内容 | 補足 |
+   | :--- | :--- | :--- |
+   | 日次勤務データ | 1日分の勤務記録 | JSON形式 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤怠ID | ATTENDANCE_RECORD.ATTENDANCE_ID | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;従業員ID | ATTENDANCE_RECORD.EMPLOYEE_ID | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務日 | ATTENDANCE_RECORD.WORK_DATE | YYYY-MM-DD形式 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | ATTENDANCE_RECORD.CLOCK_IN_TIME | YYYY-MM-DD HH:MM:SS形式 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | ATTENDANCE_RECORD.CLOCK_OUT_TIME | YYYY-MM-DD HH:MM:SS形式 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ATTENDANCE_RECORD.REMARK_TEXT | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間リスト | BREAK_TIME | |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩開始時刻 | BREAK_TIME.BREAK_START_TIME | HH:MM形式 |
+   | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩終了時刻 | BREAK_TIME.BREAK_END_TIME | HH:MM形式 |
+ - 関連する取得仕様
+   - なし
+ - その他
+   - ATTENDANCE_RECORDとBREAK_TIMEを結合して返却
+   - 勤務記録が存在しない場合は空のレスポンスを返す
+ 
  ## 補足説明
  
```

</details>

</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---



---

日次確定申請の補足説明を更新中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 8, lines removed: undefined

```diff
@@ -789,4 +789,12 @@
  ### 日次確定申請
  日次確定申請は、1日の勤務を確定するための申請です。
+ 
+ #### 表示内容
+ 日次確定タブを開くと、対象日付の勤務情報が表示されます：
+ - **出退社時刻**: 出勤時刻と退勤時刻を「HH:MM-HH:MM」形式で表示（例: 8:50-17:40）
+ - **休憩時間**: 休憩時間帯を「HH:MM-HH:MM」形式で表示（例: 12:00-13:00）。複数の休憩時間がある場合はカンマ区切りで表示
+ - **総労働時間**: 出勤から退勤までの時間を「H:MM」形式で表示（例: 7:50）
+ - **実労働時間**: 休憩時間を除いた実際の労働時間を「H:MM」形式で表示（例: 7:50）
+ - **備考**: 既存の備考がある場合はその値を表示、ない場合は空欄。手入力の場合は理由を入力する必要がある
  
  #### 申請条件
```

</details>

</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="read_lints">
<details>
          <summary>Tool use: **read_lints** • Read lints for 1 file</summary>
      
Lint paths:

- `docs/detailed-design/ui/attendance-application-screen.md`

Lint results


**No lint errors found**
</details>
</tool-use>

---



---

変更履歴を更新中です。


---

<tool-use data-tool-type="write" data-tool-name="search_replace">

<details><summary>Tool use: **search_replace** • Edit file: docs/detailed-design/ui/attendance-application-screen.md</summary>

**Chunk 1**
Lines added: 1, lines removed: undefined

```diff
@@ -905,4 +905,5 @@
  | 2025-12-08 | 初版作成 | AI Assistant |
  | 2025-12-08 | タブ機能の仕様を修正。複数のタブを同時に開く仕様から、常に1つのタブのみが開く仕様に変更。メニューから別の申請タイプを選択すると、以前開いていたタブは閉じて新しいタブが開く仕様に変更 | AI Assistant |
+ | 2025-12-08 | 日次確定申請フォームの項目定義を追加。出退社時刻、休憩時間、総労働時間、実労働時間、備考の項目を追加。日次確定タブを開いた際に勤務データを取得して表示する処理を追加。API利用仕様No.9（日次勤務データ取得API）を追加 | AI Assistant |
  
  
```

</details>

</tool-use>

---



---

日次確定申請フォームの項目定義を画像の内容に合わせて更新しました。

## 修正内容

1. **画面項目定義の更新**
   - 日次確定申請フォームに以下を追加：
     - 出退社時刻（出力）: HH:MM-HH:MM形式で表示
     - 休憩時間（出力）: HH:MM-HH:MM形式で表示（複数はカンマ区切り）
     - 総労働時間（出力）: H:MM形式で表示
     - 実労働時間（出力）: H:MM形式で表示
     - 備考（入力）: テキストエリアで入力可能

2. **イベント処理説明の更新**
   - メニュー項目押下処理に、日次確定タブを開く際の勤務データ取得処理を追加

3. **編集仕様の更新**
   - 申請フォーム表示（No.3）に、日次確定フォームの各項目の編集内容を追加

4. **その他の項目定義の追加**
   - 日次勤務データとその関連項目を追加

5. **API利用仕様の追加**
   - No.9: 日次勤務データ取得APIを追加

6. **補足説明の更新**
   - 日次確定申請のセクションに表示内容の説明を追加

これで、日次確定タブを開くと対象日付の勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示され、備考を編集して承認申請できる仕様になりました。

---

