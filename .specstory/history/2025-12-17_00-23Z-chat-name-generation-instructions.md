<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 8891b074-5a9a-4fd8-83a1-b391c2d0dd1a (2025-12-17 00:23Z) -->

# Chat name generation instructions (2025-12-17 00:23Z)

_**User**_

代休の申請をした際には、グラフの背景色は有給休暇とかと同じ色の背景色としてください。グラフの色は1A69ABでその上に細い白い線が入っています。画像のような感じです。
また他と同様に申請したら、申請取消の画面もあるのでお願いします。
設計書から修正していきましょう。

---

_**Agent (model composer-1, mode Agent)**_



---


設計書と関連コードを確認中です。


---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **7** results in **1** directory</summary>

Directory: **undefined** (7 files)

| File |
|------|
| `.\.specstory\history\2025-12-15_13-02Z-申請取り消し処理の設計書.md` |
| `.\.specstory\history\2025-12-15_06-28Z-休日出勤申請の詳細設計書.md` |
| `.\.specstory\history\2025-12-12_13-49Z-mysqlテーブル設計の更新.md` |
| `.\.specstory\history\2025-12-11_23-43Z-月次サマリー情報画面の詳細設計書.md` |
| `.\.specstory\history\2025-12-09_04-55Z-工数実績入力ダイアログの詳細設計書作成.md` |
| `.\.specstory\history\2025-12-09_01-23Z-勤怠情報入力画面の詳細設計.md` |
| `.\.specstory\history\2025-12-08_07-44Z-勤怠申請画面の詳細設計書作成.md` |

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **0** result in **1** directory</summary>

Directory: **undefined** (0 file)

</details>
</tool-use>

---

<tool-use data-tool-type="generic" data-tool-name="glob_file_search">
<details>
<summary>Tool use: **glob_file_search** • Searched codebase "undefined" • **3** results in **1** directory</summary>

Directory: **undefined** (3 files)

| File |
|------|
| `.\docs\detailed-design\ui\detailed-design-list.md` |
| `.\prompts\03_Detailed_Design\api_detailed_design.md` |
| `.\prompts\03_Detailed_Design\ui_detailed_design.md` |

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "代休の申請機能の実装",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1459
          },
          "endPosition": {
            "line": 1487
          }
        },
        "contents": "### 休暇申請\n休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。\n\n#### 申請内容\n- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択\n- **期間**: 開始日と終了日を指定\n  - **開始日**: その日の勤怠申請のため、常に無効化（グレーアウト）され、操作不可。対象日付が初期値として設定される\n  - **終了日入力可否チェックボックス**: 開始日と終了日の間に配置されるチェックボックス。「～」ラベルが表示される。チェックが入っている場合、終了日が入力可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される（1日のみの申請となる）\n  - **終了日**: チェックボックスがチェックされている場合のみ入力可能。カレンダーで開始日より前の日付は選択不可（グレーアウト表示）。チェックが外れている場合、無効化され、開始日と同じ日付に設定される\n- **備考**: 休暇取得の理由や備考を入力\n- **連絡先**: 連絡先を入力（任意）\n\n#### 有給残日数の表示\n- 年次有給休暇を選択した場合のみ、「有休残日数」が表示されます\n- 有給残日数は、V_VACATION_BALANCE_SUMMARYビューから取得した残日数を表示します\n\n#### 代休申請\n代休は、休日出勤後に取得できる休暇です。\n\n##### 代休の表示条件\n- **休暇種類のプルダウンに「代休」が表示される条件**: 休日出勤申請を行っている場合のみ、「代休」が休暇種類のプルダウンに表示されます\n- 休日出勤申請を行っていない場合、「代休」は休暇種類のプルダウンに表示されません\n\n##### 代休取得可能日数の表示\n- 代休を選択した場合のみ、「代休取得可能日数」が表示されます\n- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます\n- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "### 休暇申請",
            "lineNumber": 1461
          },
          {
            "text": "休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。",
            "lineNumber": 1462
          },
          {
            "lineNumber": 1463
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1464
          },
          {
            "text": "- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択",
            "lineNumber": 1465
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1466
          },
          {
            "text": "  - **開始日**: その日の勤怠申請のため、常に無効化（グレーアウト）され、操作不可。対象日付が初期値として設定される",
            "lineNumber": 1467
          },
          {
            "text": "  - **終了日入力可否チェックボックス**: 開始日と終了日の間に配置されるチェックボックス。「～」ラベルが表示される。チェックが入っている場合、終了日が入力可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される（1日のみの申請となる）",
            "lineNumber": 1468
          },
          {
            "text": "  - **終了日**: チェックボックスがチェックされている場合のみ入力可能。カレンダーで開始日より前の日付は選択不可（グレーアウト表示）。チェックが外れている場合、無効化され、開始日と同じ日付に設定される",
            "lineNumber": 1469
          },
          {
            "text": "- **備考**: 休暇取得の理由や備考を入力",
            "lineNumber": 1470
          },
          {
            "text": "- **連絡先**: 連絡先を入力（任意）",
            "lineNumber": 1471
          },
          {
            "lineNumber": 1472
          },
          {
            "text": "#### 有給残日数の表示",
            "lineNumber": 1473
          },
          {
            "text": "- 年次有給休暇を選択した場合のみ、「有休残日数」が表示されます",
            "lineNumber": 1474
          },
          {
            "text": "- 有給残日数は、V_VACATION_BALANCE_SUMMARYビューから取得した残日数を表示します",
            "lineNumber": 1475
          },
          {
            "lineNumber": 1476
          },
          {
            "text": "#### 代休申請",
            "lineNumber": 1477
          },
          {
            "text": "代休は、休日出勤後に取得できる休暇です。",
            "lineNumber": 1478
          },
          {
            "lineNumber": 1479
          },
          {
            "text": "##### 代休の表示条件",
            "lineNumber": 1480
          },
          {
            "text": "- **休暇種類のプルダウンに「代休」が表示される条件**: 休日出勤申請を行っている場合のみ、「代休」が休暇種類のプルダウンに表示されます",
            "lineNumber": 1481
          },
          {
            "text": "- 休日出勤申請を行っていない場合、「代休」は休暇種類のプルダウンに表示されません",
            "lineNumber": 1482
          },
          {
            "lineNumber": 1483
          },
          {
            "text": "##### 代休取得可能日数の表示",
            "lineNumber": 1484
          },
          {
            "text": "- 代休を選択した場合のみ、「代休取得可能日数」が表示されます",
            "lineNumber": 1485
          },
          {
            "text": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます",
            "lineNumber": 1486
          },
          {
            "text": "- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
            "lineNumber": 1487
          }
        ]
      },
      "score": 0.45620715618133545
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1485
          },
          "endPosition": {
            "line": 1513
          }
        },
        "contents": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます\n- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）\n- 表示スタイル: 赤い点線のボックスで表示されます\n\n##### 代休取得の期限\n- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります\n- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります\n\n##### 代休申請の手順\n1. [休暇申請] タブを選択します\n2. 休暇種類のプルダウンから [代休] を選択します\n3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）\n4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**\n  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します\n  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n#### 申請取り消し時の動作\n- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます\n  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます",
            "lineNumber": 1486
          },
          {
            "text": "- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
            "lineNumber": 1487
          },
          {
            "text": "- 表示スタイル: 赤い点線のボックスで表示されます",
            "lineNumber": 1488
          },
          {
            "lineNumber": 1489
          },
          {
            "text": "##### 代休取得の期限",
            "lineNumber": 1490
          },
          {
            "text": "- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります",
            "lineNumber": 1491
          },
          {
            "text": "- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります",
            "lineNumber": 1492
          },
          {
            "lineNumber": 1493
          },
          {
            "text": "##### 代休申請の手順",
            "lineNumber": 1494
          },
          {
            "text": "1. [休暇申請] タブを選択します",
            "lineNumber": 1495
          },
          {
            "text": "2. 休暇種類のプルダウンから [代休] を選択します",
            "lineNumber": 1496
          },
          {
            "text": "3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）",
            "lineNumber": 1497
          },
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1498
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1499
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1500
          },
          {
            "lineNumber": 1501
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1502
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1503
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1504
          },
          {
            "text": "- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**",
            "lineNumber": 1505
          },
          {
            "text": "  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します",
            "lineNumber": 1506
          },
          {
            "text": "  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）",
            "lineNumber": 1507
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1508
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1509
          },
          {
            "lineNumber": 1510
          },
          {
            "text": "#### 申請取り消し時の動作",
            "lineNumber": 1511
          },
          {
            "text": "- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます",
            "lineNumber": 1512
          },
          {
            "text": "  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
            "lineNumber": 1513
          }
        ]
      },
      "score": 0.4353431463241577
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 56,
            "column": 3
          }
        },
        "contents": "/**\n * 申請サービス\n */\nconst applicationModel = require('../models/applicationModel');\nconst { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');\n\n/**\n * 休暇申請\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst applyVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    reason,\n    contact\n  } = vacationData;\n  \n  // 日数を計算\n  const vacationDays = calculateDays(startDate, endDate);\n  \n  // 有給休暇の場合、残日数チェックと残日数の減算\n  if (vacationTypeCode === 'PAID_LEAVE') {\n    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);\n    if (vacationDays &gt; remainingDays) {\n      throw new Error('有給休暇の残日数が不足しています。');\n    }\n    \n    // 申請時に残日数を減らす\n    const fiscalYear = getFiscalYear(startDate);\n    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);\n  }\n  \n  const now = getNow();\n  \n  return await applicationModel.createVacation({\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo: contact,\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請サービス",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationModel = require('../models/applicationModel');",
            "lineNumber": 4
          },
          {
            "text": "const { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');",
            "lineNumber": 5
          },
          {
            "lineNumber": 6
          },
          {
            "text": "/**",
            "lineNumber": 7
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 8
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 9
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 10
          },
          {
            "text": " */",
            "lineNumber": 11
          },
          {
            "text": "const applyVacation = async (vacationData) =&gt; {",
            "lineNumber": 12
          },
          {
            "text": "  const {",
            "lineNumber": 13
          },
          {
            "text": "    employeeId,",
            "lineNumber": 14
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 15
          },
          {
            "text": "    startDate,",
            "lineNumber": 16
          },
          {
            "text": "    endDate,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contact",
            "lineNumber": 19
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 20
          },
          {
            "text": "  ",
            "lineNumber": 21
          },
          {
            "text": "  // 日数を計算",
            "lineNumber": 22
          },
          {
            "text": "  const vacationDays = calculateDays(startDate, endDate);",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  // 有給休暇の場合、残日数チェックと残日数の減算",
            "lineNumber": 25
          },
          {
            "text": "  if (vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 26
          },
          {
            "text": "    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 27
          },
          {
            "text": "    if (vacationDays &gt; remainingDays) {",
            "lineNumber": 28
          },
          {
            "text": "      throw new Error('有給休暇の残日数が不足しています。');",
            "lineNumber": 29
          },
          {
            "text": "    }",
            "lineNumber": 30
          },
          {
            "text": "    ",
            "lineNumber": 31
          },
          {
            "text": "    // 申請時に残日数を減らす",
            "lineNumber": 32
          },
          {
            "text": "    const fiscalYear = getFiscalYear(startDate);",
            "lineNumber": 33
          },
          {
            "text": "    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);",
            "lineNumber": 34
          },
          {
            "text": "  }",
            "lineNumber": 35
          },
          {
            "text": "  ",
            "lineNumber": 36
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 37
          },
          {
            "text": "  ",
            "lineNumber": 38
          },
          {
            "text": "  return await applicationModel.createVacation({",
            "lineNumber": 39
          },
          {
            "text": "    employeeId,",
            "lineNumber": 40
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 41
          },
          {
            "text": "    startDate,",
            "lineNumber": 42
          },
          {
            "text": "    endDate,",
            "lineNumber": 43
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 44
          },
          {
            "text": "    reason,",
            "lineNumber": 45
          },
          {
            "text": "    contactInfo: contact,",
            "lineNumber": 46
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 47
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 48
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 49
          },
          {
            "text": "  });",
            "lineNumber": 50
          },
          {
            "text": "};",
            "lineNumber": 51
          },
          {
            "lineNumber": 52
          },
          {
            "text": "/**",
            "lineNumber": 53
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 54
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 55
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 56
          },
          {
            "text": " */",
            "lineNumber": 57
          }
        ]
      },
      "score": 0.42849209904670715
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 89,
            "column": 1
          }
        },
        "contents": "/**\n * 申請コントローラー\n */\nconst applicationService = require('../services/applicationService');\n\n/**\n * 休暇申請\n */\nconst applyVacation = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, vacationTypeCode, startDate, endDate, reason, contact } = req.body;\n    \n    if (!employeeId || !vacationTypeCode || !startDate || !endDate) {\n      return res.status(400).json({\n        success: false,\n        message: '必須項目が不足しています。'\n      });\n    }\n    \n    const vacationId = await applicationService.applyVacation({\n      employeeId,\n      vacationTypeCode,\n      startDate,\n      endDate,\n      reason,\n      contact\n    });\n    \n    res.json({\n      success: true,\n      message: '休暇申請が完了しました。',\n      vacationId\n    });\n  } catch (error) {\n    if (error.message.includes('残日数が不足')) {\n      return res.status(400).json({\n        success: false,\n        message: error.message\n      });\n    }\n    next(error);\n  }\n};\n\n/**\n * 休日出勤申請\n */\nconst applyHolidayWork = async (req, res, next)\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請コントローラー",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationService = require('../services/applicationService');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 7
          },
          {
            "text": " */",
            "lineNumber": 8
          },
          {
            "text": "const applyVacation = async (req, res, next) =&gt; {",
            "lineNumber": 9
          },
          {
            "text": "  try {",
            "lineNumber": 10
          },
          {
            "text": "    const { employeeId, vacationTypeCode, startDate, endDate, reason, contact } = req.body;",
            "lineNumber": 11
          },
          {
            "text": "    ",
            "lineNumber": 12
          },
          {
            "text": "    if (!employeeId || !vacationTypeCode || !startDate || !endDate) {",
            "lineNumber": 13
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 14
          },
          {
            "text": "        success: false,",
            "lineNumber": 15
          },
          {
            "text": "        message: '必須項目が不足しています。'",
            "lineNumber": 16
          },
          {
            "text": "      });",
            "lineNumber": 17
          },
          {
            "text": "    }",
            "lineNumber": 18
          },
          {
            "text": "    ",
            "lineNumber": 19
          },
          {
            "text": "    const vacationId = await applicationService.applyVacation({",
            "lineNumber": 20
          },
          {
            "text": "      employeeId,",
            "lineNumber": 21
          },
          {
            "text": "      vacationTypeCode,",
            "lineNumber": 22
          },
          {
            "text": "      startDate,",
            "lineNumber": 23
          },
          {
            "text": "      endDate,",
            "lineNumber": 24
          },
          {
            "text": "      reason,",
            "lineNumber": 25
          },
          {
            "text": "      contact",
            "lineNumber": 26
          },
          {
            "text": "    });",
            "lineNumber": 27
          },
          {
            "text": "    ",
            "lineNumber": 28
          },
          {
            "text": "    res.json({",
            "lineNumber": 29
          },
          {
            "text": "      success: true,",
            "lineNumber": 30
          },
          {
            "text": "      message: '休暇申請が完了しました。',",
            "lineNumber": 31
          },
          {
            "text": "      vacationId",
            "lineNumber": 32
          },
          {
            "text": "    });",
            "lineNumber": 33
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 34
          },
          {
            "text": "    if (error.message.includes('残日数が不足')) {",
            "lineNumber": 35
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 36
          },
          {
            "text": "        success: false,",
            "lineNumber": 37
          },
          {
            "text": "        message: error.message",
            "lineNumber": 38
          },
          {
            "text": "      });",
            "lineNumber": 39
          },
          {
            "text": "    }",
            "lineNumber": 40
          },
          {
            "text": "    next(error);",
            "lineNumber": 41
          },
          {
            "text": "  }",
            "lineNumber": 42
          },
          {
            "text": "};",
            "lineNumber": 43
          },
          {
            "lineNumber": 44
          },
          {
            "text": "/**",
            "lineNumber": 45
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 46
          },
          {
            "text": " */",
            "lineNumber": 47
          },
          {
            "text": "const applyHolidayWork = async (req, res, next)",
            "lineNumber": 48
          },
          {
            "text": ";",
            "lineNumber": 90
          }
        ]
      },
      "score": 0.4017218351364136
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 42,
            "column": 2
          },
          "endPosition": {
            "line": 114,
            "column": 1
          }
        },
        "contents": "/**\n * 休日出勤申請\n */\nconst applyHolidayWork = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, workDate, startTime, endTime, breakHours, reason } = req.body;\n    \n    if (!employeeId || !workDate || !startTime || !endTime || breakHours === undefined) {\n      return res.status(400).json({\n        success: false,\n        message: '必須項目が不足しています。'\n      });\n    }\n    \n    // バリデーション\n    if (startTime &gt;= endTime) {\n      return res.status(400).json({\n        success: false,\n        message: '開始時間は終了時間より前の時刻を入力してください。'\n      });\n    }\n    \n    if (breakHours &lt; 0) {\n      return res.status(400).json({\n        success: false,\n        message: '休憩時間を入力してください。'\n      });\n    }\n    \n    await applicationService.applyHolidayWork({ \n      employeeId, \n      workDate, \n      startTime, \n      endTime, \n      breakHours, \n      reason \n    });\n    \n    res.json({\n      success: true,\n      message: '休日出勤申請が完了しました。'\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * 残業申請\n */\nconst applyOvertime = async (req, res, next) =&gt;\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 45
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 46
          },
          {
            "text": " */",
            "lineNumber": 47
          },
          {
            "text": "const applyHolidayWork = async (req, res, next) =&gt; {",
            "lineNumber": 48
          },
          {
            "text": "  try {",
            "lineNumber": 49
          },
          {
            "text": "    const { employeeId, workDate, startTime, endTime, breakHours, reason } = req.body;",
            "lineNumber": 50
          },
          {
            "text": "    ",
            "lineNumber": 51
          },
          {
            "text": "    if (!employeeId || !workDate || !startTime || !endTime || breakHours === undefined) {",
            "lineNumber": 52
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 53
          },
          {
            "text": "        success: false,",
            "lineNumber": 54
          },
          {
            "text": "        message: '必須項目が不足しています。'",
            "lineNumber": 55
          },
          {
            "text": "      });",
            "lineNumber": 56
          },
          {
            "text": "    }",
            "lineNumber": 57
          },
          {
            "text": "    ",
            "lineNumber": 58
          },
          {
            "text": "    // バリデーション",
            "lineNumber": 59
          },
          {
            "text": "    if (startTime &gt;= endTime) {",
            "lineNumber": 60
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 61
          },
          {
            "text": "        success: false,",
            "lineNumber": 62
          },
          {
            "text": "        message: '開始時間は終了時間より前の時刻を入力してください。'",
            "lineNumber": 63
          },
          {
            "text": "      });",
            "lineNumber": 64
          },
          {
            "text": "    }",
            "lineNumber": 65
          },
          {
            "text": "    ",
            "lineNumber": 66
          },
          {
            "text": "    if (breakHours &lt; 0) {",
            "lineNumber": 67
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 68
          },
          {
            "text": "        success: false,",
            "lineNumber": 69
          },
          {
            "text": "        message: '休憩時間を入力してください。'",
            "lineNumber": 70
          },
          {
            "text": "      });",
            "lineNumber": 71
          },
          {
            "text": "    }",
            "lineNumber": 72
          },
          {
            "text": "    ",
            "lineNumber": 73
          },
          {
            "text": "    await applicationService.applyHolidayWork({ ",
            "lineNumber": 74
          },
          {
            "text": "      employeeId, ",
            "lineNumber": 75
          },
          {
            "text": "      workDate, ",
            "lineNumber": 76
          },
          {
            "text": "      startTime, ",
            "lineNumber": 77
          },
          {
            "text": "      endTime, ",
            "lineNumber": 78
          },
          {
            "text": "      breakHours, ",
            "lineNumber": 79
          },
          {
            "text": "      reason ",
            "lineNumber": 80
          },
          {
            "text": "    });",
            "lineNumber": 81
          },
          {
            "text": "    ",
            "lineNumber": 82
          },
          {
            "text": "    res.json({",
            "lineNumber": 83
          },
          {
            "text": "      success: true,",
            "lineNumber": 84
          },
          {
            "text": "      message: '休日出勤申請が完了しました。'",
            "lineNumber": 85
          },
          {
            "text": "    });",
            "lineNumber": 86
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 87
          },
          {
            "text": "    next(error);",
            "lineNumber": 88
          },
          {
            "text": "  }",
            "lineNumber": 89
          },
          {
            "text": "};",
            "lineNumber": 90
          },
          {
            "lineNumber": 91
          },
          {
            "text": "/**",
            "lineNumber": 92
          },
          {
            "text": " * 残業申請",
            "lineNumber": 93
          },
          {
            "text": " */",
            "lineNumber": 94
          },
          {
            "text": "const applyOvertime = async (req, res, next) =&gt;",
            "lineNumber": 95
          },
          {
            "text": ";",
            "lineNumber": 115
          }
        ]
      },
      "score": 0.39870166778564453
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2172
          },
          "endPosition": {
            "line": 2225,
            "column": 8
          }
        },
        "contents": "    async submitVacationApplication() {\n      // 終了日が無効な場合、終了日を開始日と同じにする\n      if (!this.vacationForm.enableEndDate) {\n        this.vacationForm.endDate = this.vacationForm.startDate\n      }\n      \n      // 有休残日数チェック（E_APP_015）\n      if (this.vacationForm.vacationType === 'PAID_LEAVE') {\n        const startDate = new Date(this.vacationForm.startDate)\n        const endDate = new Date(this.vacationForm.endDate)\n        const vacationDays = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1\n        \n        if (vacationDays &gt; this.paidLeaveBalance) {\n          this.showError('有給休暇の残日数が不足しています。')\n          return\n        }\n      }\n      \n      this.loading = true\n      try {\n        const response = await fetch('http://localhost:3000/api/application/vacation/apply', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            employeeId: this.employeeId,\n            vacationTypeCode: this.vacationForm.vacationType,\n            startDate: this.vacationForm.startDate,\n            endDate: this.vacationForm.endDate,\n            reason: this.vacationForm.reason,\n            contact: this.vacationForm.contact\n          })\n        })\n        \n        const data = await response.json()\n        \n        if (data.success) {\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(data.message || '休暇申請に失敗しました')\n        }\n      } catch (error) {\n        console.error('休暇申請エラー:', error)\n        this.showError('休暇申請中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    async loadMonthlyOvertime() {\n      try {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async submitVacationApplication() {",
            "lineNumber": 2173
          },
          {
            "text": "      // 終了日が無効な場合、終了日を開始日と同じにする",
            "lineNumber": 2174
          },
          {
            "text": "      if (!this.vacationForm.enableEndDate) {",
            "lineNumber": 2175
          },
          {
            "text": "        this.vacationForm.endDate = this.vacationForm.startDate",
            "lineNumber": 2176
          },
          {
            "text": "      }",
            "lineNumber": 2177
          },
          {
            "text": "      ",
            "lineNumber": 2178
          },
          {
            "text": "      // 有休残日数チェック（E_APP_015）",
            "lineNumber": 2179
          },
          {
            "text": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {",
            "lineNumber": 2180
          },
          {
            "text": "        const startDate = new Date(this.vacationForm.startDate)",
            "lineNumber": 2181
          },
          {
            "text": "        const endDate = new Date(this.vacationForm.endDate)",
            "lineNumber": 2182
          },
          {
            "text": "        const vacationDays = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1",
            "lineNumber": 2183
          },
          {
            "text": "        ",
            "lineNumber": 2184
          },
          {
            "text": "        if (vacationDays &gt; this.paidLeaveBalance) {",
            "lineNumber": 2185
          },
          {
            "text": "          this.showError('有給休暇の残日数が不足しています。')",
            "lineNumber": 2186
          },
          {
            "text": "          return",
            "lineNumber": 2187
          },
          {
            "text": "        }",
            "lineNumber": 2188
          },
          {
            "text": "      }",
            "lineNumber": 2189
          },
          {
            "text": "      ",
            "lineNumber": 2190
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2191
          },
          {
            "text": "      try {",
            "lineNumber": 2192
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/application/vacation/apply', {",
            "lineNumber": 2193
          },
          {
            "text": "          method: 'POST',",
            "lineNumber": 2194
          },
          {
            "text": "          headers: {",
            "lineNumber": 2195
          },
          {
            "text": "            'Content-Type': 'application/json'",
            "lineNumber": 2196
          },
          {
            "text": "          },",
            "lineNumber": 2197
          },
          {
            "text": "          body: JSON.stringify({",
            "lineNumber": 2198
          },
          {
            "text": "            employeeId: this.employeeId,",
            "lineNumber": 2199
          },
          {
            "text": "            vacationTypeCode: this.vacationForm.vacationType,",
            "lineNumber": 2200
          },
          {
            "text": "            startDate: this.vacationForm.startDate,",
            "lineNumber": 2201
          },
          {
            "text": "            endDate: this.vacationForm.endDate,",
            "lineNumber": 2202
          },
          {
            "text": "            reason: this.vacationForm.reason,",
            "lineNumber": 2203
          },
          {
            "text": "            contact: this.vacationForm.contact",
            "lineNumber": 2204
          },
          {
            "text": "          })",
            "lineNumber": 2205
          },
          {
            "text": "        })",
            "lineNumber": 2206
          },
          {
            "text": "        ",
            "lineNumber": 2207
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 2208
          },
          {
            "text": "        ",
            "lineNumber": 2209
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 2210
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2211
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2212
          },
          {
            "text": "        } else {",
            "lineNumber": 2213
          },
          {
            "text": "          this.showError(data.message || '休暇申請に失敗しました')",
            "lineNumber": 2214
          },
          {
            "text": "        }",
            "lineNumber": 2215
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2216
          },
          {
            "text": "        console.error('休暇申請エラー:', error)",
            "lineNumber": 2217
          },
          {
            "text": "        this.showError('休暇申請中にエラーが発生しました')",
            "lineNumber": 2218
          },
          {
            "text": "      } finally {",
            "lineNumber": 2219
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2220
          },
          {
            "text": "      }",
            "lineNumber": 2221
          },
          {
            "text": "    },",
            "lineNumber": 2222
          },
          {
            "text": "    ",
            "lineNumber": 2223
          },
          {
            "text": "    async loadMonthlyOvertime() {",
            "lineNumber": 2224
          },
          {
            "text": "      try {",
            "lineNumber": 2225
          },
          {
            "text": "        ",
            "lineNumber": 2226
          }
        ]
      },
      "score": 0.39340969920158386
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2317
          },
          "endPosition": {
            "line": 2373
          }
        },
        "contents": "    async submitHolidayWorkApplication() {\n      // バリデーション\n      if (!this.holidayWorkForm.startTime) {\n        this.showError('開始時間を入力してください。')\n        return\n      }\n      if (!this.holidayWorkForm.endTime) {\n        this.showError('終了時間を入力してください。')\n        return\n      }\n      if (this.holidayWorkForm.startTime &gt;= this.holidayWorkForm.endTime) {\n        this.showError('開始時間は終了時間より前の時刻を入力してください。')\n        return\n      }\n      if (!this.holidayWorkForm.breakHours || this.holidayWorkForm.breakHours &lt;= 0) {\n        this.showError('休憩時間を入力してください。')\n        return\n      }\n      \n      this.loading = true\n      try {\n        const response = await fetch('http://localhost:3000/api/application/holiday-work', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            employeeId: this.employeeId,\n            workDate: this.targetDate,\n            startTime: this.holidayWorkForm.startTime,\n            endTime: this.holidayWorkForm.endTime,\n            breakHours: this.holidayWorkForm.breakHours,\n            reason: this.holidayWorkForm.reason\n          })\n        })\n        \n        const data = await response.json()\n        \n        if (data.success) {\n          // 休日出勤申請状態を更新\n          this.hasHolidayWorkApplication = true\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(data.message || '休日出勤申請に失敗しました')\n        }\n      } catch (error) {\n        console.error('休日出勤申請エラー:', error)\n        this.showError('休日出勤申請中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    async submitOvertimeApplication() {\n      // バリデーション",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async submitHolidayWorkApplication() {",
            "lineNumber": 2318
          },
          {
            "text": "      // バリデーション",
            "lineNumber": 2319
          },
          {
            "text": "      if (!this.holidayWorkForm.startTime) {",
            "lineNumber": 2320
          },
          {
            "text": "        this.showError('開始時間を入力してください。')",
            "lineNumber": 2321
          },
          {
            "text": "        return",
            "lineNumber": 2322
          },
          {
            "text": "      }",
            "lineNumber": 2323
          },
          {
            "text": "      if (!this.holidayWorkForm.endTime) {",
            "lineNumber": 2324
          },
          {
            "text": "        this.showError('終了時間を入力してください。')",
            "lineNumber": 2325
          },
          {
            "text": "        return",
            "lineNumber": 2326
          },
          {
            "text": "      }",
            "lineNumber": 2327
          },
          {
            "text": "      if (this.holidayWorkForm.startTime &gt;= this.holidayWorkForm.endTime) {",
            "lineNumber": 2328
          },
          {
            "text": "        this.showError('開始時間は終了時間より前の時刻を入力してください。')",
            "lineNumber": 2329
          },
          {
            "text": "        return",
            "lineNumber": 2330
          },
          {
            "text": "      }",
            "lineNumber": 2331
          },
          {
            "text": "      if (!this.holidayWorkForm.breakHours || this.holidayWorkForm.breakHours &lt;= 0) {",
            "lineNumber": 2332
          },
          {
            "text": "        this.showError('休憩時間を入力してください。')",
            "lineNumber": 2333
          },
          {
            "text": "        return",
            "lineNumber": 2334
          },
          {
            "text": "      }",
            "lineNumber": 2335
          },
          {
            "text": "      ",
            "lineNumber": 2336
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2337
          },
          {
            "text": "      try {",
            "lineNumber": 2338
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/application/holiday-work', {",
            "lineNumber": 2339
          },
          {
            "text": "          method: 'POST',",
            "lineNumber": 2340
          },
          {
            "text": "          headers: {",
            "lineNumber": 2341
          },
          {
            "text": "            'Content-Type': 'application/json'",
            "lineNumber": 2342
          },
          {
            "text": "          },",
            "lineNumber": 2343
          },
          {
            "text": "          body: JSON.stringify({",
            "lineNumber": 2344
          },
          {
            "text": "            employeeId: this.employeeId,",
            "lineNumber": 2345
          },
          {
            "text": "            workDate: this.targetDate,",
            "lineNumber": 2346
          },
          {
            "text": "            startTime: this.holidayWorkForm.startTime,",
            "lineNumber": 2347
          },
          {
            "text": "            endTime: this.holidayWorkForm.endTime,",
            "lineNumber": 2348
          },
          {
            "text": "            breakHours: this.holidayWorkForm.breakHours,",
            "lineNumber": 2349
          },
          {
            "text": "            reason: this.holidayWorkForm.reason",
            "lineNumber": 2350
          },
          {
            "text": "          })",
            "lineNumber": 2351
          },
          {
            "text": "        })",
            "lineNumber": 2352
          },
          {
            "text": "        ",
            "lineNumber": 2353
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 2354
          },
          {
            "text": "        ",
            "lineNumber": 2355
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 2356
          },
          {
            "text": "          // 休日出勤申請状態を更新",
            "lineNumber": 2357
          },
          {
            "text": "          this.hasHolidayWorkApplication = true",
            "lineNumber": 2358
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2359
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2360
          },
          {
            "text": "        } else {",
            "lineNumber": 2361
          },
          {
            "text": "          this.showError(data.message || '休日出勤申請に失敗しました')",
            "lineNumber": 2362
          },
          {
            "text": "        }",
            "lineNumber": 2363
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2364
          },
          {
            "text": "        console.error('休日出勤申請エラー:', error)",
            "lineNumber": 2365
          },
          {
            "text": "        this.showError('休日出勤申請中にエラーが発生しました')",
            "lineNumber": 2366
          },
          {
            "text": "      } finally {",
            "lineNumber": 2367
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2368
          },
          {
            "text": "      }",
            "lineNumber": 2369
          },
          {
            "text": "    },",
            "lineNumber": 2370
          },
          {
            "text": "    ",
            "lineNumber": 2371
          },
          {
            "text": "    async submitOvertimeApplication() {",
            "lineNumber": 2372
          },
          {
            "text": "      // バリデーション",
            "lineNumber": 2373
          }
        ]
      },
      "score": 0.36648058891296387
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 50,
            "column": 2
          },
          "endPosition": {
            "line": 85,
            "column": 3
          }
        },
        "contents": "/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */\nconst applyHolidayWork = async (applicationData) =&gt; {\n  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;\n  const now = getNow();\n  \n  // REASONフィールドにJSON形式で時間情報を保存\n  const reasonData = {\n    text: reason || '',\n    startTime: startTime,\n    endTime: endTime,\n    breakHours: breakHours\n  };\n  \n  return await applicationModel.createApplication({\n    employeeId,\n    applicationType: 'HOLIDAY_WORK',\n    targetStartDate: workDate,\n    targetEndDate: workDate,\n    reason: JSON.stringify(reasonData),\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 残業申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 53
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 54
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 55
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 56
          },
          {
            "text": " */",
            "lineNumber": 57
          },
          {
            "text": "const applyHolidayWork = async (applicationData) =&gt; {",
            "lineNumber": 58
          },
          {
            "text": "  const { employeeId, workDate, startTime, endTime, breakHours, reason } = applicationData;",
            "lineNumber": 59
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 60
          },
          {
            "text": "  ",
            "lineNumber": 61
          },
          {
            "text": "  // REASONフィールドにJSON形式で時間情報を保存",
            "lineNumber": 62
          },
          {
            "text": "  const reasonData = {",
            "lineNumber": 63
          },
          {
            "text": "    text: reason || '',",
            "lineNumber": 64
          },
          {
            "text": "    startTime: startTime,",
            "lineNumber": 65
          },
          {
            "text": "    endTime: endTime,",
            "lineNumber": 66
          },
          {
            "text": "    breakHours: breakHours",
            "lineNumber": 67
          },
          {
            "text": "  };",
            "lineNumber": 68
          },
          {
            "text": "  ",
            "lineNumber": 69
          },
          {
            "text": "  return await applicationModel.createApplication({",
            "lineNumber": 70
          },
          {
            "text": "    employeeId,",
            "lineNumber": 71
          },
          {
            "text": "    applicationType: 'HOLIDAY_WORK',",
            "lineNumber": 72
          },
          {
            "text": "    targetStartDate: workDate,",
            "lineNumber": 73
          },
          {
            "text": "    targetEndDate: workDate,",
            "lineNumber": 74
          },
          {
            "text": "    reason: JSON.stringify(reasonData),",
            "lineNumber": 75
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 76
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 77
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 78
          },
          {
            "text": "  });",
            "lineNumber": 79
          },
          {
            "text": "};",
            "lineNumber": 80
          },
          {
            "lineNumber": 81
          },
          {
            "text": "/**",
            "lineNumber": 82
          },
          {
            "text": " * 残業申請",
            "lineNumber": 83
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 84
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 85
          },
          {
            "text": " */",
            "lineNumber": 86
          }
        ]
      },
      "score": 0.36289069056510925
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 799
          },
          "endPosition": {
            "line": 834
          }
        },
        "contents": "                          &lt;th&gt;実行者&lt;/th&gt;\n                          &lt;th&gt;コメント&lt;/th&gt;\n                        &lt;/tr&gt;\n                      &lt;/thead&gt;\n                      &lt;tbody&gt;\n                        &lt;tr v-for=\"(history, index) in applicationInfo.earlyWork.approvalHistory\" :key=\"index\"&gt;\n                          &lt;td&gt;{{ history.seqNo }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.actionDateTime }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.status }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.actorName }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.comment || '' }}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr v-if=\"applicationInfo.earlyWork.approvalHistory.length === 0\"&gt;\n                          &lt;td colspan=\"5\" class=\"no-history\"&gt;承認履歴はありません&lt;/td&gt;\n                        &lt;/tr&gt;\n                      &lt;/tbody&gt;\n                    &lt;/table&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('earlyWork')\" \n                class=\"submit-button\" \n                @click=\"submitEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('earlyWork')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelEarlyWorkApplication\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                          &lt;th&gt;実行者&lt;/th&gt;",
            "lineNumber": 800
          },
          {
            "text": "                          &lt;th&gt;コメント&lt;/th&gt;",
            "lineNumber": 801
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 802
          },
          {
            "text": "                      &lt;/thead&gt;",
            "lineNumber": 803
          },
          {
            "text": "                      &lt;tbody&gt;",
            "lineNumber": 804
          },
          {
            "text": "                        &lt;tr v-for=\"(history, index) in applicationInfo.earlyWork.approvalHistory\" :key=\"index\"&gt;",
            "lineNumber": 805
          },
          {
            "text": "                          &lt;td&gt;{{ history.seqNo }}&lt;/td&gt;",
            "lineNumber": 806
          },
          {
            "text": "                          &lt;td&gt;{{ history.actionDateTime }}&lt;/td&gt;",
            "lineNumber": 807
          },
          {
            "text": "                          &lt;td&gt;{{ history.status }}&lt;/td&gt;",
            "lineNumber": 808
          },
          {
            "text": "                          &lt;td&gt;{{ history.actorName }}&lt;/td&gt;",
            "lineNumber": 809
          },
          {
            "text": "                          &lt;td&gt;{{ history.comment || '' }}&lt;/td&gt;",
            "lineNumber": 810
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 811
          },
          {
            "text": "                        &lt;tr v-if=\"applicationInfo.earlyWork.approvalHistory.length === 0\"&gt;",
            "lineNumber": 812
          },
          {
            "text": "                          &lt;td colspan=\"5\" class=\"no-history\"&gt;承認履歴はありません&lt;/td&gt;",
            "lineNumber": 813
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 814
          },
          {
            "text": "                      &lt;/tbody&gt;",
            "lineNumber": 815
          },
          {
            "text": "                    &lt;/table&gt;",
            "lineNumber": 816
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 817
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 818
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 819
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 820
          },
          {
            "text": "            ",
            "lineNumber": 821
          },
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 822
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 823
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 824
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 825
          },
          {
            "text": "                @click=\"submitEarlyWorkApplication\"",
            "lineNumber": 826
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 827
          },
          {
            "text": "              &gt;",
            "lineNumber": 828
          },
          {
            "text": "                承認申請",
            "lineNumber": 829
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 830
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 831
          },
          {
            "text": "                v-if=\"isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 832
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 833
          },
          {
            "text": "                @click=\"cancelEarlyWorkApplication\"",
            "lineNumber": 834
          }
        ]
      },
      "score": 0.35914820432662964
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1509
          },
          "endPosition": {
            "line": 1538
          }
        },
        "contents": "#### 申請取り消し時の動作\n- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます\n  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します\n  - USED_DAYSが0未満にならないよう、GREATEST関数で保護されています\n\n### 休日出勤申請\n休日出勤申請は、休日に出勤する場合の申請です。\n\n#### 申請内容\n- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）\n- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）\n- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **備考**: 休日出勤の理由や備考を入力（任意）\n\n#### 表示内容\n休日出勤申請タブを開くと、以下の情報が表示されます：\n- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）\n- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）\n- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）\n- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能\n- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）\n- **備考**: テキストエリアで備考を入力（任意）\n\n#### 休憩時間の変更\n- 休憩時間の横にある「変更」リンクを押下すると、「休憩時間の設定」ダイアログが表示されます\n- ダイアログでは、複数の休憩時間を追加、編集、削除できます\n- 各休憩時間は「開始時刻 ～ 終了時刻」の形式で入力します（例: 12:00 ～ 13:00）\n- 「+」ボタンで新しい休憩時間の行を追加できます",
        "signatures": {},
        "detailedLines": [
          {
            "text": "#### 申請取り消し時の動作",
            "lineNumber": 1511
          },
          {
            "text": "- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます",
            "lineNumber": 1512
          },
          {
            "text": "  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
            "lineNumber": 1513
          },
          {
            "text": "  - USED_DAYSが0未満にならないよう、GREATEST関数で保護されています",
            "lineNumber": 1514
          },
          {
            "lineNumber": 1515
          },
          {
            "text": "### 休日出勤申請",
            "lineNumber": 1516
          },
          {
            "text": "休日出勤申請は、休日に出勤する場合の申請です。",
            "lineNumber": 1517
          },
          {
            "lineNumber": 1518
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1519
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）",
            "lineNumber": 1520
          },
          {
            "text": "- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）",
            "lineNumber": 1521
          },
          {
            "text": "- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1522
          },
          {
            "text": "- **備考**: 休日出勤の理由や備考を入力（任意）",
            "lineNumber": 1523
          },
          {
            "lineNumber": 1524
          },
          {
            "text": "#### 表示内容",
            "lineNumber": 1525
          },
          {
            "text": "休日出勤申請タブを開くと、以下の情報が表示されます：",
            "lineNumber": 1526
          },
          {
            "text": "- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）",
            "lineNumber": 1527
          },
          {
            "text": "- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）",
            "lineNumber": 1528
          },
          {
            "text": "- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）",
            "lineNumber": 1529
          },
          {
            "text": "- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能",
            "lineNumber": 1530
          },
          {
            "text": "- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）",
            "lineNumber": 1531
          },
          {
            "text": "- **備考**: テキストエリアで備考を入力（任意）",
            "lineNumber": 1532
          },
          {
            "lineNumber": 1533
          },
          {
            "text": "#### 休憩時間の変更",
            "lineNumber": 1534
          },
          {
            "text": "- 休憩時間の横にある「変更」リンクを押下すると、「休憩時間の設定」ダイアログが表示されます",
            "lineNumber": 1535
          },
          {
            "text": "- ダイアログでは、複数の休憩時間を追加、編集、削除できます",
            "lineNumber": 1536
          },
          {
            "text": "- 各休憩時間は「開始時刻 ～ 終了時刻」の形式で入力します（例: 12:00 ～ 13:00）",
            "lineNumber": 1537
          },
          {
            "text": "- 「+」ボタンで新しい休憩時間の行を追加できます",
            "lineNumber": 1538
          }
        ]
      },
      "score": 0.35535943508148193
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1578
          },
          "endPosition": {
            "line": 1624
          }
        },
        "contents": "#### 平日の場合のボタン制御\n勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。\n\n非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。\n\n#### 休日の場合のボタン制御\n勤務表画面で対象日が休日（土曜日、日曜日、祝日）の場合、休日出勤申請をしていなければ、以下のボタンが非活性（押せない状態）になります：\n- 日次確定\n- 休暇申請\n- 残業申請\n- 早朝勤務申請\n\n非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。休日出勤申請を申請済みの場合は、これらのボタンが活性化され、通常通り操作可能になります。\n\n### 残業申請\n残業申請は、残業を行う場合の事前申請です。\n\n#### 申請内容\n- **期間**: 開始日と終了日を指定\n- **残業時間**: 残業時間を指定\n- **備考**: 残業の理由や備考を入力（任意）\n\n### 早朝勤務申請\n早朝勤務申請は、早朝に勤務する場合の申請です。\n\n#### 申請内容\n- **期間**: 開始日と終了日を指定\n- **備考**: 早朝勤務の理由や備考を入力（任意）\n\n### 振替申請\n振替申請は、勤務日の振替を行う場合の申請です。\n\n#### 申請内容\n- **振替元日**: 振替元の日付を指定\n- **振替先日**: 振替先の日付を指定\n- **備考**: 振替の理由や備考を入力（任意）\n\n#### 申請条件\n- 振替元日と振替先日は異なる日付である必要があります\n\n### 申請状況の更新\n各申請タイプの承認申請ボタンを押下すると、申請が送信され、勤務表画面の該当日の申請状況が更新されます。\n\n#### 日次確定申請の場合\n- 日付列と申請列の+アイコンが↑マーク（申請中）に変更されます",
        "signatures": {},
        "detailedLines": [
          {
            "text": "#### 平日の場合のボタン制御",
            "lineNumber": 1580
          },
          {
            "text": "勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。",
            "lineNumber": 1581
          },
          {
            "lineNumber": 1582
          },
          {
            "text": "非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。",
            "lineNumber": 1583
          },
          {
            "lineNumber": 1584
          },
          {
            "text": "#### 休日の場合のボタン制御",
            "lineNumber": 1585
          },
          {
            "text": "勤務表画面で対象日が休日（土曜日、日曜日、祝日）の場合、休日出勤申請をしていなければ、以下のボタンが非活性（押せない状態）になります：",
            "lineNumber": 1586
          },
          {
            "text": "- 日次確定",
            "lineNumber": 1587
          },
          {
            "text": "- 休暇申請",
            "lineNumber": 1588
          },
          {
            "text": "- 残業申請",
            "lineNumber": 1589
          },
          {
            "text": "- 早朝勤務申請",
            "lineNumber": 1590
          },
          {
            "lineNumber": 1591
          },
          {
            "text": "非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。休日出勤申請を申請済みの場合は、これらのボタンが活性化され、通常通り操作可能になります。",
            "lineNumber": 1592
          },
          {
            "lineNumber": 1593
          },
          {
            "text": "### 残業申請",
            "lineNumber": 1594
          },
          {
            "text": "残業申請は、残業を行う場合の事前申請です。",
            "lineNumber": 1595
          },
          {
            "lineNumber": 1596
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1597
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1598
          },
          {
            "text": "- **残業時間**: 残業時間を指定",
            "lineNumber": 1599
          },
          {
            "text": "- **備考**: 残業の理由や備考を入力（任意）",
            "lineNumber": 1600
          },
          {
            "lineNumber": 1601
          },
          {
            "text": "### 早朝勤務申請",
            "lineNumber": 1602
          },
          {
            "text": "早朝勤務申請は、早朝に勤務する場合の申請です。",
            "lineNumber": 1603
          },
          {
            "lineNumber": 1604
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1605
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1606
          },
          {
            "text": "- **備考**: 早朝勤務の理由や備考を入力（任意）",
            "lineNumber": 1607
          },
          {
            "lineNumber": 1608
          },
          {
            "text": "### 振替申請",
            "lineNumber": 1609
          },
          {
            "text": "振替申請は、勤務日の振替を行う場合の申請です。",
            "lineNumber": 1610
          },
          {
            "lineNumber": 1611
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1612
          },
          {
            "text": "- **振替元日**: 振替元の日付を指定",
            "lineNumber": 1613
          },
          {
            "text": "- **振替先日**: 振替先の日付を指定",
            "lineNumber": 1614
          },
          {
            "text": "- **備考**: 振替の理由や備考を入力（任意）",
            "lineNumber": 1615
          },
          {
            "lineNumber": 1616
          },
          {
            "text": "#### 申請条件",
            "lineNumber": 1617
          },
          {
            "text": "- 振替元日と振替先日は異なる日付である必要があります",
            "lineNumber": 1618
          },
          {
            "lineNumber": 1619
          },
          {
            "text": "### 申請状況の更新",
            "lineNumber": 1620
          },
          {
            "text": "各申請タイプの承認申請ボタンを押下すると、申請が送信され、勤務表画面の該当日の申請状況が更新されます。",
            "lineNumber": 1621
          },
          {
            "lineNumber": 1622
          },
          {
            "text": "#### 日次確定申請の場合",
            "lineNumber": 1623
          },
          {
            "text": "- 日付列と申請列の+アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1624
          }
        ]
      },
      "score": 0.3552670478820801
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 993
          },
          "endPosition": {
            "line": 1077
          }
        },
        "contents": "export default {\n  name: 'AttendanceApplicationDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    targetDate: {\n      type: String,\n      required: true\n    },\n    employeeId: {\n      type: String,\n      required: true\n    },\n    initialApplicationType: {\n      type: String,\n      default: null\n    },\n    initialApplicationStatus: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      currentTab: 'menu',\n      activeApplicationTab: null,\n      loading: false,\n      showErrorDialog: false,\n      errorMessage: '',\n      \n      // 休暇種別マスタ\n      vacationTypes: [],\n      paidLeaveBalance: 0,\n      // 休日出勤申請状態\n      hasHolidayWorkApplication: false,\n      // 代休取得可能日数\n      compensatoryLeaveBalance: 0,\n      \n      // 勤怠データ（打刻時刻の状態確認用）\n      attendanceData: null,\n      \n      // 打刻時刻の状態\n      hasClockIn: false,\n      hasClockOut: false,\n      \n      // 選択中のメニュー項目\n      selectedMenuItem: 'dailyConfirmation',\n      \n      // 日次確定申請フォーム\n      dailyConfirmationForm: {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      },\n      // 日次確定申請のエラーメッセージ\n      dailyConfirmationError: '',\n      \n      // 休暇申請フォーム\n      vacationForm: {\n        vacationType: '',\n        startDate: '',\n        endDate: '',\n        enableEndDate: false, // 終了日を有効にするかどうか（初期値はfalse）\n        reason: '',\n        contact: ''\n      },\n      \n      // 休日出勤申請フォーム\n      holidayWorkForm: {\n        startTime: '09:00',\n        endTime: '17:30',\n        breakHours: 1.0, // 時間単位（小数）\n        reason: ''\n      },\n      \n      // 残業申請フォーム\n      overtimeForm: {\n        startDate: '',\n        endDate: '',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "export default {",
            "lineNumber": 995
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 996
          },
          {
            "text": "  props: {",
            "lineNumber": 997
          },
          {
            "text": "    visible: {",
            "lineNumber": 998
          },
          {
            "text": "      type: Boolean,",
            "lineNumber": 999
          },
          {
            "text": "      default: false",
            "lineNumber": 1000
          },
          {
            "text": "    },",
            "lineNumber": 1001
          },
          {
            "text": "    targetDate: {",
            "lineNumber": 1002
          },
          {
            "text": "      type: String,",
            "lineNumber": 1003
          },
          {
            "text": "      required: true",
            "lineNumber": 1004
          },
          {
            "text": "    },",
            "lineNumber": 1005
          },
          {
            "text": "    employeeId: {",
            "lineNumber": 1006
          },
          {
            "text": "      type: String,",
            "lineNumber": 1007
          },
          {
            "text": "      required: true",
            "lineNumber": 1008
          },
          {
            "text": "    },",
            "lineNumber": 1009
          },
          {
            "text": "    initialApplicationType: {",
            "lineNumber": 1010
          },
          {
            "text": "      type: String,",
            "lineNumber": 1011
          },
          {
            "text": "      default: null",
            "lineNumber": 1012
          },
          {
            "text": "    },",
            "lineNumber": 1013
          },
          {
            "text": "    initialApplicationStatus: {",
            "lineNumber": 1014
          },
          {
            "text": "      type: String,",
            "lineNumber": 1015
          },
          {
            "text": "      default: null",
            "lineNumber": 1016
          },
          {
            "text": "    }",
            "lineNumber": 1017
          },
          {
            "text": "  },",
            "lineNumber": 1018
          },
          {
            "text": "  data() {",
            "lineNumber": 1019
          },
          {
            "text": "    return {",
            "lineNumber": 1020
          },
          {
            "text": "      currentTab: 'menu',",
            "lineNumber": 1021
          },
          {
            "text": "      activeApplicationTab: null,",
            "lineNumber": 1022
          },
          {
            "text": "      loading: false,",
            "lineNumber": 1023
          },
          {
            "text": "      showErrorDialog: false,",
            "lineNumber": 1024
          },
          {
            "text": "      errorMessage: '',",
            "lineNumber": 1025
          },
          {
            "text": "      ",
            "lineNumber": 1026
          },
          {
            "text": "      // 休暇種別マスタ",
            "lineNumber": 1027
          },
          {
            "text": "      vacationTypes: [],",
            "lineNumber": 1028
          },
          {
            "text": "      paidLeaveBalance: 0,",
            "lineNumber": 1029
          },
          {
            "text": "      // 休日出勤申請状態",
            "lineNumber": 1030
          },
          {
            "text": "      hasHolidayWorkApplication: false,",
            "lineNumber": 1031
          },
          {
            "text": "      // 代休取得可能日数",
            "lineNumber": 1032
          },
          {
            "text": "      compensatoryLeaveBalance: 0,",
            "lineNumber": 1033
          },
          {
            "text": "      ",
            "lineNumber": 1034
          },
          {
            "text": "      // 勤怠データ（打刻時刻の状態確認用）",
            "lineNumber": 1035
          },
          {
            "text": "      attendanceData: null,",
            "lineNumber": 1036
          },
          {
            "text": "      ",
            "lineNumber": 1037
          },
          {
            "text": "      // 打刻時刻の状態",
            "lineNumber": 1038
          },
          {
            "text": "      hasClockIn: false,",
            "lineNumber": 1039
          },
          {
            "text": "      hasClockOut: false,",
            "lineNumber": 1040
          },
          {
            "text": "      ",
            "lineNumber": 1041
          },
          {
            "text": "      // 選択中のメニュー項目",
            "lineNumber": 1042
          },
          {
            "text": "      selectedMenuItem: 'dailyConfirmation',",
            "lineNumber": 1043
          },
          {
            "text": "      ",
            "lineNumber": 1044
          },
          {
            "text": "      // 日次確定申請フォーム",
            "lineNumber": 1045
          },
          {
            "text": "      dailyConfirmationForm: {",
            "lineNumber": 1046
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1047
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1048
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1049
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1050
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1051
          },
          {
            "text": "      },",
            "lineNumber": 1052
          },
          {
            "text": "      // 日次確定申請のエラーメッセージ",
            "lineNumber": 1053
          },
          {
            "text": "      dailyConfirmationError: '',",
            "lineNumber": 1054
          },
          {
            "text": "      ",
            "lineNumber": 1055
          },
          {
            "text": "      // 休暇申請フォーム",
            "lineNumber": 1056
          },
          {
            "text": "      vacationForm: {",
            "lineNumber": 1057
          },
          {
            "text": "        vacationType: '',",
            "lineNumber": 1058
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1059
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1060
          },
          {
            "text": "        enableEndDate: false, // 終了日を有効にするかどうか（初期値はfalse）",
            "lineNumber": 1061
          },
          {
            "text": "        reason: '',",
            "lineNumber": 1062
          },
          {
            "text": "        contact: ''",
            "lineNumber": 1063
          },
          {
            "text": "      },",
            "lineNumber": 1064
          },
          {
            "text": "      ",
            "lineNumber": 1065
          },
          {
            "text": "      // 休日出勤申請フォーム",
            "lineNumber": 1066
          },
          {
            "text": "      holidayWorkForm: {",
            "lineNumber": 1067
          },
          {
            "text": "        startTime: '09:00',",
            "lineNumber": 1068
          },
          {
            "text": "        endTime: '17:30',",
            "lineNumber": 1069
          },
          {
            "text": "        breakHours: 1.0, // 時間単位（小数）",
            "lineNumber": 1070
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1071
          },
          {
            "text": "      },",
            "lineNumber": 1072
          },
          {
            "text": "      ",
            "lineNumber": 1073
          },
          {
            "text": "      // 残業申請フォーム",
            "lineNumber": 1074
          },
          {
            "text": "      overtimeForm: {",
            "lineNumber": 1075
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1076
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1077
          }
        ]
      },
      "score": 0.33917251229286194
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 832
          },
          "endPosition": {
            "line": 882
          }
        },
        "contents": "                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('earlyWork') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 振替申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;\n            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"tab active\"&gt;\n            &lt;span class=\"tab-title\"&gt;{{ getTabName('transfer') }}&lt;/span&gt;\n            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=\"form-container\"&gt;\n          &lt;div class=\"form-content-wrapper\"&gt;\n            &lt;div class=\"form-content-left\"&gt;\n              &lt;p class=\"form-description\"&gt;振替を申請します。&lt;/p&gt;\n              \n              &lt;div class=\"form-group form-group-inline\"&gt;\n                &lt;label class=\"label-inline\"&gt;振替元日&lt;/label&gt;\n                &lt;input \n                  type=\"date\" \n                  v-model=\"transferForm.fromDate\"\n                  class=\"date-input date-input-inline\"\n                  :disabled=\"!isEditable('transfer')\"\n                  :readonly=\"!isEditable('transfer')\"\n                /&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-group form-group-inline\"&gt;\n                &lt;label class=\"label-inline\"&gt;振替先日&lt;/label&gt;\n                &lt;input \n                  type=\"date\" \n                  v-model=\"transferForm.toDate\"\n                  class=\"date-input date-input-inline\"\n                  :disabled=\"!isEditable('transfer')\"\n                  :readonly=\"!isEditable('transfer')\"\n                /&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 833
          },
          {
            "text": "                @click=\"cancelEarlyWorkApplication\"",
            "lineNumber": 834
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 835
          },
          {
            "text": "              &gt;",
            "lineNumber": 836
          },
          {
            "text": "                {{ getCancelButtonLabel('earlyWork') }}",
            "lineNumber": 837
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 838
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 839
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 840
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 841
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 842
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 843
          },
          {
            "text": "      ",
            "lineNumber": 844
          },
          {
            "text": "      &lt;!-- 振替申請フォーム --&gt;",
            "lineNumber": 845
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;",
            "lineNumber": 846
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 847
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 848
          },
          {
            "text": "          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;",
            "lineNumber": 849
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;",
            "lineNumber": 850
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 851
          },
          {
            "text": "          &lt;div class=\"tab active\"&gt;",
            "lineNumber": 852
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;{{ getTabName('transfer') }}&lt;/span&gt;",
            "lineNumber": 853
          },
          {
            "text": "            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;",
            "lineNumber": 854
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 855
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 856
          },
          {
            "text": "        ",
            "lineNumber": 857
          },
          {
            "text": "        &lt;div class=\"form-container\"&gt;",
            "lineNumber": 858
          },
          {
            "text": "          &lt;div class=\"form-content-wrapper\"&gt;",
            "lineNumber": 859
          },
          {
            "text": "            &lt;div class=\"form-content-left\"&gt;",
            "lineNumber": 860
          },
          {
            "text": "              &lt;p class=\"form-description\"&gt;振替を申請します。&lt;/p&gt;",
            "lineNumber": 861
          },
          {
            "text": "              ",
            "lineNumber": 862
          },
          {
            "text": "              &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 863
          },
          {
            "text": "                &lt;label class=\"label-inline\"&gt;振替元日&lt;/label&gt;",
            "lineNumber": 864
          },
          {
            "text": "                &lt;input ",
            "lineNumber": 865
          },
          {
            "text": "                  type=\"date\" ",
            "lineNumber": 866
          },
          {
            "text": "                  v-model=\"transferForm.fromDate\"",
            "lineNumber": 867
          },
          {
            "text": "                  class=\"date-input date-input-inline\"",
            "lineNumber": 868
          },
          {
            "text": "                  :disabled=\"!isEditable('transfer')\"",
            "lineNumber": 869
          },
          {
            "text": "                  :readonly=\"!isEditable('transfer')\"",
            "lineNumber": 870
          },
          {
            "text": "                /&gt;",
            "lineNumber": 871
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 872
          },
          {
            "text": "              ",
            "lineNumber": 873
          },
          {
            "text": "              &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 874
          },
          {
            "text": "                &lt;label class=\"label-inline\"&gt;振替先日&lt;/label&gt;",
            "lineNumber": 875
          },
          {
            "text": "                &lt;input ",
            "lineNumber": 876
          },
          {
            "text": "                  type=\"date\" ",
            "lineNumber": 877
          },
          {
            "text": "                  v-model=\"transferForm.toDate\"",
            "lineNumber": 878
          },
          {
            "text": "                  class=\"date-input date-input-inline\"",
            "lineNumber": 879
          },
          {
            "text": "                  :disabled=\"!isEditable('transfer')\"",
            "lineNumber": 880
          },
          {
            "text": "                  :readonly=\"!isEditable('transfer')\"",
            "lineNumber": 881
          },
          {
            "text": "                /&gt;",
            "lineNumber": 882
          }
        ]
      },
      "score": 0.3327755033969879
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1771
          },
          "endPosition": {
            "line": 1777
          }
        },
        "contents": "| 2025-12-20 | 休日出勤申請承認申請ボタン押下後の動作を明確化。申請成功後、勤務表画面で申請中のマーク（↑マーク）が表示され、土日祝でも出社・退社・勤務場所のテキストボックスが表示され編集可能になる仕様を追加。標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示される仕様を追加。グラフの色について、土曜日または祝日（所定休日）は法定時間内残業と同じ色（#B0B000）、日曜日（法定休日）は#DE9EDDに変更 | AI Assistant |\n| 2025-12-20 | 代休申請の仕様を追加。休暇申請フォームに「代休取得可能日数」の項目を追加。代休は休日出勤申請を行っている場合のみ休暇種類のプルダウンに表示される仕様を追加。代休取得可能日数の表示ロジック、代休取得の期限（休日勤務した日の翌月末まで）、代休申請の手順を追加 | AI Assistant |\n| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |\n| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |\n| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |\n| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 2025-12-20 | 休日出勤申請承認申請ボタン押下後の動作を明確化。申請成功後、勤務表画面で申請中のマーク（↑マーク）が表示され、土日祝でも出社・退社・勤務場所のテキストボックスが表示され編集可能になる仕様を追加。標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示される仕様を追加。グラフの色について、土曜日または祝日（所定休日）は法定時間内残業と同じ色（#B0B000）、日曜日（法定休日）は#DE9EDDに変更 | AI Assistant |",
            "lineNumber": 1772
          },
          {
            "text": "| 2025-12-20 | 代休申請の仕様を追加。休暇申請フォームに「代休取得可能日数」の項目を追加。代休は休日出勤申請を行っている場合のみ休暇種類のプルダウンに表示される仕様を追加。代休取得可能日数の表示ロジック、代休取得の期限（休日勤務した日の翌月末まで）、代休申請の手順を追加 | AI Assistant |",
            "lineNumber": 1773
          },
          {
            "text": "| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |",
            "lineNumber": 1774
          },
          {
            "text": "| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |",
            "lineNumber": 1775
          },
          {
            "text": "| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |",
            "lineNumber": 1776
          },
          {
            "text": "| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |",
            "lineNumber": 1777
          }
        ]
      },
      "score": 0.32445669174194336
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 52,
            "column": 3
          }
        },
        "contents": "/**\n * 申請モデル\n */\nconst db = require('../config/database');\n\n/**\n * 休暇申請を作成\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst createVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo,\n    approvalStatus,\n    createdAt,\n    updatedAt\n  } = vacationData;\n  \n  const query = &#96;\n    INSERT INTO VACATION_HISTORY \n    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n  &#96;;\n  \n  const [result] = await db.execute(query, [\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason || null,\n    contactInfo || null,\n    approvalStatus || 'PENDING',\n    createdAt,\n    updatedAt\n  ]);\n  \n  return result.insertId;\n};\n\n/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請モデル",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const db = require('../config/database');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請を作成",
            "lineNumber": 7
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 8
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 9
          },
          {
            "text": " */",
            "lineNumber": 10
          },
          {
            "text": "const createVacation = async (vacationData) =&gt; {",
            "lineNumber": 11
          },
          {
            "text": "  const {",
            "lineNumber": 12
          },
          {
            "text": "    employeeId,",
            "lineNumber": 13
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 14
          },
          {
            "text": "    startDate,",
            "lineNumber": 15
          },
          {
            "text": "    endDate,",
            "lineNumber": 16
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contactInfo,",
            "lineNumber": 19
          },
          {
            "text": "    approvalStatus,",
            "lineNumber": 20
          },
          {
            "text": "    createdAt,",
            "lineNumber": 21
          },
          {
            "text": "    updatedAt",
            "lineNumber": 22
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 25
          },
          {
            "text": "    INSERT INTO VACATION_HISTORY ",
            "lineNumber": 26
          },
          {
            "text": "    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)",
            "lineNumber": 27
          },
          {
            "text": "    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
            "lineNumber": 28
          },
          {
            "text": "  &#96;;",
            "lineNumber": 29
          },
          {
            "text": "  ",
            "lineNumber": 30
          },
          {
            "text": "  const [result] = await db.execute(query, [",
            "lineNumber": 31
          },
          {
            "text": "    employeeId,",
            "lineNumber": 32
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 33
          },
          {
            "text": "    startDate,",
            "lineNumber": 34
          },
          {
            "text": "    endDate,",
            "lineNumber": 35
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 36
          },
          {
            "text": "    reason || null,",
            "lineNumber": 37
          },
          {
            "text": "    contactInfo || null,",
            "lineNumber": 38
          },
          {
            "text": "    approvalStatus || 'PENDING',",
            "lineNumber": 39
          },
          {
            "text": "    createdAt,",
            "lineNumber": 40
          },
          {
            "text": "    updatedAt",
            "lineNumber": 41
          },
          {
            "text": "  ]);",
            "lineNumber": 42
          },
          {
            "text": "  ",
            "lineNumber": 43
          },
          {
            "text": "  return result.insertId;",
            "lineNumber": 44
          },
          {
            "text": "};",
            "lineNumber": 45
          },
          {
            "lineNumber": 46
          },
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          }
        ]
      },
      "score": 0.3215235471725464
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 149,
            "column": 2
          },
          "endPosition": {
            "line": 195,
            "column": 3
          }
        },
        "contents": "/**\n * 休日出勤申請状態を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請状態\n */\nconst getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {\n  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);\n  \n  let applicationStatus = null;\n\n  if (application) {\n    applicationStatus = application.APPROVAL_STATUS;\n  }\n\n  // 代休の表示条件：過去の休日出勤申請（承認済みまたは申請中）も確認\n  // 対象日から過去1年間の休日出勤申請を確認\n  const oneYearAgo = new Date(targetDate);\n  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\n  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];\n  \n  const pastApplications = await applicationModel.getApplicationsByType(\n    employeeId,\n    'HOLIDAY_WORK',\n    oneYearAgoStr,\n    targetDate\n  );\n\n  const hasPastHolidayWork = pastApplications.length &gt; 0;\n\n  return {\n    success: true,\n    hasHolidayWorkApplication: !!application || hasPastHolidayWork,\n    applicationStatus: applicationStatus,\n    hasPastHolidayWorkApplication: hasPastHolidayWork\n  };\n};\n\n/**\n * 月次承認履歴を取得\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;Object&gt;} 月次承認情報\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 152
          },
          {
            "text": " * 休日出勤申請状態を取得",
            "lineNumber": 153
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 154
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 155
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請状態",
            "lineNumber": 156
          },
          {
            "text": " */",
            "lineNumber": 157
          },
          {
            "text": "const getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {",
            "lineNumber": 158
          },
          {
            "text": "  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);",
            "lineNumber": 159
          },
          {
            "text": "  ",
            "lineNumber": 160
          },
          {
            "text": "  let applicationStatus = null;",
            "lineNumber": 161
          },
          {
            "lineNumber": 162
          },
          {
            "text": "  if (application) {",
            "lineNumber": 163
          },
          {
            "text": "    applicationStatus = application.APPROVAL_STATUS;",
            "lineNumber": 164
          },
          {
            "text": "  }",
            "lineNumber": 165
          },
          {
            "lineNumber": 166
          },
          {
            "text": "  // 代休の表示条件：過去の休日出勤申請（承認済みまたは申請中）も確認",
            "lineNumber": 167
          },
          {
            "text": "  // 対象日から過去1年間の休日出勤申請を確認",
            "lineNumber": 168
          },
          {
            "text": "  const oneYearAgo = new Date(targetDate);",
            "lineNumber": 169
          },
          {
            "text": "  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
            "lineNumber": 170
          },
          {
            "text": "  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
            "lineNumber": 171
          },
          {
            "text": "  ",
            "lineNumber": 172
          },
          {
            "text": "  const pastApplications = await applicationModel.getApplicationsByType(",
            "lineNumber": 173
          },
          {
            "text": "    employeeId,",
            "lineNumber": 174
          },
          {
            "text": "    'HOLIDAY_WORK',",
            "lineNumber": 175
          },
          {
            "text": "    oneYearAgoStr,",
            "lineNumber": 176
          },
          {
            "text": "    targetDate",
            "lineNumber": 177
          },
          {
            "text": "  );",
            "lineNumber": 178
          },
          {
            "lineNumber": 179
          },
          {
            "text": "  const hasPastHolidayWork = pastApplications.length &gt; 0;",
            "lineNumber": 180
          },
          {
            "lineNumber": 181
          },
          {
            "text": "  return {",
            "lineNumber": 182
          },
          {
            "text": "    success: true,",
            "lineNumber": 183
          },
          {
            "text": "    hasHolidayWorkApplication: !!application || hasPastHolidayWork,",
            "lineNumber": 184
          },
          {
            "text": "    applicationStatus: applicationStatus,",
            "lineNumber": 185
          },
          {
            "text": "    hasPastHolidayWorkApplication: hasPastHolidayWork",
            "lineNumber": 186
          },
          {
            "text": "  };",
            "lineNumber": 187
          },
          {
            "text": "};",
            "lineNumber": 188
          },
          {
            "lineNumber": 189
          },
          {
            "text": "/**",
            "lineNumber": 190
          },
          {
            "text": " * 月次承認履歴を取得",
            "lineNumber": 191
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 192
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 193
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 194
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 月次承認情報",
            "lineNumber": 195
          },
          {
            "text": " */",
            "lineNumber": 196
          }
        ]
      },
      "score": 0.31881728768348694
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 755
          },
          "endPosition": {
            "line": 766
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n| 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定。常に無効化（disabled/readonly）され、操作不可。その日の勤怠申請のため、開始日は固定 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日入力可否チェックボックス | 初期値はtrue（チェック済み）。申請が編集可能な場合のみ操作可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定。チェックボックスがチェックされている場合のみ入力可能。チェックが外れている場合、無効化され、開始日と同じ日付に設定される。カレンダーで開始日より前の日付は選択不可（min属性で開始日を設定） | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 756
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 757
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 758
          },
          {
            "text": "| 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |",
            "lineNumber": 759
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |",
            "lineNumber": 760
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |",
            "lineNumber": 761
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |",
            "lineNumber": 762
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定。常に無効化（disabled/readonly）され、操作不可。その日の勤怠申請のため、開始日は固定 | |",
            "lineNumber": 763
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日入力可否チェックボックス | 初期値はtrue（チェック済み）。申請が編集可能な場合のみ操作可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される | |",
            "lineNumber": 764
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定。チェックボックスがチェックされている場合のみ入力可能。チェックが外れている場合、無効化され、開始日と同じ日付に設定される。カレンダーで開始日より前の日付は選択不可（min属性で開始日を設定） | |",
            "lineNumber": 765
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
            "lineNumber": 766
          }
        ]
      },
      "score": 0.31839144229888916
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1547
          },
          "endPosition": {
            "line": 1584,
            "column": 8
          }
        },
        "contents": "    \n    async loadCompensatoryLeaveBalance() {\n      try {\n        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント\n        // 対象日から過去1年間の休日出勤申請を取得\n        const oneYearAgo = new Date(this.targetDate);\n        oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\n        const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];\n        \n        const response = await fetch(\n          &#96;http://localhost:3000/api/application/holiday-work-list?employeeId=${this.employeeId}&amp;startDate=${oneYearAgoStr}&amp;endDate=${this.targetDate}&#96;\n        );\n        const data = await response.json();\n        \n        if (data.success &amp;&amp; data.applications) {\n          // 承認済みまたは申請中の休日出勤申請の日数をカウント\n          let totalDays = 0;\n          for (const app of data.applications) {\n            if (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED') {\n              const startDate = new Date(app.TARGET_START_DATE);\n              const endDate = new Date(app.TARGET_END_DATE);\n              const days = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;\n              totalDays += days;\n            }\n          }\n          this.compensatoryLeaveBalance = totalDays;\n        } else {\n          this.compensatoryLeaveBalance = 0;\n        }\n      } catch (error) {\n        console.error('代休取得可能日数取得エラー:', error)\n        this.compensatoryLeaveBalance = 0\n      }\n    },\n    \n    async loadClockStatus() {\n      try {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    ",
            "lineNumber": 1548
          },
          {
            "text": "    async loadCompensatoryLeaveBalance() {",
            "lineNumber": 1549
          },
          {
            "text": "      try {",
            "lineNumber": 1550
          },
          {
            "text": "        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1551
          },
          {
            "text": "        // 対象日から過去1年間の休日出勤申請を取得",
            "lineNumber": 1552
          },
          {
            "text": "        const oneYearAgo = new Date(this.targetDate);",
            "lineNumber": 1553
          },
          {
            "text": "        oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
            "lineNumber": 1554
          },
          {
            "text": "        const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
            "lineNumber": 1555
          },
          {
            "text": "        ",
            "lineNumber": 1556
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1557
          },
          {
            "text": "          &#96;http://localhost:3000/api/application/holiday-work-list?employeeId=${this.employeeId}&amp;startDate=${oneYearAgoStr}&amp;endDate=${this.targetDate}&#96;",
            "lineNumber": 1558
          },
          {
            "text": "        );",
            "lineNumber": 1559
          },
          {
            "text": "        const data = await response.json();",
            "lineNumber": 1560
          },
          {
            "text": "        ",
            "lineNumber": 1561
          },
          {
            "text": "        if (data.success &amp;&amp; data.applications) {",
            "lineNumber": 1562
          },
          {
            "text": "          // 承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1563
          },
          {
            "text": "          let totalDays = 0;",
            "lineNumber": 1564
          },
          {
            "text": "          for (const app of data.applications) {",
            "lineNumber": 1565
          },
          {
            "text": "            if (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED') {",
            "lineNumber": 1566
          },
          {
            "text": "              const startDate = new Date(app.TARGET_START_DATE);",
            "lineNumber": 1567
          },
          {
            "text": "              const endDate = new Date(app.TARGET_END_DATE);",
            "lineNumber": 1568
          },
          {
            "text": "              const days = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;",
            "lineNumber": 1569
          },
          {
            "text": "              totalDays += days;",
            "lineNumber": 1570
          },
          {
            "text": "            }",
            "lineNumber": 1571
          },
          {
            "text": "          }",
            "lineNumber": 1572
          },
          {
            "text": "          this.compensatoryLeaveBalance = totalDays;",
            "lineNumber": 1573
          },
          {
            "text": "        } else {",
            "lineNumber": 1574
          },
          {
            "text": "          this.compensatoryLeaveBalance = 0;",
            "lineNumber": 1575
          },
          {
            "text": "        }",
            "lineNumber": 1576
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1577
          },
          {
            "text": "        console.error('代休取得可能日数取得エラー:', error)",
            "lineNumber": 1578
          },
          {
            "text": "        this.compensatoryLeaveBalance = 0",
            "lineNumber": 1579
          },
          {
            "text": "      }",
            "lineNumber": 1580
          },
          {
            "text": "    },",
            "lineNumber": 1581
          },
          {
            "text": "    ",
            "lineNumber": 1582
          },
          {
            "text": "    async loadClockStatus() {",
            "lineNumber": 1583
          },
          {
            "text": "      try {",
            "lineNumber": 1584
          },
          {
            "text": "        ",
            "lineNumber": 1585
          }
        ]
      },
      "score": 0.3126620948314667
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 59
          },
          "endPosition": {
            "line": 69
          }
        },
        "contents": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |\n| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |\n| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |\n| 24-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |\n| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |\n| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |\n| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |\n| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |\n| 28-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |",
            "lineNumber": 60
          },
          {
            "text": "| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |",
            "lineNumber": 61
          },
          {
            "text": "| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |",
            "lineNumber": 62
          },
          {
            "text": "| 24-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |",
            "lineNumber": 63
          },
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 64
          },
          {
            "text": "| | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 65
          },
          {
            "text": "| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |",
            "lineNumber": 66
          },
          {
            "text": "| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |",
            "lineNumber": 67
          },
          {
            "text": "| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |",
            "lineNumber": 68
          },
          {
            "text": "| 28-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |",
            "lineNumber": 69
          }
        ]
      },
      "score": 0.3094162046909332
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1432
          },
          "endPosition": {
            "line": 1465
          }
        },
        "contents": "- **休憩時間**: 休憩時間帯を「HH:MM-HH:MM」形式で表示（例: 12:00-13:00）。複数の休憩時間がある場合はカンマ区切りで表示\n- **総労働時間**: 出勤から退勤までの時間を「H:MM」形式で表示（例: 7:50）\n- **実労働時間**: 休憩時間を除いた実際の労働時間を「H:MM」形式で表示（例: 7:50）\n- **備考**: 既存の備考がある場合はその値を表示、ない場合は空欄。手入力の場合は理由を入力する必要がある\n\n#### 申請条件\n日次確定申請を行うには、以下の条件を満たす必要があります：\n1. 出退社時刻が入力されていること\n2. 勤務場所が設定されていること\n3. 工数合計と実労働時間が一致していること\n4. 手入力の場合は備考に理由が入力されていること\n\n#### エラーメッセージの表示\n承認申請ボタンを押下した際にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージが表示されます。\nエラーメッセージは、チェック仕様No.1で定義されたメッセージが表示されます。\n主なエラーメッセージの例：\n- 「出退社時刻が未入力のため、日次確定できません。」\n- 「勤務場所を選択してください。」\n- 「工数の合計と実労働時間が合いません。」\n- 「手入力の場合は備考に理由を入力してください。」\n\nエラーメッセージは、エラーが解消されるまで表示され続けます。\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、日次確定申請が送信されます\n- 申請成功後、ATTENDANCE_RECORDテーブルのIS_DAILY_CONFIRMEDがTRUE、APPROVAL_STATUSがPENDINGに更新されます\n- 勤務表画面に戻ると、該当日の日付列と申請列の+アイコンが↑マーク（申請中）に変更されます\n\n### 休暇申請\n休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。\n\n#### 申請内容\n- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **休憩時間**: 休憩時間帯を「HH:MM-HH:MM」形式で表示（例: 12:00-13:00）。複数の休憩時間がある場合はカンマ区切りで表示",
            "lineNumber": 1433
          },
          {
            "text": "- **総労働時間**: 出勤から退勤までの時間を「H:MM」形式で表示（例: 7:50）",
            "lineNumber": 1434
          },
          {
            "text": "- **実労働時間**: 休憩時間を除いた実際の労働時間を「H:MM」形式で表示（例: 7:50）",
            "lineNumber": 1435
          },
          {
            "text": "- **備考**: 既存の備考がある場合はその値を表示、ない場合は空欄。手入力の場合は理由を入力する必要がある",
            "lineNumber": 1436
          },
          {
            "lineNumber": 1437
          },
          {
            "text": "#### 申請条件",
            "lineNumber": 1438
          },
          {
            "text": "日次確定申請を行うには、以下の条件を満たす必要があります：",
            "lineNumber": 1439
          },
          {
            "text": "1. 出退社時刻が入力されていること",
            "lineNumber": 1440
          },
          {
            "text": "2. 勤務場所が設定されていること",
            "lineNumber": 1441
          },
          {
            "text": "3. 工数合計と実労働時間が一致していること",
            "lineNumber": 1442
          },
          {
            "text": "4. 手入力の場合は備考に理由が入力されていること",
            "lineNumber": 1443
          },
          {
            "lineNumber": 1444
          },
          {
            "text": "#### エラーメッセージの表示",
            "lineNumber": 1445
          },
          {
            "text": "承認申請ボタンを押下した際にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージが表示されます。",
            "lineNumber": 1446
          },
          {
            "text": "エラーメッセージは、チェック仕様No.1で定義されたメッセージが表示されます。",
            "lineNumber": 1447
          },
          {
            "text": "主なエラーメッセージの例：",
            "lineNumber": 1448
          },
          {
            "text": "- 「出退社時刻が未入力のため、日次確定できません。」",
            "lineNumber": 1449
          },
          {
            "text": "- 「勤務場所を選択してください。」",
            "lineNumber": 1450
          },
          {
            "text": "- 「工数の合計と実労働時間が合いません。」",
            "lineNumber": 1451
          },
          {
            "text": "- 「手入力の場合は備考に理由を入力してください。」",
            "lineNumber": 1452
          },
          {
            "lineNumber": 1453
          },
          {
            "text": "エラーメッセージは、エラーが解消されるまで表示され続けます。",
            "lineNumber": 1454
          },
          {
            "lineNumber": 1455
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1456
          },
          {
            "text": "- 承認申請ボタンを押下すると、日次確定申請が送信されます",
            "lineNumber": 1457
          },
          {
            "text": "- 申請成功後、ATTENDANCE_RECORDテーブルのIS_DAILY_CONFIRMEDがTRUE、APPROVAL_STATUSがPENDINGに更新されます",
            "lineNumber": 1458
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の日付列と申請列の+アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1459
          },
          {
            "lineNumber": 1460
          },
          {
            "text": "### 休暇申請",
            "lineNumber": 1461
          },
          {
            "text": "休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。",
            "lineNumber": 1462
          },
          {
            "lineNumber": 1463
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1464
          },
          {
            "text": "- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択",
            "lineNumber": 1465
          }
        ]
      },
      "score": 0.30771979689598083
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\routes\\application.js",
        "range": {
          "startPosition": {
            "line": 35,
            "column": 3
          },
          "endPosition": {
            "line": 47,
            "column": 69
          }
        },
        "contents": "/**\n * 休暇申請API\n * POST /api/application/vacation/apply\n */\nrouter.post('/vacation/apply', applicationController.applyVacation);\n\n/**\n * 休日出勤申請API\n * POST /api/application/holiday-work\n */\nrouter.post('/holiday-work', applicationController.applyHolidayWork);",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 38
          },
          {
            "text": " * 休暇申請API",
            "lineNumber": 39
          },
          {
            "text": " * POST /api/application/vacation/apply",
            "lineNumber": 40
          },
          {
            "text": " */",
            "lineNumber": 41
          },
          {
            "text": "router.post('/vacation/apply', applicationController.applyVacation);",
            "lineNumber": 42
          },
          {
            "lineNumber": 43
          },
          {
            "text": "/**",
            "lineNumber": 44
          },
          {
            "text": " * 休日出勤申請API",
            "lineNumber": 45
          },
          {
            "text": " * POST /api/application/holiday-work",
            "lineNumber": 46
          },
          {
            "text": " */",
            "lineNumber": 47
          },
          {
            "text": "router.post('/holiday-work', applicationController.applyHolidayWork);",
            "lineNumber": 48
          }
        ]
      },
      "score": 0.3011457324028015
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 988
          },
          "endPosition": {
            "line": 1033
          }
        },
        "contents": "- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 有給残日数 | 年次有給休暇の残日数 | 整数 |\n- 関連する取得仕様\n  - なし\n- その他\n  - V_VACATION_BALANCE_SUMMARYビューから取得\n\n#### No.3\n- API仕様名：日次確定申請API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | POST | |\n  | エンドポイント | /api/attendance/daily-confirmation | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 日次確定申請時にチェック仕様No.1のチェックを実行\n  - 申請成功後、ATTENDANCE_RECORDのAPPROVAL_STATUSがPENDINGに更新される\n  - 勤務表画面の該当日の申請状況アイコンが↑マークに変更される\n\n#### No.4\n- API仕様名：休暇申請API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | POST | |\n  | エンドポイント | /api/vacation/apply | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | リクエストボディ |\n  | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |\n  | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |\n  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |\n  | CONTACT | 画面項目定義.連絡先 | リクエストボディ（任意） |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- レスポンス",
            "lineNumber": 989
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 990
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 991
          },
          {
            "text": "  | 有給残日数 | 年次有給休暇の残日数 | 整数 |",
            "lineNumber": 992
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 993
          },
          {
            "text": "  - なし",
            "lineNumber": 994
          },
          {
            "text": "- その他",
            "lineNumber": 995
          },
          {
            "text": "  - V_VACATION_BALANCE_SUMMARYビューから取得",
            "lineNumber": 996
          },
          {
            "lineNumber": 997
          },
          {
            "text": "#### No.3",
            "lineNumber": 998
          },
          {
            "text": "- API仕様名：日次確定申請API",
            "lineNumber": 999
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1000
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1001
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1002
          },
          {
            "text": "  | HTTPメソッド | POST | |",
            "lineNumber": 1003
          },
          {
            "text": "  | エンドポイント | /api/attendance/daily-confirmation | |",
            "lineNumber": 1004
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1005
          },
          {
            "text": "  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |",
            "lineNumber": 1006
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1007
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1008
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1009
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1010
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1011
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1012
          },
          {
            "text": "  - なし",
            "lineNumber": 1013
          },
          {
            "text": "- その他",
            "lineNumber": 1014
          },
          {
            "text": "  - 日次確定申請時にチェック仕様No.1のチェックを実行",
            "lineNumber": 1015
          },
          {
            "text": "  - 申請成功後、ATTENDANCE_RECORDのAPPROVAL_STATUSがPENDINGに更新される",
            "lineNumber": 1016
          },
          {
            "text": "  - 勤務表画面の該当日の申請状況アイコンが↑マークに変更される",
            "lineNumber": 1017
          },
          {
            "lineNumber": 1018
          },
          {
            "text": "#### No.4",
            "lineNumber": 1019
          },
          {
            "text": "- API仕様名：休暇申請API",
            "lineNumber": 1020
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1021
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1022
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1023
          },
          {
            "text": "  | HTTPメソッド | POST | |",
            "lineNumber": 1024
          },
          {
            "text": "  | エンドポイント | /api/vacation/apply | |",
            "lineNumber": 1025
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1026
          },
          {
            "text": "  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | リクエストボディ |",
            "lineNumber": 1027
          },
          {
            "text": "  | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |",
            "lineNumber": 1028
          },
          {
            "text": "  | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |",
            "lineNumber": 1029
          },
          {
            "text": "  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |",
            "lineNumber": 1030
          },
          {
            "text": "  | CONTACT | 画面項目定義.連絡先 | リクエストボディ（任意） |",
            "lineNumber": 1031
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1032
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1033
          }
        ]
      },
      "score": 0.2993524968624115
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1203
          },
          "endPosition": {
            "line": 1261
          }
        },
        "contents": "    filteredVacationTypes() {\n      return this.vacationTypes.filter(type =&gt; {\n        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示\n        if (type.code === 'SUBSTITUTE_HOLIDAY') {\n          return this.hasHolidayWorkApplication\n        }\n        // その他の休暇種別は常に表示\n        return true\n      })\n    },\n    // 全メニュー項目の説明文\n    menuDescriptions() {\n      return {\n        dailyConfirmation: '日次確定を申請します。',\n        vacation: '休暇、代休、時間単位休暇を申請します。',\n        holidayWork: '休日出勤を申請します。',\n        overtime: '残業を申請します。',\n        earlyWork: '早朝勤務を申請します。',\n        transfer: '振替を申請します。'\n      }\n    },\n    // 申請中または承認済みかどうかを判定（各申請タイプごと）\n    isPendingOrApproved() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status === 'PENDING' || status === 'APPROVED'\n      }\n    },\n    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）\n    isEditable() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'\n      }\n    },\n    // 対象日が休日かどうかを判定\n    isHoliday() {\n      if (!this.targetDate) return false\n      const date = new Date(this.targetDate)\n      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日\n      \n      // 土曜日または日曜日の場合\n      if (dayOfWeek === 0 || dayOfWeek === 6) {\n        return true\n      }\n      \n      // 祝日判定（HolidayJpライブラリを使用）\n      try {\n        return HolidayJp.isHoliday(date)\n      } catch (error) {\n        console.error('祝日判定エラー:', error)\n        return false\n      }\n    },\n    // 対象日が平日かどうかを判定\n    isWeekday() {\n      return !this.isHoliday\n    },",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    filteredVacationTypes() {",
            "lineNumber": 1204
          },
          {
            "text": "      return this.vacationTypes.filter(type =&gt; {",
            "lineNumber": 1205
          },
          {
            "text": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示",
            "lineNumber": 1206
          },
          {
            "text": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 1207
          },
          {
            "text": "          return this.hasHolidayWorkApplication",
            "lineNumber": 1208
          },
          {
            "text": "        }",
            "lineNumber": 1209
          },
          {
            "text": "        // その他の休暇種別は常に表示",
            "lineNumber": 1210
          },
          {
            "text": "        return true",
            "lineNumber": 1211
          },
          {
            "text": "      })",
            "lineNumber": 1212
          },
          {
            "text": "    },",
            "lineNumber": 1213
          },
          {
            "text": "    // 全メニュー項目の説明文",
            "lineNumber": 1214
          },
          {
            "text": "    menuDescriptions() {",
            "lineNumber": 1215
          },
          {
            "text": "      return {",
            "lineNumber": 1216
          },
          {
            "text": "        dailyConfirmation: '日次確定を申請します。',",
            "lineNumber": 1217
          },
          {
            "text": "        vacation: '休暇、代休、時間単位休暇を申請します。',",
            "lineNumber": 1218
          },
          {
            "text": "        holidayWork: '休日出勤を申請します。',",
            "lineNumber": 1219
          },
          {
            "text": "        overtime: '残業を申請します。',",
            "lineNumber": 1220
          },
          {
            "text": "        earlyWork: '早朝勤務を申請します。',",
            "lineNumber": 1221
          },
          {
            "text": "        transfer: '振替を申請します。'",
            "lineNumber": 1222
          },
          {
            "text": "      }",
            "lineNumber": 1223
          },
          {
            "text": "    },",
            "lineNumber": 1224
          },
          {
            "text": "    // 申請中または承認済みかどうかを判定（各申請タイプごと）",
            "lineNumber": 1225
          },
          {
            "text": "    isPendingOrApproved() {",
            "lineNumber": 1226
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1227
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1228
          },
          {
            "text": "        return status === 'PENDING' || status === 'APPROVED'",
            "lineNumber": 1229
          },
          {
            "text": "      }",
            "lineNumber": 1230
          },
          {
            "text": "    },",
            "lineNumber": 1231
          },
          {
            "text": "    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1232
          },
          {
            "text": "    isEditable() {",
            "lineNumber": 1233
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1234
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1235
          },
          {
            "text": "        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'",
            "lineNumber": 1236
          },
          {
            "text": "      }",
            "lineNumber": 1237
          },
          {
            "text": "    },",
            "lineNumber": 1238
          },
          {
            "text": "    // 対象日が休日かどうかを判定",
            "lineNumber": 1239
          },
          {
            "text": "    isHoliday() {",
            "lineNumber": 1240
          },
          {
            "text": "      if (!this.targetDate) return false",
            "lineNumber": 1241
          },
          {
            "text": "      const date = new Date(this.targetDate)",
            "lineNumber": 1242
          },
          {
            "text": "      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日",
            "lineNumber": 1243
          },
          {
            "text": "      ",
            "lineNumber": 1244
          },
          {
            "text": "      // 土曜日または日曜日の場合",
            "lineNumber": 1245
          },
          {
            "text": "      if (dayOfWeek === 0 || dayOfWeek === 6) {",
            "lineNumber": 1246
          },
          {
            "text": "        return true",
            "lineNumber": 1247
          },
          {
            "text": "      }",
            "lineNumber": 1248
          },
          {
            "text": "      ",
            "lineNumber": 1249
          },
          {
            "text": "      // 祝日判定（HolidayJpライブラリを使用）",
            "lineNumber": 1250
          },
          {
            "text": "      try {",
            "lineNumber": 1251
          },
          {
            "text": "        return HolidayJp.isHoliday(date)",
            "lineNumber": 1252
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1253
          },
          {
            "text": "        console.error('祝日判定エラー:', error)",
            "lineNumber": 1254
          },
          {
            "text": "        return false",
            "lineNumber": 1255
          },
          {
            "text": "      }",
            "lineNumber": 1256
          },
          {
            "text": "    },",
            "lineNumber": 1257
          },
          {
            "text": "    // 対象日が平日かどうかを判定",
            "lineNumber": 1258
          },
          {
            "text": "    isWeekday() {",
            "lineNumber": 1259
          },
          {
            "text": "      return !this.isHoliday",
            "lineNumber": 1260
          },
          {
            "text": "    },",
            "lineNumber": 1261
          }
        ]
      },
      "score": 0.29263031482696533
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1480
          },
          "endPosition": {
            "line": 1517
          }
        },
        "contents": "      }\n    },\n    \n    async loadPaidLeaveBalance() {\n      try {\n        const response = await fetch(\n          &#96;http://localhost:3000/api/application/vacation/balance?employeeId=${this.employeeId}&amp;vacationTypeCode=PAID_LEAVE&#96;\n        )\n        const data = await response.json()\n        if (data.success) {\n          this.paidLeaveBalance = data.balance || 0\n        }\n      } catch (error) {\n        console.error('有給残日数取得エラー:', error)\n      }\n    },\n    \n    async loadHolidayWorkStatus() {\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success) {\n          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能\n          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false\n          // 休日出勤申請がある場合、代休取得可能日数を取得\n          if (this.hasHolidayWorkApplication) {\n            await this.loadCompensatoryLeaveBalance()\n          }\n        }\n      } catch (error) {\n        console.error('休日出勤申請状態取得エラー:', error)\n        // エラー時はfalseとして扱う\n        this.hasHolidayWorkApplication = false\n      }\n    },\n    \n    async loadApplicationStatuses() {\n      // 各申請タイプの申請状態を取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      }",
            "lineNumber": 1481
          },
          {
            "text": "    },",
            "lineNumber": 1482
          },
          {
            "text": "    ",
            "lineNumber": 1483
          },
          {
            "text": "    async loadPaidLeaveBalance() {",
            "lineNumber": 1484
          },
          {
            "text": "      try {",
            "lineNumber": 1485
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1486
          },
          {
            "text": "          &#96;http://localhost:3000/api/application/vacation/balance?employeeId=${this.employeeId}&amp;vacationTypeCode=PAID_LEAVE&#96;",
            "lineNumber": 1487
          },
          {
            "text": "        )",
            "lineNumber": 1488
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 1489
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 1490
          },
          {
            "text": "          this.paidLeaveBalance = data.balance || 0",
            "lineNumber": 1491
          },
          {
            "text": "        }",
            "lineNumber": 1492
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1493
          },
          {
            "text": "        console.error('有給残日数取得エラー:', error)",
            "lineNumber": 1494
          },
          {
            "text": "      }",
            "lineNumber": 1495
          },
          {
            "text": "    },",
            "lineNumber": 1496
          },
          {
            "text": "    ",
            "lineNumber": 1497
          },
          {
            "text": "    async loadHolidayWorkStatus() {",
            "lineNumber": 1498
          },
          {
            "text": "      try {",
            "lineNumber": 1499
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1500
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1501
          },
          {
            "text": "          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能",
            "lineNumber": 1502
          },
          {
            "text": "          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false",
            "lineNumber": 1503
          },
          {
            "text": "          // 休日出勤申請がある場合、代休取得可能日数を取得",
            "lineNumber": 1504
          },
          {
            "text": "          if (this.hasHolidayWorkApplication) {",
            "lineNumber": 1505
          },
          {
            "text": "            await this.loadCompensatoryLeaveBalance()",
            "lineNumber": 1506
          },
          {
            "text": "          }",
            "lineNumber": 1507
          },
          {
            "text": "        }",
            "lineNumber": 1508
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1509
          },
          {
            "text": "        console.error('休日出勤申請状態取得エラー:', error)",
            "lineNumber": 1510
          },
          {
            "text": "        // エラー時はfalseとして扱う",
            "lineNumber": 1511
          },
          {
            "text": "        this.hasHolidayWorkApplication = false",
            "lineNumber": 1512
          },
          {
            "text": "      }",
            "lineNumber": 1513
          },
          {
            "text": "    },",
            "lineNumber": 1514
          },
          {
            "text": "    ",
            "lineNumber": 1515
          },
          {
            "text": "    async loadApplicationStatuses() {",
            "lineNumber": 1516
          },
          {
            "text": "      // 各申請タイプの申請状態を取得",
            "lineNumber": 1517
          }
        ]
      },
      "score": 0.2911148965358734
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 114,
            "column": 2
          },
          "endPosition": {
            "line": 170,
            "column": 1
          }
        },
        "contents": "/**\n * 早朝勤務申請\n */\nconst applyEarlyWork = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, startDate, endDate, reason } = req.body;\n    \n    if (!employeeId || !startDate || !endDate) {\n      return res.status(400).json({\n        success: false,\n        message: '必須項目が不足しています。'\n      });\n    }\n    \n    await applicationService.applyEarlyWork({ employeeId, startDate, endDate, reason });\n    \n    res.json({\n      success: true,\n      message: '早朝勤務申請が完了しました。'\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * 振替申請\n */\nconst applyTransfer = async (req, res, next) =&gt;\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 117
          },
          {
            "text": " * 早朝勤務申請",
            "lineNumber": 118
          },
          {
            "text": " */",
            "lineNumber": 119
          },
          {
            "text": "const applyEarlyWork = async (req, res, next) =&gt; {",
            "lineNumber": 120
          },
          {
            "text": "  try {",
            "lineNumber": 121
          },
          {
            "text": "    const { employeeId, startDate, endDate, reason } = req.body;",
            "lineNumber": 122
          },
          {
            "text": "    ",
            "lineNumber": 123
          },
          {
            "text": "    if (!employeeId || !startDate || !endDate) {",
            "lineNumber": 124
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 125
          },
          {
            "text": "        success: false,",
            "lineNumber": 126
          },
          {
            "text": "        message: '必須項目が不足しています。'",
            "lineNumber": 127
          },
          {
            "text": "      });",
            "lineNumber": 128
          },
          {
            "text": "    }",
            "lineNumber": 129
          },
          {
            "text": "    ",
            "lineNumber": 130
          },
          {
            "text": "    await applicationService.applyEarlyWork({ employeeId, startDate, endDate, reason });",
            "lineNumber": 131
          },
          {
            "text": "    ",
            "lineNumber": 132
          },
          {
            "text": "    res.json({",
            "lineNumber": 133
          },
          {
            "text": "      success: true,",
            "lineNumber": 134
          },
          {
            "text": "      message: '早朝勤務申請が完了しました。'",
            "lineNumber": 135
          },
          {
            "text": "    });",
            "lineNumber": 136
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 137
          },
          {
            "text": "    next(error);",
            "lineNumber": 138
          },
          {
            "text": "  }",
            "lineNumber": 139
          },
          {
            "text": "};",
            "lineNumber": 140
          },
          {
            "lineNumber": 141
          },
          {
            "text": "/**",
            "lineNumber": 142
          },
          {
            "text": " * 振替申請",
            "lineNumber": 143
          },
          {
            "text": " */",
            "lineNumber": 144
          },
          {
            "text": "const applyTransfer = async (req, res, next) =&gt;",
            "lineNumber": 145
          },
          {
            "text": ";",
            "lineNumber": 171
          }
        ]
      },
      "score": 0.28755560517311096
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "有給休暇のグラフ表示と背景色の実装",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 516
          },
          "endPosition": {
            "line": 551
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-work-time-bar vacation-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合） --&gt;\n        &lt;div \n          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours\"\n          class=\"scheduled-break-time-bar\" \n          :style=\"getScheduledBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-break-time-bar vacation-break-time-bar\" \n          :style=\"getVacationBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;\n        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;\n          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 517
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 518
          },
          {
            "text": "          class=\"scheduled-work-time-bar vacation-work-time-bar\" ",
            "lineNumber": 519
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 520
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 521
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 522
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 523
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 524
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;",
            "lineNumber": 525
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 526
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 527
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 528
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 529
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 530
          },
          {
            "text": "        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合） --&gt;",
            "lineNumber": 531
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 532
          },
          {
            "text": "          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours\"",
            "lineNumber": 533
          },
          {
            "text": "          class=\"scheduled-break-time-bar\" ",
            "lineNumber": 534
          },
          {
            "text": "          :style=\"getScheduledBreakTimeStyle(day)\"",
            "lineNumber": 535
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 536
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 537
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 538
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 539
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;",
            "lineNumber": 540
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 541
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 542
          },
          {
            "text": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" ",
            "lineNumber": 543
          },
          {
            "text": "          :style=\"getVacationBreakTimeStyle(day)\"",
            "lineNumber": 544
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 545
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 546
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 547
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 548
          },
          {
            "text": "        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;",
            "lineNumber": 549
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;",
            "lineNumber": 550
          },
          {
            "text": "          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
            "lineNumber": 551
          }
        ]
      },
      "score": 0.45557743310928345
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1568
          },
          "endPosition": {
            "line": 1591
          }
        },
        "contents": "- **休憩時間**: 休憩時間帯を四角形で表示。基本休憩時間（12:00-13:00）は平日の場合デフォルトで表示され、勤怠情報入力画面で入力された休憩時間も同様に表示される。色は出勤状態により変化する：\n  - 出勤していない場合（勤務予定日）：グレー色（#BBBBBB）\n  - 出勤している場合で、出勤時刻が休憩時間より前：青色（#1A69AB）\n  - 出勤している場合で、出勤時刻が休憩時間より後：表示しない\n- **未出勤日の所定勤務時間**: 薄いグレーの塗りつぶし\n- **平日の所定内の労働時間、残業時間**: 青色の塗りつぶし（濃い青と薄い青のセグメント）\n- **休日（法定時間内かつ法定休日ではない）の労働時間**: 黄色系の塗りつぶし（濃い黄色/オリーブグリーンと薄い黄色のセグメント）\n- **法定休日の労働時間**: 紫色の塗りつぶし\n- **有給の休暇の取得日または裁量労働日の労働時間**: 青色の塗りつぶし（濃い青と薄い青のセグメント）。勤務状況のアイコンで区別\n- **有給休暇または夏季休暇の取得日（出勤・退勤データなし）**: 所定内労働時間帯（9:00-17:30）を薄い青（#4B9EE4）の長方形で表示し、休憩時間（12:00-13:00）を青色（#1A69AB）の長方形で表示。その上に細い白線（1px）を表示\n- **代休の取得日**: 薄いグレーの塗りつぶし\n- **無給の休暇の取得日**: 薄いグレーの塗りつぶし\n- **法定時間外割増時間**: セグメント内の紫色の部分\n- **深夜労働時間**: セグメント内の赤色の部分\n- **公用外出時間**: セグメント内の水色の部分\n\n#### 表示例\n\n| 状態 | グラフ表示 |\n| --- | --- |\n| 平日・勤怠データなし | グレーの長方形（9:00-17:30）+ 休憩時間のグレー四角形（12:00-13:00、#BBBBBB） |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **休憩時間**: 休憩時間帯を四角形で表示。基本休憩時間（12:00-13:00）は平日の場合デフォルトで表示され、勤怠情報入力画面で入力された休憩時間も同様に表示される。色は出勤状態により変化する：",
            "lineNumber": 1569
          },
          {
            "text": "  - 出勤していない場合（勤務予定日）：グレー色（#BBBBBB）",
            "lineNumber": 1570
          },
          {
            "text": "  - 出勤している場合で、出勤時刻が休憩時間より前：青色（#1A69AB）",
            "lineNumber": 1571
          },
          {
            "text": "  - 出勤している場合で、出勤時刻が休憩時間より後：表示しない",
            "lineNumber": 1572
          },
          {
            "text": "- **未出勤日の所定勤務時間**: 薄いグレーの塗りつぶし",
            "lineNumber": 1573
          },
          {
            "text": "- **平日の所定内の労働時間、残業時間**: 青色の塗りつぶし（濃い青と薄い青のセグメント）",
            "lineNumber": 1574
          },
          {
            "text": "- **休日（法定時間内かつ法定休日ではない）の労働時間**: 黄色系の塗りつぶし（濃い黄色/オリーブグリーンと薄い黄色のセグメント）",
            "lineNumber": 1575
          },
          {
            "text": "- **法定休日の労働時間**: 紫色の塗りつぶし",
            "lineNumber": 1576
          },
          {
            "text": "- **有給の休暇の取得日または裁量労働日の労働時間**: 青色の塗りつぶし（濃い青と薄い青のセグメント）。勤務状況のアイコンで区別",
            "lineNumber": 1577
          },
          {
            "text": "- **有給休暇または夏季休暇の取得日（出勤・退勤データなし）**: 所定内労働時間帯（9:00-17:30）を薄い青（#4B9EE4）の長方形で表示し、休憩時間（12:00-13:00）を青色（#1A69AB）の長方形で表示。その上に細い白線（1px）を表示",
            "lineNumber": 1578
          },
          {
            "text": "- **代休の取得日**: 薄いグレーの塗りつぶし",
            "lineNumber": 1579
          },
          {
            "text": "- **無給の休暇の取得日**: 薄いグレーの塗りつぶし",
            "lineNumber": 1580
          },
          {
            "text": "- **法定時間外割増時間**: セグメント内の紫色の部分",
            "lineNumber": 1581
          },
          {
            "text": "- **深夜労働時間**: セグメント内の赤色の部分",
            "lineNumber": 1582
          },
          {
            "text": "- **公用外出時間**: セグメント内の水色の部分",
            "lineNumber": 1583
          },
          {
            "lineNumber": 1584
          },
          {
            "text": "#### 表示例",
            "lineNumber": 1585
          },
          {
            "lineNumber": 1586
          },
          {
            "text": "| 状態 | グラフ表示 |",
            "lineNumber": 1587
          },
          {
            "text": "| --- | --- |",
            "lineNumber": 1588
          },
          {
            "text": "| 平日・勤怠データなし | グレーの長方形（9:00-17:30）+ 休憩時間のグレー四角形（12:00-13:00、#BBBBBB） |",
            "lineNumber": 1589
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |",
            "lineNumber": 1590
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1591
          }
        ]
      },
      "score": 0.43257880210876465
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 487
          },
          "endPosition": {
            "line": 518
          }
        },
        "contents": "          &lt;!-- 32時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;\n          &lt;!-- 34時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;\n          &lt;!-- 36時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;\n          &lt;!-- 38時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 40時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 42時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;\n          &lt;!-- 44時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;\n          &lt;!-- 46時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;\n          &lt;!-- 48時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;\n        &lt;div \n          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE')\" \n          class=\"scheduled-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;!-- 32時の罫線 --&gt;",
            "lineNumber": 488
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;",
            "lineNumber": 489
          },
          {
            "text": "          &lt;!-- 34時の罫線 --&gt;",
            "lineNumber": 490
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;",
            "lineNumber": 491
          },
          {
            "text": "          &lt;!-- 36時の罫線 --&gt;",
            "lineNumber": 492
          },
          {
            "text": "          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;",
            "lineNumber": 493
          },
          {
            "text": "          &lt;!-- 38時の罫線 --&gt;",
            "lineNumber": 494
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 495
          },
          {
            "text": "          &lt;!-- 40時の罫線 --&gt;",
            "lineNumber": 496
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 497
          },
          {
            "text": "          &lt;!-- 42時の罫線 --&gt;",
            "lineNumber": 498
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;",
            "lineNumber": 499
          },
          {
            "text": "          &lt;!-- 44時の罫線 --&gt;",
            "lineNumber": 500
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;",
            "lineNumber": 501
          },
          {
            "text": "          &lt;!-- 46時の罫線 --&gt;",
            "lineNumber": 502
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;",
            "lineNumber": 503
          },
          {
            "text": "          &lt;!-- 48時の罫線 --&gt;",
            "lineNumber": 504
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;",
            "lineNumber": 505
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 506
          },
          {
            "text": "        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;",
            "lineNumber": 507
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 508
          },
          {
            "text": "          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE')\" ",
            "lineNumber": 509
          },
          {
            "text": "          class=\"scheduled-work-time-bar\" ",
            "lineNumber": 510
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 511
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 512
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 513
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 514
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 515
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;",
            "lineNumber": 516
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 517
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 518
          }
        ]
      },
      "score": 0.42292478680610657
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1547
          },
          "endPosition": {
            "line": 1570
          }
        },
        "contents": "- **色のルール**:\n  - **出勤していない場合（勤務予定日）**: グレー色（#BBBBBB）で表示\n  - **出勤している場合**: \n    - 出勤時刻が休憩時間（12:00）より前の場合：青色（#1A69AB）で表示\n    - 出勤時刻が休憩時間（12:00）より後の場合：四角形を表示しない（休憩時間が過ぎてから出勤した場合は休憩時間の四角形を表示しない）\n\n##### 4. 青色の▼マーク（出退勤時刻マーカー）\n- **出勤時刻**の位置に**青色の▼（下向き三角）**マークが表示される\n- **退勤時刻**の位置にも**青色の▼（下向き三角）**マークが表示される\n- 出勤のみで退勤前の状態（勤務中）では、**出勤時刻の位置にのみ▼が表示**される\n- ▼マークは長方形の左上の角（出勤時刻）と右上の角（退勤時刻）に配置される\n\n##### 5. 有給休暇または夏季休暇のグラフ表示\n- **有給休暇または夏季休暇の取得日**の場合、出勤・退勤データの有無に関わらず、以下のグラフが表示される：\n  - **所定内労働時間帯（9:00-17:30）**: 薄い青（#4B9EE4）の長方形で表示\n  - **休憩時間（12:00-13:00）**: 青色（#1A69AB）の長方形で表示\n  - **細い白線**: 所定内労働時間帯と休憩時間の長方形の上に細い白線（1px）を表示\n- これは有給休暇または夏季休暇の取得日であることを視覚的に示す\n\n#### グラフの色分け（凡例）\n- **標準勤務時間帯（グレー）**: 9:00-17:30の時間帯をグレーの長方形（rgb(228, 228, 228)）で表示（平日のみ）\n- **休憩時間**: 休憩時間帯を四角形で表示。基本休憩時間（12:00-13:00）は平日の場合デフォルトで表示され、勤怠情報入力画面で入力された休憩時間も同様に表示される。色は出勤状態により変化する：\n  - 出勤していない場合（勤務予定日）：グレー色（#BBBBBB）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **色のルール**:",
            "lineNumber": 1548
          },
          {
            "text": "  - **出勤していない場合（勤務予定日）**: グレー色（#BBBBBB）で表示",
            "lineNumber": 1549
          },
          {
            "text": "  - **出勤している場合**: ",
            "lineNumber": 1550
          },
          {
            "text": "    - 出勤時刻が休憩時間（12:00）より前の場合：青色（#1A69AB）で表示",
            "lineNumber": 1551
          },
          {
            "text": "    - 出勤時刻が休憩時間（12:00）より後の場合：四角形を表示しない（休憩時間が過ぎてから出勤した場合は休憩時間の四角形を表示しない）",
            "lineNumber": 1552
          },
          {
            "lineNumber": 1553
          },
          {
            "text": "##### 4. 青色の▼マーク（出退勤時刻マーカー）",
            "lineNumber": 1554
          },
          {
            "text": "- **出勤時刻**の位置に**青色の▼（下向き三角）**マークが表示される",
            "lineNumber": 1555
          },
          {
            "text": "- **退勤時刻**の位置にも**青色の▼（下向き三角）**マークが表示される",
            "lineNumber": 1556
          },
          {
            "text": "- 出勤のみで退勤前の状態（勤務中）では、**出勤時刻の位置にのみ▼が表示**される",
            "lineNumber": 1557
          },
          {
            "text": "- ▼マークは長方形の左上の角（出勤時刻）と右上の角（退勤時刻）に配置される",
            "lineNumber": 1558
          },
          {
            "lineNumber": 1559
          },
          {
            "text": "##### 5. 有給休暇または夏季休暇のグラフ表示",
            "lineNumber": 1560
          },
          {
            "text": "- **有給休暇または夏季休暇の取得日**の場合、出勤・退勤データの有無に関わらず、以下のグラフが表示される：",
            "lineNumber": 1561
          },
          {
            "text": "  - **所定内労働時間帯（9:00-17:30）**: 薄い青（#4B9EE4）の長方形で表示",
            "lineNumber": 1562
          },
          {
            "text": "  - **休憩時間（12:00-13:00）**: 青色（#1A69AB）の長方形で表示",
            "lineNumber": 1563
          },
          {
            "text": "  - **細い白線**: 所定内労働時間帯と休憩時間の長方形の上に細い白線（1px）を表示",
            "lineNumber": 1564
          },
          {
            "text": "- これは有給休暇または夏季休暇の取得日であることを視覚的に示す",
            "lineNumber": 1565
          },
          {
            "lineNumber": 1566
          },
          {
            "text": "#### グラフの色分け（凡例）",
            "lineNumber": 1567
          },
          {
            "text": "- **標準勤務時間帯（グレー）**: 9:00-17:30の時間帯をグレーの長方形（rgb(228, 228, 228)）で表示（平日のみ）",
            "lineNumber": 1568
          },
          {
            "text": "- **休憩時間**: 休憩時間帯を四角形で表示。基本休憩時間（12:00-13:00）は平日の場合デフォルトで表示され、勤怠情報入力画面で入力された休憩時間も同様に表示される。色は出勤状態により変化する：",
            "lineNumber": 1569
          },
          {
            "text": "  - 出勤していない場合（勤務予定日）：グレー色（#BBBBBB）",
            "lineNumber": 1570
          }
        ]
      },
      "score": 0.4202517867088318
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 549
          },
          "endPosition": {
            "line": 591,
            "column": 10
          }
        },
        "contents": "        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;\n          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'scheduled') &gt; 0\"\n            class=\"graph-bar graph-bar-scheduled\" \n            :style=\"getGraphSegmentStyle(day, 'scheduled')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'withinLegal') &gt; 0\"\n            class=\"graph-bar graph-bar-within-legal\" \n            :style=\"getGraphSegmentStyle(day, 'withinLegal')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間外残業セグメント（オレンジ色） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'overLegal') &gt; 0\"\n            class=\"graph-bar graph-bar-over-legal\" \n            :style=\"getGraphSegmentStyle(day, 'overLegal')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 休憩時間の四角形（複数対応） --&gt;\n        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;\n          &lt;div \n            v-if=\"shouldShowBreakTime(breakTime, day)\"\n            class=\"break-time-bar\" \n            :style=\"{ ...getBreakTimeStyle(breakTime, day), backgroundColor: getBreakTimeColor(breakTime, day) }\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n        &lt;/template&gt;\n        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;\n        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;",
            "lineNumber": 550
          },
          {
            "text": "          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
            "lineNumber": 551
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 552
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'scheduled') &gt; 0\"",
            "lineNumber": 553
          },
          {
            "text": "            class=\"graph-bar graph-bar-scheduled\" ",
            "lineNumber": 554
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'scheduled')\"",
            "lineNumber": 555
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 556
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 557
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 558
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 559
          },
          {
            "text": "          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;",
            "lineNumber": 560
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 561
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'withinLegal') &gt; 0\"",
            "lineNumber": 562
          },
          {
            "text": "            class=\"graph-bar graph-bar-within-legal\" ",
            "lineNumber": 563
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'withinLegal')\"",
            "lineNumber": 564
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 565
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 566
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 567
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 568
          },
          {
            "text": "          &lt;!-- 法定時間外残業セグメント（オレンジ色） --&gt;",
            "lineNumber": 569
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 570
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'overLegal') &gt; 0\"",
            "lineNumber": 571
          },
          {
            "text": "            class=\"graph-bar graph-bar-over-legal\" ",
            "lineNumber": 572
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'overLegal')\"",
            "lineNumber": 573
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 574
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 575
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 576
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 577
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 578
          },
          {
            "text": "        &lt;!-- 休憩時間の四角形（複数対応） --&gt;",
            "lineNumber": 579
          },
          {
            "text": "        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;",
            "lineNumber": 580
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 581
          },
          {
            "text": "            v-if=\"shouldShowBreakTime(breakTime, day)\"",
            "lineNumber": 582
          },
          {
            "text": "            class=\"break-time-bar\" ",
            "lineNumber": 583
          },
          {
            "text": "            :style=\"{ ...getBreakTimeStyle(breakTime, day), backgroundColor: getBreakTimeColor(breakTime, day) }\"",
            "lineNumber": 584
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 585
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 586
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 587
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 588
          },
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 589
          },
          {
            "text": "        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;",
            "lineNumber": 590
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;",
            "lineNumber": 591
          },
          {
            "text": "          ",
            "lineNumber": 592
          }
        ]
      },
      "score": 0.417443186044693
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 4153
          },
          "endPosition": {
            "line": 4227
          }
        },
        "contents": "/* 法定時間外残業セグメント */\n.graph-bar-over-legal {\n  background-color: #E28E1C;\n}\n\n/* 標準勤務時間帯のグレー長方形（平日のみ） */\n.scheduled-work-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  background-color: rgb(228, 228, 228); /* グレー */\n  z-index: 1; /* 勤務時間バーの下に表示 */\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 有給休暇または夏季休暇の所定内労働時間帯（薄い青） */\n.vacation-work-time-bar {\n  background-color: #4B9EE4; /* 薄い青 */\n  z-index: 1;\n}\n\n/* 有給休暇または夏季休暇の細い白線 */\n.vacation-white-line {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 1px;\n  background-color: rgb(255, 255, 255); /* 白 */\n  z-index: 3; /* グラフバーの上に表示 */\n  pointer-events: none;\n}\n\n/* 休憩時間のグレー長方形（休日出勤申請が承認されている場合） */\n.scheduled-break-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  background-color: #BBBBBB; /* 濃いグレー */\n  z-index: 1; /* 勤務時間バーの下に表示 */\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 有給休暇または夏季休暇の休憩時間の長方形 */\n.vacation-break-time-bar {\n  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */\n  z-index: 2; /* 所定内労働時間帯の上に表示 */\n}\n\n/* 休憩時間の四角形 */\n.break-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  z-index: 2;\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 出退勤時刻マーカー（▼マーク） */\n.clock-marker {\n  position: absolute;\n  transform: translate(-50%, -100%);\n  z-index: 3;\n  pointer-events: none;\n}\n\n/* 有給休暇または夏季休暇のオレンジ色のアイコンマーカー */\n.vacation-application-marker {\n  position: absolute;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/* 法定時間外残業セグメント */",
            "lineNumber": 4154
          },
          {
            "text": ".graph-bar-over-legal {",
            "lineNumber": 4155
          },
          {
            "text": "  background-color: #E28E1C;",
            "lineNumber": 4156
          },
          {
            "text": "}",
            "lineNumber": 4157
          },
          {
            "lineNumber": 4158
          },
          {
            "text": "/* 標準勤務時間帯のグレー長方形（平日のみ） */",
            "lineNumber": 4159
          },
          {
            "text": ".scheduled-work-time-bar {",
            "lineNumber": 4160
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4161
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4162
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4163
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4164
          },
          {
            "text": "  background-color: rgb(228, 228, 228); /* グレー */",
            "lineNumber": 4165
          },
          {
            "text": "  z-index: 1; /* 勤務時間バーの下に表示 */",
            "lineNumber": 4166
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4167
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4168
          },
          {
            "text": "}",
            "lineNumber": 4169
          },
          {
            "lineNumber": 4170
          },
          {
            "text": "/* 有給休暇または夏季休暇の所定内労働時間帯（薄い青） */",
            "lineNumber": 4171
          },
          {
            "text": ".vacation-work-time-bar {",
            "lineNumber": 4172
          },
          {
            "text": "  background-color: #4B9EE4; /* 薄い青 */",
            "lineNumber": 4173
          },
          {
            "text": "  z-index: 1;",
            "lineNumber": 4174
          },
          {
            "text": "}",
            "lineNumber": 4175
          },
          {
            "lineNumber": 4176
          },
          {
            "text": "/* 有給休暇または夏季休暇の細い白線 */",
            "lineNumber": 4177
          },
          {
            "text": ".vacation-white-line {",
            "lineNumber": 4178
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4179
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4180
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4181
          },
          {
            "text": "  height: 1px;",
            "lineNumber": 4182
          },
          {
            "text": "  background-color: rgb(255, 255, 255); /* 白 */",
            "lineNumber": 4183
          },
          {
            "text": "  z-index: 3; /* グラフバーの上に表示 */",
            "lineNumber": 4184
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4185
          },
          {
            "text": "}",
            "lineNumber": 4186
          },
          {
            "lineNumber": 4187
          },
          {
            "text": "/* 休憩時間のグレー長方形（休日出勤申請が承認されている場合） */",
            "lineNumber": 4188
          },
          {
            "text": ".scheduled-break-time-bar {",
            "lineNumber": 4189
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4190
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4191
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4192
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4193
          },
          {
            "text": "  background-color: #BBBBBB; /* 濃いグレー */",
            "lineNumber": 4194
          },
          {
            "text": "  z-index: 1; /* 勤務時間バーの下に表示 */",
            "lineNumber": 4195
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4196
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4197
          },
          {
            "text": "}",
            "lineNumber": 4198
          },
          {
            "lineNumber": 4199
          },
          {
            "text": "/* 有給休暇または夏季休暇の休憩時間の長方形 */",
            "lineNumber": 4200
          },
          {
            "text": ".vacation-break-time-bar {",
            "lineNumber": 4201
          },
          {
            "text": "  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */",
            "lineNumber": 4202
          },
          {
            "text": "  z-index: 2; /* 所定内労働時間帯の上に表示 */",
            "lineNumber": 4203
          },
          {
            "text": "}",
            "lineNumber": 4204
          },
          {
            "lineNumber": 4205
          },
          {
            "text": "/* 休憩時間の四角形 */",
            "lineNumber": 4206
          },
          {
            "text": ".break-time-bar {",
            "lineNumber": 4207
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4208
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4209
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4210
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4211
          },
          {
            "text": "  z-index: 2;",
            "lineNumber": 4212
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4213
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4214
          },
          {
            "text": "}",
            "lineNumber": 4215
          },
          {
            "lineNumber": 4216
          },
          {
            "text": "/* 出退勤時刻マーカー（▼マーク） */",
            "lineNumber": 4217
          },
          {
            "text": ".clock-marker {",
            "lineNumber": 4218
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4219
          },
          {
            "text": "  transform: translate(-50%, -100%);",
            "lineNumber": 4220
          },
          {
            "text": "  z-index: 3;",
            "lineNumber": 4221
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4222
          },
          {
            "text": "}",
            "lineNumber": 4223
          },
          {
            "lineNumber": 4224
          },
          {
            "text": "/* 有給休暇または夏季休暇のオレンジ色のアイコンマーカー */",
            "lineNumber": 4225
          },
          {
            "text": ".vacation-application-marker {",
            "lineNumber": 4226
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4227
          }
        ]
      },
      "score": 0.41738641262054443
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1799
          },
          "endPosition": {
            "line": 1860
          }
        },
        "contents": "      let backgroundColor = null\n      if (day.hasHolidayWorkApplication) {\n        // 日曜日（法定休日）の場合\n        if (day.dayOfWeekNum === 0) {\n          backgroundColor = '#DE9EDD'\n        }\n        // 土曜日または祝日（所定休日）の場合\n        else if (day.dayOfWeekNum === 6 || day.isHoliday) {\n          backgroundColor = '#B0B000'\n        }\n      }\n      \n      const style = {\n        left: &#96;${startPosition + totalWidth * segmentStartRatio}%&#96;,\n        width: &#96;${totalWidth * segmentWidthRatio}%&#96;\n      }\n      \n      if (backgroundColor) {\n        style.backgroundColor = backgroundColor\n      }\n      \n      return style\n    },\n    \n    // グラフセグメントの幅を取得（数値）\n    getGraphSegmentWidth(day, segmentType) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return 0\n      }\n      \n      const breakdown = this.calculateDailyWorkHourBreakdown(day)\n      \n      if (segmentType === 'scheduled') {\n        return breakdown.scheduledWorkHours\n      } else if (segmentType === 'withinLegal') {\n        return breakdown.withinLegalOvertime\n      } else if (segmentType === 'overLegal') {\n        return breakdown.overLegalOvertime\n      }\n      \n      return 0\n    },\n    \n    // 出勤時刻の位置を取得\n    getClockInPosition(day) {\n      if (!day.clockIn) return null\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      return this.calculateTimePosition(inHour, inMin)\n    },\n    \n    // 退勤時刻の位置を取得\n    getClockOutPosition(day) {\n      if (!day.clockOut) return null\n      const [outHour, outMin] = day.clockOut.split(':').map(Number)\n      return this.calculateTimePosition(outHour, outMin)\n    },\n    \n    // 出勤時刻の▼マークスタイルを取得（長方形の左上の角）\n    getClockInMarkerStyle(day) {\n      if (!day.clockIn) return {}\n      ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      let backgroundColor = null",
            "lineNumber": 1800
          },
          {
            "text": "      if (day.hasHolidayWorkApplication) {",
            "lineNumber": 1801
          },
          {
            "text": "        // 日曜日（法定休日）の場合",
            "lineNumber": 1802
          },
          {
            "text": "        if (day.dayOfWeekNum === 0) {",
            "lineNumber": 1803
          },
          {
            "text": "          backgroundColor = '#DE9EDD'",
            "lineNumber": 1804
          },
          {
            "text": "        }",
            "lineNumber": 1805
          },
          {
            "text": "        // 土曜日または祝日（所定休日）の場合",
            "lineNumber": 1806
          },
          {
            "text": "        else if (day.dayOfWeekNum === 6 || day.isHoliday) {",
            "lineNumber": 1807
          },
          {
            "text": "          backgroundColor = '#B0B000'",
            "lineNumber": 1808
          },
          {
            "text": "        }",
            "lineNumber": 1809
          },
          {
            "text": "      }",
            "lineNumber": 1810
          },
          {
            "text": "      ",
            "lineNumber": 1811
          },
          {
            "text": "      const style = {",
            "lineNumber": 1812
          },
          {
            "text": "        left: &#96;${startPosition + totalWidth * segmentStartRatio}%&#96;,",
            "lineNumber": 1813
          },
          {
            "text": "        width: &#96;${totalWidth * segmentWidthRatio}%&#96;",
            "lineNumber": 1814
          },
          {
            "text": "      }",
            "lineNumber": 1815
          },
          {
            "text": "      ",
            "lineNumber": 1816
          },
          {
            "text": "      if (backgroundColor) {",
            "lineNumber": 1817
          },
          {
            "text": "        style.backgroundColor = backgroundColor",
            "lineNumber": 1818
          },
          {
            "text": "      }",
            "lineNumber": 1819
          },
          {
            "text": "      ",
            "lineNumber": 1820
          },
          {
            "text": "      return style",
            "lineNumber": 1821
          },
          {
            "text": "    },",
            "lineNumber": 1822
          },
          {
            "text": "    ",
            "lineNumber": 1823
          },
          {
            "text": "    // グラフセグメントの幅を取得（数値）",
            "lineNumber": 1824
          },
          {
            "text": "    getGraphSegmentWidth(day, segmentType) {",
            "lineNumber": 1825
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 1826
          },
          {
            "text": "        return 0",
            "lineNumber": 1827
          },
          {
            "text": "      }",
            "lineNumber": 1828
          },
          {
            "text": "      ",
            "lineNumber": 1829
          },
          {
            "text": "      const breakdown = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 1830
          },
          {
            "text": "      ",
            "lineNumber": 1831
          },
          {
            "text": "      if (segmentType === 'scheduled') {",
            "lineNumber": 1832
          },
          {
            "text": "        return breakdown.scheduledWorkHours",
            "lineNumber": 1833
          },
          {
            "text": "      } else if (segmentType === 'withinLegal') {",
            "lineNumber": 1834
          },
          {
            "text": "        return breakdown.withinLegalOvertime",
            "lineNumber": 1835
          },
          {
            "text": "      } else if (segmentType === 'overLegal') {",
            "lineNumber": 1836
          },
          {
            "text": "        return breakdown.overLegalOvertime",
            "lineNumber": 1837
          },
          {
            "text": "      }",
            "lineNumber": 1838
          },
          {
            "text": "      ",
            "lineNumber": 1839
          },
          {
            "text": "      return 0",
            "lineNumber": 1840
          },
          {
            "text": "    },",
            "lineNumber": 1841
          },
          {
            "text": "    ",
            "lineNumber": 1842
          },
          {
            "text": "    // 出勤時刻の位置を取得",
            "lineNumber": 1843
          },
          {
            "text": "    getClockInPosition(day) {",
            "lineNumber": 1844
          },
          {
            "text": "      if (!day.clockIn) return null",
            "lineNumber": 1845
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 1846
          },
          {
            "text": "      return this.calculateTimePosition(inHour, inMin)",
            "lineNumber": 1847
          },
          {
            "text": "    },",
            "lineNumber": 1848
          },
          {
            "text": "    ",
            "lineNumber": 1849
          },
          {
            "text": "    // 退勤時刻の位置を取得",
            "lineNumber": 1850
          },
          {
            "text": "    getClockOutPosition(day) {",
            "lineNumber": 1851
          },
          {
            "text": "      if (!day.clockOut) return null",
            "lineNumber": 1852
          },
          {
            "text": "      const [outHour, outMin] = day.clockOut.split(':').map(Number)",
            "lineNumber": 1853
          },
          {
            "text": "      return this.calculateTimePosition(outHour, outMin)",
            "lineNumber": 1854
          },
          {
            "text": "    },",
            "lineNumber": 1855
          },
          {
            "text": "    ",
            "lineNumber": 1856
          },
          {
            "text": "    // 出勤時刻の▼マークスタイルを取得（長方形の左上の角）",
            "lineNumber": 1857
          },
          {
            "text": "    getClockInMarkerStyle(day) {",
            "lineNumber": 1858
          },
          {
            "text": "      if (!day.clockIn) return {}",
            "lineNumber": 1859
          },
          {
            "text": "      ",
            "lineNumber": 1860
          }
        ]
      },
      "score": 0.3952200412750244
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1952
          },
          "endPosition": {
            "line": 1994
          }
        },
        "contents": "    getScheduledBreakTimeStyle(day) {\n      if (!day.hasHolidayWorkApplication || !day.holidayWorkBreakHours) {\n        return { display: 'none' }\n      }\n      \n      // 常に12:00-13:00の時間軸に合わせる\n      const startPosition = this.calculateTimePosition(12, 0)\n      const endPosition = this.calculateTimePosition(13, 0)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // 有給休暇または夏季休暇の休憩時間のスタイルを取得（12:00-13:00）\n    getVacationBreakTimeStyle(day) {\n      // 常に12:00-13:00の時間軸に合わせる\n      const startPosition = this.calculateTimePosition(12, 0)\n      const endPosition = this.calculateTimePosition(13, 0)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;,\n        backgroundColor: '#1A69AB' // 青色をインラインスタイルで指定\n      }\n    },\n    \n    // 休憩時間のスタイルを取得\n    getBreakTimeStyle(breakTime, day) {\n      const startPosition = this.calculateTimePosition(breakTime.startHour, breakTime.startMinute)\n      const endPosition = this.calculateTimePosition(breakTime.endHour, breakTime.endMinute)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // 休憩時間の色を取得\n    getBreakTimeColor(breakTime, day) {\n      // 出勤していない場合（勤務予定日）：グレー（#BBBBBB）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getScheduledBreakTimeStyle(day) {",
            "lineNumber": 1953
          },
          {
            "text": "      if (!day.hasHolidayWorkApplication || !day.holidayWorkBreakHours) {",
            "lineNumber": 1954
          },
          {
            "text": "        return { display: 'none' }",
            "lineNumber": 1955
          },
          {
            "text": "      }",
            "lineNumber": 1956
          },
          {
            "text": "      ",
            "lineNumber": 1957
          },
          {
            "text": "      // 常に12:00-13:00の時間軸に合わせる",
            "lineNumber": 1958
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(12, 0)",
            "lineNumber": 1959
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(13, 0)",
            "lineNumber": 1960
          },
          {
            "text": "      ",
            "lineNumber": 1961
          },
          {
            "text": "      return {",
            "lineNumber": 1962
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1963
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1964
          },
          {
            "text": "      }",
            "lineNumber": 1965
          },
          {
            "text": "    },",
            "lineNumber": 1966
          },
          {
            "text": "    ",
            "lineNumber": 1967
          },
          {
            "text": "    // 有給休暇または夏季休暇の休憩時間のスタイルを取得（12:00-13:00）",
            "lineNumber": 1968
          },
          {
            "text": "    getVacationBreakTimeStyle(day) {",
            "lineNumber": 1969
          },
          {
            "text": "      // 常に12:00-13:00の時間軸に合わせる",
            "lineNumber": 1970
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(12, 0)",
            "lineNumber": 1971
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(13, 0)",
            "lineNumber": 1972
          },
          {
            "text": "      ",
            "lineNumber": 1973
          },
          {
            "text": "      return {",
            "lineNumber": 1974
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1975
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;,",
            "lineNumber": 1976
          },
          {
            "text": "        backgroundColor: '#1A69AB' // 青色をインラインスタイルで指定",
            "lineNumber": 1977
          },
          {
            "text": "      }",
            "lineNumber": 1978
          },
          {
            "text": "    },",
            "lineNumber": 1979
          },
          {
            "text": "    ",
            "lineNumber": 1980
          },
          {
            "text": "    // 休憩時間のスタイルを取得",
            "lineNumber": 1981
          },
          {
            "text": "    getBreakTimeStyle(breakTime, day) {",
            "lineNumber": 1982
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(breakTime.startHour, breakTime.startMinute)",
            "lineNumber": 1983
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(breakTime.endHour, breakTime.endMinute)",
            "lineNumber": 1984
          },
          {
            "text": "      ",
            "lineNumber": 1985
          },
          {
            "text": "      return {",
            "lineNumber": 1986
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1987
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1988
          },
          {
            "text": "      }",
            "lineNumber": 1989
          },
          {
            "text": "    },",
            "lineNumber": 1990
          },
          {
            "text": "    ",
            "lineNumber": 1991
          },
          {
            "text": "    // 休憩時間の色を取得",
            "lineNumber": 1992
          },
          {
            "text": "    getBreakTimeColor(breakTime, day) {",
            "lineNumber": 1993
          },
          {
            "text": "      // 出勤していない場合（勤務予定日）：グレー（#BBBBBB）",
            "lineNumber": 1994
          }
        ]
      },
      "score": 0.3873741924762726
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1521
          },
          "endPosition": {
            "line": 1549
          }
        },
        "contents": "- 前月/次月ボタン押下時\n- 日次確定申請時\n- 各種入力画面から戻ってきた際のデータ再取得時\n\nローディング表示中は、ユーザーが画面操作できないようにする（ローディングマークの背後にオーバーレイを表示するなど）ことを推奨します。\n\n### 勤務グラフの表示\n勤務グラフは0-48時の時間軸を上部と下部に配置して表示され、以下の情報を視覚的に表現します:\n\n#### グラフの基本構成\n\n##### 1. グレーの長方形（標準勤務時間帯）\n- **平日**の各行には、出勤/退勤データの有無に関わらず、**9:00〜17:30**の範囲にグレーの長方形（塗りつぶし）が**常時表示**される\n- これは標準勤務時間帯を示すベースラインとなる\n- グレー色（rgb(228, 228, 228)）で表示\n- **土日祝**の行にはグレーの長方形は**表示されない**（休日のため）\n\n##### 2. 青色のバー（実際の勤務時間）\n- 出勤・退勤時刻が記録されている日は、その時間帯を**青色のバー**で表示\n- 例：出勤8:46、退勤18:00の場合、8:46〜18:00の範囲に青色のバーが表示される\n\n##### 3. 休憩時間の四角形\n- **休憩時間**は四角形で表示される\n- 基本休憩時間（12:00〜13:00）は平日の場合、デフォルトで表示される\n- 勤怠情報入力画面で入力された休憩時間も同様に表示される\n- 複数の休憩時間がある場合は、それぞれ個別の四角形として表示される\n- **色のルール**:\n  - **出勤していない場合（勤務予定日）**: グレー色（#BBBBBB）で表示",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 前月/次月ボタン押下時",
            "lineNumber": 1522
          },
          {
            "text": "- 日次確定申請時",
            "lineNumber": 1523
          },
          {
            "text": "- 各種入力画面から戻ってきた際のデータ再取得時",
            "lineNumber": 1524
          },
          {
            "lineNumber": 1525
          },
          {
            "text": "ローディング表示中は、ユーザーが画面操作できないようにする（ローディングマークの背後にオーバーレイを表示するなど）ことを推奨します。",
            "lineNumber": 1526
          },
          {
            "lineNumber": 1527
          },
          {
            "text": "### 勤務グラフの表示",
            "lineNumber": 1528
          },
          {
            "text": "勤務グラフは0-48時の時間軸を上部と下部に配置して表示され、以下の情報を視覚的に表現します:",
            "lineNumber": 1529
          },
          {
            "lineNumber": 1530
          },
          {
            "text": "#### グラフの基本構成",
            "lineNumber": 1531
          },
          {
            "lineNumber": 1532
          },
          {
            "text": "##### 1. グレーの長方形（標準勤務時間帯）",
            "lineNumber": 1533
          },
          {
            "text": "- **平日**の各行には、出勤/退勤データの有無に関わらず、**9:00〜17:30**の範囲にグレーの長方形（塗りつぶし）が**常時表示**される",
            "lineNumber": 1534
          },
          {
            "text": "- これは標準勤務時間帯を示すベースラインとなる",
            "lineNumber": 1535
          },
          {
            "text": "- グレー色（rgb(228, 228, 228)）で表示",
            "lineNumber": 1536
          },
          {
            "text": "- **土日祝**の行にはグレーの長方形は**表示されない**（休日のため）",
            "lineNumber": 1537
          },
          {
            "lineNumber": 1538
          },
          {
            "text": "##### 2. 青色のバー（実際の勤務時間）",
            "lineNumber": 1539
          },
          {
            "text": "- 出勤・退勤時刻が記録されている日は、その時間帯を**青色のバー**で表示",
            "lineNumber": 1540
          },
          {
            "text": "- 例：出勤8:46、退勤18:00の場合、8:46〜18:00の範囲に青色のバーが表示される",
            "lineNumber": 1541
          },
          {
            "lineNumber": 1542
          },
          {
            "text": "##### 3. 休憩時間の四角形",
            "lineNumber": 1543
          },
          {
            "text": "- **休憩時間**は四角形で表示される",
            "lineNumber": 1544
          },
          {
            "text": "- 基本休憩時間（12:00〜13:00）は平日の場合、デフォルトで表示される",
            "lineNumber": 1545
          },
          {
            "text": "- 勤怠情報入力画面で入力された休憩時間も同様に表示される",
            "lineNumber": 1546
          },
          {
            "text": "- 複数の休憩時間がある場合は、それぞれ個別の四角形として表示される",
            "lineNumber": 1547
          },
          {
            "text": "- **色のルール**:",
            "lineNumber": 1548
          },
          {
            "text": "  - **出勤していない場合（勤務予定日）**: グレー色（#BBBBBB）で表示",
            "lineNumber": 1549
          }
        ]
      },
      "score": 0.3784480094909668
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1761
          },
          "endPosition": {
            "line": 1803,
            "column": 10
          }
        },
        "contents": "    getGraphSegmentStyle(day, segmentType) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return { left: '0%', width: '0%' }\n      }\n      \n      const breakdown = this.calculateDailyWorkHourBreakdown(day)\n      const dailyActualWorkHours = parseFloat(day.actualWorkHours) || 0\n      \n      if (dailyActualWorkHours === 0) {\n        return { left: '0%', width: '0%' }\n      }\n      \n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const [outHour, outMin] = day.clockOut.split(':').map(Number)\n      \n      const startPosition = this.calculateTimePosition(inHour, inMin)\n      const endPosition = this.calculateTimePosition(outHour, outMin)\n      const totalWidth = endPosition - startPosition\n      \n      let segmentHours = 0\n      let segmentStartOffset = 0\n      \n      if (segmentType === 'scheduled') {\n        segmentHours = breakdown.scheduledWorkHours\n        segmentStartOffset = 0\n      } else if (segmentType === 'withinLegal') {\n        segmentHours = breakdown.withinLegalOvertime\n        segmentStartOffset = breakdown.scheduledWorkHours\n      } else if (segmentType === 'overLegal') {\n        segmentHours = breakdown.overLegalOvertime\n        segmentStartOffset = breakdown.scheduledWorkHours + breakdown.withinLegalOvertime\n      }\n      \n      // セグメントの開始位置（全体の開始位置 + オフセット）\n      const segmentStartRatio = segmentStartOffset / dailyActualWorkHours\n      const segmentWidthRatio = segmentHours / dailyActualWorkHours\n      \n      // 休日出勤申請が承認されている場合の色を決定\n      let backgroundColor = null\n      if (day.hasHolidayWorkApplication) {\n        // 日曜日（法定休日）の場合\n        if (day.dayOfWeekNum === 0) {\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getGraphSegmentStyle(day, segmentType) {",
            "lineNumber": 1762
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 1763
          },
          {
            "text": "        return { left: '0%', width: '0%' }",
            "lineNumber": 1764
          },
          {
            "text": "      }",
            "lineNumber": 1765
          },
          {
            "text": "      ",
            "lineNumber": 1766
          },
          {
            "text": "      const breakdown = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 1767
          },
          {
            "text": "      const dailyActualWorkHours = parseFloat(day.actualWorkHours) || 0",
            "lineNumber": 1768
          },
          {
            "text": "      ",
            "lineNumber": 1769
          },
          {
            "text": "      if (dailyActualWorkHours === 0) {",
            "lineNumber": 1770
          },
          {
            "text": "        return { left: '0%', width: '0%' }",
            "lineNumber": 1771
          },
          {
            "text": "      }",
            "lineNumber": 1772
          },
          {
            "text": "      ",
            "lineNumber": 1773
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 1774
          },
          {
            "text": "      const [outHour, outMin] = day.clockOut.split(':').map(Number)",
            "lineNumber": 1775
          },
          {
            "text": "      ",
            "lineNumber": 1776
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(inHour, inMin)",
            "lineNumber": 1777
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(outHour, outMin)",
            "lineNumber": 1778
          },
          {
            "text": "      const totalWidth = endPosition - startPosition",
            "lineNumber": 1779
          },
          {
            "text": "      ",
            "lineNumber": 1780
          },
          {
            "text": "      let segmentHours = 0",
            "lineNumber": 1781
          },
          {
            "text": "      let segmentStartOffset = 0",
            "lineNumber": 1782
          },
          {
            "text": "      ",
            "lineNumber": 1783
          },
          {
            "text": "      if (segmentType === 'scheduled') {",
            "lineNumber": 1784
          },
          {
            "text": "        segmentHours = breakdown.scheduledWorkHours",
            "lineNumber": 1785
          },
          {
            "text": "        segmentStartOffset = 0",
            "lineNumber": 1786
          },
          {
            "text": "      } else if (segmentType === 'withinLegal') {",
            "lineNumber": 1787
          },
          {
            "text": "        segmentHours = breakdown.withinLegalOvertime",
            "lineNumber": 1788
          },
          {
            "text": "        segmentStartOffset = breakdown.scheduledWorkHours",
            "lineNumber": 1789
          },
          {
            "text": "      } else if (segmentType === 'overLegal') {",
            "lineNumber": 1790
          },
          {
            "text": "        segmentHours = breakdown.overLegalOvertime",
            "lineNumber": 1791
          },
          {
            "text": "        segmentStartOffset = breakdown.scheduledWorkHours + breakdown.withinLegalOvertime",
            "lineNumber": 1792
          },
          {
            "text": "      }",
            "lineNumber": 1793
          },
          {
            "text": "      ",
            "lineNumber": 1794
          },
          {
            "text": "      // セグメントの開始位置（全体の開始位置 + オフセット）",
            "lineNumber": 1795
          },
          {
            "text": "      const segmentStartRatio = segmentStartOffset / dailyActualWorkHours",
            "lineNumber": 1796
          },
          {
            "text": "      const segmentWidthRatio = segmentHours / dailyActualWorkHours",
            "lineNumber": 1797
          },
          {
            "text": "      ",
            "lineNumber": 1798
          },
          {
            "text": "      // 休日出勤申請が承認されている場合の色を決定",
            "lineNumber": 1799
          },
          {
            "text": "      let backgroundColor = null",
            "lineNumber": 1800
          },
          {
            "text": "      if (day.hasHolidayWorkApplication) {",
            "lineNumber": 1801
          },
          {
            "text": "        // 日曜日（法定休日）の場合",
            "lineNumber": 1802
          },
          {
            "text": "        if (day.dayOfWeekNum === 0) {",
            "lineNumber": 1803
          },
          {
            "text": "          ",
            "lineNumber": 1804
          }
        ]
      },
      "score": 0.37726736068725586
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1589
          },
          "endPosition": {
            "line": 1614
          }
        },
        "contents": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |\n| 平日・出退勤済み（出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤〜退勤の青色バー + 出勤・退勤位置に▼ |\n| 平日・出退勤済み（出勤時刻が休憩時間より後） | グレーの長方形 + 出勤〜退勤の青色バー + 出勤・退勤位置に▼（休憩時間の四角形は表示しない） |\n| 有給休暇または夏季休暇の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |\n| 土日祝・勤怠データなし | グラフなし（空白） |\n| 土日祝・出退勤あり | 出勤〜退勤の緑色/紫色バー + 出勤・退勤位置に▼ |\n\n### 勤務グラフツールチップ\n勤務グラフにマウスカーソルを当てると、ツールチップが表示され、以下の詳細情報を確認できます:\n\n#### 通常勤務の場合\n\n**標準の勤務時間セクション（■マーク付き見出し）:**\n1. **標準勤務時間**: 所定の勤務時間帯（例: 9:00-17:30）\n2. **所定休憩時間**: 所定の休憩時間帯（例: 12:00-13:00）\n\n**区切り線**\n\n**実際の勤務詳細セクション（必須項目）:**\n3. **出退社時刻**: 実際の出退社時刻（例: 8:37-18:02）\n4. **休憩時間**: 実際の休憩時間帯（例: 12:00-13:00）\n5. **総労働時間**: 出勤から退勤までの時間（例: 8:25）\n6. **実労働時間**: 休憩時間を除いた実際の労働時間（例: 8:25）\n7. **休憩時間合計**: 休憩時間の合計（例: 1:00）■マーク（青色）付き",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |",
            "lineNumber": 1590
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1591
          },
          {
            "text": "| 平日・出退勤済み（出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤〜退勤の青色バー + 出勤・退勤位置に▼ |",
            "lineNumber": 1592
          },
          {
            "text": "| 平日・出退勤済み（出勤時刻が休憩時間より後） | グレーの長方形 + 出勤〜退勤の青色バー + 出勤・退勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1593
          },
          {
            "text": "| 有給休暇または夏季休暇の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |",
            "lineNumber": 1594
          },
          {
            "text": "| 土日祝・勤怠データなし | グラフなし（空白） |",
            "lineNumber": 1595
          },
          {
            "text": "| 土日祝・出退勤あり | 出勤〜退勤の緑色/紫色バー + 出勤・退勤位置に▼ |",
            "lineNumber": 1596
          },
          {
            "lineNumber": 1597
          },
          {
            "text": "### 勤務グラフツールチップ",
            "lineNumber": 1598
          },
          {
            "text": "勤務グラフにマウスカーソルを当てると、ツールチップが表示され、以下の詳細情報を確認できます:",
            "lineNumber": 1599
          },
          {
            "lineNumber": 1600
          },
          {
            "text": "#### 通常勤務の場合",
            "lineNumber": 1601
          },
          {
            "lineNumber": 1602
          },
          {
            "text": "**標準の勤務時間セクション（■マーク付き見出し）:**",
            "lineNumber": 1603
          },
          {
            "text": "1. **標準勤務時間**: 所定の勤務時間帯（例: 9:00-17:30）",
            "lineNumber": 1604
          },
          {
            "text": "2. **所定休憩時間**: 所定の休憩時間帯（例: 12:00-13:00）",
            "lineNumber": 1605
          },
          {
            "lineNumber": 1606
          },
          {
            "text": "**区切り線**",
            "lineNumber": 1607
          },
          {
            "lineNumber": 1608
          },
          {
            "text": "**実際の勤務詳細セクション（必須項目）:**",
            "lineNumber": 1609
          },
          {
            "text": "3. **出退社時刻**: 実際の出退社時刻（例: 8:37-18:02）",
            "lineNumber": 1610
          },
          {
            "text": "4. **休憩時間**: 実際の休憩時間帯（例: 12:00-13:00）",
            "lineNumber": 1611
          },
          {
            "text": "5. **総労働時間**: 出勤から退勤までの時間（例: 8:25）",
            "lineNumber": 1612
          },
          {
            "text": "6. **実労働時間**: 休憩時間を除いた実際の労働時間（例: 8:25）",
            "lineNumber": 1613
          },
          {
            "text": "7. **休憩時間合計**: 休憩時間の合計（例: 1:00）■マーク（青色）付き",
            "lineNumber": 1614
          }
        ]
      },
      "score": 0.3678492307662964
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1286
          },
          "endPosition": {
            "line": 1329
          }
        },
        "contents": "6. **休日（法定休日・所定休日）**: 休日種別に応じたアイコン\n   - 土日祝日など、法定休日や所定休日を示すアイコン\n\n7. **その他の休暇**: 休暇種別に応じたアイコン\n   - 特別休暇など、その他の休暇種別によって異なるアイコンを表示\n\n### 曜日による行の背景色\n\n勤務表の各行は、曜日や休日区分に応じて背景色が変更されます：\n\n#### 背景色の種類\n1. **日曜日**: #FFE8D9（薄いピンク・赤系）\n   - 法定休日として扱われる\n   - 曜日ラベルも#FF0000（赤色）で表示\n   - **日曜日に祝日イベントがあっても日曜日と同じ扱い**（背景色#FFE8D9、ラベル色#FF0000）\n\n2. **土曜日**: #E8F5FF（薄い青）\n   - 所定休日として扱われる\n   - 曜日ラベルも#0000FF（青色）で表示\n\n3. **祝日**: #E8F5FF（薄い青）\n   - 法定休日または所定休日として扱われる\n   - 曜日ラベルも#0000FF（青色）で表示\n\n4. **平日（月〜金）**: 白色（デフォルト）\n   - 通常の勤務日\n   - 曜日ラベルは黒色で表示\n\n5. **休暇申請済み**: オレンジ色（#FFCFA5）\n   - 有給休暇、特別休暇などの申請がある日（基本的に平日）\n   - **平日の休暇申請日はオレンジ色の背景で表示される**（最優先）\n\n#### 祝日の判定\n祝日の判定は以下の方法で行われます：\n- システム内の祝日マスタまたはカレンダーAPIを使用\n- または、フロントエンドで日本の祝日を判定するライブラリ（例：japanese-holidays）を使用\n- 祝日と判定された場合、曜日が平日（月〜金）であっても土曜日と同じ背景色（#E8F5FF）とラベル色（#0000FF）で表示\n- **日曜日に祝日イベントがあっても日曜日と同じ扱い**（背景色#FFE8D9、ラベル色#FF0000）とする\n\n#### 背景色の優先順位\n複数の条件に該当する場合の優先順位：\n1. 日曜日（薄いピンク #FFE8D9）- 祝日より優先（日曜日に祝日イベントがあっても日曜日と同じ扱い）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "6. **休日（法定休日・所定休日）**: 休日種別に応じたアイコン",
            "lineNumber": 1288
          },
          {
            "text": "   - 土日祝日など、法定休日や所定休日を示すアイコン",
            "lineNumber": 1289
          },
          {
            "lineNumber": 1290
          },
          {
            "text": "7. **その他の休暇**: 休暇種別に応じたアイコン",
            "lineNumber": 1291
          },
          {
            "text": "   - 特別休暇など、その他の休暇種別によって異なるアイコンを表示",
            "lineNumber": 1292
          },
          {
            "lineNumber": 1293
          },
          {
            "text": "### 曜日による行の背景色",
            "lineNumber": 1294
          },
          {
            "lineNumber": 1295
          },
          {
            "text": "勤務表の各行は、曜日や休日区分に応じて背景色が変更されます：",
            "lineNumber": 1296
          },
          {
            "lineNumber": 1297
          },
          {
            "text": "#### 背景色の種類",
            "lineNumber": 1298
          },
          {
            "text": "1. **日曜日**: #FFE8D9（薄いピンク・赤系）",
            "lineNumber": 1299
          },
          {
            "text": "   - 法定休日として扱われる",
            "lineNumber": 1300
          },
          {
            "text": "   - 曜日ラベルも#FF0000（赤色）で表示",
            "lineNumber": 1301
          },
          {
            "text": "   - **日曜日に祝日イベントがあっても日曜日と同じ扱い**（背景色#FFE8D9、ラベル色#FF0000）",
            "lineNumber": 1302
          },
          {
            "lineNumber": 1303
          },
          {
            "text": "2. **土曜日**: #E8F5FF（薄い青）",
            "lineNumber": 1304
          },
          {
            "text": "   - 所定休日として扱われる",
            "lineNumber": 1305
          },
          {
            "text": "   - 曜日ラベルも#0000FF（青色）で表示",
            "lineNumber": 1306
          },
          {
            "lineNumber": 1307
          },
          {
            "text": "3. **祝日**: #E8F5FF（薄い青）",
            "lineNumber": 1308
          },
          {
            "text": "   - 法定休日または所定休日として扱われる",
            "lineNumber": 1309
          },
          {
            "text": "   - 曜日ラベルも#0000FF（青色）で表示",
            "lineNumber": 1310
          },
          {
            "lineNumber": 1311
          },
          {
            "text": "4. **平日（月〜金）**: 白色（デフォルト）",
            "lineNumber": 1312
          },
          {
            "text": "   - 通常の勤務日",
            "lineNumber": 1313
          },
          {
            "text": "   - 曜日ラベルは黒色で表示",
            "lineNumber": 1314
          },
          {
            "lineNumber": 1315
          },
          {
            "text": "5. **休暇申請済み**: オレンジ色（#FFCFA5）",
            "lineNumber": 1316
          },
          {
            "text": "   - 有給休暇、特別休暇などの申請がある日（基本的に平日）",
            "lineNumber": 1317
          },
          {
            "text": "   - **平日の休暇申請日はオレンジ色の背景で表示される**（最優先）",
            "lineNumber": 1318
          },
          {
            "lineNumber": 1319
          },
          {
            "text": "#### 祝日の判定",
            "lineNumber": 1320
          },
          {
            "text": "祝日の判定は以下の方法で行われます：",
            "lineNumber": 1321
          },
          {
            "text": "- システム内の祝日マスタまたはカレンダーAPIを使用",
            "lineNumber": 1322
          },
          {
            "text": "- または、フロントエンドで日本の祝日を判定するライブラリ（例：japanese-holidays）を使用",
            "lineNumber": 1323
          },
          {
            "text": "- 祝日と判定された場合、曜日が平日（月〜金）であっても土曜日と同じ背景色（#E8F5FF）とラベル色（#0000FF）で表示",
            "lineNumber": 1324
          },
          {
            "text": "- **日曜日に祝日イベントがあっても日曜日と同じ扱い**（背景色#FFE8D9、ラベル色#FF0000）とする",
            "lineNumber": 1325
          },
          {
            "lineNumber": 1326
          },
          {
            "text": "#### 背景色の優先順位",
            "lineNumber": 1327
          },
          {
            "text": "複数の条件に該当する場合の優先順位：",
            "lineNumber": 1328
          },
          {
            "text": "1. 日曜日（薄いピンク #FFE8D9）- 祝日より優先（日曜日に祝日イベントがあっても日曜日と同じ扱い）",
            "lineNumber": 1329
          }
        ]
      },
      "score": 0.36510640382766724
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 4034
          },
          "endPosition": {
            "line": 4158
          }
        },
        "contents": ".cell-clock-in.no-interaction,\n.cell-clock-out.no-interaction,\n.cell-location.no-interaction {\n  cursor: default;\n}\n\n.cell-clock-in.no-interaction:hover,\n.cell-clock-out.no-interaction:hover,\n.cell-location.no-interaction:hover {\n  background-color: transparent;\n}\n\n/* 申請中のセルはハイライトなし（クリックは可能） */\n.cell-clock-in.no-highlight:hover,\n.cell-clock-out.no-highlight:hover,\n.cell-location.no-highlight:hover {\n  background-color: transparent;\n}\n\n.clickable-cell.no-highlight:hover {\n  background-color: transparent;\n}\n\n.cell-location {\n  position: absolute;\n  left: 278px;\n  width: 60px;\n  font-size: 13px;\n  text-align: left;\n}\n\n.cell-work-hours {\n  position: absolute;\n  left: 356px;\n  width: 35px;\n  text-align: left;\n}\n\n.work-hours-link {\n  font-size: 13px;\n  color: rgb(61, 59, 254);\n  text-decoration: underline;\n  margin-left: -4px;\n}\n\n.work-hours-link:hover {\n  color: rgb(100, 100, 255);\n}\n\n.work-hours-error {\n  position: absolute;\n  left: -12px;\n  top: 1px;\n  font-size: 18px;\n  color: #c00;\n  font-weight: bold;\n  line-height: 17px;\n}\n\n.cell-graph {\n  position: absolute;\n  left: 392px;\n  width: 1087px;\n  height: 100%;\n  cursor: default;\n}\n\n/* 時間軸の罫線 */\n.time-axis-lines {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.time-line {\n  position: absolute;\n  top: 0;\n  width: 1px;\n  height: 100%;\n}\n\n.time-line-normal {\n  background-color: rgb(228, 228, 228); /* #E4E4E4 */\n}\n\n.time-line-bold {\n  background-color: rgb(198, 198, 198); /* #C6C6C6 */\n}\n\n.work-graph {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.graph-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  z-index: 2;\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 所定内労働セグメント */\n.graph-bar-scheduled {\n  background-color: #4B9EE4;\n}\n\n/* 法定時間内残業セグメント */\n.graph-bar-within-legal {\n  background-color: #B0B000;\n}\n\n/* 法定時間外残業セグメント */\n.graph-bar-over-legal {\n  background-color: #E28E1C;\n}",
        "signatures": {},
        "detailedLines": [
          {
            "text": ".cell-clock-in.no-interaction,",
            "lineNumber": 4035
          },
          {
            "text": ".cell-clock-out.no-interaction,",
            "lineNumber": 4036
          },
          {
            "text": ".cell-location.no-interaction {",
            "lineNumber": 4037
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 4038
          },
          {
            "text": "}",
            "lineNumber": 4039
          },
          {
            "lineNumber": 4040
          },
          {
            "text": ".cell-clock-in.no-interaction:hover,",
            "lineNumber": 4041
          },
          {
            "text": ".cell-clock-out.no-interaction:hover,",
            "lineNumber": 4042
          },
          {
            "text": ".cell-location.no-interaction:hover {",
            "lineNumber": 4043
          },
          {
            "text": "  background-color: transparent;",
            "lineNumber": 4044
          },
          {
            "text": "}",
            "lineNumber": 4045
          },
          {
            "lineNumber": 4046
          },
          {
            "text": "/* 申請中のセルはハイライトなし（クリックは可能） */",
            "lineNumber": 4047
          },
          {
            "text": ".cell-clock-in.no-highlight:hover,",
            "lineNumber": 4048
          },
          {
            "text": ".cell-clock-out.no-highlight:hover,",
            "lineNumber": 4049
          },
          {
            "text": ".cell-location.no-highlight:hover {",
            "lineNumber": 4050
          },
          {
            "text": "  background-color: transparent;",
            "lineNumber": 4051
          },
          {
            "text": "}",
            "lineNumber": 4052
          },
          {
            "lineNumber": 4053
          },
          {
            "text": ".clickable-cell.no-highlight:hover {",
            "lineNumber": 4054
          },
          {
            "text": "  background-color: transparent;",
            "lineNumber": 4055
          },
          {
            "text": "}",
            "lineNumber": 4056
          },
          {
            "lineNumber": 4057
          },
          {
            "text": ".cell-location {",
            "lineNumber": 4058
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4059
          },
          {
            "text": "  left: 278px;",
            "lineNumber": 4060
          },
          {
            "text": "  width: 60px;",
            "lineNumber": 4061
          },
          {
            "text": "  font-size: 13px;",
            "lineNumber": 4062
          },
          {
            "text": "  text-align: left;",
            "lineNumber": 4063
          },
          {
            "text": "}",
            "lineNumber": 4064
          },
          {
            "lineNumber": 4065
          },
          {
            "text": ".cell-work-hours {",
            "lineNumber": 4066
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4067
          },
          {
            "text": "  left: 356px;",
            "lineNumber": 4068
          },
          {
            "text": "  width: 35px;",
            "lineNumber": 4069
          },
          {
            "text": "  text-align: left;",
            "lineNumber": 4070
          },
          {
            "text": "}",
            "lineNumber": 4071
          },
          {
            "lineNumber": 4072
          },
          {
            "text": ".work-hours-link {",
            "lineNumber": 4073
          },
          {
            "text": "  font-size: 13px;",
            "lineNumber": 4074
          },
          {
            "text": "  color: rgb(61, 59, 254);",
            "lineNumber": 4075
          },
          {
            "text": "  text-decoration: underline;",
            "lineNumber": 4076
          },
          {
            "text": "  margin-left: -4px;",
            "lineNumber": 4077
          },
          {
            "text": "}",
            "lineNumber": 4078
          },
          {
            "lineNumber": 4079
          },
          {
            "text": ".work-hours-link:hover {",
            "lineNumber": 4080
          },
          {
            "text": "  color: rgb(100, 100, 255);",
            "lineNumber": 4081
          },
          {
            "text": "}",
            "lineNumber": 4082
          },
          {
            "lineNumber": 4083
          },
          {
            "text": ".work-hours-error {",
            "lineNumber": 4084
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4085
          },
          {
            "text": "  left: -12px;",
            "lineNumber": 4086
          },
          {
            "text": "  top: 1px;",
            "lineNumber": 4087
          },
          {
            "text": "  font-size: 18px;",
            "lineNumber": 4088
          },
          {
            "text": "  color: #c00;",
            "lineNumber": 4089
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 4090
          },
          {
            "text": "  line-height: 17px;",
            "lineNumber": 4091
          },
          {
            "text": "}",
            "lineNumber": 4092
          },
          {
            "lineNumber": 4093
          },
          {
            "text": ".cell-graph {",
            "lineNumber": 4094
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4095
          },
          {
            "text": "  left: 392px;",
            "lineNumber": 4096
          },
          {
            "text": "  width: 1087px;",
            "lineNumber": 4097
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4098
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 4099
          },
          {
            "text": "}",
            "lineNumber": 4100
          },
          {
            "lineNumber": 4101
          },
          {
            "text": "/* 時間軸の罫線 */",
            "lineNumber": 4102
          },
          {
            "text": ".time-axis-lines {",
            "lineNumber": 4103
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4104
          },
          {
            "text": "  top: 0;",
            "lineNumber": 4105
          },
          {
            "text": "  left: 0;",
            "lineNumber": 4106
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 4107
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4108
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4109
          },
          {
            "text": "}",
            "lineNumber": 4110
          },
          {
            "lineNumber": 4111
          },
          {
            "text": ".time-line {",
            "lineNumber": 4112
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4113
          },
          {
            "text": "  top: 0;",
            "lineNumber": 4114
          },
          {
            "text": "  width: 1px;",
            "lineNumber": 4115
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4116
          },
          {
            "text": "}",
            "lineNumber": 4117
          },
          {
            "lineNumber": 4118
          },
          {
            "text": ".time-line-normal {",
            "lineNumber": 4119
          },
          {
            "text": "  background-color: rgb(228, 228, 228); /* #E4E4E4 */",
            "lineNumber": 4120
          },
          {
            "text": "}",
            "lineNumber": 4121
          },
          {
            "lineNumber": 4122
          },
          {
            "text": ".time-line-bold {",
            "lineNumber": 4123
          },
          {
            "text": "  background-color: rgb(198, 198, 198); /* #C6C6C6 */",
            "lineNumber": 4124
          },
          {
            "text": "}",
            "lineNumber": 4125
          },
          {
            "lineNumber": 4126
          },
          {
            "text": ".work-graph {",
            "lineNumber": 4127
          },
          {
            "text": "  position: relative;",
            "lineNumber": 4128
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 4129
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4130
          },
          {
            "text": "  z-index: 1;",
            "lineNumber": 4131
          },
          {
            "text": "}",
            "lineNumber": 4132
          },
          {
            "lineNumber": 4133
          },
          {
            "text": ".graph-bar {",
            "lineNumber": 4134
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4135
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4136
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4137
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4138
          },
          {
            "text": "  z-index: 2;",
            "lineNumber": 4139
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4140
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4141
          },
          {
            "text": "}",
            "lineNumber": 4142
          },
          {
            "lineNumber": 4143
          },
          {
            "text": "/* 所定内労働セグメント */",
            "lineNumber": 4144
          },
          {
            "text": ".graph-bar-scheduled {",
            "lineNumber": 4145
          },
          {
            "text": "  background-color: #4B9EE4;",
            "lineNumber": 4146
          },
          {
            "text": "}",
            "lineNumber": 4147
          },
          {
            "lineNumber": 4148
          },
          {
            "text": "/* 法定時間内残業セグメント */",
            "lineNumber": 4149
          },
          {
            "text": ".graph-bar-within-legal {",
            "lineNumber": 4150
          },
          {
            "text": "  background-color: #B0B000;",
            "lineNumber": 4151
          },
          {
            "text": "}",
            "lineNumber": 4152
          },
          {
            "lineNumber": 4153
          },
          {
            "text": "/* 法定時間外残業セグメント */",
            "lineNumber": 4154
          },
          {
            "text": ".graph-bar-over-legal {",
            "lineNumber": 4155
          },
          {
            "text": "  background-color: #E28E1C;",
            "lineNumber": 4156
          },
          {
            "text": "}",
            "lineNumber": 4157
          }
        ]
      },
      "score": 0.35529249906539917
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 588
          },
          "endPosition": {
            "line": 615,
            "column": 12
          }
        },
        "contents": "        &lt;/template&gt;\n        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;\n        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;\n        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇のオレンジ色のアイコン（グラフの左端） --&gt;\n        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;!-- 吹き出しの本体（明るいオレンジ色） --&gt;\n            &lt;path d=\"M 8.5 1 Q 12 1 12 4.5 L 12 8.5 Q 12 12 8.5 12 Q 5 12 5 8.5 L 5 4.5 Q 5 1 8.5 1 Z\" fill=\"rgb(255, 183, 77)\"/&gt;\n            &lt;!-- ポインタ（下部の矢印） --&gt;\n            &lt;path d=\"M 8.5 12 L 6 15 L 11 15 Z\" fill=\"rgb(255, 183, 77)\"/&gt;\n            &lt;!-- 中心のOシンボル（白） --&gt;\n            &lt;circle cx=\"8.5\" cy=\"6.5\" r=\"2.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 休日出勤申請の緑の↑マーク（グラフ内） --&gt;\n        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 589
          },
          {
            "text": "        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;",
            "lineNumber": 590
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;",
            "lineNumber": 591
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 592
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 593
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 594
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 595
          },
          {
            "text": "        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;",
            "lineNumber": 596
          },
          {
            "text": "        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;",
            "lineNumber": 597
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 598
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 599
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 600
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 601
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇のオレンジ色のアイコン（グラフの左端） --&gt;",
            "lineNumber": 602
          },
          {
            "text": "        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 603
          },
          {
            "text": "          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 604
          },
          {
            "text": "            &lt;!-- 吹き出しの本体（明るいオレンジ色） --&gt;",
            "lineNumber": 605
          },
          {
            "text": "            &lt;path d=\"M 8.5 1 Q 12 1 12 4.5 L 12 8.5 Q 12 12 8.5 12 Q 5 12 5 8.5 L 5 4.5 Q 5 1 8.5 1 Z\" fill=\"rgb(255, 183, 77)\"/&gt;",
            "lineNumber": 606
          },
          {
            "text": "            &lt;!-- ポインタ（下部の矢印） --&gt;",
            "lineNumber": 607
          },
          {
            "text": "            &lt;path d=\"M 8.5 12 L 6 15 L 11 15 Z\" fill=\"rgb(255, 183, 77)\"/&gt;",
            "lineNumber": 608
          },
          {
            "text": "            &lt;!-- 中心のOシンボル（白） --&gt;",
            "lineNumber": 609
          },
          {
            "text": "            &lt;circle cx=\"8.5\" cy=\"6.5\" r=\"2.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\"/&gt;",
            "lineNumber": 610
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 611
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 612
          },
          {
            "text": "        &lt;!-- 休日出勤申請の緑の↑マーク（グラフ内） --&gt;",
            "lineNumber": 613
          },
          {
            "text": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 614
          },
          {
            "text": "          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 615
          },
          {
            "text": "            ",
            "lineNumber": 616
          }
        ]
      },
      "score": 0.3521808981895447
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1857
          },
          "endPosition": {
            "line": 1916
          }
        },
        "contents": "    getClockInMarkerStyle(day) {\n      if (!day.clockIn) return {}\n      \n      // 長方形がある場合は長方形の左端、ない場合は時刻の位置\n      let leftPosition\n      if (day.clockIn &amp;&amp; day.clockOut) {\n        const graphStyle = this.getGraphStyle(day)\n        leftPosition = parseFloat(graphStyle.left)\n      } else {\n        leftPosition = this.getClockInPosition(day)\n      }\n      \n      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 3px)'\n      }\n    },\n    \n    // 退勤時刻の▼マークスタイルを取得（長方形の右上の角）\n    getClockOutMarkerStyle(day) {\n      if (!day.clockOut) return {}\n      \n      // 長方形がある場合は長方形の右端、ない場合は時刻の位置\n      let leftPosition\n      if (day.clockIn &amp;&amp; day.clockOut) {\n        const graphStyle = this.getGraphStyle(day)\n        const left = parseFloat(graphStyle.left)\n        const width = parseFloat(graphStyle.width)\n        leftPosition = left + width\n      } else {\n        leftPosition = this.getClockOutPosition(day)\n      }\n      \n      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 3px)'\n      }\n    },\n    \n    // 有給休暇または夏季休暇のオレンジ色のアイコンスタイルを取得\n    getVacationApplicationMarkerStyle(day) {\n      if (!day.hasVacation || day.vacationTypeCode !== 'PAID_LEAVE') return {}\n      \n      // 9:00の位置に配置（グラフの左端）\n      const leftPosition = this.calculateTimePosition(9, 0)\n      \n      // グラフの中央より少し上に配置\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 15px)'\n      }\n    },\n    \n    // 休日出勤申請の緑の↑マークスタイルを取得\n    getHolidayWorkApplicationMarkerStyle(day) {\n      if (!day.hasHolidayWorkApplication) return {}\n      ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getClockInMarkerStyle(day) {",
            "lineNumber": 1858
          },
          {
            "text": "      if (!day.clockIn) return {}",
            "lineNumber": 1859
          },
          {
            "text": "      ",
            "lineNumber": 1860
          },
          {
            "text": "      // 長方形がある場合は長方形の左端、ない場合は時刻の位置",
            "lineNumber": 1861
          },
          {
            "text": "      let leftPosition",
            "lineNumber": 1862
          },
          {
            "text": "      if (day.clockIn &amp;&amp; day.clockOut) {",
            "lineNumber": 1863
          },
          {
            "text": "        const graphStyle = this.getGraphStyle(day)",
            "lineNumber": 1864
          },
          {
            "text": "        leftPosition = parseFloat(graphStyle.left)",
            "lineNumber": 1865
          },
          {
            "text": "      } else {",
            "lineNumber": 1866
          },
          {
            "text": "        leftPosition = this.getClockInPosition(day)",
            "lineNumber": 1867
          },
          {
            "text": "      }",
            "lineNumber": 1868
          },
          {
            "text": "      ",
            "lineNumber": 1869
          },
          {
            "text": "      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）",
            "lineNumber": 1870
          },
          {
            "text": "      return {",
            "lineNumber": 1871
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1872
          },
          {
            "text": "        top: 'calc(50% - 3px)'",
            "lineNumber": 1873
          },
          {
            "text": "      }",
            "lineNumber": 1874
          },
          {
            "text": "    },",
            "lineNumber": 1875
          },
          {
            "text": "    ",
            "lineNumber": 1876
          },
          {
            "text": "    // 退勤時刻の▼マークスタイルを取得（長方形の右上の角）",
            "lineNumber": 1877
          },
          {
            "text": "    getClockOutMarkerStyle(day) {",
            "lineNumber": 1878
          },
          {
            "text": "      if (!day.clockOut) return {}",
            "lineNumber": 1879
          },
          {
            "text": "      ",
            "lineNumber": 1880
          },
          {
            "text": "      // 長方形がある場合は長方形の右端、ない場合は時刻の位置",
            "lineNumber": 1881
          },
          {
            "text": "      let leftPosition",
            "lineNumber": 1882
          },
          {
            "text": "      if (day.clockIn &amp;&amp; day.clockOut) {",
            "lineNumber": 1883
          },
          {
            "text": "        const graphStyle = this.getGraphStyle(day)",
            "lineNumber": 1884
          },
          {
            "text": "        const left = parseFloat(graphStyle.left)",
            "lineNumber": 1885
          },
          {
            "text": "        const width = parseFloat(graphStyle.width)",
            "lineNumber": 1886
          },
          {
            "text": "        leftPosition = left + width",
            "lineNumber": 1887
          },
          {
            "text": "      } else {",
            "lineNumber": 1888
          },
          {
            "text": "        leftPosition = this.getClockOutPosition(day)",
            "lineNumber": 1889
          },
          {
            "text": "      }",
            "lineNumber": 1890
          },
          {
            "text": "      ",
            "lineNumber": 1891
          },
          {
            "text": "      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）",
            "lineNumber": 1892
          },
          {
            "text": "      return {",
            "lineNumber": 1893
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1894
          },
          {
            "text": "        top: 'calc(50% - 3px)'",
            "lineNumber": 1895
          },
          {
            "text": "      }",
            "lineNumber": 1896
          },
          {
            "text": "    },",
            "lineNumber": 1897
          },
          {
            "text": "    ",
            "lineNumber": 1898
          },
          {
            "text": "    // 有給休暇または夏季休暇のオレンジ色のアイコンスタイルを取得",
            "lineNumber": 1899
          },
          {
            "text": "    getVacationApplicationMarkerStyle(day) {",
            "lineNumber": 1900
          },
          {
            "text": "      if (!day.hasVacation || day.vacationTypeCode !== 'PAID_LEAVE') return {}",
            "lineNumber": 1901
          },
          {
            "text": "      ",
            "lineNumber": 1902
          },
          {
            "text": "      // 9:00の位置に配置（グラフの左端）",
            "lineNumber": 1903
          },
          {
            "text": "      const leftPosition = this.calculateTimePosition(9, 0)",
            "lineNumber": 1904
          },
          {
            "text": "      ",
            "lineNumber": 1905
          },
          {
            "text": "      // グラフの中央より少し上に配置",
            "lineNumber": 1906
          },
          {
            "text": "      return {",
            "lineNumber": 1907
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1908
          },
          {
            "text": "        top: 'calc(50% - 15px)'",
            "lineNumber": 1909
          },
          {
            "text": "      }",
            "lineNumber": 1910
          },
          {
            "text": "    },",
            "lineNumber": 1911
          },
          {
            "text": "    ",
            "lineNumber": 1912
          },
          {
            "text": "    // 休日出勤申請の緑の↑マークスタイルを取得",
            "lineNumber": 1913
          },
          {
            "text": "    getHolidayWorkApplicationMarkerStyle(day) {",
            "lineNumber": 1914
          },
          {
            "text": "      if (!day.hasHolidayWorkApplication) return {}",
            "lineNumber": 1915
          },
          {
            "text": "      ",
            "lineNumber": 1916
          }
        ]
      },
      "score": 0.3432384133338928
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\MonthlySummaryScreen.vue",
        "range": {
          "startPosition": {
            "line": 89
          },
          "endPosition": {
            "line": 109
          }
        },
        "contents": "      &lt;/svg&gt;\n      &lt;div v-for=\"(day, index) in dailyData\" :key=\"index\" class=\"table-row\" :style=\"{ top: getRowTop(index) + 'px' }\"&gt;\n        &lt;svg class=\"row-background\" :viewBox=\"&#96;0 0 1873 ${getRowHeight(index)}&#96;\" preserveAspectRatio=\"none\" :style=\"{ height: getRowHeight(index) + 'px' }\"&gt;\n          &lt;rect :width=\"1873\" :height=\"getRowHeight(index)\" :fill=\"getRowBackgroundColor(day, index)\" stroke=\"#DDDDDD\" stroke-width=\"0.5\" /&gt;\n        &lt;/svg&gt;\n        &lt;span class=\"row-date\" :style=\"{ top: getRowContentTop(index) + 'px', left: index === 0 ? '64px' : (64 + getDatePaddingLeft(index, day.workDate)) + 'px' }\"&gt;{{ formatDate(day.workDate, index) }}&lt;/span&gt;\n        &lt;span class=\"row-day\" :style=\"{ top: (getRowContentTop(index) - 2) + 'px', color: getDayOfWeekColor(day.workDate, day) }\"&gt;{{ getDayOfWeek(day.workDate) }}&lt;/span&gt;\n        &lt;!-- 所定休日（土曜日・祝日）: ○ - 祝日は所定休日として優先表示 --&gt;\n        &lt;svg v-if=\"isScheduledHoliday(day.workDate, day)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;\n          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;\n        &lt;/svg&gt;\n        &lt;!-- 法定休日（日曜日、祝日でない場合）: ◎ --&gt;\n        &lt;svg v-else-if=\"isLegalHoliday(day.workDate)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;\n          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"4.5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;\n          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"3\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;\n        &lt;/svg&gt;\n        &lt;span class=\"row-event\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ getEventText(day) }}&lt;/span&gt;\n        &lt;span v-if=\"day.clockInTime\" class=\"row-clock-in\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockInTime) }}&lt;/span&gt;\n        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;\n        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;/svg&gt;",
            "lineNumber": 90
          },
          {
            "text": "      &lt;div v-for=\"(day, index) in dailyData\" :key=\"index\" class=\"table-row\" :style=\"{ top: getRowTop(index) + 'px' }\"&gt;",
            "lineNumber": 91
          },
          {
            "text": "        &lt;svg class=\"row-background\" :viewBox=\"&#96;0 0 1873 ${getRowHeight(index)}&#96;\" preserveAspectRatio=\"none\" :style=\"{ height: getRowHeight(index) + 'px' }\"&gt;",
            "lineNumber": 92
          },
          {
            "text": "          &lt;rect :width=\"1873\" :height=\"getRowHeight(index)\" :fill=\"getRowBackgroundColor(day, index)\" stroke=\"#DDDDDD\" stroke-width=\"0.5\" /&gt;",
            "lineNumber": 93
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 94
          },
          {
            "text": "        &lt;span class=\"row-date\" :style=\"{ top: getRowContentTop(index) + 'px', left: index === 0 ? '64px' : (64 + getDatePaddingLeft(index, day.workDate)) + 'px' }\"&gt;{{ formatDate(day.workDate, index) }}&lt;/span&gt;",
            "lineNumber": 95
          },
          {
            "text": "        &lt;span class=\"row-day\" :style=\"{ top: (getRowContentTop(index) - 2) + 'px', color: getDayOfWeekColor(day.workDate, day) }\"&gt;{{ getDayOfWeek(day.workDate) }}&lt;/span&gt;",
            "lineNumber": 96
          },
          {
            "text": "        &lt;!-- 所定休日（土曜日・祝日）: ○ - 祝日は所定休日として優先表示 --&gt;",
            "lineNumber": 97
          },
          {
            "text": "        &lt;svg v-if=\"isScheduledHoliday(day.workDate, day)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;",
            "lineNumber": 98
          },
          {
            "text": "          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;",
            "lineNumber": 99
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 100
          },
          {
            "text": "        &lt;!-- 法定休日（日曜日、祝日でない場合）: ◎ --&gt;",
            "lineNumber": 101
          },
          {
            "text": "        &lt;svg v-else-if=\"isLegalHoliday(day.workDate)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;",
            "lineNumber": 102
          },
          {
            "text": "          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"4.5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;",
            "lineNumber": 103
          },
          {
            "text": "          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"3\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;",
            "lineNumber": 104
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 105
          },
          {
            "text": "        &lt;span class=\"row-event\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ getEventText(day) }}&lt;/span&gt;",
            "lineNumber": 106
          },
          {
            "text": "        &lt;span v-if=\"day.clockInTime\" class=\"row-clock-in\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockInTime) }}&lt;/span&gt;",
            "lineNumber": 107
          },
          {
            "text": "        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;",
            "lineNumber": 108
          },
          {
            "text": "        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;",
            "lineNumber": 109
          }
        ]
      },
      "score": 0.3420799970626831
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1991
          },
          "endPosition": {
            "line": 2034
          }
        },
        "contents": "    // 休憩時間の色を取得\n    getBreakTimeColor(breakTime, day) {\n      // 出勤していない場合（勤務予定日）：グレー（#BBBBBB）\n      if (!day.clockIn) {\n        return '#BBBBBB'\n      }\n      \n      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const clockInMinutes = inHour * 60 + inMin\n      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない（nullを返す）\n      if (clockInMinutes &gt; breakStartMinutes) {\n        return null\n      }\n      \n      // 出勤時刻が休憩時間より前の場合：青色（#1A69AB）\n      return '#1A69AB'\n    },\n    \n    // 休憩時間を表示するかどうかを判定\n    shouldShowBreakTime(breakTime, day) {\n      // 有給休暇または夏季休暇の取得日の場合、通常の休憩時間の長方形を表示しない\n      if (day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE') {\n        return false\n      }\n      \n      // 出勤していない場合：表示する（グレー）\n      if (!day.clockIn) {\n        return true\n      }\n      \n      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const clockInMinutes = inHour * 60 + inMin\n      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない\n      return clockInMinutes &lt;= breakStartMinutes\n    },\n    \n      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    // 休憩時間の色を取得",
            "lineNumber": 1992
          },
          {
            "text": "    getBreakTimeColor(breakTime, day) {",
            "lineNumber": 1993
          },
          {
            "text": "      // 出勤していない場合（勤務予定日）：グレー（#BBBBBB）",
            "lineNumber": 1994
          },
          {
            "text": "      if (!day.clockIn) {",
            "lineNumber": 1995
          },
          {
            "text": "        return '#BBBBBB'",
            "lineNumber": 1996
          },
          {
            "text": "      }",
            "lineNumber": 1997
          },
          {
            "text": "      ",
            "lineNumber": 1998
          },
          {
            "text": "      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック",
            "lineNumber": 1999
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 2000
          },
          {
            "text": "      const clockInMinutes = inHour * 60 + inMin",
            "lineNumber": 2001
          },
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 2002
          },
          {
            "text": "      ",
            "lineNumber": 2003
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない（nullを返す）",
            "lineNumber": 2004
          },
          {
            "text": "      if (clockInMinutes &gt; breakStartMinutes) {",
            "lineNumber": 2005
          },
          {
            "text": "        return null",
            "lineNumber": 2006
          },
          {
            "text": "      }",
            "lineNumber": 2007
          },
          {
            "text": "      ",
            "lineNumber": 2008
          },
          {
            "text": "      // 出勤時刻が休憩時間より前の場合：青色（#1A69AB）",
            "lineNumber": 2009
          },
          {
            "text": "      return '#1A69AB'",
            "lineNumber": 2010
          },
          {
            "text": "    },",
            "lineNumber": 2011
          },
          {
            "text": "    ",
            "lineNumber": 2012
          },
          {
            "text": "    // 休憩時間を表示するかどうかを判定",
            "lineNumber": 2013
          },
          {
            "text": "    shouldShowBreakTime(breakTime, day) {",
            "lineNumber": 2014
          },
          {
            "text": "      // 有給休暇または夏季休暇の取得日の場合、通常の休憩時間の長方形を表示しない",
            "lineNumber": 2015
          },
          {
            "text": "      if (day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 2016
          },
          {
            "text": "        return false",
            "lineNumber": 2017
          },
          {
            "text": "      }",
            "lineNumber": 2018
          },
          {
            "text": "      ",
            "lineNumber": 2019
          },
          {
            "text": "      // 出勤していない場合：表示する（グレー）",
            "lineNumber": 2020
          },
          {
            "text": "      if (!day.clockIn) {",
            "lineNumber": 2021
          },
          {
            "text": "        return true",
            "lineNumber": 2022
          },
          {
            "text": "      }",
            "lineNumber": 2023
          },
          {
            "text": "      ",
            "lineNumber": 2024
          },
          {
            "text": "      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック",
            "lineNumber": 2025
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 2026
          },
          {
            "text": "      const clockInMinutes = inHour * 60 + inMin",
            "lineNumber": 2027
          },
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 2028
          },
          {
            "text": "      ",
            "lineNumber": 2029
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない",
            "lineNumber": 2030
          },
          {
            "text": "      return clockInMinutes &lt;= breakStartMinutes",
            "lineNumber": 2031
          },
          {
            "text": "    },",
            "lineNumber": 2032
          },
          {
            "text": "    ",
            "lineNumber": 2033
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）",
            "lineNumber": 2034
          }
        ]
      },
      "score": 0.33582603931427
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 85
          },
          "endPosition": {
            "line": 97
          }
        },
        "contents": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数 | 出力 | | 文字 | | | | | 表示 | 活性 | | 工数実績の表示。未登録の場合は+アイコン |\n| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ボタン | | 画像 | | | | | 表示 | 活性 | | 常に+アイコンを表示。押下すると備考入力ダイアログを開く |\n| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーアイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 工数合計と実労働時間の不一致時に赤い!マークを表示 |\n| | &lt;勤務グラフ凡例&gt; | | | | | | | | | | | |\n| 45 | グラフ凡例 | ラベル | | | | | | | 表示 | 活性 | | 勤務グラフの色の意味を説明 |\n| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;未出勤日の所定勤務時間 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |\n| 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;平日の所定内の労働時間、残業時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント） |\n| 48 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日（法定時間内かつ法定休日ではない）の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 法定時間内残業と同じ色（黄土色、#B0B000）の塗りつぶし。土曜日または祝日（所定休日）の労働時間に適用 |\n| 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | #DE9EDD（薄い紫色/ラベンダー色）の塗りつぶし。日曜日（法定休日）の労働時間に適用 |\n| 50 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給の休暇の取得日または裁量労働日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント）。勤務状況のアイコンで区別 |\n| 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |\n| 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;無給の休暇の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数 | 出力 | | 文字 | | | | | 表示 | 活性 | | 工数実績の表示。未登録の場合は+アイコン |",
            "lineNumber": 86
          },
          {
            "text": "| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ボタン | | 画像 | | | | | 表示 | 活性 | | 常に+アイコンを表示。押下すると備考入力ダイアログを開く |",
            "lineNumber": 87
          },
          {
            "text": "| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーアイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 工数合計と実労働時間の不一致時に赤い!マークを表示 |",
            "lineNumber": 88
          },
          {
            "text": "| | &lt;勤務グラフ凡例&gt; | | | | | | | | | | | |",
            "lineNumber": 89
          },
          {
            "text": "| 45 | グラフ凡例 | ラベル | | | | | | | 表示 | 活性 | | 勤務グラフの色の意味を説明 |",
            "lineNumber": 90
          },
          {
            "text": "| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;未出勤日の所定勤務時間 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
            "lineNumber": 91
          },
          {
            "text": "| 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;平日の所定内の労働時間、残業時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント） |",
            "lineNumber": 92
          },
          {
            "text": "| 48 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日（法定時間内かつ法定休日ではない）の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 法定時間内残業と同じ色（黄土色、#B0B000）の塗りつぶし。土曜日または祝日（所定休日）の労働時間に適用 |",
            "lineNumber": 93
          },
          {
            "text": "| 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | #DE9EDD（薄い紫色/ラベンダー色）の塗りつぶし。日曜日（法定休日）の労働時間に適用 |",
            "lineNumber": 94
          },
          {
            "text": "| 50 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給の休暇の取得日または裁量労働日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント）。勤務状況のアイコンで区別 |",
            "lineNumber": 95
          },
          {
            "text": "| 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
            "lineNumber": 96
          },
          {
            "text": "| 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;無給の休暇の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
            "lineNumber": 97
          }
        ]
      },
      "score": 0.33302855491638184
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1733
          },
          "endPosition": {
            "line": 1763,
            "column": 8
          }
        },
        "contents": "    calculateTimePosition(hour, minute = 0) {\n      const totalMinutes = hour * 60 + minute\n      const totalHours = totalMinutes / 60\n      // 時間軸の開始位置: 0.4%, 終了位置: 80.3%, 幅: 79.9%\n      const timeAxisStart = 0.4\n      const timeAxisEnd = 80.3\n      const timeAxisWidth = timeAxisEnd - timeAxisStart\n      const position = timeAxisStart + (totalHours / 48) * timeAxisWidth\n      return position\n    },\n    \n    // グラフスタイルを取得（全体のバー）\n    getGraphStyle(day) {\n      if (!day.clockIn || !day.clockOut) return {}\n      \n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const [outHour, outMin] = day.clockOut.split(':').map(Number)\n      \n      const startPosition = this.calculateTimePosition(inHour, inMin)\n      const endPosition = this.calculateTimePosition(outHour, outMin)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // グラフセグメントのスタイルを取得（所定内労働、法定時間内残業、法定時間外残業）\n    getGraphSegmentStyle(day, segmentType) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    calculateTimePosition(hour, minute = 0) {",
            "lineNumber": 1734
          },
          {
            "text": "      const totalMinutes = hour * 60 + minute",
            "lineNumber": 1735
          },
          {
            "text": "      const totalHours = totalMinutes / 60",
            "lineNumber": 1736
          },
          {
            "text": "      // 時間軸の開始位置: 0.4%, 終了位置: 80.3%, 幅: 79.9%",
            "lineNumber": 1737
          },
          {
            "text": "      const timeAxisStart = 0.4",
            "lineNumber": 1738
          },
          {
            "text": "      const timeAxisEnd = 80.3",
            "lineNumber": 1739
          },
          {
            "text": "      const timeAxisWidth = timeAxisEnd - timeAxisStart",
            "lineNumber": 1740
          },
          {
            "text": "      const position = timeAxisStart + (totalHours / 48) * timeAxisWidth",
            "lineNumber": 1741
          },
          {
            "text": "      return position",
            "lineNumber": 1742
          },
          {
            "text": "    },",
            "lineNumber": 1743
          },
          {
            "text": "    ",
            "lineNumber": 1744
          },
          {
            "text": "    // グラフスタイルを取得（全体のバー）",
            "lineNumber": 1745
          },
          {
            "text": "    getGraphStyle(day) {",
            "lineNumber": 1746
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut) return {}",
            "lineNumber": 1747
          },
          {
            "text": "      ",
            "lineNumber": 1748
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 1749
          },
          {
            "text": "      const [outHour, outMin] = day.clockOut.split(':').map(Number)",
            "lineNumber": 1750
          },
          {
            "text": "      ",
            "lineNumber": 1751
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(inHour, inMin)",
            "lineNumber": 1752
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(outHour, outMin)",
            "lineNumber": 1753
          },
          {
            "text": "      ",
            "lineNumber": 1754
          },
          {
            "text": "      return {",
            "lineNumber": 1755
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1756
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1757
          },
          {
            "text": "      }",
            "lineNumber": 1758
          },
          {
            "text": "    },",
            "lineNumber": 1759
          },
          {
            "text": "    ",
            "lineNumber": 1760
          },
          {
            "text": "    // グラフセグメントのスタイルを取得（所定内労働、法定時間内残業、法定時間外残業）",
            "lineNumber": 1761
          },
          {
            "text": "    getGraphSegmentStyle(day, segmentType) {",
            "lineNumber": 1762
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 1763
          },
          {
            "text": "        ",
            "lineNumber": 1764
          }
        ]
      },
      "score": 0.3201332092285156
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 737
          },
          "endPosition": {
            "line": 746
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務グラフ | 日次勤務データの出退勤時刻、休憩時間、公用外出時間から勤務グラフを生成 | 0-48時の時間軸を上部と下部に配置して表示。平日は標準勤務時間帯（9:00-17:30）をグレーの長方形で常時表示。休日出勤申請が承認されている土日祝の場合も、標準勤務時間帯（9:00-17:30）と休憩時間をグレーの長方形で表示。休憩時間は四角形で表示（出勤していない場合：#BBBBBB、出勤していて出勤時刻が休憩時間より前の場合：#1A69AB、出勤時刻が休憩時間より後の場合は表示しない）。出勤/退勤時刻が記録されると該当時間帯をバーで表示し、出勤時刻と退勤時刻の位置に▼（下向き三角）マークを表示。土曜日または祝日（所定休日）の場合は法定時間内残業と同じ色（#B0B000 黄土色）、日曜日（法定休日）の場合は#DE9EDD（薄い紫色/ラベンダー色）で表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数 | 日次勤務データ.工数実績リストから工数合計を表示 | 未登録の場合は+アイコン。休暇申請がある場合は+アイコンを表示しない（非表示） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 常に+アイコンを表示 | 押下すると備考ダイアログを開く |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーアイコン | 工数合計と実労働時間が一致しない場合に赤い!マークを表示 | 工数合計 ≠ 実労働時間 |\n  | サマリー部分 | 月次サマリーデータを表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定出勤日数 | 月次サマリーデータ.所定出勤日数 | 例: 20日 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実出勤日数 | 月次サマリーデータ.実出勤日数 | 例: 4日（出勤時刻と退勤時刻が両方記録されている日数） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 月次サマリーデータ.所定労働時間をHHH:MM形式で表示 | 例: 150:00 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 月次サマリーデータ.総労働時間をHHH:MM形式で表示 | 例: 70:01 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務グラフ | 日次勤務データの出退勤時刻、休憩時間、公用外出時間から勤務グラフを生成 | 0-48時の時間軸を上部と下部に配置して表示。平日は標準勤務時間帯（9:00-17:30）をグレーの長方形で常時表示。休日出勤申請が承認されている土日祝の場合も、標準勤務時間帯（9:00-17:30）と休憩時間をグレーの長方形で表示。休憩時間は四角形で表示（出勤していない場合：#BBBBBB、出勤していて出勤時刻が休憩時間より前の場合：#1A69AB、出勤時刻が休憩時間より後の場合は表示しない）。出勤/退勤時刻が記録されると該当時間帯をバーで表示し、出勤時刻と退勤時刻の位置に▼（下向き三角）マークを表示。土曜日または祝日（所定休日）の場合は法定時間内残業と同じ色（#B0B000 黄土色）、日曜日（法定休日）の場合は#DE9EDD（薄い紫色/ラベンダー色）で表示 |",
            "lineNumber": 738
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数 | 日次勤務データ.工数実績リストから工数合計を表示 | 未登録の場合は+アイコン。休暇申請がある場合は+アイコンを表示しない（非表示） |",
            "lineNumber": 739
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 常に+アイコンを表示 | 押下すると備考ダイアログを開く |",
            "lineNumber": 740
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーアイコン | 工数合計と実労働時間が一致しない場合に赤い!マークを表示 | 工数合計 ≠ 実労働時間 |",
            "lineNumber": 741
          },
          {
            "text": "  | サマリー部分 | 月次サマリーデータを表示 | |",
            "lineNumber": 742
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定出勤日数 | 月次サマリーデータ.所定出勤日数 | 例: 20日 |",
            "lineNumber": 743
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実出勤日数 | 月次サマリーデータ.実出勤日数 | 例: 4日（出勤時刻と退勤時刻が両方記録されている日数） |",
            "lineNumber": 744
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 月次サマリーデータ.所定労働時間をHHH:MM形式で表示 | 例: 150:00 |",
            "lineNumber": 745
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 月次サマリーデータ.総労働時間をHHH:MM形式で表示 | 例: 70:01 |",
            "lineNumber": 746
          }
        ]
      },
      "score": 0.3149018883705139
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1913
          },
          "endPosition": {
            "line": 1954,
            "column": 8
          }
        },
        "contents": "    getHolidayWorkApplicationMarkerStyle(day) {\n      if (!day.hasHolidayWorkApplication) return {}\n      \n      // 9:30の位置に配置（10:00より少し左）\n      const leftPosition = this.calculateTimePosition(9, 30)\n      \n      // グラフの中央より少し上に配置\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 8px)'\n      }\n    },\n    \n    // 標準勤務時間帯のスタイルを取得（9:00-17:30）\n    getScheduledWorkTimeStyle(day) {\n      // 休日出勤申請が承認されている場合は、申請された時間を使用\n      if (day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkStartTime &amp;&amp; day.holidayWorkEndTime) {\n        const [startHour, startMin] = day.holidayWorkStartTime.split(':').map(Number)\n        const [endHour, endMin] = day.holidayWorkEndTime.split(':').map(Number)\n        const startPosition = this.calculateTimePosition(startHour, startMin)\n        const endPosition = this.calculateTimePosition(endHour, endMin)\n        \n        return {\n          left: &#96;${startPosition}%&#96;,\n          width: &#96;${endPosition - startPosition}%&#96;\n        }\n      }\n      \n      // デフォルト: 9:00-17:30\n      const startPosition = this.calculateTimePosition(9, 0) // 9:00\n      const endPosition = this.calculateTimePosition(17, 30) // 17:30\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // 休憩時間のグレー長方形のスタイルを取得（休日出勤申請が申請中または承認済みの場合）\n    getScheduledBreakTimeStyle(day) {\n      if (!day.hasHolidayWorkApplication || !day.holidayWorkBreakHours) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getHolidayWorkApplicationMarkerStyle(day) {",
            "lineNumber": 1914
          },
          {
            "text": "      if (!day.hasHolidayWorkApplication) return {}",
            "lineNumber": 1915
          },
          {
            "text": "      ",
            "lineNumber": 1916
          },
          {
            "text": "      // 9:30の位置に配置（10:00より少し左）",
            "lineNumber": 1917
          },
          {
            "text": "      const leftPosition = this.calculateTimePosition(9, 30)",
            "lineNumber": 1918
          },
          {
            "text": "      ",
            "lineNumber": 1919
          },
          {
            "text": "      // グラフの中央より少し上に配置",
            "lineNumber": 1920
          },
          {
            "text": "      return {",
            "lineNumber": 1921
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1922
          },
          {
            "text": "        top: 'calc(50% - 8px)'",
            "lineNumber": 1923
          },
          {
            "text": "      }",
            "lineNumber": 1924
          },
          {
            "text": "    },",
            "lineNumber": 1925
          },
          {
            "text": "    ",
            "lineNumber": 1926
          },
          {
            "text": "    // 標準勤務時間帯のスタイルを取得（9:00-17:30）",
            "lineNumber": 1927
          },
          {
            "text": "    getScheduledWorkTimeStyle(day) {",
            "lineNumber": 1928
          },
          {
            "text": "      // 休日出勤申請が承認されている場合は、申請された時間を使用",
            "lineNumber": 1929
          },
          {
            "text": "      if (day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkStartTime &amp;&amp; day.holidayWorkEndTime) {",
            "lineNumber": 1930
          },
          {
            "text": "        const [startHour, startMin] = day.holidayWorkStartTime.split(':').map(Number)",
            "lineNumber": 1931
          },
          {
            "text": "        const [endHour, endMin] = day.holidayWorkEndTime.split(':').map(Number)",
            "lineNumber": 1932
          },
          {
            "text": "        const startPosition = this.calculateTimePosition(startHour, startMin)",
            "lineNumber": 1933
          },
          {
            "text": "        const endPosition = this.calculateTimePosition(endHour, endMin)",
            "lineNumber": 1934
          },
          {
            "text": "        ",
            "lineNumber": 1935
          },
          {
            "text": "        return {",
            "lineNumber": 1936
          },
          {
            "text": "          left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1937
          },
          {
            "text": "          width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1938
          },
          {
            "text": "        }",
            "lineNumber": 1939
          },
          {
            "text": "      }",
            "lineNumber": 1940
          },
          {
            "text": "      ",
            "lineNumber": 1941
          },
          {
            "text": "      // デフォルト: 9:00-17:30",
            "lineNumber": 1942
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(9, 0) // 9:00",
            "lineNumber": 1943
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(17, 30) // 17:30",
            "lineNumber": 1944
          },
          {
            "text": "      ",
            "lineNumber": 1945
          },
          {
            "text": "      return {",
            "lineNumber": 1946
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1947
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1948
          },
          {
            "text": "      }",
            "lineNumber": 1949
          },
          {
            "text": "    },",
            "lineNumber": 1950
          },
          {
            "text": "    ",
            "lineNumber": 1951
          },
          {
            "text": "    // 休憩時間のグレー長方形のスタイルを取得（休日出勤申請が申請中または承認済みの場合）",
            "lineNumber": 1952
          },
          {
            "text": "    getScheduledBreakTimeStyle(day) {",
            "lineNumber": 1953
          },
          {
            "text": "      if (!day.hasHolidayWorkApplication || !day.holidayWorkBreakHours) {",
            "lineNumber": 1954
          },
          {
            "text": "        ",
            "lineNumber": 1955
          }
        ]
      },
      "score": 0.31469789147377014
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1645
          },
          "endPosition": {
            "line": 1697
          }
        },
        "contents": "          })\n        }\n\n        sampleData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          approvalStatus: 'NOT_SUBMITTED',\n          clockIn: '',\n          clockOut: '',\n          clockInType: '',\n          clockOutType: '',\n          location: '',\n          workHours: '',\n          hasWorkHoursError: false,\n          canEdit: true,\n          isHoliday: holiday, // 祝日判定\n          hasVacation: false,\n          vacationTypeCode: null,\n          vacationApplicationStatus: null,\n          attendanceId: null,\n          actualWorkHours: 0,\n          breakTimes: breakTimes,\n          remarkText: ''\n        })\n      }\n      \n      this.attendanceData = sampleData\n    },\n    \n    // 行のクラスを取得\n    getRowClass(day) {\n      // 優先順位: 休暇申請済み &gt; 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日\n      // 日曜日に祝日イベントがあっても日曜日と同じ扱いにする\n      if (day.hasVacation) {\n        return 'vacation-row'\n      } else if (day.dayOfWeekNum === 0) {\n        return 'sunday-row' // 日曜日（祝日より優先）\n      } else if (day.isHoliday) {\n        return 'saturday-row' // 祝日は土曜日と同じ背景色（ただし日曜日でない場合のみ）\n      } else if (day.dayOfWeekNum === 6) {\n        return 'saturday-row'\n      }\n      return ''\n    },\n    \n    // 曜日の色クラスを取得\n    getDayOfWeekClass(day) {\n      // 優先順位: 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          })",
            "lineNumber": 1646
          },
          {
            "text": "        }",
            "lineNumber": 1647
          },
          {
            "lineNumber": 1648
          },
          {
            "text": "        sampleData.push({",
            "lineNumber": 1649
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1650
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1651
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1652
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1653
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1654
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1655
          },
          {
            "text": "          approvalStatus: 'NOT_SUBMITTED',",
            "lineNumber": 1656
          },
          {
            "text": "          clockIn: '',",
            "lineNumber": 1657
          },
          {
            "text": "          clockOut: '',",
            "lineNumber": 1658
          },
          {
            "text": "          clockInType: '',",
            "lineNumber": 1659
          },
          {
            "text": "          clockOutType: '',",
            "lineNumber": 1660
          },
          {
            "text": "          location: '',",
            "lineNumber": 1661
          },
          {
            "text": "          workHours: '',",
            "lineNumber": 1662
          },
          {
            "text": "          hasWorkHoursError: false,",
            "lineNumber": 1663
          },
          {
            "text": "          canEdit: true,",
            "lineNumber": 1664
          },
          {
            "text": "          isHoliday: holiday, // 祝日判定",
            "lineNumber": 1665
          },
          {
            "text": "          hasVacation: false,",
            "lineNumber": 1666
          },
          {
            "text": "          vacationTypeCode: null,",
            "lineNumber": 1667
          },
          {
            "text": "          vacationApplicationStatus: null,",
            "lineNumber": 1668
          },
          {
            "text": "          attendanceId: null,",
            "lineNumber": 1669
          },
          {
            "text": "          actualWorkHours: 0,",
            "lineNumber": 1670
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1671
          },
          {
            "text": "          remarkText: ''",
            "lineNumber": 1672
          },
          {
            "text": "        })",
            "lineNumber": 1673
          },
          {
            "text": "      }",
            "lineNumber": 1674
          },
          {
            "text": "      ",
            "lineNumber": 1675
          },
          {
            "text": "      this.attendanceData = sampleData",
            "lineNumber": 1676
          },
          {
            "text": "    },",
            "lineNumber": 1677
          },
          {
            "text": "    ",
            "lineNumber": 1678
          },
          {
            "text": "    // 行のクラスを取得",
            "lineNumber": 1679
          },
          {
            "text": "    getRowClass(day) {",
            "lineNumber": 1680
          },
          {
            "text": "      // 優先順位: 休暇申請済み &gt; 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日",
            "lineNumber": 1681
          },
          {
            "text": "      // 日曜日に祝日イベントがあっても日曜日と同じ扱いにする",
            "lineNumber": 1682
          },
          {
            "text": "      if (day.hasVacation) {",
            "lineNumber": 1683
          },
          {
            "text": "        return 'vacation-row'",
            "lineNumber": 1684
          },
          {
            "text": "      } else if (day.dayOfWeekNum === 0) {",
            "lineNumber": 1685
          },
          {
            "text": "        return 'sunday-row' // 日曜日（祝日より優先）",
            "lineNumber": 1686
          },
          {
            "text": "      } else if (day.isHoliday) {",
            "lineNumber": 1687
          },
          {
            "text": "        return 'saturday-row' // 祝日は土曜日と同じ背景色（ただし日曜日でない場合のみ）",
            "lineNumber": 1688
          },
          {
            "text": "      } else if (day.dayOfWeekNum === 6) {",
            "lineNumber": 1689
          },
          {
            "text": "        return 'saturday-row'",
            "lineNumber": 1690
          },
          {
            "text": "      }",
            "lineNumber": 1691
          },
          {
            "text": "      return ''",
            "lineNumber": 1692
          },
          {
            "text": "    },",
            "lineNumber": 1693
          },
          {
            "text": "    ",
            "lineNumber": 1694
          },
          {
            "text": "    // 曜日の色クラスを取得",
            "lineNumber": 1695
          },
          {
            "text": "    getDayOfWeekClass(day) {",
            "lineNumber": 1696
          },
          {
            "text": "      // 優先順位: 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日",
            "lineNumber": 1697
          }
        ]
      },
      "score": 0.3002198040485382
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\MonthlySummaryScreen.vue",
        "range": {
          "startPosition": {
            "line": 107
          },
          "endPosition": {
            "line": 134
          }
        },
        "contents": "        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;\n        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;\n        &lt;span v-if=\"day.actualWorkHours\" class=\"row-actual-work\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.actualWorkHours) }}&lt;/span&gt;\n        &lt;span v-if=\"day.overtimeHours !== undefined &amp;&amp; day.overtimeHours !== null &amp;&amp; day.overtimeHours &gt; 0\" class=\"row-overtime\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.overtimeHours) }}&lt;/span&gt;\n        &lt;span v-if=\"day.holidayWorkHours\" class=\"row-holiday\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.holidayWorkHours) }}&lt;/span&gt;\n        &lt;span v-if=\"day.nightWorkHours\" class=\"row-night\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.nightWorkHours) }}&lt;/span&gt;\n        &lt;template v-if=\"getRemarkText(day)\"&gt;\n          &lt;span v-for=\"(remark, remarkIndex) in getRemarkTextArray(day)\" :key=\"remarkIndex\" \n                class=\"row-remark\" \n                :style=\"{ \n                  top: getRowContentTop(index) + 'px',\n                  left: remark.left ? remark.left + 'px' : (remarkIndex === 0 ? '1474px' : (1474 + remarkIndex * 72) + 'px'),\n                  color: remark.color || 'rgb(0, 0, 0)'\n                }\"&gt;\n            {{ remark.text || remark }}\n          &lt;/span&gt;\n        &lt;/template&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Total Row --&gt;\n    &lt;svg class=\"total-row-background\" :style=\"{ top: getTotalRowTop() + 'px' }\" viewBox=\"0 0 1873 20\" preserveAspectRatio=\"none\"&gt;\n      &lt;rect width=\"1873\" height=\"20\" fill=\"#E8F4F8\" stroke=\"#5A8AAC\" stroke-width=\"1\" /&gt;\n    &lt;/svg&gt;\n    &lt;span class=\"total-label\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;合計&lt;/span&gt;\n    &lt;span class=\"total-break\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHours(monthlySummary?.totalBreakHours || 0) }}&lt;/span&gt;\n    &lt;span class=\"total-actual-work\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHoursLong(monthlySummary?.totalWorkHours || 0) }}&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;",
            "lineNumber": 108
          },
          {
            "text": "        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;",
            "lineNumber": 109
          },
          {
            "text": "        &lt;span v-if=\"day.actualWorkHours\" class=\"row-actual-work\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.actualWorkHours) }}&lt;/span&gt;",
            "lineNumber": 110
          },
          {
            "text": "        &lt;span v-if=\"day.overtimeHours !== undefined &amp;&amp; day.overtimeHours !== null &amp;&amp; day.overtimeHours &gt; 0\" class=\"row-overtime\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.overtimeHours) }}&lt;/span&gt;",
            "lineNumber": 111
          },
          {
            "text": "        &lt;span v-if=\"day.holidayWorkHours\" class=\"row-holiday\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.holidayWorkHours) }}&lt;/span&gt;",
            "lineNumber": 112
          },
          {
            "text": "        &lt;span v-if=\"day.nightWorkHours\" class=\"row-night\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.nightWorkHours) }}&lt;/span&gt;",
            "lineNumber": 113
          },
          {
            "text": "        &lt;template v-if=\"getRemarkText(day)\"&gt;",
            "lineNumber": 114
          },
          {
            "text": "          &lt;span v-for=\"(remark, remarkIndex) in getRemarkTextArray(day)\" :key=\"remarkIndex\" ",
            "lineNumber": 115
          },
          {
            "text": "                class=\"row-remark\" ",
            "lineNumber": 116
          },
          {
            "text": "                :style=\"{ ",
            "lineNumber": 117
          },
          {
            "text": "                  top: getRowContentTop(index) + 'px',",
            "lineNumber": 118
          },
          {
            "text": "                  left: remark.left ? remark.left + 'px' : (remarkIndex === 0 ? '1474px' : (1474 + remarkIndex * 72) + 'px'),",
            "lineNumber": 119
          },
          {
            "text": "                  color: remark.color || 'rgb(0, 0, 0)'",
            "lineNumber": 120
          },
          {
            "text": "                }\"&gt;",
            "lineNumber": 121
          },
          {
            "text": "            {{ remark.text || remark }}",
            "lineNumber": 122
          },
          {
            "text": "          &lt;/span&gt;",
            "lineNumber": 123
          },
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 124
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 125
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 126
          },
          {
            "lineNumber": 127
          },
          {
            "text": "    &lt;!-- Total Row --&gt;",
            "lineNumber": 128
          },
          {
            "text": "    &lt;svg class=\"total-row-background\" :style=\"{ top: getTotalRowTop() + 'px' }\" viewBox=\"0 0 1873 20\" preserveAspectRatio=\"none\"&gt;",
            "lineNumber": 129
          },
          {
            "text": "      &lt;rect width=\"1873\" height=\"20\" fill=\"#E8F4F8\" stroke=\"#5A8AAC\" stroke-width=\"1\" /&gt;",
            "lineNumber": 130
          },
          {
            "text": "    &lt;/svg&gt;",
            "lineNumber": 131
          },
          {
            "text": "    &lt;span class=\"total-label\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;合計&lt;/span&gt;",
            "lineNumber": 132
          },
          {
            "text": "    &lt;span class=\"total-break\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHours(monthlySummary?.totalBreakHours || 0) }}&lt;/span&gt;",
            "lineNumber": 133
          },
          {
            "text": "    &lt;span class=\"total-actual-work\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHoursLong(monthlySummary?.totalWorkHours || 0) }}&lt;/span&gt;",
            "lineNumber": 134
          }
        ]
      },
      "score": 0.298828661441803
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 613
          },
          "endPosition": {
            "line": 631
          }
        },
        "contents": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;circle cx=\"8.5\" cy=\"8.5\" r=\"8\" fill=\"rgb(76, 175, 80)\"/&gt;\n            &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n            &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"rgb(255, 255, 255)\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- グラフツールチップ --&gt;\n      &lt;div \n        v-if=\"showTooltip &amp;&amp; tooltipDay === day\"\n        ref=\"graphTooltip\"\n        class=\"graph-tooltip\"\n        :style=\"tooltipStyle\"\n      &gt;\n        &lt;div class=\"tooltip-content\"&gt;\n          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 614
          },
          {
            "text": "          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 615
          },
          {
            "text": "            &lt;circle cx=\"8.5\" cy=\"8.5\" r=\"8\" fill=\"rgb(76, 175, 80)\"/&gt;",
            "lineNumber": 616
          },
          {
            "text": "            &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 617
          },
          {
            "text": "            &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"rgb(255, 255, 255)\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 618
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 619
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 620
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 621
          },
          {
            "text": "      ",
            "lineNumber": 622
          },
          {
            "text": "      &lt;!-- グラフツールチップ --&gt;",
            "lineNumber": 623
          },
          {
            "text": "      &lt;div ",
            "lineNumber": 624
          },
          {
            "text": "        v-if=\"showTooltip &amp;&amp; tooltipDay === day\"",
            "lineNumber": 625
          },
          {
            "text": "        ref=\"graphTooltip\"",
            "lineNumber": 626
          },
          {
            "text": "        class=\"graph-tooltip\"",
            "lineNumber": 627
          },
          {
            "text": "        :style=\"tooltipStyle\"",
            "lineNumber": 628
          },
          {
            "text": "      &gt;",
            "lineNumber": 629
          },
          {
            "text": "        &lt;div class=\"tooltip-content\"&gt;",
            "lineNumber": 630
          },
          {
            "text": "          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
            "lineNumber": 631
          }
        ]
      },
      "score": 0.29639148712158203
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書とコードを確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "COMPENSATORY|代休|compensatory",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "COMPENSATORY|代休|compensatory",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {}
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "申請取消の実装とダイアログ表示",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2615
          },
          "endPosition": {
            "line": 2685
          }
        },
        "contents": "    async executeCancelApplication(applicationType) {\n      if (!applicationType) return\n      \n      // applicationIdが取得されていない場合は、申請状態を取得\n      if (!this.applicationIds[applicationType]) {\n        await this.loadApplicationStatus(applicationType)\n      }\n      \n      this.loading = true\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        const applicationId = this.applicationIds[applicationType]\n        \n        const response = await cancelApplication(\n          this.employeeId,\n          apiType,\n          applicationId,\n          applicationType === 'dailyConfirmation' ? this.targetDate : null\n        )\n        \n        if (response.success) {\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(response.message || '申請取消に失敗しました')\n        }\n      } catch (error) {\n        console.error('申請取消エラー:', error)\n        this.showError(error.message || '申請取消中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n  },\n  \n  beforeUnmount() {\n    // コンポーネント破棄時にスクロールをアンロック\n    document.body.style.overflow = ''\n  }\n}\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n}\n\n.dialog-container {\n  position: relative;\n  width: 710px;\n  height: 396px;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async executeCancelApplication(applicationType) {",
            "lineNumber": 2616
          },
          {
            "text": "      if (!applicationType) return",
            "lineNumber": 2617
          },
          {
            "text": "      ",
            "lineNumber": 2618
          },
          {
            "text": "      // applicationIdが取得されていない場合は、申請状態を取得",
            "lineNumber": 2619
          },
          {
            "text": "      if (!this.applicationIds[applicationType]) {",
            "lineNumber": 2620
          },
          {
            "text": "        await this.loadApplicationStatus(applicationType)",
            "lineNumber": 2621
          },
          {
            "text": "      }",
            "lineNumber": 2622
          },
          {
            "text": "      ",
            "lineNumber": 2623
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2624
          },
          {
            "text": "      try {",
            "lineNumber": 2625
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 2626
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 2627
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 2628
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 2629
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 2630
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 2631
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 2632
          },
          {
            "text": "        }",
            "lineNumber": 2633
          },
          {
            "text": "        ",
            "lineNumber": 2634
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 2635
          },
          {
            "text": "        const applicationId = this.applicationIds[applicationType]",
            "lineNumber": 2636
          },
          {
            "text": "        ",
            "lineNumber": 2637
          },
          {
            "text": "        const response = await cancelApplication(",
            "lineNumber": 2638
          },
          {
            "text": "          this.employeeId,",
            "lineNumber": 2639
          },
          {
            "text": "          apiType,",
            "lineNumber": 2640
          },
          {
            "text": "          applicationId,",
            "lineNumber": 2641
          },
          {
            "text": "          applicationType === 'dailyConfirmation' ? this.targetDate : null",
            "lineNumber": 2642
          },
          {
            "text": "        )",
            "lineNumber": 2643
          },
          {
            "text": "        ",
            "lineNumber": 2644
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 2645
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2646
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2647
          },
          {
            "text": "        } else {",
            "lineNumber": 2648
          },
          {
            "text": "          this.showError(response.message || '申請取消に失敗しました')",
            "lineNumber": 2649
          },
          {
            "text": "        }",
            "lineNumber": 2650
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2651
          },
          {
            "text": "        console.error('申請取消エラー:', error)",
            "lineNumber": 2652
          },
          {
            "text": "        this.showError(error.message || '申請取消中にエラーが発生しました')",
            "lineNumber": 2653
          },
          {
            "text": "      } finally {",
            "lineNumber": 2654
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2655
          },
          {
            "text": "      }",
            "lineNumber": 2656
          },
          {
            "text": "    },",
            "lineNumber": 2657
          },
          {
            "text": "    ",
            "lineNumber": 2658
          },
          {
            "text": "  },",
            "lineNumber": 2659
          },
          {
            "text": "  ",
            "lineNumber": 2660
          },
          {
            "text": "  beforeUnmount() {",
            "lineNumber": 2661
          },
          {
            "text": "    // コンポーネント破棄時にスクロールをアンロック",
            "lineNumber": 2662
          },
          {
            "text": "    document.body.style.overflow = ''",
            "lineNumber": 2663
          },
          {
            "text": "  }",
            "lineNumber": 2664
          },
          {
            "text": "}",
            "lineNumber": 2665
          },
          {
            "text": "&lt;/script&gt;",
            "lineNumber": 2666
          },
          {
            "lineNumber": 2667
          },
          {
            "text": "&lt;style scoped&gt;",
            "lineNumber": 2668
          },
          {
            "text": ".dialog-overlay {",
            "lineNumber": 2669
          },
          {
            "text": "  position: fixed;",
            "lineNumber": 2670
          },
          {
            "text": "  top: 0;",
            "lineNumber": 2671
          },
          {
            "text": "  left: 0;",
            "lineNumber": 2672
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 2673
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 2674
          },
          {
            "text": "  background-color: rgba(0, 0, 0, 0.5);",
            "lineNumber": 2675
          },
          {
            "text": "  display: flex;",
            "lineNumber": 2676
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 2677
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 2678
          },
          {
            "text": "  z-index: 10000;",
            "lineNumber": 2679
          },
          {
            "text": "}",
            "lineNumber": 2680
          },
          {
            "lineNumber": 2681
          },
          {
            "text": ".dialog-container {",
            "lineNumber": 2682
          },
          {
            "text": "  position: relative;",
            "lineNumber": 2683
          },
          {
            "text": "  width: 710px;",
            "lineNumber": 2684
          },
          {
            "text": "  height: 396px;",
            "lineNumber": 2685
          }
        ]
      },
      "score": 0.44808900356292725
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2530
          },
          "endPosition": {
            "line": 2587
          }
        },
        "contents": "    // 日次確定申請取消\n    async cancelDailyConfirmation() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('dailyConfirmation')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['dailyConfirmation']) {\n        await this.loadApplicationStatus('dailyConfirmation')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('dailyConfirmation')\n    },\n    \n    // 休暇申請取消\n    async cancelVacationApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('vacation')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['vacation']) {\n        await this.loadApplicationStatus('vacation')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('vacation')\n    },\n    \n    // 休日出勤申請取消\n    async cancelHolidayWorkApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('holidayWork')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['holidayWork']) {\n        await this.loadApplicationStatus('holidayWork')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('holidayWork')\n    },\n    \n    // 残業申請取消\n    async cancelOvertimeApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('overtime')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['overtime']) {\n        await this.loadApplicationStatus('overtime')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('overtime')\n    },\n    \n    // 早朝勤務申請取消",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    // 日次確定申請取消",
            "lineNumber": 2531
          },
          {
            "text": "    async cancelDailyConfirmation() {",
            "lineNumber": 2532
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2533
          },
          {
            "text": "      await this.loadApplicationInfo('dailyConfirmation')",
            "lineNumber": 2534
          },
          {
            "text": "      ",
            "lineNumber": 2535
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2536
          },
          {
            "text": "      if (!this.applicationIds['dailyConfirmation']) {",
            "lineNumber": 2537
          },
          {
            "text": "        await this.loadApplicationStatus('dailyConfirmation')",
            "lineNumber": 2538
          },
          {
            "text": "      }",
            "lineNumber": 2539
          },
          {
            "text": "      ",
            "lineNumber": 2540
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2541
          },
          {
            "text": "      await this.executeCancelApplication('dailyConfirmation')",
            "lineNumber": 2542
          },
          {
            "text": "    },",
            "lineNumber": 2543
          },
          {
            "text": "    ",
            "lineNumber": 2544
          },
          {
            "text": "    // 休暇申請取消",
            "lineNumber": 2545
          },
          {
            "text": "    async cancelVacationApplication() {",
            "lineNumber": 2546
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2547
          },
          {
            "text": "      await this.loadApplicationInfo('vacation')",
            "lineNumber": 2548
          },
          {
            "text": "      ",
            "lineNumber": 2549
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2550
          },
          {
            "text": "      if (!this.applicationIds['vacation']) {",
            "lineNumber": 2551
          },
          {
            "text": "        await this.loadApplicationStatus('vacation')",
            "lineNumber": 2552
          },
          {
            "text": "      }",
            "lineNumber": 2553
          },
          {
            "text": "      ",
            "lineNumber": 2554
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2555
          },
          {
            "text": "      await this.executeCancelApplication('vacation')",
            "lineNumber": 2556
          },
          {
            "text": "    },",
            "lineNumber": 2557
          },
          {
            "text": "    ",
            "lineNumber": 2558
          },
          {
            "text": "    // 休日出勤申請取消",
            "lineNumber": 2559
          },
          {
            "text": "    async cancelHolidayWorkApplication() {",
            "lineNumber": 2560
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2561
          },
          {
            "text": "      await this.loadApplicationInfo('holidayWork')",
            "lineNumber": 2562
          },
          {
            "text": "      ",
            "lineNumber": 2563
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2564
          },
          {
            "text": "      if (!this.applicationIds['holidayWork']) {",
            "lineNumber": 2565
          },
          {
            "text": "        await this.loadApplicationStatus('holidayWork')",
            "lineNumber": 2566
          },
          {
            "text": "      }",
            "lineNumber": 2567
          },
          {
            "text": "      ",
            "lineNumber": 2568
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2569
          },
          {
            "text": "      await this.executeCancelApplication('holidayWork')",
            "lineNumber": 2570
          },
          {
            "text": "    },",
            "lineNumber": 2571
          },
          {
            "text": "    ",
            "lineNumber": 2572
          },
          {
            "text": "    // 残業申請取消",
            "lineNumber": 2573
          },
          {
            "text": "    async cancelOvertimeApplication() {",
            "lineNumber": 2574
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2575
          },
          {
            "text": "      await this.loadApplicationInfo('overtime')",
            "lineNumber": 2576
          },
          {
            "text": "      ",
            "lineNumber": 2577
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2578
          },
          {
            "text": "      if (!this.applicationIds['overtime']) {",
            "lineNumber": 2579
          },
          {
            "text": "        await this.loadApplicationStatus('overtime')",
            "lineNumber": 2580
          },
          {
            "text": "      }",
            "lineNumber": 2581
          },
          {
            "text": "      ",
            "lineNumber": 2582
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2583
          },
          {
            "text": "      await this.executeCancelApplication('overtime')",
            "lineNumber": 2584
          },
          {
            "text": "    },",
            "lineNumber": 2585
          },
          {
            "text": "    ",
            "lineNumber": 2586
          },
          {
            "text": "    // 早朝勤務申請取消",
            "lineNumber": 2587
          }
        ]
      },
      "score": 0.435963898897171
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2584
          },
          "endPosition": {
            "line": 2619
          }
        },
        "contents": "    },\n    \n    // 早朝勤務申請取消\n    async cancelEarlyWorkApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('earlyWork')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['earlyWork']) {\n        await this.loadApplicationStatus('earlyWork')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('earlyWork')\n    },\n    \n    // 振替申請取消\n    async cancelTransferApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('transfer')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['transfer']) {\n        await this.loadApplicationStatus('transfer')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('transfer')\n    },\n    \n    // 申請取消を実行\n    async executeCancelApplication(applicationType) {\n      if (!applicationType) return\n      \n      // applicationIdが取得されていない場合は、申請状態を取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    },",
            "lineNumber": 2585
          },
          {
            "text": "    ",
            "lineNumber": 2586
          },
          {
            "text": "    // 早朝勤務申請取消",
            "lineNumber": 2587
          },
          {
            "text": "    async cancelEarlyWorkApplication() {",
            "lineNumber": 2588
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2589
          },
          {
            "text": "      await this.loadApplicationInfo('earlyWork')",
            "lineNumber": 2590
          },
          {
            "text": "      ",
            "lineNumber": 2591
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2592
          },
          {
            "text": "      if (!this.applicationIds['earlyWork']) {",
            "lineNumber": 2593
          },
          {
            "text": "        await this.loadApplicationStatus('earlyWork')",
            "lineNumber": 2594
          },
          {
            "text": "      }",
            "lineNumber": 2595
          },
          {
            "text": "      ",
            "lineNumber": 2596
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2597
          },
          {
            "text": "      await this.executeCancelApplication('earlyWork')",
            "lineNumber": 2598
          },
          {
            "text": "    },",
            "lineNumber": 2599
          },
          {
            "text": "    ",
            "lineNumber": 2600
          },
          {
            "text": "    // 振替申請取消",
            "lineNumber": 2601
          },
          {
            "text": "    async cancelTransferApplication() {",
            "lineNumber": 2602
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2603
          },
          {
            "text": "      await this.loadApplicationInfo('transfer')",
            "lineNumber": 2604
          },
          {
            "text": "      ",
            "lineNumber": 2605
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2606
          },
          {
            "text": "      if (!this.applicationIds['transfer']) {",
            "lineNumber": 2607
          },
          {
            "text": "        await this.loadApplicationStatus('transfer')",
            "lineNumber": 2608
          },
          {
            "text": "      }",
            "lineNumber": 2609
          },
          {
            "text": "      ",
            "lineNumber": 2610
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2611
          },
          {
            "text": "      await this.executeCancelApplication('transfer')",
            "lineNumber": 2612
          },
          {
            "text": "    },",
            "lineNumber": 2613
          },
          {
            "text": "    ",
            "lineNumber": 2614
          },
          {
            "text": "    // 申請取消を実行",
            "lineNumber": 2615
          },
          {
            "text": "    async executeCancelApplication(applicationType) {",
            "lineNumber": 2616
          },
          {
            "text": "      if (!applicationType) return",
            "lineNumber": 2617
          },
          {
            "text": "      ",
            "lineNumber": 2618
          },
          {
            "text": "      // applicationIdが取得されていない場合は、申請状態を取得",
            "lineNumber": 2619
          }
        ]
      },
      "score": 0.4259527027606964
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 510
          },
          "endPosition": {
            "line": 546
          }
        },
        "contents": "4. ローディング表示終了\n   - ローディングマークを非表示にする。\n\n5. ダイアログ閉じる\n   - 申請成功後、ダイアログを閉じる。\n\n#### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下\n\n1. タブを閉じる\n   - 現在開いているタブを閉じる。\n   - メニュー画面を表示する。\n\n#### 名称：日次確定申請取消ボタン押下処理、英名：cancelDailyConfirmation、処理タイミング：日次確定申請フォーム.申請取消ボタン.押下\n\n1. 月次申請状態確認\n   - API利用仕様に従い、月次申請状態を確認する。\n   - 【API利用仕様 No.12（月次申請状態取得API）】\n   - 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、エラーダイアログで「月次申請を行っている場合、日次申請の取り消しはできません。」と表示し、処理を終了する。\n\n2. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n   - 日次勤務データを取得する。\n   - 【API利用仕様 No.9（日次勤務データ取得API）】\n\n3. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n4. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. ローディング表示終了",
            "lineNumber": 511
          },
          {
            "text": "   - ローディングマークを非表示にする。",
            "lineNumber": 512
          },
          {
            "lineNumber": 513
          },
          {
            "text": "5. ダイアログ閉じる",
            "lineNumber": 514
          },
          {
            "text": "   - 申請成功後、ダイアログを閉じる。",
            "lineNumber": 515
          },
          {
            "lineNumber": 516
          },
          {
            "text": "#### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下",
            "lineNumber": 517
          },
          {
            "lineNumber": 518
          },
          {
            "text": "1. タブを閉じる",
            "lineNumber": 519
          },
          {
            "text": "   - 現在開いているタブを閉じる。",
            "lineNumber": 520
          },
          {
            "text": "   - メニュー画面を表示する。",
            "lineNumber": 521
          },
          {
            "lineNumber": 522
          },
          {
            "text": "#### 名称：日次確定申請取消ボタン押下処理、英名：cancelDailyConfirmation、処理タイミング：日次確定申請フォーム.申請取消ボタン.押下",
            "lineNumber": 523
          },
          {
            "lineNumber": 524
          },
          {
            "text": "1. 月次申請状態確認",
            "lineNumber": 525
          },
          {
            "text": "   - API利用仕様に従い、月次申請状態を確認する。",
            "lineNumber": 526
          },
          {
            "text": "   - 【API利用仕様 No.12（月次申請状態取得API）】",
            "lineNumber": 527
          },
          {
            "text": "   - 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、エラーダイアログで「月次申請を行っている場合、日次申請の取り消しはできません。」と表示し、処理を終了する。",
            "lineNumber": 528
          },
          {
            "lineNumber": 529
          },
          {
            "text": "2. 申請情報取得",
            "lineNumber": 530
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 531
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 532
          },
          {
            "text": "   - 日次勤務データを取得する。",
            "lineNumber": 533
          },
          {
            "text": "   - 【API利用仕様 No.9（日次勤務データ取得API）】",
            "lineNumber": 534
          },
          {
            "lineNumber": 535
          },
          {
            "text": "3. 申請取消確認ダイアログ表示",
            "lineNumber": 536
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 537
          },
          {
            "text": "   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。",
            "lineNumber": 538
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 539
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 540
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 541
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 542
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 543
          },
          {
            "lineNumber": 544
          },
          {
            "text": "4. 承認取消ボタン押下処理",
            "lineNumber": 545
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 546
          }
        ]
      },
      "score": 0.4123323857784271
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 628
          },
          "endPosition": {
            "line": 665
          }
        },
        "contents": "2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 残業申請取消\n     - API利用仕様に従い、残業申請を取り消す。\n     - 【API利用仕様 No.16（残業申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n\n#### 名称：早朝勤務申請取消ボタン押下処理、英名：cancelEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 629
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 630
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 631
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 632
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 633
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 634
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 635
          },
          {
            "lineNumber": 636
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 637
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 638
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 639
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 640
          },
          {
            "text": "   - 残業申請取消",
            "lineNumber": 641
          },
          {
            "text": "     - API利用仕様に従い、残業申請を取り消す。",
            "lineNumber": 642
          },
          {
            "text": "     - 【API利用仕様 No.16（残業申請取消API）】",
            "lineNumber": 643
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 644
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 645
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 646
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 647
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 648
          },
          {
            "lineNumber": 649
          },
          {
            "text": "#### 名称：早朝勤務申請取消ボタン押下処理、英名：cancelEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.申請取消ボタン.押下",
            "lineNumber": 650
          },
          {
            "lineNumber": 651
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 652
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 653
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 654
          },
          {
            "lineNumber": 655
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 656
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 657
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 658
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 659
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 660
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 661
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 662
          },
          {
            "lineNumber": 663
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 664
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 665
          }
        ]
      },
      "score": 0.40176311135292053
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1729
          },
          "endPosition": {
            "line": 1760,
            "column": 12
          }
        },
        "contents": "    getCancelButtonLabel(applicationType) {\n      const status = this.applicationStatuses[applicationType]\n      if (status === 'PENDING') {\n        return '申請取消'\n      } else if (status === 'APPROVED') {\n        return '承認取消'\n      }\n      return '取消'\n    },\n    \n    \n    // 申請情報を取得\n    async loadApplicationInfo(applicationType) {\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        if (!apiType) return\n        \n        // 申請情報取得APIを呼び出し\n        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)\n        \n        if (response.success) {\n          if (response.applicationDate) {\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getCancelButtonLabel(applicationType) {",
            "lineNumber": 1730
          },
          {
            "text": "      const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1731
          },
          {
            "text": "      if (status === 'PENDING') {",
            "lineNumber": 1732
          },
          {
            "text": "        return '申請取消'",
            "lineNumber": 1733
          },
          {
            "text": "      } else if (status === 'APPROVED') {",
            "lineNumber": 1734
          },
          {
            "text": "        return '承認取消'",
            "lineNumber": 1735
          },
          {
            "text": "      }",
            "lineNumber": 1736
          },
          {
            "text": "      return '取消'",
            "lineNumber": 1737
          },
          {
            "text": "    },",
            "lineNumber": 1738
          },
          {
            "text": "    ",
            "lineNumber": 1739
          },
          {
            "text": "    ",
            "lineNumber": 1740
          },
          {
            "text": "    // 申請情報を取得",
            "lineNumber": 1741
          },
          {
            "text": "    async loadApplicationInfo(applicationType) {",
            "lineNumber": 1742
          },
          {
            "text": "      try {",
            "lineNumber": 1743
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 1744
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 1745
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 1746
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 1747
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 1748
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 1749
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 1750
          },
          {
            "text": "        }",
            "lineNumber": 1751
          },
          {
            "text": "        ",
            "lineNumber": 1752
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 1753
          },
          {
            "text": "        if (!apiType) return",
            "lineNumber": 1754
          },
          {
            "text": "        ",
            "lineNumber": 1755
          },
          {
            "text": "        // 申請情報取得APIを呼び出し",
            "lineNumber": 1756
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)",
            "lineNumber": 1757
          },
          {
            "text": "        ",
            "lineNumber": 1758
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1759
          },
          {
            "text": "          if (response.applicationDate) {",
            "lineNumber": 1760
          },
          {
            "text": "            ",
            "lineNumber": 1761
          }
        ]
      },
      "score": 0.3822284936904907
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1733
          },
          "endPosition": {
            "line": 1766
          }
        },
        "contents": "- **承認履歴テーブル**: 以下の列で構成\n  - **#**: 履歴の連番（1, 2, 3...）\n  - **日時**: アクションが行われた日時（YYYY-MM-DD HH:MM形式）\n  - **状況**: アクション種別\n    - 「申請」: 月次確定を申請した\n    - 「承認」: 申請が承認された\n    - 「却下」: 申請が却下された\n    - 「取消」: 申請を取り消した\n  - **実行者**: アクションを実行した人の名前\n  - **コメント**: 承認/却下時に入力されたコメント\n- **承認履歴なしメッセージ**: 履歴が0件の場合、「承認履歴はありません」と表示\n- **申請取消ボタン**: グレー/青色のボタン\n  - 月次確定申請中（PENDING）の場合: 青色で活性、押下で申請取消\n  - それ以外の場合: グレーで非活性\n- **閉じるリンク**: 青色のリンク、押下でダイアログを閉じる\n\n#### 申請取消処理\n申請取消ボタンを押下すると：\n1. 確認ダイアログ「月次確定申請を取り消しますか？」を表示\n2. OKを押すと申請が取り消され、ステータスが「未確定」に戻る\n3. 承認履歴テーブルに「取消」の履歴が追加される\n\n### 申請状況詳細ダイアログ\n\n申請状況アイコン（申請中、承認済み）を押下すると、勤怠関連申請ダイアログが開き、申請タイプに応じたタブが表示されます。\n\n#### ダイアログの構成\n- **タイトル**: 「勤怠関連申請」（青色のヘッダーバー）\n- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n- **申請タイプタブ**: 申請タイプに応じたタブを表示（日次確定/休日出勤申請/休暇申請）\n- **申請フォーム**: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）\n- **申請情報セクション**（申請中または承認済みの場合のみ表示）:\n  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **承認履歴テーブル**: 以下の列で構成",
            "lineNumber": 1734
          },
          {
            "text": "  - **#**: 履歴の連番（1, 2, 3...）",
            "lineNumber": 1735
          },
          {
            "text": "  - **日時**: アクションが行われた日時（YYYY-MM-DD HH:MM形式）",
            "lineNumber": 1736
          },
          {
            "text": "  - **状況**: アクション種別",
            "lineNumber": 1737
          },
          {
            "text": "    - 「申請」: 月次確定を申請した",
            "lineNumber": 1738
          },
          {
            "text": "    - 「承認」: 申請が承認された",
            "lineNumber": 1739
          },
          {
            "text": "    - 「却下」: 申請が却下された",
            "lineNumber": 1740
          },
          {
            "text": "    - 「取消」: 申請を取り消した",
            "lineNumber": 1741
          },
          {
            "text": "  - **実行者**: アクションを実行した人の名前",
            "lineNumber": 1742
          },
          {
            "text": "  - **コメント**: 承認/却下時に入力されたコメント",
            "lineNumber": 1743
          },
          {
            "text": "- **承認履歴なしメッセージ**: 履歴が0件の場合、「承認履歴はありません」と表示",
            "lineNumber": 1744
          },
          {
            "text": "- **申請取消ボタン**: グレー/青色のボタン",
            "lineNumber": 1745
          },
          {
            "text": "  - 月次確定申請中（PENDING）の場合: 青色で活性、押下で申請取消",
            "lineNumber": 1746
          },
          {
            "text": "  - それ以外の場合: グレーで非活性",
            "lineNumber": 1747
          },
          {
            "text": "- **閉じるリンク**: 青色のリンク、押下でダイアログを閉じる",
            "lineNumber": 1748
          },
          {
            "lineNumber": 1749
          },
          {
            "text": "#### 申請取消処理",
            "lineNumber": 1750
          },
          {
            "text": "申請取消ボタンを押下すると：",
            "lineNumber": 1751
          },
          {
            "text": "1. 確認ダイアログ「月次確定申請を取り消しますか？」を表示",
            "lineNumber": 1752
          },
          {
            "text": "2. OKを押すと申請が取り消され、ステータスが「未確定」に戻る",
            "lineNumber": 1753
          },
          {
            "text": "3. 承認履歴テーブルに「取消」の履歴が追加される",
            "lineNumber": 1754
          },
          {
            "lineNumber": 1755
          },
          {
            "text": "### 申請状況詳細ダイアログ",
            "lineNumber": 1756
          },
          {
            "lineNumber": 1757
          },
          {
            "text": "申請状況アイコン（申請中、承認済み）を押下すると、勤怠関連申請ダイアログが開き、申請タイプに応じたタブが表示されます。",
            "lineNumber": 1758
          },
          {
            "lineNumber": 1759
          },
          {
            "text": "#### ダイアログの構成",
            "lineNumber": 1760
          },
          {
            "text": "- **タイトル**: 「勤怠関連申請」（青色のヘッダーバー）",
            "lineNumber": 1761
          },
          {
            "text": "- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 1762
          },
          {
            "text": "- **申請タイプタブ**: 申請タイプに応じたタブを表示（日次確定/休日出勤申請/休暇申請）",
            "lineNumber": 1763
          },
          {
            "text": "- **申請フォーム**: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1764
          },
          {
            "text": "- **申請情報セクション**（申請中または承認済みの場合のみ表示）:",
            "lineNumber": 1765
          },
          {
            "text": "  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1766
          }
        ]
      },
      "score": 0.38094499707221985
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 544
          },
          "endPosition": {
            "line": 574
          }
        },
        "contents": "4. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 日次確定申請取消\n     - API利用仕様に従い、日次確定申請を取り消す。\n     - 【API利用仕様 No.13（日次確定申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n\n#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 承認取消ボタン押下処理",
            "lineNumber": 545
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 546
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 547
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 548
          },
          {
            "text": "   - 日次確定申請取消",
            "lineNumber": 549
          },
          {
            "text": "     - API利用仕様に従い、日次確定申請を取り消す。",
            "lineNumber": 550
          },
          {
            "text": "     - 【API利用仕様 No.13（日次確定申請取消API）】",
            "lineNumber": 551
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 552
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 553
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 554
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 555
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 556
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 557
          },
          {
            "lineNumber": 558
          },
          {
            "text": "#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下",
            "lineNumber": 559
          },
          {
            "lineNumber": 560
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 561
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 562
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 563
          },
          {
            "lineNumber": 564
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 565
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 566
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 567
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 568
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 569
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 570
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 571
          },
          {
            "lineNumber": 572
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 573
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 574
          }
        ]
      },
      "score": 0.37721240520477295
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 347,
            "column": 2
          },
          "endPosition": {
            "line": 399,
            "column": 16
          }
        },
        "contents": "/**\n * 申請取消\n */\nconst cancelApplication = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, applicationType, applicationId, targetDate } = req.body;\n    \n    if (!employeeId || !applicationType) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員IDと申請タイプが必要です。'\n      });\n    }\n    \n    // 日次確定の場合はtargetDateが必要\n    if (applicationType === 'DAILY_CONFIRMATION' &amp;&amp; !targetDate) {\n      return res.status(400).json({\n        success: false,\n        message: '対象日が必要です。'\n      });\n    }\n    \n    // その他の申請タイプの場合はapplicationIdが必要\n    if (applicationType !== 'DAILY_CONFIRMATION' &amp;&amp; !applicationId) {\n      return res.status(400).json({\n        success: false,\n        message: '申請IDが必要です。'\n      });\n    }\n    \n    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);\n    \n    res.json({\n      success: true,\n      message: '申請を取り消しました。'\n    });\n  } catch (error) {\n    if (error.message.includes('月次申請を行っている場合')) {\n      return res.status(400).json({\n        success: false,\n        message: error.message\n      });\n    }\n    next(error);\n  }\n};\n\nmodule.exports = {\n  applyVacation,\n  applyHolidayWork,\n  applyOvertime,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 350
          },
          {
            "text": " * 申請取消",
            "lineNumber": 351
          },
          {
            "text": " */",
            "lineNumber": 352
          },
          {
            "text": "const cancelApplication = async (req, res, next) =&gt; {",
            "lineNumber": 353
          },
          {
            "text": "  try {",
            "lineNumber": 354
          },
          {
            "text": "    const { employeeId, applicationType, applicationId, targetDate } = req.body;",
            "lineNumber": 355
          },
          {
            "text": "    ",
            "lineNumber": 356
          },
          {
            "text": "    if (!employeeId || !applicationType) {",
            "lineNumber": 357
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 358
          },
          {
            "text": "        success: false,",
            "lineNumber": 359
          },
          {
            "text": "        message: '従業員IDと申請タイプが必要です。'",
            "lineNumber": 360
          },
          {
            "text": "      });",
            "lineNumber": 361
          },
          {
            "text": "    }",
            "lineNumber": 362
          },
          {
            "text": "    ",
            "lineNumber": 363
          },
          {
            "text": "    // 日次確定の場合はtargetDateが必要",
            "lineNumber": 364
          },
          {
            "text": "    if (applicationType === 'DAILY_CONFIRMATION' &amp;&amp; !targetDate) {",
            "lineNumber": 365
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 366
          },
          {
            "text": "        success: false,",
            "lineNumber": 367
          },
          {
            "text": "        message: '対象日が必要です。'",
            "lineNumber": 368
          },
          {
            "text": "      });",
            "lineNumber": 369
          },
          {
            "text": "    }",
            "lineNumber": 370
          },
          {
            "text": "    ",
            "lineNumber": 371
          },
          {
            "text": "    // その他の申請タイプの場合はapplicationIdが必要",
            "lineNumber": 372
          },
          {
            "text": "    if (applicationType !== 'DAILY_CONFIRMATION' &amp;&amp; !applicationId) {",
            "lineNumber": 373
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 374
          },
          {
            "text": "        success: false,",
            "lineNumber": 375
          },
          {
            "text": "        message: '申請IDが必要です。'",
            "lineNumber": 376
          },
          {
            "text": "      });",
            "lineNumber": 377
          },
          {
            "text": "    }",
            "lineNumber": 378
          },
          {
            "text": "    ",
            "lineNumber": 379
          },
          {
            "text": "    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);",
            "lineNumber": 380
          },
          {
            "text": "    ",
            "lineNumber": 381
          },
          {
            "text": "    res.json({",
            "lineNumber": 382
          },
          {
            "text": "      success: true,",
            "lineNumber": 383
          },
          {
            "text": "      message: '申請を取り消しました。'",
            "lineNumber": 384
          },
          {
            "text": "    });",
            "lineNumber": 385
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 386
          },
          {
            "text": "    if (error.message.includes('月次申請を行っている場合')) {",
            "lineNumber": 387
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 388
          },
          {
            "text": "        success: false,",
            "lineNumber": 389
          },
          {
            "text": "        message: error.message",
            "lineNumber": 390
          },
          {
            "text": "      });",
            "lineNumber": 391
          },
          {
            "text": "    }",
            "lineNumber": 392
          },
          {
            "text": "    next(error);",
            "lineNumber": 393
          },
          {
            "text": "  }",
            "lineNumber": 394
          },
          {
            "text": "};",
            "lineNumber": 395
          },
          {
            "lineNumber": 396
          },
          {
            "text": "module.exports = {",
            "lineNumber": 397
          },
          {
            "text": "  applyVacation,",
            "lineNumber": 398
          },
          {
            "text": "  applyHolidayWork,",
            "lineNumber": 399
          },
          {
            "text": "  applyOvertime,",
            "lineNumber": 400
          }
        ]
      },
      "score": 0.36852970719337463
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 271
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const \n;\n\n/**\n * 申請を取り消す\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId - 申請ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {\n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の取り消し\n      const attendanceModel = require('../models/attendanceModel');\n      const attendanceService = require('../services/attendanceService');\n      \n      if (!targetDate) {\n        throw new Error('対象日が必要です。');\n      }\n      \n      // 月次申請状態を確認\n      const date = new Date(targetDate);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(\n        employeeId, \n        &#96;${year}-${String(month).padStart(2, '0')}&#96;\n      );\n      \n      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {\n        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');\n      }\n      \n      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の取り消し\n      // 申請情報を取得\n      const vacation = await applicationModel.getVacationById(applicationId);\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "const ",
            "lineNumber": 272
          },
          {
            "text": ";",
            "lineNumber": 295
          },
          {
            "lineNumber": 296
          },
          {
            "text": "/**",
            "lineNumber": 297
          },
          {
            "text": " * 申請を取り消す",
            "lineNumber": 298
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 299
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 300
          },
          {
            "text": " * @param {string|number} applicationId - 申請ID",
            "lineNumber": 301
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）",
            "lineNumber": 302
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 303
          },
          {
            "text": " */",
            "lineNumber": 304
          },
          {
            "text": "const cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {",
            "lineNumber": 305
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 306
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 307
          },
          {
            "text": "      // 日次確定申請の取り消し",
            "lineNumber": 308
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 309
          },
          {
            "text": "      const attendanceService = require('../services/attendanceService');",
            "lineNumber": 310
          },
          {
            "text": "      ",
            "lineNumber": 311
          },
          {
            "text": "      if (!targetDate) {",
            "lineNumber": 312
          },
          {
            "text": "        throw new Error('対象日が必要です。');",
            "lineNumber": 313
          },
          {
            "text": "      }",
            "lineNumber": 314
          },
          {
            "text": "      ",
            "lineNumber": 315
          },
          {
            "text": "      // 月次申請状態を確認",
            "lineNumber": 316
          },
          {
            "text": "      const date = new Date(targetDate);",
            "lineNumber": 317
          },
          {
            "text": "      const year = date.getFullYear();",
            "lineNumber": 318
          },
          {
            "text": "      const month = date.getMonth() + 1;",
            "lineNumber": 319
          },
          {
            "text": "      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(",
            "lineNumber": 320
          },
          {
            "text": "        employeeId, ",
            "lineNumber": 321
          },
          {
            "text": "        &#96;${year}-${String(month).padStart(2, '0')}&#96;",
            "lineNumber": 322
          },
          {
            "text": "      );",
            "lineNumber": 323
          },
          {
            "text": "      ",
            "lineNumber": 324
          },
          {
            "text": "      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {",
            "lineNumber": 325
          },
          {
            "text": "        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');",
            "lineNumber": 326
          },
          {
            "text": "      }",
            "lineNumber": 327
          },
          {
            "text": "      ",
            "lineNumber": 328
          },
          {
            "text": "      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);",
            "lineNumber": 329
          },
          {
            "text": "      break;",
            "lineNumber": 330
          },
          {
            "text": "    }",
            "lineNumber": 331
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 332
          },
          {
            "text": "      // 休暇申請の取り消し",
            "lineNumber": 333
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 334
          },
          {
            "text": "      const vacation = await applicationModel.getVacationById(applicationId);",
            "lineNumber": 335
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.36475664377212524
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 663
          },
          "endPosition": {
            "line": 692
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 早朝勤務申請取消\n     - API利用仕様に従い、早朝勤務申請を取り消す。\n     - 【API利用仕様 No.17（早朝勤務申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n\n#### 名称：振替申請取消ボタン押下処理、英名：cancelTransferApplication、処理タイミング：振替申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 664
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 665
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 666
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 667
          },
          {
            "text": "   - 早朝勤務申請取消",
            "lineNumber": 668
          },
          {
            "text": "     - API利用仕様に従い、早朝勤務申請を取り消す。",
            "lineNumber": 669
          },
          {
            "text": "     - 【API利用仕様 No.17（早朝勤務申請取消API）】",
            "lineNumber": 670
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 671
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 672
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 673
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 674
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 675
          },
          {
            "lineNumber": 676
          },
          {
            "text": "#### 名称：振替申請取消ボタン押下処理、英名：cancelTransferApplication、処理タイミング：振替申請フォーム.申請取消ボタン.押下",
            "lineNumber": 677
          },
          {
            "lineNumber": 678
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 679
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 680
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 681
          },
          {
            "lineNumber": 682
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 683
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 684
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 685
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 686
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 687
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 688
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 689
          },
          {
            "lineNumber": 690
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 691
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 692
          }
        ]
      },
      "score": 0.3630020022392273
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 939
          },
          "endPosition": {
            "line": 996
          }
        },
        "contents": "            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('transfer')\" \n                class=\"submit-button\" \n                @click=\"submitTransferApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('transfer')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelTransferApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('transfer') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 下部操作エリア --&gt;\n      &lt;div class=\"dialog-footer\"&gt;\n        &lt;a href=\"#\" @click.prevent=\"closeDialog\" class=\"close-link\"&gt;閉じる&lt;/a&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- ローディング表示 --&gt;\n      &lt;div v-if=\"loading\" class=\"loading-overlay\"&gt;\n        &lt;div class=\"loading-spinner\"&gt;&lt;/div&gt;\n        &lt;p&gt;処理中...&lt;/p&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- エラーダイアログ --&gt;\n      &lt;div v-if=\"showErrorDialog\" class=\"error-dialog-overlay\" @click.self=\"closeErrorDialog\"&gt;\n        &lt;div class=\"error-dialog-container\"&gt;\n          &lt;div class=\"error-dialog-header\"&gt;\n            &lt;span class=\"error-dialog-title\"&gt;エラー&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"error-dialog-message\"&gt;\n            {{ errorMessage }}\n          &lt;/div&gt;\n          &lt;button class=\"error-dialog-ok-button\" @click=\"closeErrorDialog\"&gt;OK&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"js\"&gt;\nimport HolidayJp from '@holiday-jp/holiday_jp'\nimport { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'\n\nexport default {\n  name: 'AttendanceApplicationDialog',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 940
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 941
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('transfer')\" ",
            "lineNumber": 942
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 943
          },
          {
            "text": "                @click=\"submitTransferApplication\"",
            "lineNumber": 944
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 945
          },
          {
            "text": "              &gt;",
            "lineNumber": 946
          },
          {
            "text": "                承認申請",
            "lineNumber": 947
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 948
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 949
          },
          {
            "text": "                v-if=\"isPendingOrApproved('transfer')\" ",
            "lineNumber": 950
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 951
          },
          {
            "text": "                @click=\"cancelTransferApplication\"",
            "lineNumber": 952
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 953
          },
          {
            "text": "              &gt;",
            "lineNumber": 954
          },
          {
            "text": "                {{ getCancelButtonLabel('transfer') }}",
            "lineNumber": 955
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 956
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 957
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 958
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 959
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 960
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 961
          },
          {
            "text": "      ",
            "lineNumber": 962
          },
          {
            "text": "      &lt;!-- 下部操作エリア --&gt;",
            "lineNumber": 963
          },
          {
            "text": "      &lt;div class=\"dialog-footer\"&gt;",
            "lineNumber": 964
          },
          {
            "text": "        &lt;a href=\"#\" @click.prevent=\"closeDialog\" class=\"close-link\"&gt;閉じる&lt;/a&gt;",
            "lineNumber": 965
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 966
          },
          {
            "text": "      ",
            "lineNumber": 967
          },
          {
            "text": "      &lt;!-- ローディング表示 --&gt;",
            "lineNumber": 968
          },
          {
            "text": "      &lt;div v-if=\"loading\" class=\"loading-overlay\"&gt;",
            "lineNumber": 969
          },
          {
            "text": "        &lt;div class=\"loading-spinner\"&gt;&lt;/div&gt;",
            "lineNumber": 970
          },
          {
            "text": "        &lt;p&gt;処理中...&lt;/p&gt;",
            "lineNumber": 971
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 972
          },
          {
            "text": "      ",
            "lineNumber": 973
          },
          {
            "text": "      &lt;!-- エラーダイアログ --&gt;",
            "lineNumber": 974
          },
          {
            "text": "      &lt;div v-if=\"showErrorDialog\" class=\"error-dialog-overlay\" @click.self=\"closeErrorDialog\"&gt;",
            "lineNumber": 975
          },
          {
            "text": "        &lt;div class=\"error-dialog-container\"&gt;",
            "lineNumber": 976
          },
          {
            "text": "          &lt;div class=\"error-dialog-header\"&gt;",
            "lineNumber": 977
          },
          {
            "text": "            &lt;span class=\"error-dialog-title\"&gt;エラー&lt;/span&gt;",
            "lineNumber": 978
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 979
          },
          {
            "text": "          &lt;div class=\"error-dialog-message\"&gt;",
            "lineNumber": 980
          },
          {
            "text": "            {{ errorMessage }}",
            "lineNumber": 981
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 982
          },
          {
            "text": "          &lt;button class=\"error-dialog-ok-button\" @click=\"closeErrorDialog\"&gt;OK&lt;/button&gt;",
            "lineNumber": 983
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 984
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 985
          },
          {
            "text": "      ",
            "lineNumber": 986
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 987
          },
          {
            "text": "  &lt;/div&gt;",
            "lineNumber": 988
          },
          {
            "text": "&lt;/template&gt;",
            "lineNumber": 989
          },
          {
            "lineNumber": 990
          },
          {
            "text": "&lt;script lang=\"js\"&gt;",
            "lineNumber": 991
          },
          {
            "text": "import HolidayJp from '@holiday-jp/holiday_jp'",
            "lineNumber": 992
          },
          {
            "text": "import { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'",
            "lineNumber": 993
          },
          {
            "lineNumber": 994
          },
          {
            "text": "export default {",
            "lineNumber": 995
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 996
          }
        ]
      },
      "score": 0.36255955696105957
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 572
          },
          "endPosition": {
            "line": 602
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休暇申請取消\n     - API利用仕様に従い、休暇申請を取り消す。\n     - 【API利用仕様 No.14（休暇申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。\n\n#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 573
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 574
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 575
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 576
          },
          {
            "text": "   - 休暇申請取消",
            "lineNumber": 577
          },
          {
            "text": "     - API利用仕様に従い、休暇申請を取り消す。",
            "lineNumber": 578
          },
          {
            "text": "     - 【API利用仕様 No.14（休暇申請取消API）】",
            "lineNumber": 579
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 580
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 581
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 582
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 583
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 584
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。",
            "lineNumber": 585
          },
          {
            "lineNumber": 586
          },
          {
            "text": "#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下",
            "lineNumber": 587
          },
          {
            "lineNumber": 588
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 589
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 590
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 591
          },
          {
            "lineNumber": 592
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 593
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 594
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 595
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 596
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 597
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 598
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 599
          },
          {
            "lineNumber": 600
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 601
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 602
          }
        ]
      },
      "score": 0.36227670311927795
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 574
          },
          "endPosition": {
            "line": 607,
            "column": 3
          }
        },
        "contents": "2. 申請状況に応じた処理\n   \n   **2-1. 未申請（NOT_SUBMITTED）の場合**\n   - 日次確定ボタン押下処理を実行する。\n   - 【イベント処理説明: 日次確定ボタン押下処理】\n\n   **2-2. 申請中（PENDING）または承認済み（APPROVED）の場合**\n   - 勤怠関連申請ダイアログを表示する。\n   - 申請タイプに応じたタブを開く（日次確定/休日出勤申請/休暇申請）\n   - ダイアログタイトル: 「勤怠関連申請」\n   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n   - 申請フォーム: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）\n   - 申請情報セクション（申請中または承認済みの場合のみ表示）:\n     - 申請日時: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示\n     - 状況: 申請中/承認済みを表示\n     - 承認履歴: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）\n   - 取消ボタン: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示\n   - 「キャンセル」リンク: ダイアログを閉じる\n\n   **2-3. 却下（REJECTED）の場合（日次確定申請のみ）**\n   - 申請状況詳細ダイアログを表示する。\n   - ダイアログタイトル: 「申請状況」\n   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n   - 申請状態: 「却下」と表示\n   - 申請日時: 日次確定申請を行った日時を表示\n   - 却下日時: 却下された日時を表示\n   - 却下者: 却下を行った承認者名を表示\n   - 却下理由: 却下時のコメントを表示（該当する場合）\n   - 「閉じる」ボタンを表示\n   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある\n\n3. ダイアログの閉じる処理\n   ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. 申請状況に応じた処理",
            "lineNumber": 576
          },
          {
            "text": "   ",
            "lineNumber": 577
          },
          {
            "text": "   **2-1. 未申請（NOT_SUBMITTED）の場合**",
            "lineNumber": 578
          },
          {
            "text": "   - 日次確定ボタン押下処理を実行する。",
            "lineNumber": 579
          },
          {
            "text": "   - 【イベント処理説明: 日次確定ボタン押下処理】",
            "lineNumber": 580
          },
          {
            "lineNumber": 581
          },
          {
            "text": "   **2-2. 申請中（PENDING）または承認済み（APPROVED）の場合**",
            "lineNumber": 582
          },
          {
            "text": "   - 勤怠関連申請ダイアログを表示する。",
            "lineNumber": 583
          },
          {
            "text": "   - 申請タイプに応じたタブを開く（日次確定/休日出勤申請/休暇申請）",
            "lineNumber": 584
          },
          {
            "text": "   - ダイアログタイトル: 「勤怠関連申請」",
            "lineNumber": 585
          },
          {
            "text": "   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 586
          },
          {
            "text": "   - 申請フォーム: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）",
            "lineNumber": 587
          },
          {
            "text": "   - 申請情報セクション（申請中または承認済みの場合のみ表示）:",
            "lineNumber": 588
          },
          {
            "text": "     - 申請日時: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 589
          },
          {
            "text": "     - 状況: 申請中/承認済みを表示",
            "lineNumber": 590
          },
          {
            "text": "     - 承認履歴: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）",
            "lineNumber": 591
          },
          {
            "text": "   - 取消ボタン: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示",
            "lineNumber": 592
          },
          {
            "text": "   - 「キャンセル」リンク: ダイアログを閉じる",
            "lineNumber": 593
          },
          {
            "lineNumber": 594
          },
          {
            "text": "   **2-3. 却下（REJECTED）の場合（日次確定申請のみ）**",
            "lineNumber": 595
          },
          {
            "text": "   - 申請状況詳細ダイアログを表示する。",
            "lineNumber": 596
          },
          {
            "text": "   - ダイアログタイトル: 「申請状況」",
            "lineNumber": 597
          },
          {
            "text": "   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 598
          },
          {
            "text": "   - 申請状態: 「却下」と表示",
            "lineNumber": 599
          },
          {
            "text": "   - 申請日時: 日次確定申請を行った日時を表示",
            "lineNumber": 600
          },
          {
            "text": "   - 却下日時: 却下された日時を表示",
            "lineNumber": 601
          },
          {
            "text": "   - 却下者: 却下を行った承認者名を表示",
            "lineNumber": 602
          },
          {
            "text": "   - 却下理由: 却下時のコメントを表示（該当する場合）",
            "lineNumber": 603
          },
          {
            "text": "   - 「閉じる」ボタンを表示",
            "lineNumber": 604
          },
          {
            "text": "   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある",
            "lineNumber": 605
          },
          {
            "lineNumber": 606
          },
          {
            "text": "3. ダイアログの閉じる処理",
            "lineNumber": 607
          },
          {
            "text": "   ",
            "lineNumber": 608
          }
        ]
      },
      "score": 0.36120060086250305
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1689
          },
          "endPosition": {
            "line": 1719
          }
        },
        "contents": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化\n\n**注意事項**:\n- 振替申請ボタンは休日でも常に活性状態を維持します\n- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です\n- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります\n\n### 申請取り消し機能\n\n申請中または承認済みの申請を取り消すことができます。\n\n#### 申請取消ボタンの表示条件\n- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます\n- 申請取消ボタンは赤色のボタンで表示されます\n- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります\n\n#### 申請取り消しの手順\n1. 申請中または承認済みの申請タイプのタブを開く\n2. 「申請取消」ボタンをクリックする\n3. 申請取消確認ダイアログが表示される\n   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される\n   - 申請日時が表示される\n   - 状況（申請済みまたは承認済み）が表示される\n   - 承認履歴テーブルが表示される\n4. 「承認取消」ボタンをクリックする\n5. 申請が取り消され、申請前の状態に戻る\n\n#### 申請取り消しの制約\n- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません\n- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化",
            "lineNumber": 1690
          },
          {
            "lineNumber": 1691
          },
          {
            "text": "**注意事項**:",
            "lineNumber": 1692
          },
          {
            "text": "- 振替申請ボタンは休日でも常に活性状態を維持します",
            "lineNumber": 1693
          },
          {
            "text": "- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です",
            "lineNumber": 1694
          },
          {
            "text": "- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります",
            "lineNumber": 1695
          },
          {
            "lineNumber": 1696
          },
          {
            "text": "### 申請取り消し機能",
            "lineNumber": 1697
          },
          {
            "lineNumber": 1698
          },
          {
            "text": "申請中または承認済みの申請を取り消すことができます。",
            "lineNumber": 1699
          },
          {
            "lineNumber": 1700
          },
          {
            "text": "#### 申請取消ボタンの表示条件",
            "lineNumber": 1701
          },
          {
            "text": "- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます",
            "lineNumber": 1702
          },
          {
            "text": "- 申請取消ボタンは赤色のボタンで表示されます",
            "lineNumber": 1703
          },
          {
            "text": "- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります",
            "lineNumber": 1704
          },
          {
            "lineNumber": 1705
          },
          {
            "text": "#### 申請取り消しの手順",
            "lineNumber": 1706
          },
          {
            "text": "1. 申請中または承認済みの申請タイプのタブを開く",
            "lineNumber": 1707
          },
          {
            "text": "2. 「申請取消」ボタンをクリックする",
            "lineNumber": 1708
          },
          {
            "text": "3. 申請取消確認ダイアログが表示される",
            "lineNumber": 1709
          },
          {
            "text": "   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される",
            "lineNumber": 1710
          },
          {
            "text": "   - 申請日時が表示される",
            "lineNumber": 1711
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）が表示される",
            "lineNumber": 1712
          },
          {
            "text": "   - 承認履歴テーブルが表示される",
            "lineNumber": 1713
          },
          {
            "text": "4. 「承認取消」ボタンをクリックする",
            "lineNumber": 1714
          },
          {
            "text": "5. 申請が取り消され、申請前の状態に戻る",
            "lineNumber": 1715
          },
          {
            "lineNumber": 1716
          },
          {
            "text": "#### 申請取り消しの制約",
            "lineNumber": 1717
          },
          {
            "text": "- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません",
            "lineNumber": 1718
          },
          {
            "text": "- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
            "lineNumber": 1719
          }
        ]
      },
      "score": 0.35558903217315674
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 603
          },
          "endPosition": {
            "line": 642,
            "column": 5
          }
        },
        "contents": "   - 「閉じる」ボタンを表示\n   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある\n\n3. ダイアログの閉じる処理\n   - 「キャンセル」リンクまたは「閉じる」ボタン押下でダイアログを閉じる。\n\n#### 名称：月次サマリーリンク押下処理、英名：showMonthlySummary、処理タイミング：テーブル上部操作エリア.月次サマリーリンク.押下\n\n1. 月次サマリーデータ取得\n   - API利用仕様に従い、月次サマリーデータを取得する。\n   - 【API利用仕様 No.7（月次サマリー取得API）】\n\n2. 月次サマリー画面表示\n   - 月次サマリー画面を表示する。\n\n#### 名称：ステータス表示押下処理、英名：showStatusDialog、処理タイミング：テーブル上部操作エリア.ステータス表示.押下\n\n1. 月次承認履歴取得\n   - API利用仕様に従い、表示年月の月次承認履歴を取得する。\n   - 【API利用仕様 No.9（月次承認履歴取得API）】\n\n2. ステータスダイアログ表示\n   - ステータスダイアログを表示する。\n   - ダイアログタイトル: 「ステータス」\n   - 承認履歴テーブルに取得した履歴を表示\n   - 承認履歴が0件の場合は「承認履歴はありません」と表示\n\n3. 申請取消ボタンの活性制御\n   - 月次確定申請中（MONTHLY_APPROVAL_STATUS=PENDING）の場合: 活性（青色ボタン）\n   - 上記以外の場合: 非活性（グレーボタン）\n\n#### 名称：申請取消ボタン押下処理、英名：cancelMonthlyApproval、処理タイミング：ステータスダイアログ.申請取消ボタン.押下\n\n1. 確認ダイアログ表示\n   - 「月次確定申請を取り消しますか？」の確認ダイアログを表示する。\n   - 「OK」ボタンと「キャンセル」ボタンを表示\n\n2. 取消処理\n   - 「OK」ボタン押下時:\n     ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "   - 「閉じる」ボタンを表示",
            "lineNumber": 604
          },
          {
            "text": "   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある",
            "lineNumber": 605
          },
          {
            "lineNumber": 606
          },
          {
            "text": "3. ダイアログの閉じる処理",
            "lineNumber": 607
          },
          {
            "text": "   - 「キャンセル」リンクまたは「閉じる」ボタン押下でダイアログを閉じる。",
            "lineNumber": 608
          },
          {
            "lineNumber": 609
          },
          {
            "text": "#### 名称：月次サマリーリンク押下処理、英名：showMonthlySummary、処理タイミング：テーブル上部操作エリア.月次サマリーリンク.押下",
            "lineNumber": 610
          },
          {
            "lineNumber": 611
          },
          {
            "text": "1. 月次サマリーデータ取得",
            "lineNumber": 612
          },
          {
            "text": "   - API利用仕様に従い、月次サマリーデータを取得する。",
            "lineNumber": 613
          },
          {
            "text": "   - 【API利用仕様 No.7（月次サマリー取得API）】",
            "lineNumber": 614
          },
          {
            "lineNumber": 615
          },
          {
            "text": "2. 月次サマリー画面表示",
            "lineNumber": 616
          },
          {
            "text": "   - 月次サマリー画面を表示する。",
            "lineNumber": 617
          },
          {
            "lineNumber": 618
          },
          {
            "text": "#### 名称：ステータス表示押下処理、英名：showStatusDialog、処理タイミング：テーブル上部操作エリア.ステータス表示.押下",
            "lineNumber": 619
          },
          {
            "lineNumber": 620
          },
          {
            "text": "1. 月次承認履歴取得",
            "lineNumber": 621
          },
          {
            "text": "   - API利用仕様に従い、表示年月の月次承認履歴を取得する。",
            "lineNumber": 622
          },
          {
            "text": "   - 【API利用仕様 No.9（月次承認履歴取得API）】",
            "lineNumber": 623
          },
          {
            "lineNumber": 624
          },
          {
            "text": "2. ステータスダイアログ表示",
            "lineNumber": 625
          },
          {
            "text": "   - ステータスダイアログを表示する。",
            "lineNumber": 626
          },
          {
            "text": "   - ダイアログタイトル: 「ステータス」",
            "lineNumber": 627
          },
          {
            "text": "   - 承認履歴テーブルに取得した履歴を表示",
            "lineNumber": 628
          },
          {
            "text": "   - 承認履歴が0件の場合は「承認履歴はありません」と表示",
            "lineNumber": 629
          },
          {
            "lineNumber": 630
          },
          {
            "text": "3. 申請取消ボタンの活性制御",
            "lineNumber": 631
          },
          {
            "text": "   - 月次確定申請中（MONTHLY_APPROVAL_STATUS=PENDING）の場合: 活性（青色ボタン）",
            "lineNumber": 632
          },
          {
            "text": "   - 上記以外の場合: 非活性（グレーボタン）",
            "lineNumber": 633
          },
          {
            "lineNumber": 634
          },
          {
            "text": "#### 名称：申請取消ボタン押下処理、英名：cancelMonthlyApproval、処理タイミング：ステータスダイアログ.申請取消ボタン.押下",
            "lineNumber": 635
          },
          {
            "lineNumber": 636
          },
          {
            "text": "1. 確認ダイアログ表示",
            "lineNumber": 637
          },
          {
            "text": "   - 「月次確定申請を取り消しますか？」の確認ダイアログを表示する。",
            "lineNumber": 638
          },
          {
            "text": "   - 「OK」ボタンと「キャンセル」ボタンを表示",
            "lineNumber": 639
          },
          {
            "lineNumber": 640
          },
          {
            "text": "2. 取消処理",
            "lineNumber": 641
          },
          {
            "text": "   - 「OK」ボタン押下時:",
            "lineNumber": 642
          },
          {
            "text": "     ",
            "lineNumber": 643
          }
        ]
      },
      "score": 0.3397257328033447
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1764
          },
          "endPosition": {
            "line": 1802
          }
        },
        "contents": "- **申請情報セクション**（申請中または承認済みの場合のみ表示）:\n  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示\n  - **状況**: 申請中/承認済みを表示\n  - **承認履歴**: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）\n- **取消ボタン**: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示\n- **キャンセルリンク**: ダイアログを閉じる\n\n#### 申請タイプによる表示内容の違い\n\n##### 1. 日次確定申請の場合\n- **申請フォーム**: 出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n##### 2. 休日出勤申請の場合\n- **申請フォーム**: 開始時刻、終了時刻、休憩時間、備考を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n##### 3. 休暇申請の場合\n- **申請フォーム**: 休暇種類、期間（開始日、終了日）、備考、連絡先を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n#### 申請状態による表示内容の違い\n\n##### 1. 申請中（PENDING）の場合\n- **申請状態**: 「申請中」と表示\n- **申請日時**: 申請を行った日時を表示\n- **承認履歴**: 申請時の履歴を表示\n- **取消ボタン**: 「申請取消」と表示\n\n##### 2. 承認済み（APPROVED）の場合\n- **申請状態**: 「承認済み」と表示\n- **申請日時**: 申請を行った日時を表示\n- **承認履歴**: 申請時から承認時までの履歴を表示\n- **取消ボタン**: 「承認取消」と表示",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **申請情報セクション**（申請中または承認済みの場合のみ表示）:",
            "lineNumber": 1765
          },
          {
            "text": "  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1766
          },
          {
            "text": "  - **状況**: 申請中/承認済みを表示",
            "lineNumber": 1767
          },
          {
            "text": "  - **承認履歴**: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）",
            "lineNumber": 1768
          },
          {
            "text": "- **取消ボタン**: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示",
            "lineNumber": 1769
          },
          {
            "text": "- **キャンセルリンク**: ダイアログを閉じる",
            "lineNumber": 1770
          },
          {
            "lineNumber": 1771
          },
          {
            "text": "#### 申請タイプによる表示内容の違い",
            "lineNumber": 1772
          },
          {
            "lineNumber": 1773
          },
          {
            "text": "##### 1. 日次確定申請の場合",
            "lineNumber": 1774
          },
          {
            "text": "- **申請フォーム**: 出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示",
            "lineNumber": 1775
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1776
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1777
          },
          {
            "lineNumber": 1778
          },
          {
            "text": "##### 2. 休日出勤申請の場合",
            "lineNumber": 1779
          },
          {
            "text": "- **申請フォーム**: 開始時刻、終了時刻、休憩時間、備考を表示",
            "lineNumber": 1780
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1781
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1782
          },
          {
            "lineNumber": 1783
          },
          {
            "text": "##### 3. 休暇申請の場合",
            "lineNumber": 1784
          },
          {
            "text": "- **申請フォーム**: 休暇種類、期間（開始日、終了日）、備考、連絡先を表示",
            "lineNumber": 1785
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1786
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1787
          },
          {
            "lineNumber": 1788
          },
          {
            "text": "#### 申請状態による表示内容の違い",
            "lineNumber": 1789
          },
          {
            "lineNumber": 1790
          },
          {
            "text": "##### 1. 申請中（PENDING）の場合",
            "lineNumber": 1791
          },
          {
            "text": "- **申請状態**: 「申請中」と表示",
            "lineNumber": 1792
          },
          {
            "text": "- **申請日時**: 申請を行った日時を表示",
            "lineNumber": 1793
          },
          {
            "text": "- **承認履歴**: 申請時の履歴を表示",
            "lineNumber": 1794
          },
          {
            "text": "- **取消ボタン**: 「申請取消」と表示",
            "lineNumber": 1795
          },
          {
            "lineNumber": 1796
          },
          {
            "text": "##### 2. 承認済み（APPROVED）の場合",
            "lineNumber": 1797
          },
          {
            "text": "- **申請状態**: 「承認済み」と表示",
            "lineNumber": 1798
          },
          {
            "text": "- **申請日時**: 申請を行った日時を表示",
            "lineNumber": 1799
          },
          {
            "text": "- **承認履歴**: 申請時から承認時までの履歴を表示",
            "lineNumber": 1800
          },
          {
            "text": "- **取消ボタン**: 「承認取消」と表示",
            "lineNumber": 1801
          }
        ]
      },
      "score": 0.33969250321388245
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 200
          },
          "endPosition": {
            "line": 227,
            "column": 10
          }
        },
        "contents": "            &lt;div class=\"daily-confirmation-buttons\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('dailyConfirmation')\" \n                class=\"submit-button daily-confirmation-submit\" \n                @click=\"submitDailyConfirmation\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('dailyConfirmation')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelDailyConfirmation\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('dailyConfirmation') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 休暇申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div class=\"daily-confirmation-buttons\"&gt;",
            "lineNumber": 201
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 202
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('dailyConfirmation')\" ",
            "lineNumber": 203
          },
          {
            "text": "                class=\"submit-button daily-confirmation-submit\" ",
            "lineNumber": 204
          },
          {
            "text": "                @click=\"submitDailyConfirmation\"",
            "lineNumber": 205
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 206
          },
          {
            "text": "              &gt;",
            "lineNumber": 207
          },
          {
            "text": "                承認申請",
            "lineNumber": 208
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 209
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 210
          },
          {
            "text": "                v-if=\"isPendingOrApproved('dailyConfirmation')\" ",
            "lineNumber": 211
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 212
          },
          {
            "text": "                @click=\"cancelDailyConfirmation\"",
            "lineNumber": 213
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 214
          },
          {
            "text": "              &gt;",
            "lineNumber": 215
          },
          {
            "text": "                {{ getCancelButtonLabel('dailyConfirmation') }}",
            "lineNumber": 216
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 217
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 218
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 219
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 220
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 221
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 222
          },
          {
            "text": "      ",
            "lineNumber": 223
          },
          {
            "text": "      &lt;!-- 休暇申請フォーム --&gt;",
            "lineNumber": 224
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;",
            "lineNumber": 225
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 226
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 227
          },
          {
            "text": "          ",
            "lineNumber": 228
          }
        ]
      },
      "score": 0.3396005630493164
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 821
          },
          "endPosition": {
            "line": 848,
            "column": 10
          }
        },
        "contents": "            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('earlyWork')\" \n                class=\"submit-button\" \n                @click=\"submitEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('earlyWork')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('earlyWork') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 振替申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 822
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 823
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 824
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 825
          },
          {
            "text": "                @click=\"submitEarlyWorkApplication\"",
            "lineNumber": 826
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 827
          },
          {
            "text": "              &gt;",
            "lineNumber": 828
          },
          {
            "text": "                承認申請",
            "lineNumber": 829
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 830
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 831
          },
          {
            "text": "                v-if=\"isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 832
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 833
          },
          {
            "text": "                @click=\"cancelEarlyWorkApplication\"",
            "lineNumber": 834
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 835
          },
          {
            "text": "              &gt;",
            "lineNumber": 836
          },
          {
            "text": "                {{ getCancelButtonLabel('earlyWork') }}",
            "lineNumber": 837
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 838
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 839
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 840
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 841
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 842
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 843
          },
          {
            "text": "      ",
            "lineNumber": 844
          },
          {
            "text": "      &lt;!-- 振替申請フォーム --&gt;",
            "lineNumber": 845
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;",
            "lineNumber": 846
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 847
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 848
          },
          {
            "text": "          ",
            "lineNumber": 849
          }
        ]
      },
      "score": 0.3375914990901947
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 600
          },
          "endPosition": {
            "line": 630
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休日出勤申請取消\n     - API利用仕様に従い、休日出勤申請を取り消す。\n     - 【API利用仕様 No.15（休日出勤申請取消API）】\n     - 申請取消時に、その日の全ての勤怠データが削除される。\n       - 打刻時刻（出社時刻、退社時刻）が削除される。\n       - 休憩時間（BREAK_TIME）が削除される。\n       - 公用外出（OFFICIAL_OUTING）が削除される。\n       - 工数実績（WORK_HOURS）が削除される。\n       - 勤怠記録の備考（ATTENDANCE_RECORD.REMARK_TEXT）が削除される。\n       - 休日出勤申請の備考（APPLICATION_HISTORY.REASON）がクリアされる。\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n     - 該当日の勤怠データが全て削除され、元の状態（データなし）に戻る。\n\n#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 601
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 602
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 603
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 604
          },
          {
            "text": "   - 休日出勤申請取消",
            "lineNumber": 605
          },
          {
            "text": "     - API利用仕様に従い、休日出勤申請を取り消す。",
            "lineNumber": 606
          },
          {
            "text": "     - 【API利用仕様 No.15（休日出勤申請取消API）】",
            "lineNumber": 607
          },
          {
            "text": "     - 申請取消時に、その日の全ての勤怠データが削除される。",
            "lineNumber": 608
          },
          {
            "text": "       - 打刻時刻（出社時刻、退社時刻）が削除される。",
            "lineNumber": 609
          },
          {
            "text": "       - 休憩時間（BREAK_TIME）が削除される。",
            "lineNumber": 610
          },
          {
            "text": "       - 公用外出（OFFICIAL_OUTING）が削除される。",
            "lineNumber": 611
          },
          {
            "text": "       - 工数実績（WORK_HOURS）が削除される。",
            "lineNumber": 612
          },
          {
            "text": "       - 勤怠記録の備考（ATTENDANCE_RECORD.REMARK_TEXT）が削除される。",
            "lineNumber": 613
          },
          {
            "text": "       - 休日出勤申請の備考（APPLICATION_HISTORY.REASON）がクリアされる。",
            "lineNumber": 614
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 615
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 616
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 617
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 618
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 619
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 620
          },
          {
            "text": "     - 該当日の勤怠データが全て削除され、元の状態（データなし）に戻る。",
            "lineNumber": 621
          },
          {
            "lineNumber": 622
          },
          {
            "text": "#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下",
            "lineNumber": 623
          },
          {
            "lineNumber": 624
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 625
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 626
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 627
          },
          {
            "lineNumber": 628
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 629
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 630
          }
        ]
      },
      "score": 0.3373867869377136
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 142
          },
          "endPosition": {
            "line": 154
          }
        },
        "contents": "| 69-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |\n| 69-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |\n| 70 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 振替申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |\n| 70-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |\n| 71 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;下部操作エリア&gt; | | | | | | | | | | | | |\n| 72 | 閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク |\n| | &lt;ローディング表示&gt; | | | | | | | | | | | | |\n| 73 | ローディングマーク | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | API通信中やデータ処理中に表示されるローディングインジケーター |\n| | &lt;エラーダイアログ&gt; | | | | | | | | | | | | |\n| 74 | エラーダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請時のエラー時に表示 |\n| 75 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | エラー | ダイアログのタイトル |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 69-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |",
            "lineNumber": 143
          },
          {
            "text": "| 69-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |",
            "lineNumber": 144
          },
          {
            "text": "| 70 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 振替申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |",
            "lineNumber": 145
          },
          {
            "text": "| 70-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 146
          },
          {
            "text": "| 71 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 147
          },
          {
            "text": "| | &lt;下部操作エリア&gt; | | | | | | | | | | | | |",
            "lineNumber": 148
          },
          {
            "text": "| 72 | 閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク |",
            "lineNumber": 149
          },
          {
            "text": "| | &lt;ローディング表示&gt; | | | | | | | | | | | | |",
            "lineNumber": 150
          },
          {
            "text": "| 73 | ローディングマーク | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | API通信中やデータ処理中に表示されるローディングインジケーター |",
            "lineNumber": 151
          },
          {
            "text": "| | &lt;エラーダイアログ&gt; | | | | | | | | | | | | |",
            "lineNumber": 152
          },
          {
            "text": "| 74 | エラーダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請時のエラー時に表示 |",
            "lineNumber": 153
          },
          {
            "text": "| 75 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | エラー | ダイアログのタイトル |",
            "lineNumber": 154
          }
        ]
      },
      "score": 0.33562904596328735
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1775
          },
          "endPosition": {
            "line": 1782
          }
        },
        "contents": "| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |\n| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |\n| 2025-12-20 | 申請取消ボタンのラベルをステータスごとに分ける仕様を追加。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される仕様を追加。各申請フォームの申請取消ボタンと申請取消確認ダイアログの承認取消ボタンに適用 | AI Assistant |\n| 2025-12-20 | 申請日時の表示仕様を変更。申請日時は承認申請ボタンが押された日時を表示する仕様に変更。画面項目定義、編集仕様、API利用仕様を更新 | AI Assistant |\n| 2025-12-20 | 承認履歴テーブルの表示仕様を変更。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する仕様に変更。申請取消後の再申請時も、取消された申請の履歴を含めて新しい履歴が追加される仕様を追加。画面項目定義、API利用仕様、補足説明を更新 | AI Assistant |\n| 2025-12-22 | 休暇申請フォームの期間入力仕様を変更。開始日を常に無効化（グレーアウト）し、操作不可にする仕様を追加。開始日と終了日の間にチェックボックスを追加し、終了日の入力可否を制御する仕様を追加。終了日のカレンダーで開始日より前の日付を選択不可にする仕様を追加。チェック仕様、編集仕様、補足説明を更新 | AI Assistant |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |",
            "lineNumber": 1776
          },
          {
            "text": "| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |",
            "lineNumber": 1777
          },
          {
            "text": "| 2025-12-20 | 申請取消ボタンのラベルをステータスごとに分ける仕様を追加。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される仕様を追加。各申請フォームの申請取消ボタンと申請取消確認ダイアログの承認取消ボタンに適用 | AI Assistant |",
            "lineNumber": 1778
          },
          {
            "text": "| 2025-12-20 | 申請日時の表示仕様を変更。申請日時は承認申請ボタンが押された日時を表示する仕様に変更。画面項目定義、編集仕様、API利用仕様を更新 | AI Assistant |",
            "lineNumber": 1779
          },
          {
            "text": "| 2025-12-20 | 承認履歴テーブルの表示仕様を変更。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する仕様に変更。申請取消後の再申請時も、取消された申請の履歴を含めて新しい履歴が追加される仕様を追加。画面項目定義、API利用仕様、補足説明を更新 | AI Assistant |",
            "lineNumber": 1780
          },
          {
            "text": "| 2025-12-22 | 休暇申請フォームの期間入力仕様を変更。開始日を常に無効化（グレーアウト）し、操作不可にする仕様を追加。開始日と終了日の間にチェックボックスを追加し、終了日の入力可否を制御する仕様を追加。終了日のカレンダーで開始日より前の日付を選択不可にする仕様を追加。チェック仕様、編集仕様、補足説明を更新 | AI Assistant |",
            "lineNumber": 1781
          }
        ]
      },
      "score": 0.3354679346084595
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 262,
            "column": 2
          },
          "endPosition": {
            "line": 303,
            "column": 3
          }
        },
        "contents": "/**\n * 月次確定申請取消\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelMonthlyApproval = async (employeeId, year, month) =&gt; {\n  const targetYearMonth = &#96;${year}-${String(month).padStart(2, '0')}&#96;;\n  \n  // 現在の状態を確認\n  const currentStatus = await applicationModel.getMonthlyApprovalStatus(employeeId, targetYearMonth);\n  \n  if (currentStatus !== 'PENDING') {\n    throw new Error('申請中の月次確定のみ取り消すことができます。');\n  }\n  \n  // 状態を更新\n  await applicationModel.updateMonthlyApprovalStatus(employeeId, targetYearMonth, 'NOT_SUBMITTED');\n  \n  // 履歴を追加\n  const nextSeq = await applicationModel.getNextSeqNo(employeeId, targetYearMonth);\n  await applicationModel.createMonthlyApprovalHistory({\n    employeeId,\n    targetYearMonth,\n    seqNo: nextSeq,\n    actionType: 'CANCEL',\n    actorId: employeeId,\n    comment: '申請を取り消しました'\n  });\n};\n\n/**\n * 申請を取り消す\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId - 申請ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）\n * @returns {Promise&lt;void&gt;}\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 265
          },
          {
            "text": " * 月次確定申請取消",
            "lineNumber": 266
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 267
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 268
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 269
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 270
          },
          {
            "text": " */",
            "lineNumber": 271
          },
          {
            "text": "const cancelMonthlyApproval = async (employeeId, year, month) =&gt; {",
            "lineNumber": 272
          },
          {
            "text": "  const targetYearMonth = &#96;${year}-${String(month).padStart(2, '0')}&#96;;",
            "lineNumber": 273
          },
          {
            "text": "  ",
            "lineNumber": 274
          },
          {
            "text": "  // 現在の状態を確認",
            "lineNumber": 275
          },
          {
            "text": "  const currentStatus = await applicationModel.getMonthlyApprovalStatus(employeeId, targetYearMonth);",
            "lineNumber": 276
          },
          {
            "text": "  ",
            "lineNumber": 277
          },
          {
            "text": "  if (currentStatus !== 'PENDING') {",
            "lineNumber": 278
          },
          {
            "text": "    throw new Error('申請中の月次確定のみ取り消すことができます。');",
            "lineNumber": 279
          },
          {
            "text": "  }",
            "lineNumber": 280
          },
          {
            "text": "  ",
            "lineNumber": 281
          },
          {
            "text": "  // 状態を更新",
            "lineNumber": 282
          },
          {
            "text": "  await applicationModel.updateMonthlyApprovalStatus(employeeId, targetYearMonth, 'NOT_SUBMITTED');",
            "lineNumber": 283
          },
          {
            "text": "  ",
            "lineNumber": 284
          },
          {
            "text": "  // 履歴を追加",
            "lineNumber": 285
          },
          {
            "text": "  const nextSeq = await applicationModel.getNextSeqNo(employeeId, targetYearMonth);",
            "lineNumber": 286
          },
          {
            "text": "  await applicationModel.createMonthlyApprovalHistory({",
            "lineNumber": 287
          },
          {
            "text": "    employeeId,",
            "lineNumber": 288
          },
          {
            "text": "    targetYearMonth,",
            "lineNumber": 289
          },
          {
            "text": "    seqNo: nextSeq,",
            "lineNumber": 290
          },
          {
            "text": "    actionType: 'CANCEL',",
            "lineNumber": 291
          },
          {
            "text": "    actorId: employeeId,",
            "lineNumber": 292
          },
          {
            "text": "    comment: '申請を取り消しました'",
            "lineNumber": 293
          },
          {
            "text": "  });",
            "lineNumber": 294
          },
          {
            "text": "};",
            "lineNumber": 295
          },
          {
            "lineNumber": 296
          },
          {
            "text": "/**",
            "lineNumber": 297
          },
          {
            "text": " * 申請を取り消す",
            "lineNumber": 298
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 299
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 300
          },
          {
            "text": " * @param {string|number} applicationId - 申請ID",
            "lineNumber": 301
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）",
            "lineNumber": 302
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 303
          },
          {
            "text": " */",
            "lineNumber": 304
          }
        ]
      },
      "score": 0.3317107856273651
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\services\\api.js",
        "range": {
          "startPosition": {
            "line": 220,
            "column": 1
          },
          "endPosition": {
            "line": 248,
            "column": 1
          }
        },
        "contents": "/**\n * 申請を取り消す。\n *\n * @param {string} employeeId 従業員ID\n * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId 申請ID（日次確定の場合は不要）\n * @param {string} targetDate 対象日（YYYY-MM-DD形式、日次確定の場合のみ必要）\n * @returns {Promise&lt;Object&gt;} レスポンスデータ\n */\nexport async function cancelApplication(employeeId, applicationType, applicationId = null, targetDate = null) {\n  const endpoint = &#96;/application/application&#96;\n  const body = {\n    employeeId,\n    applicationType\n  }\n  \n  if (applicationType === 'DAILY_CONFIRMATION') {\n    body.targetDate = targetDate\n  } else {\n    body.applicationId = applicationId\n  }\n  \n  return await apiRequest(endpoint, {\n    method: 'DELETE',\n    body: JSON.stringify(body)\n  })\n}",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 223
          },
          {
            "text": " * 申請を取り消す。",
            "lineNumber": 224
          },
          {
            "text": " *",
            "lineNumber": 225
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 226
          },
          {
            "text": " * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 227
          },
          {
            "text": " * @param {string|number} applicationId 申請ID（日次確定の場合は不要）",
            "lineNumber": 228
          },
          {
            "text": " * @param {string} targetDate 対象日（YYYY-MM-DD形式、日次確定の場合のみ必要）",
            "lineNumber": 229
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} レスポンスデータ",
            "lineNumber": 230
          },
          {
            "text": " */",
            "lineNumber": 231
          },
          {
            "text": "export async function cancelApplication(employeeId, applicationType, applicationId = null, targetDate = null) {",
            "lineNumber": 232,
            "isSignature": true
          },
          {
            "text": "  const endpoint = &#96;/application/application&#96;",
            "lineNumber": 233
          },
          {
            "text": "  const body = {",
            "lineNumber": 234
          },
          {
            "text": "    employeeId,",
            "lineNumber": 235
          },
          {
            "text": "    applicationType",
            "lineNumber": 236
          },
          {
            "text": "  }",
            "lineNumber": 237
          },
          {
            "text": "  ",
            "lineNumber": 238
          },
          {
            "text": "  if (applicationType === 'DAILY_CONFIRMATION') {",
            "lineNumber": 239
          },
          {
            "text": "    body.targetDate = targetDate",
            "lineNumber": 240
          },
          {
            "text": "  } else {",
            "lineNumber": 241
          },
          {
            "text": "    body.applicationId = applicationId",
            "lineNumber": 242
          },
          {
            "text": "  }",
            "lineNumber": 243
          },
          {
            "text": "  ",
            "lineNumber": 244
          },
          {
            "text": "  return await apiRequest(endpoint, {",
            "lineNumber": 245
          },
          {
            "text": "    method: 'DELETE',",
            "lineNumber": 246
          },
          {
            "text": "    body: JSON.stringify(body)",
            "lineNumber": 247
          },
          {
            "text": "  })",
            "lineNumber": 248
          },
          {
            "text": "}",
            "lineNumber": 249,
            "isSignature": true
          }
        ]
      },
      "score": 0.33025455474853516
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 304
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const cancelApplication = async \n\n    case 'HOLIDAY_WORK': {\n      // 休日出勤申請の取り消し\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE APPLICATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            REASON = NULL,\n            UPDATED_AT = NOW()\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPLICATION_TYPE = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId, applicationType]);\n      \n      // 申請情報から対象日を取得\n      const applicationInfoQuery = &#96;\n        SELECT TARGET_START_DATE\n        FROM APPLICATION_HISTORY\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n      &#96;;\n      const [applicationRows] = await db.execute(applicationInfoQuery, [applicationId, employeeId]);\n      \n      if (applicationRows.length &gt; 0)\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 305,
                "column": 1
              },
              "endPosition": {
                "line": 305,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 305,
                "column": 7
              },
              "endPosition": {
                "line": 305,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const cancelApplication = async ",
            "lineNumber": 305
          },
          {
            "lineNumber": 362
          },
          {
            "text": "    case 'HOLIDAY_WORK': {",
            "lineNumber": 363
          },
          {
            "text": "      // 休日出勤申請の取り消し",
            "lineNumber": 364
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）",
            "lineNumber": 365
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 366
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 367
          },
          {
            "text": "        UPDATE APPLICATION_HISTORY",
            "lineNumber": 368
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 369
          },
          {
            "text": "            REASON = NULL,",
            "lineNumber": 370
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 371
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 372
          },
          {
            "text": "          AND APPLICATION_TYPE = ?",
            "lineNumber": 373
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 374
          },
          {
            "text": "      &#96;;",
            "lineNumber": 375
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId, applicationType]);",
            "lineNumber": 376
          },
          {
            "text": "      ",
            "lineNumber": 377
          },
          {
            "text": "      // 申請情報から対象日を取得",
            "lineNumber": 378
          },
          {
            "text": "      const applicationInfoQuery = &#96;",
            "lineNumber": 379
          },
          {
            "text": "        SELECT TARGET_START_DATE",
            "lineNumber": 380
          },
          {
            "text": "        FROM APPLICATION_HISTORY",
            "lineNumber": 381
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 382
          },
          {
            "text": "      &#96;;",
            "lineNumber": 383
          },
          {
            "text": "      const [applicationRows] = await db.execute(applicationInfoQuery, [applicationId, employeeId]);",
            "lineNumber": 384
          },
          {
            "text": "      ",
            "lineNumber": 385
          },
          {
            "text": "      if (applicationRows.length &gt; 0)",
            "lineNumber": 386
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.32308968901634216
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


有給休暇の実装とスタイル定義を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "vacation-work-time-bar|vacation-white-line|vacation-break-time-bar",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "vacation-work-time-bar|vacation-white-line|vacation-break-time-bar",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "519:          class=\"scheduled-work-time-bar vacation-work-time-bar\" ",
              "matches": [
                {
                  "lineNumber": 528,
                  "content": "          class=\"vacation-white-line\" "
                },
                {
                  "lineNumber": 543,
                  "content": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" "
                },
                {
                  "lineNumber": 4172,
                  "content": ".vacation-work-time-bar {"
                },
                {
                  "lineNumber": 4178,
                  "content": ".vacation-white-line {"
                },
                {
                  "lineNumber": 4201,
                  "content": ".vacation-break-time-bar {"
                }
              ]
            }
          ],
          "totalLines": 5,
          "totalMatchedLines": 5
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "代休の申請状態とvacationTypeCodeの判定",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 206,
            "column": 2
          },
          "endPosition": {
            "line": 270,
            "column": 3
          }
        },
        "contents": "/**\n * 申請状態を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請状態\n */\nconst getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {\n  let status = 'NOT_SUBMITTED';\n  let applicationId = null;\n  \n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の状態を取得\n      const attendanceModel = require('../models/attendanceModel');\n      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);\n      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {\n        status = attendance.APPROVAL_STATUS;\n      }\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の状態を取得\n      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);\n      if (vacations &amp;&amp; vacations.length &gt; 0) {\n        const vacation = vacations.find(v =&gt; \n          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;\n          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')\n        );\n        if (vacation) {\n          status = vacation.APPROVAL_STATUS;\n          applicationId = vacation.VACATION_ID;\n        }\n      }\n      break;\n    }\n    case 'HOLIDAY_WORK':\n    case 'OVERTIME':\n    case 'EARLY_WORK':\n    case 'TRANSFER': {\n      // APPLICATION_HISTORYから取得\n      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);\n      if (application) {\n        status = application.APPROVAL_STATUS;\n        applicationId = application.APPLICATION_ID;\n      }\n      break;\n    }\n  }\n  \n  return {\n    status,\n    applicationId\n  };\n};\n\n/**\n * 月次確定申請取消\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;void&gt;}\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 209
          },
          {
            "text": " * 申請状態を取得",
            "lineNumber": 210
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 211
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 212
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 213
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請状態",
            "lineNumber": 214
          },
          {
            "text": " */",
            "lineNumber": 215
          },
          {
            "text": "const getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {",
            "lineNumber": 216
          },
          {
            "text": "  let status = 'NOT_SUBMITTED';",
            "lineNumber": 217
          },
          {
            "text": "  let applicationId = null;",
            "lineNumber": 218
          },
          {
            "text": "  ",
            "lineNumber": 219
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 220
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 221
          },
          {
            "text": "      // 日次確定申請の状態を取得",
            "lineNumber": 222
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 223
          },
          {
            "text": "      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);",
            "lineNumber": 224
          },
          {
            "text": "      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {",
            "lineNumber": 225
          },
          {
            "text": "        status = attendance.APPROVAL_STATUS;",
            "lineNumber": 226
          },
          {
            "text": "      }",
            "lineNumber": 227
          },
          {
            "text": "      break;",
            "lineNumber": 228
          },
          {
            "text": "    }",
            "lineNumber": 229
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 230
          },
          {
            "text": "      // 休暇申請の状態を取得",
            "lineNumber": 231
          },
          {
            "text": "      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);",
            "lineNumber": 232
          },
          {
            "text": "      if (vacations &amp;&amp; vacations.length &gt; 0) {",
            "lineNumber": 233
          },
          {
            "text": "        const vacation = vacations.find(v =&gt; ",
            "lineNumber": 234
          },
          {
            "text": "          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;",
            "lineNumber": 235
          },
          {
            "text": "          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 236
          },
          {
            "text": "        );",
            "lineNumber": 237
          },
          {
            "text": "        if (vacation) {",
            "lineNumber": 238
          },
          {
            "text": "          status = vacation.APPROVAL_STATUS;",
            "lineNumber": 239
          },
          {
            "text": "          applicationId = vacation.VACATION_ID;",
            "lineNumber": 240
          },
          {
            "text": "        }",
            "lineNumber": 241
          },
          {
            "text": "      }",
            "lineNumber": 242
          },
          {
            "text": "      break;",
            "lineNumber": 243
          },
          {
            "text": "    }",
            "lineNumber": 244
          },
          {
            "text": "    case 'HOLIDAY_WORK':",
            "lineNumber": 245
          },
          {
            "text": "    case 'OVERTIME':",
            "lineNumber": 246
          },
          {
            "text": "    case 'EARLY_WORK':",
            "lineNumber": 247
          },
          {
            "text": "    case 'TRANSFER': {",
            "lineNumber": 248
          },
          {
            "text": "      // APPLICATION_HISTORYから取得",
            "lineNumber": 249
          },
          {
            "text": "      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);",
            "lineNumber": 250
          },
          {
            "text": "      if (application) {",
            "lineNumber": 251
          },
          {
            "text": "        status = application.APPROVAL_STATUS;",
            "lineNumber": 252
          },
          {
            "text": "        applicationId = application.APPLICATION_ID;",
            "lineNumber": 253
          },
          {
            "text": "      }",
            "lineNumber": 254
          },
          {
            "text": "      break;",
            "lineNumber": 255
          },
          {
            "text": "    }",
            "lineNumber": 256
          },
          {
            "text": "  }",
            "lineNumber": 257
          },
          {
            "text": "  ",
            "lineNumber": 258
          },
          {
            "text": "  return {",
            "lineNumber": 259
          },
          {
            "text": "    status,",
            "lineNumber": 260
          },
          {
            "text": "    applicationId",
            "lineNumber": 261
          },
          {
            "text": "  };",
            "lineNumber": 262
          },
          {
            "text": "};",
            "lineNumber": 263
          },
          {
            "lineNumber": 264
          },
          {
            "text": "/**",
            "lineNumber": 265
          },
          {
            "text": " * 月次確定申請取消",
            "lineNumber": 266
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 267
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 268
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 269
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 270
          },
          {
            "text": " */",
            "lineNumber": 271
          }
        ]
      },
      "score": 0.4348371922969818
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1478
          },
          "endPosition": {
            "line": 1522
          }
        },
        "contents": "          }\n        }\n        \n        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定\n        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {\n          holidayWorkBreakHours = 1.0\n        }\n        \n        // 休暇申請の情報を取得\n        const vacation = apiRecord?.vacation\n        const hasVacation = !!(vacation &amp;&amp; \n          (vacation.APPROVAL_STATUS === 'PENDING' || vacation.APPROVAL_STATUS === 'APPROVED'))\n        const vacationTypeCode = vacation?.VACATION_TYPE_CODE || null\n        const vacationApplicationStatus = vacation?.APPROVAL_STATUS || null\n        \n        displayData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          hasStampManualMismatch: hasStampManualMismatch,\n          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',\n          clockIn: clockIn,\n          clockOut: clockOut,\n          clockInType: clockInType,\n          clockOutType: clockOutType,\n          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',\n          workHours: formatWorkHours(totalWorkHours),\n          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,\n          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,\n          isHoliday: holiday,\n          hasVacation: hasVacation,\n          vacationTypeCode: vacationTypeCode,\n          vacationApplicationStatus: vacationApplicationStatus,\n          attendanceId: apiRecord?.ATTENDANCE_ID,\n          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,\n          breakTimes: breakTimes,\n          hasHolidayWorkApplication: hasHolidayWorkApplication,\n          holidayWorkApplicationStatus: holidayWorkApplicationStatus,\n          holidayWorkStartTime: holidayWorkStartTime,\n          holidayWorkEndTime: holidayWorkEndTime,\n          holidayWorkBreakHours: holidayWorkBreakHours,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          }",
            "lineNumber": 1479
          },
          {
            "text": "        }",
            "lineNumber": 1480
          },
          {
            "text": "        ",
            "lineNumber": 1481
          },
          {
            "text": "        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定",
            "lineNumber": 1482
          },
          {
            "text": "        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {",
            "lineNumber": 1483
          },
          {
            "text": "          holidayWorkBreakHours = 1.0",
            "lineNumber": 1484
          },
          {
            "text": "        }",
            "lineNumber": 1485
          },
          {
            "text": "        ",
            "lineNumber": 1486
          },
          {
            "text": "        // 休暇申請の情報を取得",
            "lineNumber": 1487
          },
          {
            "text": "        const vacation = apiRecord?.vacation",
            "lineNumber": 1488
          },
          {
            "text": "        const hasVacation = !!(vacation &amp;&amp; ",
            "lineNumber": 1489
          },
          {
            "text": "          (vacation.APPROVAL_STATUS === 'PENDING' || vacation.APPROVAL_STATUS === 'APPROVED'))",
            "lineNumber": 1490
          },
          {
            "text": "        const vacationTypeCode = vacation?.VACATION_TYPE_CODE || null",
            "lineNumber": 1491
          },
          {
            "text": "        const vacationApplicationStatus = vacation?.APPROVAL_STATUS || null",
            "lineNumber": 1492
          },
          {
            "text": "        ",
            "lineNumber": 1493
          },
          {
            "text": "        displayData.push({",
            "lineNumber": 1494
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1495
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1496
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1497
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1498
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1499
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1500
          },
          {
            "text": "          hasStampManualMismatch: hasStampManualMismatch,",
            "lineNumber": 1501
          },
          {
            "text": "          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',",
            "lineNumber": 1502
          },
          {
            "text": "          clockIn: clockIn,",
            "lineNumber": 1503
          },
          {
            "text": "          clockOut: clockOut,",
            "lineNumber": 1504
          },
          {
            "text": "          clockInType: clockInType,",
            "lineNumber": 1505
          },
          {
            "text": "          clockOutType: clockOutType,",
            "lineNumber": 1506
          },
          {
            "text": "          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',",
            "lineNumber": 1507
          },
          {
            "text": "          workHours: formatWorkHours(totalWorkHours),",
            "lineNumber": 1508
          },
          {
            "text": "          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,",
            "lineNumber": 1509
          },
          {
            "text": "          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,",
            "lineNumber": 1510
          },
          {
            "text": "          isHoliday: holiday,",
            "lineNumber": 1511
          },
          {
            "text": "          hasVacation: hasVacation,",
            "lineNumber": 1512
          },
          {
            "text": "          vacationTypeCode: vacationTypeCode,",
            "lineNumber": 1513
          },
          {
            "text": "          vacationApplicationStatus: vacationApplicationStatus,",
            "lineNumber": 1514
          },
          {
            "text": "          attendanceId: apiRecord?.ATTENDANCE_ID,",
            "lineNumber": 1515
          },
          {
            "text": "          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,",
            "lineNumber": 1516
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1517
          },
          {
            "text": "          hasHolidayWorkApplication: hasHolidayWorkApplication,",
            "lineNumber": 1518
          },
          {
            "text": "          holidayWorkApplicationStatus: holidayWorkApplicationStatus,",
            "lineNumber": 1519
          },
          {
            "text": "          holidayWorkStartTime: holidayWorkStartTime,",
            "lineNumber": 1520
          },
          {
            "text": "          holidayWorkEndTime: holidayWorkEndTime,",
            "lineNumber": 1521
          },
          {
            "text": "          holidayWorkBreakHours: holidayWorkBreakHours,",
            "lineNumber": 1522
          }
        ]
      },
      "score": 0.4181007146835327
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1203
          },
          "endPosition": {
            "line": 1261
          }
        },
        "contents": "    filteredVacationTypes() {\n      return this.vacationTypes.filter(type =&gt; {\n        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示\n        if (type.code === 'SUBSTITUTE_HOLIDAY') {\n          return this.hasHolidayWorkApplication\n        }\n        // その他の休暇種別は常に表示\n        return true\n      })\n    },\n    // 全メニュー項目の説明文\n    menuDescriptions() {\n      return {\n        dailyConfirmation: '日次確定を申請します。',\n        vacation: '休暇、代休、時間単位休暇を申請します。',\n        holidayWork: '休日出勤を申請します。',\n        overtime: '残業を申請します。',\n        earlyWork: '早朝勤務を申請します。',\n        transfer: '振替を申請します。'\n      }\n    },\n    // 申請中または承認済みかどうかを判定（各申請タイプごと）\n    isPendingOrApproved() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status === 'PENDING' || status === 'APPROVED'\n      }\n    },\n    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）\n    isEditable() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'\n      }\n    },\n    // 対象日が休日かどうかを判定\n    isHoliday() {\n      if (!this.targetDate) return false\n      const date = new Date(this.targetDate)\n      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日\n      \n      // 土曜日または日曜日の場合\n      if (dayOfWeek === 0 || dayOfWeek === 6) {\n        return true\n      }\n      \n      // 祝日判定（HolidayJpライブラリを使用）\n      try {\n        return HolidayJp.isHoliday(date)\n      } catch (error) {\n        console.error('祝日判定エラー:', error)\n        return false\n      }\n    },\n    // 対象日が平日かどうかを判定\n    isWeekday() {\n      return !this.isHoliday\n    },",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    filteredVacationTypes() {",
            "lineNumber": 1204
          },
          {
            "text": "      return this.vacationTypes.filter(type =&gt; {",
            "lineNumber": 1205
          },
          {
            "text": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示",
            "lineNumber": 1206
          },
          {
            "text": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 1207
          },
          {
            "text": "          return this.hasHolidayWorkApplication",
            "lineNumber": 1208
          },
          {
            "text": "        }",
            "lineNumber": 1209
          },
          {
            "text": "        // その他の休暇種別は常に表示",
            "lineNumber": 1210
          },
          {
            "text": "        return true",
            "lineNumber": 1211
          },
          {
            "text": "      })",
            "lineNumber": 1212
          },
          {
            "text": "    },",
            "lineNumber": 1213
          },
          {
            "text": "    // 全メニュー項目の説明文",
            "lineNumber": 1214
          },
          {
            "text": "    menuDescriptions() {",
            "lineNumber": 1215
          },
          {
            "text": "      return {",
            "lineNumber": 1216
          },
          {
            "text": "        dailyConfirmation: '日次確定を申請します。',",
            "lineNumber": 1217
          },
          {
            "text": "        vacation: '休暇、代休、時間単位休暇を申請します。',",
            "lineNumber": 1218
          },
          {
            "text": "        holidayWork: '休日出勤を申請します。',",
            "lineNumber": 1219
          },
          {
            "text": "        overtime: '残業を申請します。',",
            "lineNumber": 1220
          },
          {
            "text": "        earlyWork: '早朝勤務を申請します。',",
            "lineNumber": 1221
          },
          {
            "text": "        transfer: '振替を申請します。'",
            "lineNumber": 1222
          },
          {
            "text": "      }",
            "lineNumber": 1223
          },
          {
            "text": "    },",
            "lineNumber": 1224
          },
          {
            "text": "    // 申請中または承認済みかどうかを判定（各申請タイプごと）",
            "lineNumber": 1225
          },
          {
            "text": "    isPendingOrApproved() {",
            "lineNumber": 1226
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1227
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1228
          },
          {
            "text": "        return status === 'PENDING' || status === 'APPROVED'",
            "lineNumber": 1229
          },
          {
            "text": "      }",
            "lineNumber": 1230
          },
          {
            "text": "    },",
            "lineNumber": 1231
          },
          {
            "text": "    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1232
          },
          {
            "text": "    isEditable() {",
            "lineNumber": 1233
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1234
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1235
          },
          {
            "text": "        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'",
            "lineNumber": 1236
          },
          {
            "text": "      }",
            "lineNumber": 1237
          },
          {
            "text": "    },",
            "lineNumber": 1238
          },
          {
            "text": "    // 対象日が休日かどうかを判定",
            "lineNumber": 1239
          },
          {
            "text": "    isHoliday() {",
            "lineNumber": 1240
          },
          {
            "text": "      if (!this.targetDate) return false",
            "lineNumber": 1241
          },
          {
            "text": "      const date = new Date(this.targetDate)",
            "lineNumber": 1242
          },
          {
            "text": "      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日",
            "lineNumber": 1243
          },
          {
            "text": "      ",
            "lineNumber": 1244
          },
          {
            "text": "      // 土曜日または日曜日の場合",
            "lineNumber": 1245
          },
          {
            "text": "      if (dayOfWeek === 0 || dayOfWeek === 6) {",
            "lineNumber": 1246
          },
          {
            "text": "        return true",
            "lineNumber": 1247
          },
          {
            "text": "      }",
            "lineNumber": 1248
          },
          {
            "text": "      ",
            "lineNumber": 1249
          },
          {
            "text": "      // 祝日判定（HolidayJpライブラリを使用）",
            "lineNumber": 1250
          },
          {
            "text": "      try {",
            "lineNumber": 1251
          },
          {
            "text": "        return HolidayJp.isHoliday(date)",
            "lineNumber": 1252
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1253
          },
          {
            "text": "        console.error('祝日判定エラー:', error)",
            "lineNumber": 1254
          },
          {
            "text": "        return false",
            "lineNumber": 1255
          },
          {
            "text": "      }",
            "lineNumber": 1256
          },
          {
            "text": "    },",
            "lineNumber": 1257
          },
          {
            "text": "    // 対象日が平日かどうかを判定",
            "lineNumber": 1258
          },
          {
            "text": "    isWeekday() {",
            "lineNumber": 1259
          },
          {
            "text": "      return !this.isHoliday",
            "lineNumber": 1260
          },
          {
            "text": "    },",
            "lineNumber": 1261
          }
        ]
      },
      "score": 0.4103949964046478
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 56,
            "column": 3
          }
        },
        "contents": "/**\n * 申請サービス\n */\nconst applicationModel = require('../models/applicationModel');\nconst { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');\n\n/**\n * 休暇申請\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst applyVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    reason,\n    contact\n  } = vacationData;\n  \n  // 日数を計算\n  const vacationDays = calculateDays(startDate, endDate);\n  \n  // 有給休暇の場合、残日数チェックと残日数の減算\n  if (vacationTypeCode === 'PAID_LEAVE') {\n    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);\n    if (vacationDays &gt; remainingDays) {\n      throw new Error('有給休暇の残日数が不足しています。');\n    }\n    \n    // 申請時に残日数を減らす\n    const fiscalYear = getFiscalYear(startDate);\n    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);\n  }\n  \n  const now = getNow();\n  \n  return await applicationModel.createVacation({\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo: contact,\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請サービス",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationModel = require('../models/applicationModel');",
            "lineNumber": 4
          },
          {
            "text": "const { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');",
            "lineNumber": 5
          },
          {
            "lineNumber": 6
          },
          {
            "text": "/**",
            "lineNumber": 7
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 8
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 9
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 10
          },
          {
            "text": " */",
            "lineNumber": 11
          },
          {
            "text": "const applyVacation = async (vacationData) =&gt; {",
            "lineNumber": 12
          },
          {
            "text": "  const {",
            "lineNumber": 13
          },
          {
            "text": "    employeeId,",
            "lineNumber": 14
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 15
          },
          {
            "text": "    startDate,",
            "lineNumber": 16
          },
          {
            "text": "    endDate,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contact",
            "lineNumber": 19
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 20
          },
          {
            "text": "  ",
            "lineNumber": 21
          },
          {
            "text": "  // 日数を計算",
            "lineNumber": 22
          },
          {
            "text": "  const vacationDays = calculateDays(startDate, endDate);",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  // 有給休暇の場合、残日数チェックと残日数の減算",
            "lineNumber": 25
          },
          {
            "text": "  if (vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 26
          },
          {
            "text": "    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 27
          },
          {
            "text": "    if (vacationDays &gt; remainingDays) {",
            "lineNumber": 28
          },
          {
            "text": "      throw new Error('有給休暇の残日数が不足しています。');",
            "lineNumber": 29
          },
          {
            "text": "    }",
            "lineNumber": 30
          },
          {
            "text": "    ",
            "lineNumber": 31
          },
          {
            "text": "    // 申請時に残日数を減らす",
            "lineNumber": 32
          },
          {
            "text": "    const fiscalYear = getFiscalYear(startDate);",
            "lineNumber": 33
          },
          {
            "text": "    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);",
            "lineNumber": 34
          },
          {
            "text": "  }",
            "lineNumber": 35
          },
          {
            "text": "  ",
            "lineNumber": 36
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 37
          },
          {
            "text": "  ",
            "lineNumber": 38
          },
          {
            "text": "  return await applicationModel.createVacation({",
            "lineNumber": 39
          },
          {
            "text": "    employeeId,",
            "lineNumber": 40
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 41
          },
          {
            "text": "    startDate,",
            "lineNumber": 42
          },
          {
            "text": "    endDate,",
            "lineNumber": 43
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 44
          },
          {
            "text": "    reason,",
            "lineNumber": 45
          },
          {
            "text": "    contactInfo: contact,",
            "lineNumber": 46
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 47
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 48
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 49
          },
          {
            "text": "  });",
            "lineNumber": 50
          },
          {
            "text": "};",
            "lineNumber": 51
          },
          {
            "lineNumber": 52
          },
          {
            "text": "/**",
            "lineNumber": 53
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 54
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 55
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 56
          },
          {
            "text": " */",
            "lineNumber": 57
          }
        ]
      },
      "score": 0.3802911639213562
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 149,
            "column": 2
          },
          "endPosition": {
            "line": 195,
            "column": 3
          }
        },
        "contents": "/**\n * 休日出勤申請状態を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請状態\n */\nconst getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {\n  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);\n  \n  let applicationStatus = null;\n\n  if (application) {\n    applicationStatus = application.APPROVAL_STATUS;\n  }\n\n  // 代休の表示条件：過去の休日出勤申請（承認済みまたは申請中）も確認\n  // 対象日から過去1年間の休日出勤申請を確認\n  const oneYearAgo = new Date(targetDate);\n  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\n  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];\n  \n  const pastApplications = await applicationModel.getApplicationsByType(\n    employeeId,\n    'HOLIDAY_WORK',\n    oneYearAgoStr,\n    targetDate\n  );\n\n  const hasPastHolidayWork = pastApplications.length &gt; 0;\n\n  return {\n    success: true,\n    hasHolidayWorkApplication: !!application || hasPastHolidayWork,\n    applicationStatus: applicationStatus,\n    hasPastHolidayWorkApplication: hasPastHolidayWork\n  };\n};\n\n/**\n * 月次承認履歴を取得\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;Object&gt;} 月次承認情報\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 152
          },
          {
            "text": " * 休日出勤申請状態を取得",
            "lineNumber": 153
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 154
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 155
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請状態",
            "lineNumber": 156
          },
          {
            "text": " */",
            "lineNumber": 157
          },
          {
            "text": "const getHolidayWorkStatus = async (employeeId, targetDate) =&gt; {",
            "lineNumber": 158
          },
          {
            "text": "  const application = await applicationModel.getApplicationStatus(employeeId, 'HOLIDAY_WORK', targetDate);",
            "lineNumber": 159
          },
          {
            "text": "  ",
            "lineNumber": 160
          },
          {
            "text": "  let applicationStatus = null;",
            "lineNumber": 161
          },
          {
            "lineNumber": 162
          },
          {
            "text": "  if (application) {",
            "lineNumber": 163
          },
          {
            "text": "    applicationStatus = application.APPROVAL_STATUS;",
            "lineNumber": 164
          },
          {
            "text": "  }",
            "lineNumber": 165
          },
          {
            "lineNumber": 166
          },
          {
            "text": "  // 代休の表示条件：過去の休日出勤申請（承認済みまたは申請中）も確認",
            "lineNumber": 167
          },
          {
            "text": "  // 対象日から過去1年間の休日出勤申請を確認",
            "lineNumber": 168
          },
          {
            "text": "  const oneYearAgo = new Date(targetDate);",
            "lineNumber": 169
          },
          {
            "text": "  oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
            "lineNumber": 170
          },
          {
            "text": "  const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
            "lineNumber": 171
          },
          {
            "text": "  ",
            "lineNumber": 172
          },
          {
            "text": "  const pastApplications = await applicationModel.getApplicationsByType(",
            "lineNumber": 173
          },
          {
            "text": "    employeeId,",
            "lineNumber": 174
          },
          {
            "text": "    'HOLIDAY_WORK',",
            "lineNumber": 175
          },
          {
            "text": "    oneYearAgoStr,",
            "lineNumber": 176
          },
          {
            "text": "    targetDate",
            "lineNumber": 177
          },
          {
            "text": "  );",
            "lineNumber": 178
          },
          {
            "lineNumber": 179
          },
          {
            "text": "  const hasPastHolidayWork = pastApplications.length &gt; 0;",
            "lineNumber": 180
          },
          {
            "lineNumber": 181
          },
          {
            "text": "  return {",
            "lineNumber": 182
          },
          {
            "text": "    success: true,",
            "lineNumber": 183
          },
          {
            "text": "    hasHolidayWorkApplication: !!application || hasPastHolidayWork,",
            "lineNumber": 184
          },
          {
            "text": "    applicationStatus: applicationStatus,",
            "lineNumber": 185
          },
          {
            "text": "    hasPastHolidayWorkApplication: hasPastHolidayWork",
            "lineNumber": 186
          },
          {
            "text": "  };",
            "lineNumber": 187
          },
          {
            "text": "};",
            "lineNumber": 188
          },
          {
            "lineNumber": 189
          },
          {
            "text": "/**",
            "lineNumber": 190
          },
          {
            "text": " * 月次承認履歴を取得",
            "lineNumber": 191
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 192
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 193
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 194
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 月次承認情報",
            "lineNumber": 195
          },
          {
            "text": " */",
            "lineNumber": 196
          }
        ]
      },
      "score": 0.36981773376464844
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 44,
            "column": 2
          },
          "endPosition": {
            "line": 73,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */\nconst getVacations = async (employeeId, startDate, endDate) =&gt; {\n  const query = &#96;\n    SELECT VACATION_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, APPROVAL_STATUS, REASON, CONTACT_INFO, CREATED_AT, UPDATED_AT\n    FROM VACATION_HISTORY\n    WHERE EMPLOYEE_ID = ? \n      AND START_DATE &lt;= ? \n      AND END_DATE &gt;= ? \n      AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n    ORDER BY START_DATE\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, endDate, startDate]);\n  return rows;\n};\n\n/**\n * 休暇残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          },
          {
            "text": "const getVacations = async (employeeId, startDate, endDate) =&gt; {",
            "lineNumber": 54
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 55
          },
          {
            "text": "    SELECT VACATION_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, APPROVAL_STATUS, REASON, CONTACT_INFO, CREATED_AT, UPDATED_AT",
            "lineNumber": 56
          },
          {
            "text": "    FROM VACATION_HISTORY",
            "lineNumber": 57
          },
          {
            "text": "    WHERE EMPLOYEE_ID = ? ",
            "lineNumber": 58
          },
          {
            "text": "      AND START_DATE &lt;= ? ",
            "lineNumber": 59
          },
          {
            "text": "      AND END_DATE &gt;= ? ",
            "lineNumber": 60
          },
          {
            "text": "      AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 61
          },
          {
            "text": "    ORDER BY START_DATE",
            "lineNumber": 62
          },
          {
            "text": "  &#96;;",
            "lineNumber": 63
          },
          {
            "text": "  ",
            "lineNumber": 64
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, endDate, startDate]);",
            "lineNumber": 65
          },
          {
            "text": "  return rows;",
            "lineNumber": 66
          },
          {
            "text": "};",
            "lineNumber": 67
          },
          {
            "lineNumber": 68
          },
          {
            "text": "/**",
            "lineNumber": 69
          },
          {
            "text": " * 休暇残日数を取得",
            "lineNumber": 70
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 71
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 72
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 73
          },
          {
            "text": " */",
            "lineNumber": 74
          }
        ]
      },
      "score": 0.3680836856365204
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\monthlySummaryService.js",
        "range": {
          "startPosition": {
            "line": 25
          },
          "endPosition": {
            "line": 416,
            "column": 1
          }
        },
        "contents": "const getMonthlySummary = async \n\n  let previousCumulativeWorkHours = 0;\n  \n  for (let day = 1; day &lt;= daysInMonth; day++) {\n    const workDate = &#96;${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}&#96;;\n    const attendance = attendanceRows.find(row =&gt; normalizeDate(row.WORK_DATE) === workDate);\n    \n    // 祝日情報を取得\n    const dateObj = new Date(year, month - 1, day);\n    let holidayName = null;\n    try {\n      // isHolidayはbooleanを返すので、betweenで祝日情報を取得\n      const holidays = HolidayJp.between(dateObj, dateObj);\n      if (holidays &amp;&amp; holidays.length &gt; 0) {\n        holidayName = holidays[0].name || null;\n      }\n    } catch (error) {\n      console.error(&#96;祝日判定エラー (${workDate}):&#96;, error);\n      holidayName = null;\n    }\n    \n    // その日の休暇情報を取得（承認済みまたは申請中の休暇）\n    const dayVacation = vacations.find(v =&gt; {\n      const startDate = normalizeDate(v.START_DATE);\n      const endDate = normalizeDate(v.END_DATE);\n      return workDate &gt;= startDate &amp;&amp; workDate &lt;= endDate &amp;&amp; \n             (v.APPROVAL_STATUS === 'APPROVED' || v.APPROVAL_STATUS === 'PENDING');\n    });\n    let vacationTypeName = null;\n    if (dayVacation &amp;&amp; dayVacation.VACATION_TYPE_CODE) {\n      vacationTypeName = vacationTypeMap[dayVacation.VACATION_TYPE_CODE] || null;\n    }\n    \n    let breakTimeTotal = 0;\n    let actualWorkHours = 0;\n    let overtimeHours = 0;\n    // 日次の法定時間内残業・法定時間外残業（分単位）を保存\n    let withinLegalOvertimeMinutes = 0;\n    let overLegalOvertimeMinutes = 0;\n    \n    if (attendance) {\n      const breakTimes = await breakTimeModel.getBreakTimes;\n  }\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 26,
                "column": 1
              },
              "endPosition": {
                "line": 26,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 26,
                "column": 7
              },
              "endPosition": {
                "line": 26,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const getMonthlySummary = async ",
            "lineNumber": 26
          },
          {
            "lineNumber": 56
          },
          {
            "text": "  let previousCumulativeWorkHours = 0;",
            "lineNumber": 57
          },
          {
            "text": "  ",
            "lineNumber": 58
          },
          {
            "text": "  for (let day = 1; day &lt;= daysInMonth; day++) {",
            "lineNumber": 59
          },
          {
            "text": "    const workDate = &#96;${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}&#96;;",
            "lineNumber": 60
          },
          {
            "text": "    const attendance = attendanceRows.find(row =&gt; normalizeDate(row.WORK_DATE) === workDate);",
            "lineNumber": 61
          },
          {
            "text": "    ",
            "lineNumber": 62
          },
          {
            "text": "    // 祝日情報を取得",
            "lineNumber": 63
          },
          {
            "text": "    const dateObj = new Date(year, month - 1, day);",
            "lineNumber": 64
          },
          {
            "text": "    let holidayName = null;",
            "lineNumber": 65
          },
          {
            "text": "    try {",
            "lineNumber": 66
          },
          {
            "text": "      // isHolidayはbooleanを返すので、betweenで祝日情報を取得",
            "lineNumber": 67
          },
          {
            "text": "      const holidays = HolidayJp.between(dateObj, dateObj);",
            "lineNumber": 68
          },
          {
            "text": "      if (holidays &amp;&amp; holidays.length &gt; 0) {",
            "lineNumber": 69
          },
          {
            "text": "        holidayName = holidays[0].name || null;",
            "lineNumber": 70
          },
          {
            "text": "      }",
            "lineNumber": 71
          },
          {
            "text": "    } catch (error) {",
            "lineNumber": 72
          },
          {
            "text": "      console.error(&#96;祝日判定エラー (${workDate}):&#96;, error);",
            "lineNumber": 73
          },
          {
            "text": "      holidayName = null;",
            "lineNumber": 74
          },
          {
            "text": "    }",
            "lineNumber": 75
          },
          {
            "text": "    ",
            "lineNumber": 76
          },
          {
            "text": "    // その日の休暇情報を取得（承認済みまたは申請中の休暇）",
            "lineNumber": 77
          },
          {
            "text": "    const dayVacation = vacations.find(v =&gt; {",
            "lineNumber": 78
          },
          {
            "text": "      const startDate = normalizeDate(v.START_DATE);",
            "lineNumber": 79
          },
          {
            "text": "      const endDate = normalizeDate(v.END_DATE);",
            "lineNumber": 80
          },
          {
            "text": "      return workDate &gt;= startDate &amp;&amp; workDate &lt;= endDate &amp;&amp; ",
            "lineNumber": 81
          },
          {
            "text": "             (v.APPROVAL_STATUS === 'APPROVED' || v.APPROVAL_STATUS === 'PENDING');",
            "lineNumber": 82
          },
          {
            "text": "    });",
            "lineNumber": 83
          },
          {
            "text": "    let vacationTypeName = null;",
            "lineNumber": 84
          },
          {
            "text": "    if (dayVacation &amp;&amp; dayVacation.VACATION_TYPE_CODE) {",
            "lineNumber": 85
          },
          {
            "text": "      vacationTypeName = vacationTypeMap[dayVacation.VACATION_TYPE_CODE] || null;",
            "lineNumber": 86
          },
          {
            "text": "    }",
            "lineNumber": 87
          },
          {
            "text": "    ",
            "lineNumber": 88
          },
          {
            "text": "    let breakTimeTotal = 0;",
            "lineNumber": 89
          },
          {
            "text": "    let actualWorkHours = 0;",
            "lineNumber": 90
          },
          {
            "text": "    let overtimeHours = 0;",
            "lineNumber": 91
          },
          {
            "text": "    // 日次の法定時間内残業・法定時間外残業（分単位）を保存",
            "lineNumber": 92
          },
          {
            "text": "    let withinLegalOvertimeMinutes = 0;",
            "lineNumber": 93
          },
          {
            "text": "    let overLegalOvertimeMinutes = 0;",
            "lineNumber": 94
          },
          {
            "text": "    ",
            "lineNumber": 95
          },
          {
            "text": "    if (attendance) {",
            "lineNumber": 96
          },
          {
            "text": "      const breakTimes = await breakTimeModel.getBreakTimes;",
            "lineNumber": 97
          },
          {
            "text": "  }",
            "lineNumber": 206
          },
          {
            "text": ";",
            "lineNumber": 417
          }
        ]
      },
      "score": 0.3663317859172821
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1952
          },
          "endPosition": {
            "line": 2000
          }
        },
        "contents": "    async loadHolidayWorkApplicationData() {\n      // 休日出勤申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success &amp;&amp; response.applicationStatus) {\n          // 申請データを取得してフォームに設定\n          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n        }\n      } catch (error) {\n        console.error('休日出勤申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadVacationApplicationData() {\n      // 休暇申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)\n        if (response.success &amp;&amp; response.applicationData) {\n          const data = response.applicationData\n          // フォームに申請データを設定\n          if (data.VACATION_TYPE_CODE) {\n            this.vacationForm.vacationType = data.VACATION_TYPE_CODE\n          }\n          if (data.START_DATE) {\n            this.vacationForm.startDate = data.START_DATE\n          }\n          if (data.END_DATE) {\n            this.vacationForm.endDate = data.END_DATE\n            this.vacationForm.enableEndDate = true\n          } else if (data.START_DATE) {\n            // 終了日がない場合は開始日と同じにする\n            this.vacationForm.endDate = data.START_DATE\n            this.vacationForm.enableEndDate = false\n          }\n          if (data.REASON) {\n            this.vacationForm.reason = data.REASON\n          }\n          if (data.CONTACT_INFO) {\n            this.vacationForm.contact = data.CONTACT_INFO\n          }\n        }\n      } catch (error) {\n        console.error('休暇申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadOvertimeApplicationData() {\n      // 残業申請データを読み込む（申請中または承認済みの場合）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadHolidayWorkApplicationData() {",
            "lineNumber": 1953
          },
          {
            "text": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1954
          },
          {
            "text": "      try {",
            "lineNumber": 1955
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1956
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationStatus) {",
            "lineNumber": 1957
          },
          {
            "text": "          // 申請データを取得してフォームに設定",
            "lineNumber": 1958
          },
          {
            "text": "          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 1959
          },
          {
            "text": "        }",
            "lineNumber": 1960
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1961
          },
          {
            "text": "        console.error('休日出勤申請データ取得エラー:', error)",
            "lineNumber": 1962
          },
          {
            "text": "      }",
            "lineNumber": 1963
          },
          {
            "text": "    },",
            "lineNumber": 1964
          },
          {
            "text": "    ",
            "lineNumber": 1965
          },
          {
            "text": "    async loadVacationApplicationData() {",
            "lineNumber": 1966
          },
          {
            "text": "      // 休暇申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1967
          },
          {
            "text": "      try {",
            "lineNumber": 1968
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)",
            "lineNumber": 1969
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationData) {",
            "lineNumber": 1970
          },
          {
            "text": "          const data = response.applicationData",
            "lineNumber": 1971
          },
          {
            "text": "          // フォームに申請データを設定",
            "lineNumber": 1972
          },
          {
            "text": "          if (data.VACATION_TYPE_CODE) {",
            "lineNumber": 1973
          },
          {
            "text": "            this.vacationForm.vacationType = data.VACATION_TYPE_CODE",
            "lineNumber": 1974
          },
          {
            "text": "          }",
            "lineNumber": 1975
          },
          {
            "text": "          if (data.START_DATE) {",
            "lineNumber": 1976
          },
          {
            "text": "            this.vacationForm.startDate = data.START_DATE",
            "lineNumber": 1977
          },
          {
            "text": "          }",
            "lineNumber": 1978
          },
          {
            "text": "          if (data.END_DATE) {",
            "lineNumber": 1979
          },
          {
            "text": "            this.vacationForm.endDate = data.END_DATE",
            "lineNumber": 1980
          },
          {
            "text": "            this.vacationForm.enableEndDate = true",
            "lineNumber": 1981
          },
          {
            "text": "          } else if (data.START_DATE) {",
            "lineNumber": 1982
          },
          {
            "text": "            // 終了日がない場合は開始日と同じにする",
            "lineNumber": 1983
          },
          {
            "text": "            this.vacationForm.endDate = data.START_DATE",
            "lineNumber": 1984
          },
          {
            "text": "            this.vacationForm.enableEndDate = false",
            "lineNumber": 1985
          },
          {
            "text": "          }",
            "lineNumber": 1986
          },
          {
            "text": "          if (data.REASON) {",
            "lineNumber": 1987
          },
          {
            "text": "            this.vacationForm.reason = data.REASON",
            "lineNumber": 1988
          },
          {
            "text": "          }",
            "lineNumber": 1989
          },
          {
            "text": "          if (data.CONTACT_INFO) {",
            "lineNumber": 1990
          },
          {
            "text": "            this.vacationForm.contact = data.CONTACT_INFO",
            "lineNumber": 1991
          },
          {
            "text": "          }",
            "lineNumber": 1992
          },
          {
            "text": "        }",
            "lineNumber": 1993
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1994
          },
          {
            "text": "        console.error('休暇申請データ取得エラー:', error)",
            "lineNumber": 1995
          },
          {
            "text": "      }",
            "lineNumber": 1996
          },
          {
            "text": "    },",
            "lineNumber": 1997
          },
          {
            "text": "    ",
            "lineNumber": 1998
          },
          {
            "text": "    async loadOvertimeApplicationData() {",
            "lineNumber": 1999
          },
          {
            "text": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2000
          }
        ]
      },
      "score": 0.36472511291503906
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 321
          },
          "endPosition": {
            "line": 343
          }
        },
        "contents": "              &lt;template v-else&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;select \n                    v-model=\"vacationForm.vacationType\" \n                    @change=\"onVacationTypeChange\"\n                    class=\"select-inline\"\n                  &gt;\n                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;\n                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;\n                      {{ type.name }}\n                    &lt;/option&gt;\n                  &lt;/select&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "              &lt;template v-else&gt;",
            "lineNumber": 322
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 323
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 324
          },
          {
            "text": "                  &lt;select ",
            "lineNumber": 325
          },
          {
            "text": "                    v-model=\"vacationForm.vacationType\" ",
            "lineNumber": 326
          },
          {
            "text": "                    @change=\"onVacationTypeChange\"",
            "lineNumber": 327
          },
          {
            "text": "                    class=\"select-inline\"",
            "lineNumber": 328
          },
          {
            "text": "                  &gt;",
            "lineNumber": 329
          },
          {
            "text": "                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;",
            "lineNumber": 330
          },
          {
            "text": "                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;",
            "lineNumber": 331
          },
          {
            "text": "                      {{ type.name }}",
            "lineNumber": 332
          },
          {
            "text": "                    &lt;/option&gt;",
            "lineNumber": 333
          },
          {
            "text": "                  &lt;/select&gt;",
            "lineNumber": 334
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 335
          },
          {
            "text": "                ",
            "lineNumber": 336
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 337
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 338
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 339
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 340
          },
          {
            "text": "                ",
            "lineNumber": 341
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 343
          }
        ]
      },
      "score": 0.3538828492164612
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 66,
            "column": 2
          },
          "endPosition": {
            "line": 94,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */\nconst getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {\n  const query = &#96;\n    SELECT REMAINING_DAYS\n    FROM V_VACATION_BALANCE_SUMMARY\n    WHERE EMPLOYEE_ID = ? AND VACATION_TYPE_CODE = ?\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, vacationTypeCode]);\n\n  if (rows.length &gt; 0) {\n    return rows[0].REMAINING_DAYS;\n  }\n\n  return 0;\n};\n\n/**\n * 申請履歴を作成\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 69
          },
          {
            "text": " * 休暇残日数を取得",
            "lineNumber": 70
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 71
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 72
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 73
          },
          {
            "text": " */",
            "lineNumber": 74
          },
          {
            "text": "const getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {",
            "lineNumber": 75
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 76
          },
          {
            "text": "    SELECT REMAINING_DAYS",
            "lineNumber": 77
          },
          {
            "text": "    FROM V_VACATION_BALANCE_SUMMARY",
            "lineNumber": 78
          },
          {
            "text": "    WHERE EMPLOYEE_ID = ? AND VACATION_TYPE_CODE = ?",
            "lineNumber": 79
          },
          {
            "text": "  &#96;;",
            "lineNumber": 80
          },
          {
            "text": "  ",
            "lineNumber": 81
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, vacationTypeCode]);",
            "lineNumber": 82
          },
          {
            "lineNumber": 83
          },
          {
            "text": "  if (rows.length &gt; 0) {",
            "lineNumber": 84
          },
          {
            "text": "    return rows[0].REMAINING_DAYS;",
            "lineNumber": 85
          },
          {
            "text": "  }",
            "lineNumber": 86
          },
          {
            "lineNumber": 87
          },
          {
            "text": "  return 0;",
            "lineNumber": 88
          },
          {
            "text": "};",
            "lineNumber": 89
          },
          {
            "lineNumber": 90
          },
          {
            "text": "/**",
            "lineNumber": 91
          },
          {
            "text": " * 申請履歴を作成",
            "lineNumber": 92
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 93
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 94
          },
          {
            "text": " */",
            "lineNumber": 95
          }
        ]
      },
      "score": 0.34874749183654785
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 472,
            "column": 2
          },
          "endPosition": {
            "line": 565,
            "column": 1
          }
        },
        "contents": "/**\n * 申請情報と承認履歴を取得（休暇申請）\n * @param {string} employeeId - 従業員ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴\n */\nconst getVacationApplicationInfo = async (employeeId, targetDate) =&gt; {\n  // 全ての申請履歴を取得（PENDING, APPROVED, NOT_SUBMITTEDを含む）\n  const query = &#96;\n    SELECT \n      vh.VACATION_ID,\n      DATE_FORMAT(vh.CREATED_AT, '%Y/%m/%d %H:%i') AS APPLICATION_DATE,\n      vh.CREATED_AT,\n      vh.APPROVAL_STATUS,\n      DATE_FORMAT(vh.UPDATED_AT, '%Y/%m/%d %H:%i') AS UPDATED_DATE,\n      e.EMPLOYEE_NAME AS ACTOR_NAME\n    FROM VACATION_HISTORY vh\n    LEFT JOIN EMPLOYEE e ON vh.EMPLOYEE_ID = e.EMPLOYEE_ID\n    WHERE vh.EMPLOYEE_ID = ? \n      AND vh.START_DATE &lt;= ?\n      AND vh.END_DATE &gt;= ?\n      AND vh.APPROVAL_STATUS IN ('PENDING', 'APPROVED', 'NOT_SUBMITTED')\n    ORDER BY vh.CREATED_AT ASC\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, targetDate, targetDate]);\n  if (rows.length === 0) {\n    return null;\n  }\n  \n  // 最新の申請（PENDINGまたはAPPROVED）を取得\n  // PENDINGまたはAPPROVEDの申請をフィルタして、CREATED_ATが最新のものを取得\n  const validApplications = rows.filter(r =&gt; r.APPROVAL_STATUS === 'PENDING' || r.APPROVAL_STATUS === 'APPROVED');\n  if (validApplications.length === 0) {\n    return null;\n  }\n  // CREATED_ATでソートして最新のものを取得\n  const latestApplication = validApplications.sort((a, b) =&gt; new Date(b.CREATED_AT) - new Date(a.CREATED_AT))[0];\n  if (!latestApplication) {\n    return null;\n  }\n  \n  // 承認履歴を構築（時系列順）\n  const history = [];\n  let seqNo = 1;\n  \n  for (let i = 0; i &lt; rows.length; i++) {\n    const app = rows[i];\n  }\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 475
          },
          {
            "text": " * 申請情報と承認履歴を取得（休暇申請）",
            "lineNumber": 476
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 477
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 478
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
            "lineNumber": 479
          },
          {
            "text": " */",
            "lineNumber": 480
          },
          {
            "text": "const getVacationApplicationInfo = async (employeeId, targetDate) =&gt; {",
            "lineNumber": 481
          },
          {
            "text": "  // 全ての申請履歴を取得（PENDING, APPROVED, NOT_SUBMITTEDを含む）",
            "lineNumber": 482
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 483
          },
          {
            "text": "    SELECT ",
            "lineNumber": 484
          },
          {
            "text": "      vh.VACATION_ID,",
            "lineNumber": 485
          },
          {
            "text": "      DATE_FORMAT(vh.CREATED_AT, '%Y/%m/%d %H:%i') AS APPLICATION_DATE,",
            "lineNumber": 486
          },
          {
            "text": "      vh.CREATED_AT,",
            "lineNumber": 487
          },
          {
            "text": "      vh.APPROVAL_STATUS,",
            "lineNumber": 488
          },
          {
            "text": "      DATE_FORMAT(vh.UPDATED_AT, '%Y/%m/%d %H:%i') AS UPDATED_DATE,",
            "lineNumber": 489
          },
          {
            "text": "      e.EMPLOYEE_NAME AS ACTOR_NAME",
            "lineNumber": 490
          },
          {
            "text": "    FROM VACATION_HISTORY vh",
            "lineNumber": 491
          },
          {
            "text": "    LEFT JOIN EMPLOYEE e ON vh.EMPLOYEE_ID = e.EMPLOYEE_ID",
            "lineNumber": 492
          },
          {
            "text": "    WHERE vh.EMPLOYEE_ID = ? ",
            "lineNumber": 493
          },
          {
            "text": "      AND vh.START_DATE &lt;= ?",
            "lineNumber": 494
          },
          {
            "text": "      AND vh.END_DATE &gt;= ?",
            "lineNumber": 495
          },
          {
            "text": "      AND vh.APPROVAL_STATUS IN ('PENDING', 'APPROVED', 'NOT_SUBMITTED')",
            "lineNumber": 496
          },
          {
            "text": "    ORDER BY vh.CREATED_AT ASC",
            "lineNumber": 497
          },
          {
            "text": "  &#96;;",
            "lineNumber": 498
          },
          {
            "text": "  ",
            "lineNumber": 499
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, targetDate, targetDate]);",
            "lineNumber": 500
          },
          {
            "text": "  if (rows.length === 0) {",
            "lineNumber": 501
          },
          {
            "text": "    return null;",
            "lineNumber": 502
          },
          {
            "text": "  }",
            "lineNumber": 503
          },
          {
            "text": "  ",
            "lineNumber": 504
          },
          {
            "text": "  // 最新の申請（PENDINGまたはAPPROVED）を取得",
            "lineNumber": 505
          },
          {
            "text": "  // PENDINGまたはAPPROVEDの申請をフィルタして、CREATED_ATが最新のものを取得",
            "lineNumber": 506
          },
          {
            "text": "  const validApplications = rows.filter(r =&gt; r.APPROVAL_STATUS === 'PENDING' || r.APPROVAL_STATUS === 'APPROVED');",
            "lineNumber": 507
          },
          {
            "text": "  if (validApplications.length === 0) {",
            "lineNumber": 508
          },
          {
            "text": "    return null;",
            "lineNumber": 509
          },
          {
            "text": "  }",
            "lineNumber": 510
          },
          {
            "text": "  // CREATED_ATでソートして最新のものを取得",
            "lineNumber": 511
          },
          {
            "text": "  const latestApplication = validApplications.sort((a, b) =&gt; new Date(b.CREATED_AT) - new Date(a.CREATED_AT))[0];",
            "lineNumber": 512
          },
          {
            "text": "  if (!latestApplication) {",
            "lineNumber": 513
          },
          {
            "text": "    return null;",
            "lineNumber": 514
          },
          {
            "text": "  }",
            "lineNumber": 515
          },
          {
            "text": "  ",
            "lineNumber": 516
          },
          {
            "text": "  // 承認履歴を構築（時系列順）",
            "lineNumber": 517
          },
          {
            "text": "  const history = [];",
            "lineNumber": 518
          },
          {
            "text": "  let seqNo = 1;",
            "lineNumber": 519
          },
          {
            "text": "  ",
            "lineNumber": 520
          },
          {
            "text": "  for (let i = 0; i &lt; rows.length; i++) {",
            "lineNumber": 521
          },
          {
            "text": "    const app = rows[i];",
            "lineNumber": 522
          },
          {
            "text": "  }",
            "lineNumber": 558
          },
          {
            "text": ";",
            "lineNumber": 566
          }
        ]
      },
      "score": 0.3485637903213501
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 52,
            "column": 3
          }
        },
        "contents": "/**\n * 申請モデル\n */\nconst db = require('../config/database');\n\n/**\n * 休暇申請を作成\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst createVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo,\n    approvalStatus,\n    createdAt,\n    updatedAt\n  } = vacationData;\n  \n  const query = &#96;\n    INSERT INTO VACATION_HISTORY \n    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n  &#96;;\n  \n  const [result] = await db.execute(query, [\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason || null,\n    contactInfo || null,\n    approvalStatus || 'PENDING',\n    createdAt,\n    updatedAt\n  ]);\n  \n  return result.insertId;\n};\n\n/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請モデル",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const db = require('../config/database');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請を作成",
            "lineNumber": 7
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 8
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 9
          },
          {
            "text": " */",
            "lineNumber": 10
          },
          {
            "text": "const createVacation = async (vacationData) =&gt; {",
            "lineNumber": 11
          },
          {
            "text": "  const {",
            "lineNumber": 12
          },
          {
            "text": "    employeeId,",
            "lineNumber": 13
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 14
          },
          {
            "text": "    startDate,",
            "lineNumber": 15
          },
          {
            "text": "    endDate,",
            "lineNumber": 16
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contactInfo,",
            "lineNumber": 19
          },
          {
            "text": "    approvalStatus,",
            "lineNumber": 20
          },
          {
            "text": "    createdAt,",
            "lineNumber": 21
          },
          {
            "text": "    updatedAt",
            "lineNumber": 22
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 25
          },
          {
            "text": "    INSERT INTO VACATION_HISTORY ",
            "lineNumber": 26
          },
          {
            "text": "    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)",
            "lineNumber": 27
          },
          {
            "text": "    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
            "lineNumber": 28
          },
          {
            "text": "  &#96;;",
            "lineNumber": 29
          },
          {
            "text": "  ",
            "lineNumber": 30
          },
          {
            "text": "  const [result] = await db.execute(query, [",
            "lineNumber": 31
          },
          {
            "text": "    employeeId,",
            "lineNumber": 32
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 33
          },
          {
            "text": "    startDate,",
            "lineNumber": 34
          },
          {
            "text": "    endDate,",
            "lineNumber": 35
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 36
          },
          {
            "text": "    reason || null,",
            "lineNumber": 37
          },
          {
            "text": "    contactInfo || null,",
            "lineNumber": 38
          },
          {
            "text": "    approvalStatus || 'PENDING',",
            "lineNumber": 39
          },
          {
            "text": "    createdAt,",
            "lineNumber": 40
          },
          {
            "text": "    updatedAt",
            "lineNumber": 41
          },
          {
            "text": "  ]);",
            "lineNumber": 42
          },
          {
            "text": "  ",
            "lineNumber": 43
          },
          {
            "text": "  return result.insertId;",
            "lineNumber": 44
          },
          {
            "text": "};",
            "lineNumber": 45
          },
          {
            "lineNumber": 46
          },
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          }
        ]
      },
      "score": 0.34768399596214294
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 289
          },
          "endPosition": {
            "line": 326
          }
        },
        "contents": "CREATE TABLE VACATION_HISTORY (\n    VACATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇取得ID',\n    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID',\n    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',\n    START_DATE DATE NOT NULL COMMENT '開始日',\n    END_DATE DATE NOT NULL COMMENT '終了日',\n    VACATION_DAYS DECIMAL(4,1) NOT NULL COMMENT '取得日数',\n    HALF_DAY_TYPE VARCHAR(20) COMMENT '半休種別(午前/午後)',\n    REASON TEXT COMMENT '取得理由',\n    CONTACT_INFO TEXT COMMENT '連絡先',\n    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態(申請中/承認済/却下)',\n    APPROVED_BY VARCHAR(50) COMMENT '承認者',\n    APPROVED_AT DATETIME COMMENT '承認日時',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (VACATION_ID),\n    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,\n    FOREIGN KEY (VACATION_TYPE_CODE) REFERENCES VACATION_TYPE(VACATION_TYPE_CODE),\n    INDEX IDX_EMP_DATE (EMPLOYEE_ID, START_DATE, END_DATE),\n    INDEX IDX_APPROVAL (APPROVAL_STATUS)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇取得履歴';\n\n-- ====================================================================\n-- マスタデータの投入\n-- ====================================================================\n\n-- 1. 勤務場所マスタの初期データ\nINSERT INTO WORK_LOCATION (LOCATION_CODE, LOCATION_NAME, DISPLAY_ORDER, IS_ACTIVE) VALUES\n('COMMUTE', '通勤', 1, TRUE),\n('REMOTE', '在宅', 2, TRUE),\n('DIRECT', '直行、直帰、直行直帰', 3, TRUE),\n('BUSINESS_TRIP', '出張', 4, TRUE);\n\n-- 2. 休暇種別マスタの初期データ\nINSERT INTO VACATION_TYPE (VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER, IS_ACTIVE) VALUES\n('PAID_LEAVE', '有給休暇', '有給', TRUE, 20.0, 1, TRUE),\n('SUMMER_LEAVE', '夏季休暇', '特別', TRUE, 3.0, 2, TRUE),",
        "signatures": {},
        "detailedLines": [
          {
            "text": "CREATE TABLE VACATION_HISTORY (",
            "lineNumber": 290
          },
          {
            "text": "    VACATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇取得ID',",
            "lineNumber": 291
          },
          {
            "text": "    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID',",
            "lineNumber": 292
          },
          {
            "text": "    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',",
            "lineNumber": 293
          },
          {
            "text": "    START_DATE DATE NOT NULL COMMENT '開始日',",
            "lineNumber": 294
          },
          {
            "text": "    END_DATE DATE NOT NULL COMMENT '終了日',",
            "lineNumber": 295
          },
          {
            "text": "    VACATION_DAYS DECIMAL(4,1) NOT NULL COMMENT '取得日数',",
            "lineNumber": 296
          },
          {
            "text": "    HALF_DAY_TYPE VARCHAR(20) COMMENT '半休種別(午前/午後)',",
            "lineNumber": 297
          },
          {
            "text": "    REASON TEXT COMMENT '取得理由',",
            "lineNumber": 298
          },
          {
            "text": "    CONTACT_INFO TEXT COMMENT '連絡先',",
            "lineNumber": 299
          },
          {
            "text": "    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態(申請中/承認済/却下)',",
            "lineNumber": 300
          },
          {
            "text": "    APPROVED_BY VARCHAR(50) COMMENT '承認者',",
            "lineNumber": 301
          },
          {
            "text": "    APPROVED_AT DATETIME COMMENT '承認日時',",
            "lineNumber": 302
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 303
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 304
          },
          {
            "text": "    PRIMARY KEY (VACATION_ID),",
            "lineNumber": 305
          },
          {
            "text": "    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,",
            "lineNumber": 306
          },
          {
            "text": "    FOREIGN KEY (VACATION_TYPE_CODE) REFERENCES VACATION_TYPE(VACATION_TYPE_CODE),",
            "lineNumber": 307
          },
          {
            "text": "    INDEX IDX_EMP_DATE (EMPLOYEE_ID, START_DATE, END_DATE),",
            "lineNumber": 308
          },
          {
            "text": "    INDEX IDX_APPROVAL (APPROVAL_STATUS)",
            "lineNumber": 309
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇取得履歴';",
            "lineNumber": 310
          },
          {
            "lineNumber": 311
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 312
          },
          {
            "text": "-- マスタデータの投入",
            "lineNumber": 313
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 314
          },
          {
            "lineNumber": 315
          },
          {
            "text": "-- 1. 勤務場所マスタの初期データ",
            "lineNumber": 316
          },
          {
            "text": "INSERT INTO WORK_LOCATION (LOCATION_CODE, LOCATION_NAME, DISPLAY_ORDER, IS_ACTIVE) VALUES",
            "lineNumber": 317
          },
          {
            "text": "('COMMUTE', '通勤', 1, TRUE),",
            "lineNumber": 318
          },
          {
            "text": "('REMOTE', '在宅', 2, TRUE),",
            "lineNumber": 319
          },
          {
            "text": "('DIRECT', '直行、直帰、直行直帰', 3, TRUE),",
            "lineNumber": 320
          },
          {
            "text": "('BUSINESS_TRIP', '出張', 4, TRUE);",
            "lineNumber": 321
          },
          {
            "lineNumber": 322
          },
          {
            "text": "-- 2. 休暇種別マスタの初期データ",
            "lineNumber": 323
          },
          {
            "text": "INSERT INTO VACATION_TYPE (VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER, IS_ACTIVE) VALUES",
            "lineNumber": 324
          },
          {
            "text": "('PAID_LEAVE', '有給休暇', '有給', TRUE, 20.0, 1, TRUE),",
            "lineNumber": 325
          },
          {
            "text": "('SUMMER_LEAVE', '夏季休暇', '特別', TRUE, 3.0, 2, TRUE),",
            "lineNumber": 326
          }
        ]
      },
      "score": 0.3472172021865845
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 304
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const cancelApplication = async \n\n    case 'VACATION': {\n      // 休暇申請の取り消し\n      // 申請情報を取得\n      const vacation = await applicationModel.getVacationById(applicationId);\n      if (!vacation || vacation.EMPLOYEE_ID !== employeeId) {\n        throw new Error('休暇申請が見つかりません。');\n      }\n      \n      // 有給休暇の場合、残日数を戻す\n      if (vacation.VACATION_TYPE_CODE === 'PAID_LEAVE') {\n        const fiscalYear = getFiscalYear(vacation.START_DATE);\n        await applicationModel.increaseVacationBalance(\n          employeeId,\n          vacation.VACATION_TYPE_CODE,\n          vacation.VACATION_DAYS,\n          fiscalYear\n        );\n      }\n      \n      // 申請状態をNOT_SUBMITTEDに更新\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE VACATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            UPDATED_AT = NOW()\n        WHERE VACATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId]);\n      break;\n    }\n    case 'HOLIDAY_WORK': {\n      // 休日出勤申請の取り消し\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 305,
                "column": 1
              },
              "endPosition": {
                "line": 305,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 305,
                "column": 7
              },
              "endPosition": {
                "line": 305,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const cancelApplication = async ",
            "lineNumber": 305
          },
          {
            "lineNumber": 331
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 332
          },
          {
            "text": "      // 休暇申請の取り消し",
            "lineNumber": 333
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 334
          },
          {
            "text": "      const vacation = await applicationModel.getVacationById(applicationId);",
            "lineNumber": 335
          },
          {
            "text": "      if (!vacation || vacation.EMPLOYEE_ID !== employeeId) {",
            "lineNumber": 336
          },
          {
            "text": "        throw new Error('休暇申請が見つかりません。');",
            "lineNumber": 337
          },
          {
            "text": "      }",
            "lineNumber": 338
          },
          {
            "text": "      ",
            "lineNumber": 339
          },
          {
            "text": "      // 有給休暇の場合、残日数を戻す",
            "lineNumber": 340
          },
          {
            "text": "      if (vacation.VACATION_TYPE_CODE === 'PAID_LEAVE') {",
            "lineNumber": 341
          },
          {
            "text": "        const fiscalYear = getFiscalYear(vacation.START_DATE);",
            "lineNumber": 342
          },
          {
            "text": "        await applicationModel.increaseVacationBalance(",
            "lineNumber": 343
          },
          {
            "text": "          employeeId,",
            "lineNumber": 344
          },
          {
            "text": "          vacation.VACATION_TYPE_CODE,",
            "lineNumber": 345
          },
          {
            "text": "          vacation.VACATION_DAYS,",
            "lineNumber": 346
          },
          {
            "text": "          fiscalYear",
            "lineNumber": 347
          },
          {
            "text": "        );",
            "lineNumber": 348
          },
          {
            "text": "      }",
            "lineNumber": 349
          },
          {
            "text": "      ",
            "lineNumber": 350
          },
          {
            "text": "      // 申請状態をNOT_SUBMITTEDに更新",
            "lineNumber": 351
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 352
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 353
          },
          {
            "text": "        UPDATE VACATION_HISTORY",
            "lineNumber": 354
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 355
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 356
          },
          {
            "text": "        WHERE VACATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 357
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 358
          },
          {
            "text": "      &#96;;",
            "lineNumber": 359
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId]);",
            "lineNumber": 360
          },
          {
            "text": "      break;",
            "lineNumber": 361
          },
          {
            "text": "    }",
            "lineNumber": 362
          },
          {
            "text": "    case 'HOLIDAY_WORK': {",
            "lineNumber": 363
          },
          {
            "text": "      // 休日出勤申請の取り消し",
            "lineNumber": 364
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）",
            "lineNumber": 365
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.34663665294647217
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 147
          },
          "endPosition": {
            "line": 176
          }
        },
        "contents": "| **PROJECT_CODE** | VARCHAR(50) | NULL | - | プロジェクトコード。関連プロジェクトを識別します。例: &#96;25152025-300&#96; |\n| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると工数入力の選択肢から除外されます。 |\n| **START_DATE** | DATE | NULL | - | ジョブの開始日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |\n| **END_DATE** | DATE | NULL | - | ジョブの終了日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n---\n\n### 4. 休暇種別マスタ (VACATION_TYPE)\n\n休暇の種類と付与ルールを管理するマスタテーブルです。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |\n|---------|-----|------|-----------|------|\n| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **主キー**。休暇種別を識別するコード。例: &#96;PAID_LEAVE&#96;（有給休暇）、&#96;SUMMER_LEAVE&#96;（夏季休暇） |\n| **VACATION_TYPE_NAME** | VARCHAR(50) | NOT NULL | - | 休暇種別の表示名。画面に表示されます。例: &#96;有給休暇&#96;、&#96;夏季休暇&#96; |\n| **VACATION_CATEGORY** | VARCHAR(20) | NOT NULL | - | 休暇のカテゴリ。分類に使用します。例: &#96;有給&#96;、&#96;特別&#96; |\n| **IS_PAID** | BOOLEAN | NULL | &#96;FALSE&#96; | 有給フラグ。&#96;TRUE&#96;=有給（給与支給あり）、&#96;FALSE&#96;=無給。 |\n| **ANNUAL_GRANT_DAYS** | DECIMAL(4,1) | NULL | &#96;0&#96; | 年間付与日数。例: &#96;20.0&#96;=年間20日付与、&#96;3.0&#96;=年間3日付与 |\n| **DISPLAY_ORDER** | INT | NOT NULL | - | 表示順序。小さい順に表示されます。 |\n| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると選択肢から非表示になります。 |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n---\n\n### 5. お知らせマスタ (NOTIFICATION)",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| **PROJECT_CODE** | VARCHAR(50) | NULL | - | プロジェクトコード。関連プロジェクトを識別します。例: &#96;25152025-300&#96; |",
            "lineNumber": 148
          },
          {
            "text": "| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると工数入力の選択肢から除外されます。 |",
            "lineNumber": 149
          },
          {
            "text": "| **START_DATE** | DATE | NULL | - | ジョブの開始日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |",
            "lineNumber": 150
          },
          {
            "text": "| **END_DATE** | DATE | NULL | - | ジョブの終了日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |",
            "lineNumber": 151
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 152
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 153
          },
          {
            "lineNumber": 154
          },
          {
            "text": "---",
            "lineNumber": 155
          },
          {
            "lineNumber": 156
          },
          {
            "text": "### 4. 休暇種別マスタ (VACATION_TYPE)",
            "lineNumber": 157
          },
          {
            "lineNumber": 158
          },
          {
            "text": "休暇の種類と付与ルールを管理するマスタテーブルです。",
            "lineNumber": 159
          },
          {
            "lineNumber": 160
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 161
          },
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 162
          },
          {
            "text": "| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **主キー**。休暇種別を識別するコード。例: &#96;PAID_LEAVE&#96;（有給休暇）、&#96;SUMMER_LEAVE&#96;（夏季休暇） |",
            "lineNumber": 163
          },
          {
            "text": "| **VACATION_TYPE_NAME** | VARCHAR(50) | NOT NULL | - | 休暇種別の表示名。画面に表示されます。例: &#96;有給休暇&#96;、&#96;夏季休暇&#96; |",
            "lineNumber": 164
          },
          {
            "text": "| **VACATION_CATEGORY** | VARCHAR(20) | NOT NULL | - | 休暇のカテゴリ。分類に使用します。例: &#96;有給&#96;、&#96;特別&#96; |",
            "lineNumber": 165
          },
          {
            "text": "| **IS_PAID** | BOOLEAN | NULL | &#96;FALSE&#96; | 有給フラグ。&#96;TRUE&#96;=有給（給与支給あり）、&#96;FALSE&#96;=無給。 |",
            "lineNumber": 166
          },
          {
            "text": "| **ANNUAL_GRANT_DAYS** | DECIMAL(4,1) | NULL | &#96;0&#96; | 年間付与日数。例: &#96;20.0&#96;=年間20日付与、&#96;3.0&#96;=年間3日付与 |",
            "lineNumber": 167
          },
          {
            "text": "| **DISPLAY_ORDER** | INT | NOT NULL | - | 表示順序。小さい順に表示されます。 |",
            "lineNumber": 168
          },
          {
            "text": "| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると選択肢から非表示になります。 |",
            "lineNumber": 169
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 170
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 171
          },
          {
            "lineNumber": 172
          },
          {
            "text": "---",
            "lineNumber": 173
          },
          {
            "lineNumber": 174
          },
          {
            "text": "### 5. お知らせマスタ (NOTIFICATION)",
            "lineNumber": 175
          }
        ]
      },
      "score": 0.3459770977497101
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 223
          },
          "endPosition": {
            "line": 263
          }
        },
        "contents": "      &lt;!-- 休暇申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;\n            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"tab active\"&gt;\n            &lt;span class=\"tab-title\"&gt;{{ getTabName('vacation') }}&lt;/span&gt;\n            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=\"form-container\"&gt;\n          &lt;div class=\"form-content-wrapper\"&gt;\n            &lt;div class=\"form-content-left\"&gt;\n              &lt;!-- 申請中または承認済みの場合：読み取り専用の詳細表示 --&gt;\n              &lt;template v-if=\"isPendingOrApproved('vacation')\"&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;\n                    {{ formatDate(vacationForm.startDate) }}\n                    &lt;span v-if=\"vacationForm.enableEndDate &amp;&amp; vacationForm.endDate &amp;&amp; vacationForm.endDate !== vacationForm.startDate\"&gt;\n                      ～ {{ formatDate(vacationForm.endDate) }}\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;!-- 休暇申請フォーム --&gt;",
            "lineNumber": 224
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;",
            "lineNumber": 225
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 226
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 227
          },
          {
            "text": "          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;",
            "lineNumber": 228
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;",
            "lineNumber": 229
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 230
          },
          {
            "text": "          &lt;div class=\"tab active\"&gt;",
            "lineNumber": 231
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;{{ getTabName('vacation') }}&lt;/span&gt;",
            "lineNumber": 232
          },
          {
            "text": "            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;",
            "lineNumber": 233
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 234
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 235
          },
          {
            "text": "        ",
            "lineNumber": 236
          },
          {
            "text": "        &lt;div class=\"form-container\"&gt;",
            "lineNumber": 237
          },
          {
            "text": "          &lt;div class=\"form-content-wrapper\"&gt;",
            "lineNumber": 238
          },
          {
            "text": "            &lt;div class=\"form-content-left\"&gt;",
            "lineNumber": 239
          },
          {
            "text": "              &lt;!-- 申請中または承認済みの場合：読み取り専用の詳細表示 --&gt;",
            "lineNumber": 240
          },
          {
            "text": "              &lt;template v-if=\"isPendingOrApproved('vacation')\"&gt;",
            "lineNumber": 241
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 242
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 243
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;",
            "lineNumber": 244
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 245
          },
          {
            "text": "                ",
            "lineNumber": 246
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 247
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 248
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 249
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 250
          },
          {
            "text": "                ",
            "lineNumber": 251
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 252
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 253
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;",
            "lineNumber": 254
          },
          {
            "text": "                    {{ formatDate(vacationForm.startDate) }}",
            "lineNumber": 255
          },
          {
            "text": "                    &lt;span v-if=\"vacationForm.enableEndDate &amp;&amp; vacationForm.endDate &amp;&amp; vacationForm.endDate !== vacationForm.startDate\"&gt;",
            "lineNumber": 256
          },
          {
            "text": "                      ～ {{ formatDate(vacationForm.endDate) }}",
            "lineNumber": 257
          },
          {
            "text": "                    &lt;/span&gt;",
            "lineNumber": 258
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 259
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 260
          },
          {
            "text": "                ",
            "lineNumber": 261
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 262
          },
          {
            "text": "                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
            "lineNumber": 263
          }
        ]
      },
      "score": 0.3433155417442322
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\monthlySummaryService.js",
        "range": {
          "startPosition": {
            "line": 25
          },
          "endPosition": {
            "line": 416,
            "column": 1
          }
        },
        "contents": "const getMonthlySummary = async \n\n  \n  const monthlySummary = {\n    scheduledWorkDays,\n    actualWorkDays,\n    legalHolidayWorkDays,\n    scheduledHolidayWorkDays,\n    scheduledWorkHours,\n    totalWorkHours,\n    totalWorkHoursExcludingLegalHoliday,\n    overUnderHours,\n    currentMonthOvertime,\n    safetyOvertime,\n    legalWorkHours,\n    actualWorkHoursExcludingLegalHoliday,\n    withinLegalOvertime,\n    overLegalOvertime,\n    legalHolidayWorkHours,\n    nightWorkHours,\n    overtimeOver45Hours,\n    overtimeOver60Hours,\n    lateCount,\n    lateHours,\n    earlyLeaveCount,\n    earlyLeaveHours,\n    privateOutingCount,\n    privateOutingHours,\n    totalBreakHours\n  };\n  \n  // 4. 休暇情報取得（月次サマリー用の集計）\n  // 有給取得日数\n  const paidLeaveDays = vacations\n    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')\n    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);\n  \n  // 有給取得日数内訳\n  let paidLeaveTypeName = '';\n\n  if (paidLeaveDays &gt; 0) {\n    paidLeaveTypeName = '年次有給休暇';\n  }\n\n  // 時間単位有休取得時間（VACATION_DAYSが1未満の有給休暇を時間単位として集計）\n  const hourlyPaidLeaveHours = vacations\n    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED' &amp;&amp; parseFloat(v.VACATION_DAYS) &lt; 1)\n    .reduce((sum, v) =&gt; {\n      // VACATION_DAYSが1未満の場合、時間単位として扱う（例：0.5日 = 4時間）\n      const days = parseFloat(v.VACATION_DAYS) || 0;\n      // 1日 = 8時間として計算\n      return sum + (days * 8);\n    }, 0);\n\n  // 代休取得日数\n  const substituteHolidayDays = vacations\n    .filter(v =&gt; v.VACATION_TYPE_CODE === 'SUBSTITUTE_HOLIDAY' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')\n    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);\n\n  // 代休取得日数内訳\n  let substituteHolidayTypeName = '';\n\n  if (substituteHolidayDays &gt; 0) {\n    substituteHolidayTypeName = '代休';\n  }\n  \n  // 無給休暇日数（簡易的に0とする）\n  const unpaidLeaveDays = 0;\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 26,
                "column": 1
              },
              "endPosition": {
                "line": 26,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 26,
                "column": 7
              },
              "endPosition": {
                "line": 26,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const getMonthlySummary = async ",
            "lineNumber": 26
          },
          {
            "lineNumber": 307
          },
          {
            "text": "  ",
            "lineNumber": 308
          },
          {
            "text": "  const monthlySummary = {",
            "lineNumber": 309
          },
          {
            "text": "    scheduledWorkDays,",
            "lineNumber": 310
          },
          {
            "text": "    actualWorkDays,",
            "lineNumber": 311
          },
          {
            "text": "    legalHolidayWorkDays,",
            "lineNumber": 312
          },
          {
            "text": "    scheduledHolidayWorkDays,",
            "lineNumber": 313
          },
          {
            "text": "    scheduledWorkHours,",
            "lineNumber": 314
          },
          {
            "text": "    totalWorkHours,",
            "lineNumber": 315
          },
          {
            "text": "    totalWorkHoursExcludingLegalHoliday,",
            "lineNumber": 316
          },
          {
            "text": "    overUnderHours,",
            "lineNumber": 317
          },
          {
            "text": "    currentMonthOvertime,",
            "lineNumber": 318
          },
          {
            "text": "    safetyOvertime,",
            "lineNumber": 319
          },
          {
            "text": "    legalWorkHours,",
            "lineNumber": 320
          },
          {
            "text": "    actualWorkHoursExcludingLegalHoliday,",
            "lineNumber": 321
          },
          {
            "text": "    withinLegalOvertime,",
            "lineNumber": 322
          },
          {
            "text": "    overLegalOvertime,",
            "lineNumber": 323
          },
          {
            "text": "    legalHolidayWorkHours,",
            "lineNumber": 324
          },
          {
            "text": "    nightWorkHours,",
            "lineNumber": 325
          },
          {
            "text": "    overtimeOver45Hours,",
            "lineNumber": 326
          },
          {
            "text": "    overtimeOver60Hours,",
            "lineNumber": 327
          },
          {
            "text": "    lateCount,",
            "lineNumber": 328
          },
          {
            "text": "    lateHours,",
            "lineNumber": 329
          },
          {
            "text": "    earlyLeaveCount,",
            "lineNumber": 330
          },
          {
            "text": "    earlyLeaveHours,",
            "lineNumber": 331
          },
          {
            "text": "    privateOutingCount,",
            "lineNumber": 332
          },
          {
            "text": "    privateOutingHours,",
            "lineNumber": 333
          },
          {
            "text": "    totalBreakHours",
            "lineNumber": 334
          },
          {
            "text": "  };",
            "lineNumber": 335
          },
          {
            "text": "  ",
            "lineNumber": 336
          },
          {
            "text": "  // 4. 休暇情報取得（月次サマリー用の集計）",
            "lineNumber": 337
          },
          {
            "text": "  // 有給取得日数",
            "lineNumber": 338
          },
          {
            "text": "  const paidLeaveDays = vacations",
            "lineNumber": 339
          },
          {
            "text": "    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 340
          },
          {
            "text": "    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);",
            "lineNumber": 341
          },
          {
            "text": "  ",
            "lineNumber": 342
          },
          {
            "text": "  // 有給取得日数内訳",
            "lineNumber": 343
          },
          {
            "text": "  let paidLeaveTypeName = '';",
            "lineNumber": 344
          },
          {
            "lineNumber": 345
          },
          {
            "text": "  if (paidLeaveDays &gt; 0) {",
            "lineNumber": 346
          },
          {
            "text": "    paidLeaveTypeName = '年次有給休暇';",
            "lineNumber": 347
          },
          {
            "text": "  }",
            "lineNumber": 348
          },
          {
            "lineNumber": 349
          },
          {
            "text": "  // 時間単位有休取得時間（VACATION_DAYSが1未満の有給休暇を時間単位として集計）",
            "lineNumber": 350
          },
          {
            "text": "  const hourlyPaidLeaveHours = vacations",
            "lineNumber": 351
          },
          {
            "text": "    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED' &amp;&amp; parseFloat(v.VACATION_DAYS) &lt; 1)",
            "lineNumber": 352
          },
          {
            "text": "    .reduce((sum, v) =&gt; {",
            "lineNumber": 353
          },
          {
            "text": "      // VACATION_DAYSが1未満の場合、時間単位として扱う（例：0.5日 = 4時間）",
            "lineNumber": 354
          },
          {
            "text": "      const days = parseFloat(v.VACATION_DAYS) || 0;",
            "lineNumber": 355
          },
          {
            "text": "      // 1日 = 8時間として計算",
            "lineNumber": 356
          },
          {
            "text": "      return sum + (days * 8);",
            "lineNumber": 357
          },
          {
            "text": "    }, 0);",
            "lineNumber": 358
          },
          {
            "lineNumber": 359
          },
          {
            "text": "  // 代休取得日数",
            "lineNumber": 360
          },
          {
            "text": "  const substituteHolidayDays = vacations",
            "lineNumber": 361
          },
          {
            "text": "    .filter(v =&gt; v.VACATION_TYPE_CODE === 'SUBSTITUTE_HOLIDAY' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 362
          },
          {
            "text": "    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);",
            "lineNumber": 363
          },
          {
            "lineNumber": 364
          },
          {
            "text": "  // 代休取得日数内訳",
            "lineNumber": 365
          },
          {
            "text": "  let substituteHolidayTypeName = '';",
            "lineNumber": 366
          },
          {
            "lineNumber": 367
          },
          {
            "text": "  if (substituteHolidayDays &gt; 0) {",
            "lineNumber": 368
          },
          {
            "text": "    substituteHolidayTypeName = '代休';",
            "lineNumber": 369
          },
          {
            "text": "  }",
            "lineNumber": 370
          },
          {
            "text": "  ",
            "lineNumber": 371
          },
          {
            "text": "  // 無給休暇日数（簡易的に0とする）",
            "lineNumber": 372
          },
          {
            "text": "  const unpaidLeaveDays = 0;",
            "lineNumber": 373
          },
          {
            "text": ";",
            "lineNumber": 417
          }
        ]
      },
      "score": 0.34090331196784973
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1485
          },
          "endPosition": {
            "line": 1513
          }
        },
        "contents": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます\n- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）\n- 表示スタイル: 赤い点線のボックスで表示されます\n\n##### 代休取得の期限\n- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります\n- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります\n\n##### 代休申請の手順\n1. [休暇申請] タブを選択します\n2. 休暇種類のプルダウンから [代休] を選択します\n3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）\n4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**\n  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します\n  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n#### 申請取り消し時の動作\n- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます\n  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます",
            "lineNumber": 1486
          },
          {
            "text": "- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
            "lineNumber": 1487
          },
          {
            "text": "- 表示スタイル: 赤い点線のボックスで表示されます",
            "lineNumber": 1488
          },
          {
            "lineNumber": 1489
          },
          {
            "text": "##### 代休取得の期限",
            "lineNumber": 1490
          },
          {
            "text": "- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります",
            "lineNumber": 1491
          },
          {
            "text": "- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります",
            "lineNumber": 1492
          },
          {
            "lineNumber": 1493
          },
          {
            "text": "##### 代休申請の手順",
            "lineNumber": 1494
          },
          {
            "text": "1. [休暇申請] タブを選択します",
            "lineNumber": 1495
          },
          {
            "text": "2. 休暇種類のプルダウンから [代休] を選択します",
            "lineNumber": 1496
          },
          {
            "text": "3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）",
            "lineNumber": 1497
          },
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1498
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1499
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1500
          },
          {
            "lineNumber": 1501
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1502
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1503
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1504
          },
          {
            "text": "- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**",
            "lineNumber": 1505
          },
          {
            "text": "  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します",
            "lineNumber": 1506
          },
          {
            "text": "  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）",
            "lineNumber": 1507
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1508
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1509
          },
          {
            "lineNumber": 1510
          },
          {
            "text": "#### 申請取り消し時の動作",
            "lineNumber": 1511
          },
          {
            "text": "- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます",
            "lineNumber": 1512
          },
          {
            "text": "  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
            "lineNumber": 1513
          }
        ]
      },
      "score": 0.3389956057071686
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1424
          },
          "endPosition": {
            "line": 1462
          }
        },
        "contents": "- **表示条件**: \n  - 有給休暇、特別休暇など、休暇種別が設定されている日\n  - VACATION_HISTORYテーブルに該当日の休暇申請レコードが存在する\n  - APPROVAL_STATUS=PENDING（申請中）またはAPPROVED（承認済み）\n\n#### 休暇申請の扱い\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされる\n- 清算期間の所定労働時間に算入される\n- 休暇申請中（オレンジ色の行）は、出勤時刻・退勤時刻の編集不可\n\n#### 休暇申請時の表示制御\n休暇申請がある日（&#96;hasVacation=true&#96;）の場合、以下の表示制御を行う：\n\n1. **申請状況アイコンの表示**\n   - 休暇申請の承認状態（&#96;VACATION_HISTORY.APPROVAL_STATUS&#96;）に応じて表示\n   - &#96;PENDING&#96;（申請中）: ↑マーク（黒色）を表示\n   - &#96;APPROVED&#96;（承認済み）: ✓チェックマーク（青色の丸に白い✓）を表示\n   - 日次確定申請の状態とは独立して表示される\n\n2. **日次確定ボタンの非表示**\n   - 休暇申請がある場合は、日次確定ボタン（+アイコン）を非表示にする\n   - 休暇申請日は日次確定申請を行わないため\n\n3. **出社・退社・勤務場所のテキストボックスの非表示**\n   - 休暇申請がある場合は、出社時刻・退社時刻・勤務場所のテキストボックスを非表示にする\n   - 休暇申請日は出退社時刻や勤務場所の入力が不要なため\n\n4. **工数実績の+アイコンの非表示**\n   - 休暇申請がある場合は、工数実績の+アイコンを非表示にする\n   - 休暇申請日は工数実績の入力が不要なため\n\n### 日次確定申請の条件\n以下の条件を満たす必要があります:\n1. 出退社時刻が入力されていること\n2. 勤務場所が設定されていること\n3. 工数合計と実労働時間が一致していること\n4. 手入力の場合は備考に理由が入力されていること",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **表示条件**: ",
            "lineNumber": 1425
          },
          {
            "text": "  - 有給休暇、特別休暇など、休暇種別が設定されている日",
            "lineNumber": 1426
          },
          {
            "text": "  - VACATION_HISTORYテーブルに該当日の休暇申請レコードが存在する",
            "lineNumber": 1427
          },
          {
            "text": "  - APPROVAL_STATUS=PENDING（申請中）またはAPPROVED（承認済み）",
            "lineNumber": 1428
          },
          {
            "lineNumber": 1429
          },
          {
            "text": "#### 休暇申請の扱い",
            "lineNumber": 1430
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされる",
            "lineNumber": 1431
          },
          {
            "text": "- 清算期間の所定労働時間に算入される",
            "lineNumber": 1432
          },
          {
            "text": "- 休暇申請中（オレンジ色の行）は、出勤時刻・退勤時刻の編集不可",
            "lineNumber": 1433
          },
          {
            "lineNumber": 1434
          },
          {
            "text": "#### 休暇申請時の表示制御",
            "lineNumber": 1435
          },
          {
            "text": "休暇申請がある日（&#96;hasVacation=true&#96;）の場合、以下の表示制御を行う：",
            "lineNumber": 1436
          },
          {
            "lineNumber": 1437
          },
          {
            "text": "1. **申請状況アイコンの表示**",
            "lineNumber": 1438
          },
          {
            "text": "   - 休暇申請の承認状態（&#96;VACATION_HISTORY.APPROVAL_STATUS&#96;）に応じて表示",
            "lineNumber": 1439
          },
          {
            "text": "   - &#96;PENDING&#96;（申請中）: ↑マーク（黒色）を表示",
            "lineNumber": 1440
          },
          {
            "text": "   - &#96;APPROVED&#96;（承認済み）: ✓チェックマーク（青色の丸に白い✓）を表示",
            "lineNumber": 1441
          },
          {
            "text": "   - 日次確定申請の状態とは独立して表示される",
            "lineNumber": 1442
          },
          {
            "lineNumber": 1443
          },
          {
            "text": "2. **日次確定ボタンの非表示**",
            "lineNumber": 1444
          },
          {
            "text": "   - 休暇申請がある場合は、日次確定ボタン（+アイコン）を非表示にする",
            "lineNumber": 1445
          },
          {
            "text": "   - 休暇申請日は日次確定申請を行わないため",
            "lineNumber": 1446
          },
          {
            "lineNumber": 1447
          },
          {
            "text": "3. **出社・退社・勤務場所のテキストボックスの非表示**",
            "lineNumber": 1448
          },
          {
            "text": "   - 休暇申請がある場合は、出社時刻・退社時刻・勤務場所のテキストボックスを非表示にする",
            "lineNumber": 1449
          },
          {
            "text": "   - 休暇申請日は出退社時刻や勤務場所の入力が不要なため",
            "lineNumber": 1450
          },
          {
            "lineNumber": 1451
          },
          {
            "text": "4. **工数実績の+アイコンの非表示**",
            "lineNumber": 1452
          },
          {
            "text": "   - 休暇申請がある場合は、工数実績の+アイコンを非表示にする",
            "lineNumber": 1453
          },
          {
            "text": "   - 休暇申請日は工数実績の入力が不要なため",
            "lineNumber": 1454
          },
          {
            "lineNumber": 1455
          },
          {
            "text": "### 日次確定申請の条件",
            "lineNumber": 1456
          },
          {
            "text": "以下の条件を満たす必要があります:",
            "lineNumber": 1457
          },
          {
            "text": "1. 出退社時刻が入力されていること",
            "lineNumber": 1458
          },
          {
            "text": "2. 勤務場所が設定されていること",
            "lineNumber": 1459
          },
          {
            "text": "3. 工数合計と実労働時間が一致していること",
            "lineNumber": 1460
          },
          {
            "text": "4. 手入力の場合は備考に理由が入力されていること",
            "lineNumber": 1461
          }
        ]
      },
      "score": 0.3280806541442871
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1916
          },
          "endPosition": {
            "line": 1954
          }
        },
        "contents": "    async loadApplicationStatus(applicationType) {\n      // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用\n      if (this.initialApplicationType === applicationType &amp;&amp; this.initialApplicationStatus) {\n        this.applicationStatuses[applicationType] = this.initialApplicationStatus\n        // applicationIdも設定する必要がある場合は、ここで設定\n        // ただし、initialApplicationStatusからはapplicationIdが取得できないため、\n        // 必要に応じてAPIを呼び出すか、TimesheetScreenから渡す必要がある\n        return\n      }\n      \n      // 申請タイプをAPIタイプに変換\n      const apiTypeMap = {\n        dailyConfirmation: 'DAILY_CONFIRMATION',\n        vacation: 'VACATION',\n        holidayWork: 'HOLIDAY_WORK',\n        overtime: 'OVERTIME',\n        earlyWork: 'EARLY_WORK',\n        transfer: 'TRANSFER'\n      }\n      \n      const apiType = apiTypeMap[applicationType]\n      if (!apiType) return\n      \n      try {\n        const response = await getApplicationStatus(this.employeeId, apiType, this.targetDate)\n        if (response.success) {\n          this.applicationStatuses[applicationType] = response.status || 'NOT_SUBMITTED'\n          this.applicationIds[applicationType] = response.applicationId || null\n        }\n      } catch (error) {\n        console.error(&#96;${applicationType}申請状態取得エラー:&#96;, error)\n        this.applicationStatuses[applicationType] = 'NOT_SUBMITTED'\n        this.applicationIds[applicationType] = null\n      }\n    },\n    \n    async loadHolidayWorkApplicationData() {\n      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadApplicationStatus(applicationType) {",
            "lineNumber": 1917
          },
          {
            "text": "      // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用",
            "lineNumber": 1918
          },
          {
            "text": "      if (this.initialApplicationType === applicationType &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1919
          },
          {
            "text": "        this.applicationStatuses[applicationType] = this.initialApplicationStatus",
            "lineNumber": 1920
          },
          {
            "text": "        // applicationIdも設定する必要がある場合は、ここで設定",
            "lineNumber": 1921
          },
          {
            "text": "        // ただし、initialApplicationStatusからはapplicationIdが取得できないため、",
            "lineNumber": 1922
          },
          {
            "text": "        // 必要に応じてAPIを呼び出すか、TimesheetScreenから渡す必要がある",
            "lineNumber": 1923
          },
          {
            "text": "        return",
            "lineNumber": 1924
          },
          {
            "text": "      }",
            "lineNumber": 1925
          },
          {
            "text": "      ",
            "lineNumber": 1926
          },
          {
            "text": "      // 申請タイプをAPIタイプに変換",
            "lineNumber": 1927
          },
          {
            "text": "      const apiTypeMap = {",
            "lineNumber": 1928
          },
          {
            "text": "        dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 1929
          },
          {
            "text": "        vacation: 'VACATION',",
            "lineNumber": 1930
          },
          {
            "text": "        holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 1931
          },
          {
            "text": "        overtime: 'OVERTIME',",
            "lineNumber": 1932
          },
          {
            "text": "        earlyWork: 'EARLY_WORK',",
            "lineNumber": 1933
          },
          {
            "text": "        transfer: 'TRANSFER'",
            "lineNumber": 1934
          },
          {
            "text": "      }",
            "lineNumber": 1935
          },
          {
            "text": "      ",
            "lineNumber": 1936
          },
          {
            "text": "      const apiType = apiTypeMap[applicationType]",
            "lineNumber": 1937
          },
          {
            "text": "      if (!apiType) return",
            "lineNumber": 1938
          },
          {
            "text": "      ",
            "lineNumber": 1939
          },
          {
            "text": "      try {",
            "lineNumber": 1940
          },
          {
            "text": "        const response = await getApplicationStatus(this.employeeId, apiType, this.targetDate)",
            "lineNumber": 1941
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1942
          },
          {
            "text": "          this.applicationStatuses[applicationType] = response.status || 'NOT_SUBMITTED'",
            "lineNumber": 1943
          },
          {
            "text": "          this.applicationIds[applicationType] = response.applicationId || null",
            "lineNumber": 1944
          },
          {
            "text": "        }",
            "lineNumber": 1945
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1946
          },
          {
            "text": "        console.error(&#96;${applicationType}申請状態取得エラー:&#96;, error)",
            "lineNumber": 1947
          },
          {
            "text": "        this.applicationStatuses[applicationType] = 'NOT_SUBMITTED'",
            "lineNumber": 1948
          },
          {
            "text": "        this.applicationIds[applicationType] = null",
            "lineNumber": 1949
          },
          {
            "text": "      }",
            "lineNumber": 1950
          },
          {
            "text": "    },",
            "lineNumber": 1951
          },
          {
            "text": "    ",
            "lineNumber": 1952
          },
          {
            "text": "    async loadHolidayWorkApplicationData() {",
            "lineNumber": 1953
          },
          {
            "text": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1954
          }
        ]
      },
      "score": 0.3262089490890503
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1515
          },
          "endPosition": {
            "line": 1551
          }
        },
        "contents": "    async loadApplicationStatuses() {\n      // 各申請タイプの申請状態を取得\n      const applicationTypes = [\n        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },\n        { key: 'vacation', apiType: 'VACATION' },\n        { key: 'holidayWork', apiType: 'HOLIDAY_WORK' },\n        { key: 'overtime', apiType: 'OVERTIME' },\n        { key: 'earlyWork', apiType: 'EARLY_WORK' },\n        { key: 'transfer', apiType: 'TRANSFER' }\n      ]\n      \n      for (const appType of applicationTypes) {\n        // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用\n        if (this.initialApplicationType === appType.key &amp;&amp; this.initialApplicationStatus) {\n          this.applicationStatuses[appType.key] = this.initialApplicationStatus\n          continue\n        }\n        \n        try {\n          const response = await getApplicationStatus(this.employeeId, appType.apiType, this.targetDate)\n          if (response.success) {\n            this.applicationStatuses[appType.key] = response.status || 'NOT_SUBMITTED'\n            this.applicationIds[appType.key] = response.applicationId || null\n          }\n        } catch (error) {\n          console.error(&#96;${appType.key}申請状態取得エラー:&#96;, error)\n          // エラー時はNOT_SUBMITTEDとして扱う\n          this.applicationStatuses[appType.key] = 'NOT_SUBMITTED'\n          this.applicationIds[appType.key] = null\n        }\n      }\n    },\n    \n    async loadCompensatoryLeaveBalance() {\n      try {\n        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadApplicationStatuses() {",
            "lineNumber": 1516
          },
          {
            "text": "      // 各申請タイプの申請状態を取得",
            "lineNumber": 1517
          },
          {
            "text": "      const applicationTypes = [",
            "lineNumber": 1518
          },
          {
            "text": "        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },",
            "lineNumber": 1519
          },
          {
            "text": "        { key: 'vacation', apiType: 'VACATION' },",
            "lineNumber": 1520
          },
          {
            "text": "        { key: 'holidayWork', apiType: 'HOLIDAY_WORK' },",
            "lineNumber": 1521
          },
          {
            "text": "        { key: 'overtime', apiType: 'OVERTIME' },",
            "lineNumber": 1522
          },
          {
            "text": "        { key: 'earlyWork', apiType: 'EARLY_WORK' },",
            "lineNumber": 1523
          },
          {
            "text": "        { key: 'transfer', apiType: 'TRANSFER' }",
            "lineNumber": 1524
          },
          {
            "text": "      ]",
            "lineNumber": 1525
          },
          {
            "text": "      ",
            "lineNumber": 1526
          },
          {
            "text": "      for (const appType of applicationTypes) {",
            "lineNumber": 1527
          },
          {
            "text": "        // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用",
            "lineNumber": 1528
          },
          {
            "text": "        if (this.initialApplicationType === appType.key &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1529
          },
          {
            "text": "          this.applicationStatuses[appType.key] = this.initialApplicationStatus",
            "lineNumber": 1530
          },
          {
            "text": "          continue",
            "lineNumber": 1531
          },
          {
            "text": "        }",
            "lineNumber": 1532
          },
          {
            "text": "        ",
            "lineNumber": 1533
          },
          {
            "text": "        try {",
            "lineNumber": 1534
          },
          {
            "text": "          const response = await getApplicationStatus(this.employeeId, appType.apiType, this.targetDate)",
            "lineNumber": 1535
          },
          {
            "text": "          if (response.success) {",
            "lineNumber": 1536
          },
          {
            "text": "            this.applicationStatuses[appType.key] = response.status || 'NOT_SUBMITTED'",
            "lineNumber": 1537
          },
          {
            "text": "            this.applicationIds[appType.key] = response.applicationId || null",
            "lineNumber": 1538
          },
          {
            "text": "          }",
            "lineNumber": 1539
          },
          {
            "text": "        } catch (error) {",
            "lineNumber": 1540
          },
          {
            "text": "          console.error(&#96;${appType.key}申請状態取得エラー:&#96;, error)",
            "lineNumber": 1541
          },
          {
            "text": "          // エラー時はNOT_SUBMITTEDとして扱う",
            "lineNumber": 1542
          },
          {
            "text": "          this.applicationStatuses[appType.key] = 'NOT_SUBMITTED'",
            "lineNumber": 1543
          },
          {
            "text": "          this.applicationIds[appType.key] = null",
            "lineNumber": 1544
          },
          {
            "text": "        }",
            "lineNumber": 1545
          },
          {
            "text": "      }",
            "lineNumber": 1546
          },
          {
            "text": "    },",
            "lineNumber": 1547
          },
          {
            "text": "    ",
            "lineNumber": 1548
          },
          {
            "text": "    async loadCompensatoryLeaveBalance() {",
            "lineNumber": 1549
          },
          {
            "text": "      try {",
            "lineNumber": 1550
          },
          {
            "text": "        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1551
          }
        ]
      },
      "score": 0.32367581129074097
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 329
          },
          "endPosition": {
            "line": 356
          }
        },
        "contents": "|---------|-----|------|-----------|------|\n| **VACATION_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇取得を一意に識別するID。自動採番されます。 |\n| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員が休暇を取得したか。&#96;EMPLOYEE&#96;テーブルを参照。 |\n| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **外部キー**。どの休暇種別か。&#96;VACATION_TYPE&#96;テーブルを参照。例: &#96;PAID_LEAVE&#96;、&#96;SUMMER_LEAVE&#96; |\n| **START_DATE** | DATE | NOT NULL | - | 開始日。休暇の開始日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-20&#96; |\n| **END_DATE** | DATE | NOT NULL | - | 終了日。休暇の終了日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-22&#96;（3日間の休暇） |\n| **VACATION_DAYS** | DECIMAL(4,1) | NOT NULL | - | 取得日数。何日間の休暇か。例: &#96;3.0&#96;=3日、&#96;0.5&#96;=半日 |\n| **HALF_DAY_TYPE** | VARCHAR(20) | NULL | - | 半休種別。&#96;AM&#96;=午前休、&#96;PM&#96;=午後休。全日の場合は&#96;NULL&#96;。 |\n| **REASON** | TEXT | NULL | - | 取得理由。なぜ休暇を取得したか。例: &#96;私用&#96;、&#96;夏季休暇&#96; |\n| **APPROVAL_STATUS** | VARCHAR(20) | NULL | &#96;PENDING&#96; | 承認状態。&#96;PENDING&#96;=申請中、&#96;APPROVED&#96;=承認済、&#96;REJECTED&#96;=却下 |\n| **APPROVED_BY** | VARCHAR(50) | NULL | - | 承認者。誰が承認したか。例: &#96;MGR001&#96;（管理者ID） |\n| **APPROVED_AT** | DATETIME | NULL | - | 承認日時。いつ承認されたか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n**使用例:**\n- 2025年11月20日〜22日の3日間の有給休暇（承認済み）\n\n---\n\n### 12. 月次勤怠 (MONTHLY_ATTENDANCE)\n\n月次の勤怠集計と承認状態を管理するテーブルです。従業員ごと、年月ごとに1レコードです。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |\n|---------|-----|------|-----------|------|\n| **MONTHLY_ATTENDANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。月次勤怠を一意に識別するID。自動採番されます。 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 330
          },
          {
            "text": "| **VACATION_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇取得を一意に識別するID。自動採番されます。 |",
            "lineNumber": 331
          },
          {
            "text": "| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員が休暇を取得したか。&#96;EMPLOYEE&#96;テーブルを参照。 |",
            "lineNumber": 332
          },
          {
            "text": "| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **外部キー**。どの休暇種別か。&#96;VACATION_TYPE&#96;テーブルを参照。例: &#96;PAID_LEAVE&#96;、&#96;SUMMER_LEAVE&#96; |",
            "lineNumber": 333
          },
          {
            "text": "| **START_DATE** | DATE | NOT NULL | - | 開始日。休暇の開始日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-20&#96; |",
            "lineNumber": 334
          },
          {
            "text": "| **END_DATE** | DATE | NOT NULL | - | 終了日。休暇の終了日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-22&#96;（3日間の休暇） |",
            "lineNumber": 335
          },
          {
            "text": "| **VACATION_DAYS** | DECIMAL(4,1) | NOT NULL | - | 取得日数。何日間の休暇か。例: &#96;3.0&#96;=3日、&#96;0.5&#96;=半日 |",
            "lineNumber": 336
          },
          {
            "text": "| **HALF_DAY_TYPE** | VARCHAR(20) | NULL | - | 半休種別。&#96;AM&#96;=午前休、&#96;PM&#96;=午後休。全日の場合は&#96;NULL&#96;。 |",
            "lineNumber": 337
          },
          {
            "text": "| **REASON** | TEXT | NULL | - | 取得理由。なぜ休暇を取得したか。例: &#96;私用&#96;、&#96;夏季休暇&#96; |",
            "lineNumber": 338
          },
          {
            "text": "| **APPROVAL_STATUS** | VARCHAR(20) | NULL | &#96;PENDING&#96; | 承認状態。&#96;PENDING&#96;=申請中、&#96;APPROVED&#96;=承認済、&#96;REJECTED&#96;=却下 |",
            "lineNumber": 339
          },
          {
            "text": "| **APPROVED_BY** | VARCHAR(50) | NULL | - | 承認者。誰が承認したか。例: &#96;MGR001&#96;（管理者ID） |",
            "lineNumber": 340
          },
          {
            "text": "| **APPROVED_AT** | DATETIME | NULL | - | 承認日時。いつ承認されたか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |",
            "lineNumber": 341
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 342
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 343
          },
          {
            "lineNumber": 344
          },
          {
            "text": "**使用例:**",
            "lineNumber": 345
          },
          {
            "text": "- 2025年11月20日〜22日の3日間の有給休暇（承認済み）",
            "lineNumber": 346
          },
          {
            "lineNumber": 347
          },
          {
            "text": "---",
            "lineNumber": 348
          },
          {
            "lineNumber": 349
          },
          {
            "text": "### 12. 月次勤怠 (MONTHLY_ATTENDANCE)",
            "lineNumber": 350
          },
          {
            "lineNumber": 351
          },
          {
            "text": "月次の勤怠集計と承認状態を管理するテーブルです。従業員ごと、年月ごとに1レコードです。",
            "lineNumber": 352
          },
          {
            "lineNumber": 353
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 354
          },
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 355
          },
          {
            "text": "| **MONTHLY_ATTENDANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。月次勤怠を一意に識別するID。自動採番されます。 |",
            "lineNumber": 356
          }
        ]
      },
      "score": 0.31978678703308105
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\masterModel.js",
        "range": {
          "startPosition": {
            "line": 45,
            "column": 2
          },
          "endPosition": {
            "line": 69,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇種別マスタを取得\n * @returns {Promise&lt;Array&gt;} 休暇種別の配列\n */\nconst getVacationTypes = async () =&gt; {\n  const query = &#96;\n    SELECT VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, \n           IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER\n    FROM VACATION_TYPE \n    WHERE IS_ACTIVE = TRUE \n    ORDER BY DISPLAY_ORDER\n  &#96;;\n  \n  const [rows] = await db.execute(query);\n  return rows;\n};\n\n/**\n * お知らせ情報を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} department - 部署\n * @returns {Promise&lt;Array&gt;} お知らせの配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 48
          },
          {
            "text": " * 休暇種別マスタを取得",
            "lineNumber": 49
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇種別の配列",
            "lineNumber": 50
          },
          {
            "text": " */",
            "lineNumber": 51
          },
          {
            "text": "const getVacationTypes = async () =&gt; {",
            "lineNumber": 52
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 53
          },
          {
            "text": "    SELECT VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, ",
            "lineNumber": 54
          },
          {
            "text": "           IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER",
            "lineNumber": 55
          },
          {
            "text": "    FROM VACATION_TYPE ",
            "lineNumber": 56
          },
          {
            "text": "    WHERE IS_ACTIVE = TRUE ",
            "lineNumber": 57
          },
          {
            "text": "    ORDER BY DISPLAY_ORDER",
            "lineNumber": 58
          },
          {
            "text": "  &#96;;",
            "lineNumber": 59
          },
          {
            "text": "  ",
            "lineNumber": 60
          },
          {
            "text": "  const [rows] = await db.execute(query);",
            "lineNumber": 61
          },
          {
            "text": "  return rows;",
            "lineNumber": 62
          },
          {
            "text": "};",
            "lineNumber": 63
          },
          {
            "lineNumber": 64
          },
          {
            "text": "/**",
            "lineNumber": 65
          },
          {
            "text": " * お知らせ情報を取得",
            "lineNumber": 66
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 67
          },
          {
            "text": " * @param {string} department - 部署",
            "lineNumber": 68
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} お知らせの配列",
            "lineNumber": 69
          },
          {
            "text": " */",
            "lineNumber": 70
          }
        ]
      },
      "score": 0.3195596933364868
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\monthlySummaryService.js",
        "range": {
          "startPosition": {
            "line": 25
          },
          "endPosition": {
            "line": 420,
            "column": 2
          }
        },
        "contents": "const getMonthlySummary = async \n\n  \n  // 無給休暇日数（簡易的に0とする）\n  const unpaidLeaveDays = 0;\n  const unpaidLeaveTypeName = '';\n  \n  // 有給残日数（月末日時点）\n  const endOfMonth = new Date(year, month, 0);\n  const endOfMonthStr = endOfMonth.toISOString().split('T')[0];\n  const paidLeaveBalance = await applicationModel.getVacationBalance(employeeId, 'PAID_LEAVE');\n  \n  // 計画付与予定日（次月以降）\n  let nextMonth = { year, month: month + 1 };\n\n  if (month === 12) {\n    nextMonth = { year: year + 1, month: 1 };\n  }\n  const plannedGrantDays = 0; // TODO: 計画付与予定日を取得\n  \n  const vacationInfo = {\n    paidLeaveDays,\n    paidLeaveTypeName,\n    hourlyPaidLeaveHours,\n    substituteHolidayDays,\n    substituteHolidayTypeName,\n    unpaidLeaveDays,\n    unpaidLeaveTypeName,\n    paidLeaveBalance,\n    plannedGrantDays\n  };\n  \n  // 月次承認状態（簡易的にNOT_SUBMITTEDとする）\n  const monthlyApprovalStatus = 'NOT_SUBMITTED';\n  \n  return {\n    employee: {\n      employeeId: employee.EMPLOYEE_ID,\n      employeeName: employee.EMPLOYEE_NAME,\n      department: employee.DEPARTMENT,\n      attendanceSystem: 'フレックスタイム制(一般)'\n    },\n    yearMonth: yearMonth,\n    dailyData,\n    monthlySummary,\n    vacationInfo,\n    monthlyApprovalStatus\n  };\n};\n\nmodule.exports = {\n  getMonthlySummary\n};",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 26,
                "column": 1
              },
              "endPosition": {
                "line": 26,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 26,
                "column": 7
              },
              "endPosition": {
                "line": 26,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const getMonthlySummary = async ",
            "lineNumber": 26
          },
          {
            "lineNumber": 370
          },
          {
            "text": "  ",
            "lineNumber": 371
          },
          {
            "text": "  // 無給休暇日数（簡易的に0とする）",
            "lineNumber": 372
          },
          {
            "text": "  const unpaidLeaveDays = 0;",
            "lineNumber": 373
          },
          {
            "text": "  const unpaidLeaveTypeName = '';",
            "lineNumber": 374
          },
          {
            "text": "  ",
            "lineNumber": 375
          },
          {
            "text": "  // 有給残日数（月末日時点）",
            "lineNumber": 376
          },
          {
            "text": "  const endOfMonth = new Date(year, month, 0);",
            "lineNumber": 377
          },
          {
            "text": "  const endOfMonthStr = endOfMonth.toISOString().split('T')[0];",
            "lineNumber": 378
          },
          {
            "text": "  const paidLeaveBalance = await applicationModel.getVacationBalance(employeeId, 'PAID_LEAVE');",
            "lineNumber": 379
          },
          {
            "text": "  ",
            "lineNumber": 380
          },
          {
            "text": "  // 計画付与予定日（次月以降）",
            "lineNumber": 381
          },
          {
            "text": "  let nextMonth = { year, month: month + 1 };",
            "lineNumber": 382
          },
          {
            "lineNumber": 383
          },
          {
            "text": "  if (month === 12) {",
            "lineNumber": 384
          },
          {
            "text": "    nextMonth = { year: year + 1, month: 1 };",
            "lineNumber": 385
          },
          {
            "text": "  }",
            "lineNumber": 386
          },
          {
            "text": "  const plannedGrantDays = 0; // TODO: 計画付与予定日を取得",
            "lineNumber": 387
          },
          {
            "text": "  ",
            "lineNumber": 388
          },
          {
            "text": "  const vacationInfo = {",
            "lineNumber": 389
          },
          {
            "text": "    paidLeaveDays,",
            "lineNumber": 390
          },
          {
            "text": "    paidLeaveTypeName,",
            "lineNumber": 391
          },
          {
            "text": "    hourlyPaidLeaveHours,",
            "lineNumber": 392
          },
          {
            "text": "    substituteHolidayDays,",
            "lineNumber": 393
          },
          {
            "text": "    substituteHolidayTypeName,",
            "lineNumber": 394
          },
          {
            "text": "    unpaidLeaveDays,",
            "lineNumber": 395
          },
          {
            "text": "    unpaidLeaveTypeName,",
            "lineNumber": 396
          },
          {
            "text": "    paidLeaveBalance,",
            "lineNumber": 397
          },
          {
            "text": "    plannedGrantDays",
            "lineNumber": 398
          },
          {
            "text": "  };",
            "lineNumber": 399
          },
          {
            "text": "  ",
            "lineNumber": 400
          },
          {
            "text": "  // 月次承認状態（簡易的にNOT_SUBMITTEDとする）",
            "lineNumber": 401
          },
          {
            "text": "  const monthlyApprovalStatus = 'NOT_SUBMITTED';",
            "lineNumber": 402
          },
          {
            "text": "  ",
            "lineNumber": 403
          },
          {
            "text": "  return {",
            "lineNumber": 404
          },
          {
            "text": "    employee: {",
            "lineNumber": 405
          },
          {
            "text": "      employeeId: employee.EMPLOYEE_ID,",
            "lineNumber": 406
          },
          {
            "text": "      employeeName: employee.EMPLOYEE_NAME,",
            "lineNumber": 407
          },
          {
            "text": "      department: employee.DEPARTMENT,",
            "lineNumber": 408
          },
          {
            "text": "      attendanceSystem: 'フレックスタイム制(一般)'",
            "lineNumber": 409
          },
          {
            "text": "    },",
            "lineNumber": 410
          },
          {
            "text": "    yearMonth: yearMonth,",
            "lineNumber": 411
          },
          {
            "text": "    dailyData,",
            "lineNumber": 412
          },
          {
            "text": "    monthlySummary,",
            "lineNumber": 413
          },
          {
            "text": "    vacationInfo,",
            "lineNumber": 414
          },
          {
            "text": "    monthlyApprovalStatus",
            "lineNumber": 415
          },
          {
            "text": "  };",
            "lineNumber": 416
          },
          {
            "text": "};",
            "lineNumber": 417
          },
          {
            "lineNumber": 418
          },
          {
            "text": "module.exports = {",
            "lineNumber": 419
          },
          {
            "text": "  getMonthlySummary",
            "lineNumber": 420
          },
          {
            "text": "};",
            "lineNumber": 421
          }
        ]
      },
      "score": 0.3159424066543579
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 52
          },
          "endPosition": {
            "line": 84
          }
        },
        "contents": "-- 3. ジョブマスタ (JOB_MASTER)\nCREATE TABLE JOB_MASTER (\n    JOB_CODE VARCHAR(50) NOT NULL COMMENT 'ジョブコード',\n    JOB_NAME VARCHAR(200) NOT NULL COMMENT 'ジョブ名',\n    JOB_CATEGORY VARCHAR(50) COMMENT 'ジョブカテゴリ',\n    PROJECT_CODE VARCHAR(50) COMMENT 'プロジェクトコード',\n    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',\n    START_DATE DATE COMMENT '開始日',\n    END_DATE DATE COMMENT '終了日',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (JOB_CODE)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ジョブマスタ';\n\n-- 4. 休暇種別マスタ (VACATION_TYPE)\nCREATE TABLE VACATION_TYPE (\n    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',\n    VACATION_TYPE_NAME VARCHAR(50) NOT NULL COMMENT '休暇種別名',\n    VACATION_CATEGORY VARCHAR(20) NOT NULL COMMENT '休暇カテゴリ(有給/特別/etc)',\n    IS_PAID BOOLEAN DEFAULT FALSE COMMENT '有給フラグ',\n    ANNUAL_GRANT_DAYS DECIMAL(4,1) DEFAULT 0 COMMENT '年間付与日数',\n    DISPLAY_ORDER INT NOT NULL COMMENT '表示順',\n    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (VACATION_TYPE_CODE)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇種別マスタ';\n\n-- 5. お知らせマスタ (NOTIFICATION)\nCREATE TABLE NOTIFICATION (\n    NOTIFICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT 'お知らせID',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "-- 3. ジョブマスタ (JOB_MASTER)",
            "lineNumber": 54
          },
          {
            "text": "CREATE TABLE JOB_MASTER (",
            "lineNumber": 55
          },
          {
            "text": "    JOB_CODE VARCHAR(50) NOT NULL COMMENT 'ジョブコード',",
            "lineNumber": 56
          },
          {
            "text": "    JOB_NAME VARCHAR(200) NOT NULL COMMENT 'ジョブ名',",
            "lineNumber": 57
          },
          {
            "text": "    JOB_CATEGORY VARCHAR(50) COMMENT 'ジョブカテゴリ',",
            "lineNumber": 58
          },
          {
            "text": "    PROJECT_CODE VARCHAR(50) COMMENT 'プロジェクトコード',",
            "lineNumber": 59
          },
          {
            "text": "    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',",
            "lineNumber": 60
          },
          {
            "text": "    START_DATE DATE COMMENT '開始日',",
            "lineNumber": 61
          },
          {
            "text": "    END_DATE DATE COMMENT '終了日',",
            "lineNumber": 62
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 63
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 64
          },
          {
            "text": "    PRIMARY KEY (JOB_CODE)",
            "lineNumber": 65
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ジョブマスタ';",
            "lineNumber": 66
          },
          {
            "lineNumber": 67
          },
          {
            "text": "-- 4. 休暇種別マスタ (VACATION_TYPE)",
            "lineNumber": 68
          },
          {
            "text": "CREATE TABLE VACATION_TYPE (",
            "lineNumber": 69
          },
          {
            "text": "    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',",
            "lineNumber": 70
          },
          {
            "text": "    VACATION_TYPE_NAME VARCHAR(50) NOT NULL COMMENT '休暇種別名',",
            "lineNumber": 71
          },
          {
            "text": "    VACATION_CATEGORY VARCHAR(20) NOT NULL COMMENT '休暇カテゴリ(有給/特別/etc)',",
            "lineNumber": 72
          },
          {
            "text": "    IS_PAID BOOLEAN DEFAULT FALSE COMMENT '有給フラグ',",
            "lineNumber": 73
          },
          {
            "text": "    ANNUAL_GRANT_DAYS DECIMAL(4,1) DEFAULT 0 COMMENT '年間付与日数',",
            "lineNumber": 74
          },
          {
            "text": "    DISPLAY_ORDER INT NOT NULL COMMENT '表示順',",
            "lineNumber": 75
          },
          {
            "text": "    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',",
            "lineNumber": 76
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 77
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 78
          },
          {
            "text": "    PRIMARY KEY (VACATION_TYPE_CODE)",
            "lineNumber": 79
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇種別マスタ';",
            "lineNumber": 80
          },
          {
            "lineNumber": 81
          },
          {
            "text": "-- 5. お知らせマスタ (NOTIFICATION)",
            "lineNumber": 82
          },
          {
            "text": "CREATE TABLE NOTIFICATION (",
            "lineNumber": 83
          },
          {
            "text": "    NOTIFICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT 'お知らせID',",
            "lineNumber": 84
          }
        ]
      },
      "score": 0.3156226873397827
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書とコードを確認済み。設計書から修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "SUBSTITUTE_HOLIDAY|COMPENSATORY",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "SUBSTITUTE_HOLIDAY|COMPENSATORY",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {}
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書を修正し、続いてコードを実装します。


---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [-] 設計書を修正：代休のグラフ表示を有給休暇と同じスタイル（薄い青背景、#1A69ABのグラフ、細い白線）に変更
- [ ] TimesheetScreen.vueに代休のグラフ表示を追加（有給休暇と同じスタイル）
- [ ] 代休の申請取消機能を確認・実装

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "代休のvacationTypeCodeの値と定義",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 147
          },
          "endPosition": {
            "line": 176
          }
        },
        "contents": "| **PROJECT_CODE** | VARCHAR(50) | NULL | - | プロジェクトコード。関連プロジェクトを識別します。例: &#96;25152025-300&#96; |\n| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると工数入力の選択肢から除外されます。 |\n| **START_DATE** | DATE | NULL | - | ジョブの開始日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |\n| **END_DATE** | DATE | NULL | - | ジョブの終了日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n---\n\n### 4. 休暇種別マスタ (VACATION_TYPE)\n\n休暇の種類と付与ルールを管理するマスタテーブルです。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |\n|---------|-----|------|-----------|------|\n| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **主キー**。休暇種別を識別するコード。例: &#96;PAID_LEAVE&#96;（有給休暇）、&#96;SUMMER_LEAVE&#96;（夏季休暇） |\n| **VACATION_TYPE_NAME** | VARCHAR(50) | NOT NULL | - | 休暇種別の表示名。画面に表示されます。例: &#96;有給休暇&#96;、&#96;夏季休暇&#96; |\n| **VACATION_CATEGORY** | VARCHAR(20) | NOT NULL | - | 休暇のカテゴリ。分類に使用します。例: &#96;有給&#96;、&#96;特別&#96; |\n| **IS_PAID** | BOOLEAN | NULL | &#96;FALSE&#96; | 有給フラグ。&#96;TRUE&#96;=有給（給与支給あり）、&#96;FALSE&#96;=無給。 |\n| **ANNUAL_GRANT_DAYS** | DECIMAL(4,1) | NULL | &#96;0&#96; | 年間付与日数。例: &#96;20.0&#96;=年間20日付与、&#96;3.0&#96;=年間3日付与 |\n| **DISPLAY_ORDER** | INT | NOT NULL | - | 表示順序。小さい順に表示されます。 |\n| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると選択肢から非表示になります。 |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n---\n\n### 5. お知らせマスタ (NOTIFICATION)",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| **PROJECT_CODE** | VARCHAR(50) | NULL | - | プロジェクトコード。関連プロジェクトを識別します。例: &#96;25152025-300&#96; |",
            "lineNumber": 148
          },
          {
            "text": "| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると工数入力の選択肢から除外されます。 |",
            "lineNumber": 149
          },
          {
            "text": "| **START_DATE** | DATE | NULL | - | ジョブの開始日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |",
            "lineNumber": 150
          },
          {
            "text": "| **END_DATE** | DATE | NULL | - | ジョブの終了日。有効期間の判定に使用します。形式: &#96;YYYY-MM-DD&#96; |",
            "lineNumber": 151
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 152
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 153
          },
          {
            "lineNumber": 154
          },
          {
            "text": "---",
            "lineNumber": 155
          },
          {
            "lineNumber": 156
          },
          {
            "text": "### 4. 休暇種別マスタ (VACATION_TYPE)",
            "lineNumber": 157
          },
          {
            "lineNumber": 158
          },
          {
            "text": "休暇の種類と付与ルールを管理するマスタテーブルです。",
            "lineNumber": 159
          },
          {
            "lineNumber": 160
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 161
          },
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 162
          },
          {
            "text": "| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **主キー**。休暇種別を識別するコード。例: &#96;PAID_LEAVE&#96;（有給休暇）、&#96;SUMMER_LEAVE&#96;（夏季休暇） |",
            "lineNumber": 163
          },
          {
            "text": "| **VACATION_TYPE_NAME** | VARCHAR(50) | NOT NULL | - | 休暇種別の表示名。画面に表示されます。例: &#96;有給休暇&#96;、&#96;夏季休暇&#96; |",
            "lineNumber": 164
          },
          {
            "text": "| **VACATION_CATEGORY** | VARCHAR(20) | NOT NULL | - | 休暇のカテゴリ。分類に使用します。例: &#96;有給&#96;、&#96;特別&#96; |",
            "lineNumber": 165
          },
          {
            "text": "| **IS_PAID** | BOOLEAN | NULL | &#96;FALSE&#96; | 有給フラグ。&#96;TRUE&#96;=有給（給与支給あり）、&#96;FALSE&#96;=無給。 |",
            "lineNumber": 166
          },
          {
            "text": "| **ANNUAL_GRANT_DAYS** | DECIMAL(4,1) | NULL | &#96;0&#96; | 年間付与日数。例: &#96;20.0&#96;=年間20日付与、&#96;3.0&#96;=年間3日付与 |",
            "lineNumber": 167
          },
          {
            "text": "| **DISPLAY_ORDER** | INT | NOT NULL | - | 表示順序。小さい順に表示されます。 |",
            "lineNumber": 168
          },
          {
            "text": "| **IS_ACTIVE** | BOOLEAN | NULL | &#96;TRUE&#96; | 有効フラグ。&#96;FALSE&#96;にすると選択肢から非表示になります。 |",
            "lineNumber": 169
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 170
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 171
          },
          {
            "lineNumber": 172
          },
          {
            "text": "---",
            "lineNumber": 173
          },
          {
            "lineNumber": 174
          },
          {
            "text": "### 5. お知らせマスタ (NOTIFICATION)",
            "lineNumber": 175
          }
        ]
      },
      "score": 0.5029406547546387
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 289
          },
          "endPosition": {
            "line": 326
          }
        },
        "contents": "CREATE TABLE VACATION_HISTORY (\n    VACATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇取得ID',\n    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID',\n    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',\n    START_DATE DATE NOT NULL COMMENT '開始日',\n    END_DATE DATE NOT NULL COMMENT '終了日',\n    VACATION_DAYS DECIMAL(4,1) NOT NULL COMMENT '取得日数',\n    HALF_DAY_TYPE VARCHAR(20) COMMENT '半休種別(午前/午後)',\n    REASON TEXT COMMENT '取得理由',\n    CONTACT_INFO TEXT COMMENT '連絡先',\n    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態(申請中/承認済/却下)',\n    APPROVED_BY VARCHAR(50) COMMENT '承認者',\n    APPROVED_AT DATETIME COMMENT '承認日時',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (VACATION_ID),\n    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,\n    FOREIGN KEY (VACATION_TYPE_CODE) REFERENCES VACATION_TYPE(VACATION_TYPE_CODE),\n    INDEX IDX_EMP_DATE (EMPLOYEE_ID, START_DATE, END_DATE),\n    INDEX IDX_APPROVAL (APPROVAL_STATUS)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇取得履歴';\n\n-- ====================================================================\n-- マスタデータの投入\n-- ====================================================================\n\n-- 1. 勤務場所マスタの初期データ\nINSERT INTO WORK_LOCATION (LOCATION_CODE, LOCATION_NAME, DISPLAY_ORDER, IS_ACTIVE) VALUES\n('COMMUTE', '通勤', 1, TRUE),\n('REMOTE', '在宅', 2, TRUE),\n('DIRECT', '直行、直帰、直行直帰', 3, TRUE),\n('BUSINESS_TRIP', '出張', 4, TRUE);\n\n-- 2. 休暇種別マスタの初期データ\nINSERT INTO VACATION_TYPE (VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER, IS_ACTIVE) VALUES\n('PAID_LEAVE', '有給休暇', '有給', TRUE, 20.0, 1, TRUE),\n('SUMMER_LEAVE', '夏季休暇', '特別', TRUE, 3.0, 2, TRUE),",
        "signatures": {},
        "detailedLines": [
          {
            "text": "CREATE TABLE VACATION_HISTORY (",
            "lineNumber": 290
          },
          {
            "text": "    VACATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇取得ID',",
            "lineNumber": 291
          },
          {
            "text": "    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID',",
            "lineNumber": 292
          },
          {
            "text": "    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',",
            "lineNumber": 293
          },
          {
            "text": "    START_DATE DATE NOT NULL COMMENT '開始日',",
            "lineNumber": 294
          },
          {
            "text": "    END_DATE DATE NOT NULL COMMENT '終了日',",
            "lineNumber": 295
          },
          {
            "text": "    VACATION_DAYS DECIMAL(4,1) NOT NULL COMMENT '取得日数',",
            "lineNumber": 296
          },
          {
            "text": "    HALF_DAY_TYPE VARCHAR(20) COMMENT '半休種別(午前/午後)',",
            "lineNumber": 297
          },
          {
            "text": "    REASON TEXT COMMENT '取得理由',",
            "lineNumber": 298
          },
          {
            "text": "    CONTACT_INFO TEXT COMMENT '連絡先',",
            "lineNumber": 299
          },
          {
            "text": "    APPROVAL_STATUS VARCHAR(20) DEFAULT 'PENDING' COMMENT '承認状態(申請中/承認済/却下)',",
            "lineNumber": 300
          },
          {
            "text": "    APPROVED_BY VARCHAR(50) COMMENT '承認者',",
            "lineNumber": 301
          },
          {
            "text": "    APPROVED_AT DATETIME COMMENT '承認日時',",
            "lineNumber": 302
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 303
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 304
          },
          {
            "text": "    PRIMARY KEY (VACATION_ID),",
            "lineNumber": 305
          },
          {
            "text": "    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,",
            "lineNumber": 306
          },
          {
            "text": "    FOREIGN KEY (VACATION_TYPE_CODE) REFERENCES VACATION_TYPE(VACATION_TYPE_CODE),",
            "lineNumber": 307
          },
          {
            "text": "    INDEX IDX_EMP_DATE (EMPLOYEE_ID, START_DATE, END_DATE),",
            "lineNumber": 308
          },
          {
            "text": "    INDEX IDX_APPROVAL (APPROVAL_STATUS)",
            "lineNumber": 309
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇取得履歴';",
            "lineNumber": 310
          },
          {
            "lineNumber": 311
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 312
          },
          {
            "text": "-- マスタデータの投入",
            "lineNumber": 313
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 314
          },
          {
            "lineNumber": 315
          },
          {
            "text": "-- 1. 勤務場所マスタの初期データ",
            "lineNumber": 316
          },
          {
            "text": "INSERT INTO WORK_LOCATION (LOCATION_CODE, LOCATION_NAME, DISPLAY_ORDER, IS_ACTIVE) VALUES",
            "lineNumber": 317
          },
          {
            "text": "('COMMUTE', '通勤', 1, TRUE),",
            "lineNumber": 318
          },
          {
            "text": "('REMOTE', '在宅', 2, TRUE),",
            "lineNumber": 319
          },
          {
            "text": "('DIRECT', '直行、直帰、直行直帰', 3, TRUE),",
            "lineNumber": 320
          },
          {
            "text": "('BUSINESS_TRIP', '出張', 4, TRUE);",
            "lineNumber": 321
          },
          {
            "lineNumber": 322
          },
          {
            "text": "-- 2. 休暇種別マスタの初期データ",
            "lineNumber": 323
          },
          {
            "text": "INSERT INTO VACATION_TYPE (VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER, IS_ACTIVE) VALUES",
            "lineNumber": 324
          },
          {
            "text": "('PAID_LEAVE', '有給休暇', '有給', TRUE, 20.0, 1, TRUE),",
            "lineNumber": 325
          },
          {
            "text": "('SUMMER_LEAVE', '夏季休暇', '特別', TRUE, 3.0, 2, TRUE),",
            "lineNumber": 326
          }
        ]
      },
      "score": 0.46890294551849365
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 52
          },
          "endPosition": {
            "line": 84
          }
        },
        "contents": "-- 3. ジョブマスタ (JOB_MASTER)\nCREATE TABLE JOB_MASTER (\n    JOB_CODE VARCHAR(50) NOT NULL COMMENT 'ジョブコード',\n    JOB_NAME VARCHAR(200) NOT NULL COMMENT 'ジョブ名',\n    JOB_CATEGORY VARCHAR(50) COMMENT 'ジョブカテゴリ',\n    PROJECT_CODE VARCHAR(50) COMMENT 'プロジェクトコード',\n    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',\n    START_DATE DATE COMMENT '開始日',\n    END_DATE DATE COMMENT '終了日',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (JOB_CODE)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ジョブマスタ';\n\n-- 4. 休暇種別マスタ (VACATION_TYPE)\nCREATE TABLE VACATION_TYPE (\n    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',\n    VACATION_TYPE_NAME VARCHAR(50) NOT NULL COMMENT '休暇種別名',\n    VACATION_CATEGORY VARCHAR(20) NOT NULL COMMENT '休暇カテゴリ(有給/特別/etc)',\n    IS_PAID BOOLEAN DEFAULT FALSE COMMENT '有給フラグ',\n    ANNUAL_GRANT_DAYS DECIMAL(4,1) DEFAULT 0 COMMENT '年間付与日数',\n    DISPLAY_ORDER INT NOT NULL COMMENT '表示順',\n    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (VACATION_TYPE_CODE)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇種別マスタ';\n\n-- 5. お知らせマスタ (NOTIFICATION)\nCREATE TABLE NOTIFICATION (\n    NOTIFICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT 'お知らせID',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "-- 3. ジョブマスタ (JOB_MASTER)",
            "lineNumber": 54
          },
          {
            "text": "CREATE TABLE JOB_MASTER (",
            "lineNumber": 55
          },
          {
            "text": "    JOB_CODE VARCHAR(50) NOT NULL COMMENT 'ジョブコード',",
            "lineNumber": 56
          },
          {
            "text": "    JOB_NAME VARCHAR(200) NOT NULL COMMENT 'ジョブ名',",
            "lineNumber": 57
          },
          {
            "text": "    JOB_CATEGORY VARCHAR(50) COMMENT 'ジョブカテゴリ',",
            "lineNumber": 58
          },
          {
            "text": "    PROJECT_CODE VARCHAR(50) COMMENT 'プロジェクトコード',",
            "lineNumber": 59
          },
          {
            "text": "    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',",
            "lineNumber": 60
          },
          {
            "text": "    START_DATE DATE COMMENT '開始日',",
            "lineNumber": 61
          },
          {
            "text": "    END_DATE DATE COMMENT '終了日',",
            "lineNumber": 62
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 63
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 64
          },
          {
            "text": "    PRIMARY KEY (JOB_CODE)",
            "lineNumber": 65
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ジョブマスタ';",
            "lineNumber": 66
          },
          {
            "lineNumber": 67
          },
          {
            "text": "-- 4. 休暇種別マスタ (VACATION_TYPE)",
            "lineNumber": 68
          },
          {
            "text": "CREATE TABLE VACATION_TYPE (",
            "lineNumber": 69
          },
          {
            "text": "    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',",
            "lineNumber": 70
          },
          {
            "text": "    VACATION_TYPE_NAME VARCHAR(50) NOT NULL COMMENT '休暇種別名',",
            "lineNumber": 71
          },
          {
            "text": "    VACATION_CATEGORY VARCHAR(20) NOT NULL COMMENT '休暇カテゴリ(有給/特別/etc)',",
            "lineNumber": 72
          },
          {
            "text": "    IS_PAID BOOLEAN DEFAULT FALSE COMMENT '有給フラグ',",
            "lineNumber": 73
          },
          {
            "text": "    ANNUAL_GRANT_DAYS DECIMAL(4,1) DEFAULT 0 COMMENT '年間付与日数',",
            "lineNumber": 74
          },
          {
            "text": "    DISPLAY_ORDER INT NOT NULL COMMENT '表示順',",
            "lineNumber": 75
          },
          {
            "text": "    IS_ACTIVE BOOLEAN DEFAULT TRUE COMMENT '有効フラグ',",
            "lineNumber": 76
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 77
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 78
          },
          {
            "text": "    PRIMARY KEY (VACATION_TYPE_CODE)",
            "lineNumber": 79
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇種別マスタ';",
            "lineNumber": 80
          },
          {
            "lineNumber": 81
          },
          {
            "text": "-- 5. お知らせマスタ (NOTIFICATION)",
            "lineNumber": 82
          },
          {
            "text": "CREATE TABLE NOTIFICATION (",
            "lineNumber": 83
          },
          {
            "text": "    NOTIFICATION_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT 'お知らせID',",
            "lineNumber": 84
          }
        ]
      },
      "score": 0.46166789531707764
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\masterModel.js",
        "range": {
          "startPosition": {
            "line": 45,
            "column": 2
          },
          "endPosition": {
            "line": 69,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇種別マスタを取得\n * @returns {Promise&lt;Array&gt;} 休暇種別の配列\n */\nconst getVacationTypes = async () =&gt; {\n  const query = &#96;\n    SELECT VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, \n           IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER\n    FROM VACATION_TYPE \n    WHERE IS_ACTIVE = TRUE \n    ORDER BY DISPLAY_ORDER\n  &#96;;\n  \n  const [rows] = await db.execute(query);\n  return rows;\n};\n\n/**\n * お知らせ情報を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} department - 部署\n * @returns {Promise&lt;Array&gt;} お知らせの配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 48
          },
          {
            "text": " * 休暇種別マスタを取得",
            "lineNumber": 49
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇種別の配列",
            "lineNumber": 50
          },
          {
            "text": " */",
            "lineNumber": 51
          },
          {
            "text": "const getVacationTypes = async () =&gt; {",
            "lineNumber": 52
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 53
          },
          {
            "text": "    SELECT VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, ",
            "lineNumber": 54
          },
          {
            "text": "           IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER",
            "lineNumber": 55
          },
          {
            "text": "    FROM VACATION_TYPE ",
            "lineNumber": 56
          },
          {
            "text": "    WHERE IS_ACTIVE = TRUE ",
            "lineNumber": 57
          },
          {
            "text": "    ORDER BY DISPLAY_ORDER",
            "lineNumber": 58
          },
          {
            "text": "  &#96;;",
            "lineNumber": 59
          },
          {
            "text": "  ",
            "lineNumber": 60
          },
          {
            "text": "  const [rows] = await db.execute(query);",
            "lineNumber": 61
          },
          {
            "text": "  return rows;",
            "lineNumber": 62
          },
          {
            "text": "};",
            "lineNumber": 63
          },
          {
            "lineNumber": 64
          },
          {
            "text": "/**",
            "lineNumber": 65
          },
          {
            "text": " * お知らせ情報を取得",
            "lineNumber": 66
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 67
          },
          {
            "text": " * @param {string} department - 部署",
            "lineNumber": 68
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} お知らせの配列",
            "lineNumber": 69
          },
          {
            "text": " */",
            "lineNumber": 70
          }
        ]
      },
      "score": 0.43192875385284424
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 329
          },
          "endPosition": {
            "line": 356
          }
        },
        "contents": "|---------|-----|------|-----------|------|\n| **VACATION_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇取得を一意に識別するID。自動採番されます。 |\n| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員が休暇を取得したか。&#96;EMPLOYEE&#96;テーブルを参照。 |\n| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **外部キー**。どの休暇種別か。&#96;VACATION_TYPE&#96;テーブルを参照。例: &#96;PAID_LEAVE&#96;、&#96;SUMMER_LEAVE&#96; |\n| **START_DATE** | DATE | NOT NULL | - | 開始日。休暇の開始日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-20&#96; |\n| **END_DATE** | DATE | NOT NULL | - | 終了日。休暇の終了日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-22&#96;（3日間の休暇） |\n| **VACATION_DAYS** | DECIMAL(4,1) | NOT NULL | - | 取得日数。何日間の休暇か。例: &#96;3.0&#96;=3日、&#96;0.5&#96;=半日 |\n| **HALF_DAY_TYPE** | VARCHAR(20) | NULL | - | 半休種別。&#96;AM&#96;=午前休、&#96;PM&#96;=午後休。全日の場合は&#96;NULL&#96;。 |\n| **REASON** | TEXT | NULL | - | 取得理由。なぜ休暇を取得したか。例: &#96;私用&#96;、&#96;夏季休暇&#96; |\n| **APPROVAL_STATUS** | VARCHAR(20) | NULL | &#96;PENDING&#96; | 承認状態。&#96;PENDING&#96;=申請中、&#96;APPROVED&#96;=承認済、&#96;REJECTED&#96;=却下 |\n| **APPROVED_BY** | VARCHAR(50) | NULL | - | 承認者。誰が承認したか。例: &#96;MGR001&#96;（管理者ID） |\n| **APPROVED_AT** | DATETIME | NULL | - | 承認日時。いつ承認されたか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n**使用例:**\n- 2025年11月20日〜22日の3日間の有給休暇（承認済み）\n\n---\n\n### 12. 月次勤怠 (MONTHLY_ATTENDANCE)\n\n月次の勤怠集計と承認状態を管理するテーブルです。従業員ごと、年月ごとに1レコードです。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |\n|---------|-----|------|-----------|------|\n| **MONTHLY_ATTENDANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。月次勤怠を一意に識別するID。自動採番されます。 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 330
          },
          {
            "text": "| **VACATION_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇取得を一意に識別するID。自動採番されます。 |",
            "lineNumber": 331
          },
          {
            "text": "| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員が休暇を取得したか。&#96;EMPLOYEE&#96;テーブルを参照。 |",
            "lineNumber": 332
          },
          {
            "text": "| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **外部キー**。どの休暇種別か。&#96;VACATION_TYPE&#96;テーブルを参照。例: &#96;PAID_LEAVE&#96;、&#96;SUMMER_LEAVE&#96; |",
            "lineNumber": 333
          },
          {
            "text": "| **START_DATE** | DATE | NOT NULL | - | 開始日。休暇の開始日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-20&#96; |",
            "lineNumber": 334
          },
          {
            "text": "| **END_DATE** | DATE | NOT NULL | - | 終了日。休暇の終了日。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-22&#96;（3日間の休暇） |",
            "lineNumber": 335
          },
          {
            "text": "| **VACATION_DAYS** | DECIMAL(4,1) | NOT NULL | - | 取得日数。何日間の休暇か。例: &#96;3.0&#96;=3日、&#96;0.5&#96;=半日 |",
            "lineNumber": 336
          },
          {
            "text": "| **HALF_DAY_TYPE** | VARCHAR(20) | NULL | - | 半休種別。&#96;AM&#96;=午前休、&#96;PM&#96;=午後休。全日の場合は&#96;NULL&#96;。 |",
            "lineNumber": 337
          },
          {
            "text": "| **REASON** | TEXT | NULL | - | 取得理由。なぜ休暇を取得したか。例: &#96;私用&#96;、&#96;夏季休暇&#96; |",
            "lineNumber": 338
          },
          {
            "text": "| **APPROVAL_STATUS** | VARCHAR(20) | NULL | &#96;PENDING&#96; | 承認状態。&#96;PENDING&#96;=申請中、&#96;APPROVED&#96;=承認済、&#96;REJECTED&#96;=却下 |",
            "lineNumber": 339
          },
          {
            "text": "| **APPROVED_BY** | VARCHAR(50) | NULL | - | 承認者。誰が承認したか。例: &#96;MGR001&#96;（管理者ID） |",
            "lineNumber": 340
          },
          {
            "text": "| **APPROVED_AT** | DATETIME | NULL | - | 承認日時。いつ承認されたか。形式: &#96;YYYY-MM-DD HH:MM:SS&#96; |",
            "lineNumber": 341
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 342
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 343
          },
          {
            "lineNumber": 344
          },
          {
            "text": "**使用例:**",
            "lineNumber": 345
          },
          {
            "text": "- 2025年11月20日〜22日の3日間の有給休暇（承認済み）",
            "lineNumber": 346
          },
          {
            "lineNumber": 347
          },
          {
            "text": "---",
            "lineNumber": 348
          },
          {
            "lineNumber": 349
          },
          {
            "text": "### 12. 月次勤怠 (MONTHLY_ATTENDANCE)",
            "lineNumber": 350
          },
          {
            "lineNumber": 351
          },
          {
            "text": "月次の勤怠集計と承認状態を管理するテーブルです。従業員ごと、年月ごとに1レコードです。",
            "lineNumber": 352
          },
          {
            "lineNumber": 353
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 354
          },
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 355
          },
          {
            "text": "| **MONTHLY_ATTENDANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。月次勤怠を一意に識別するID。自動採番されます。 |",
            "lineNumber": 356
          }
        ]
      },
      "score": 0.4066919982433319
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 211
          },
          "endPosition": {
            "line": 234
          }
        },
        "contents": "CREATE TABLE VACATION_BALANCE (\n    BALANCE_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇残日数ID',\n    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID',\n    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',\n    FISCAL_YEAR INT NOT NULL COMMENT '年度',\n    GRANTED_DAYS DECIMAL(4,1) NOT NULL COMMENT '付与日数',\n    USED_DAYS DECIMAL(4,1) DEFAULT 0 COMMENT '使用日数',\n    REMAINING_DAYS DECIMAL(4,1) NOT NULL COMMENT '残日数',\n    GRANT_DATE DATE NOT NULL COMMENT '付与日',\n    EXPIRATION_DATE DATE COMMENT '有効期限',\n    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',\n    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',\n    PRIMARY KEY (BALANCE_ID),\n    UNIQUE KEY UK_EMP_TYPE_YEAR (EMPLOYEE_ID, VACATION_TYPE_CODE, FISCAL_YEAR),\n    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,\n    FOREIGN KEY (VACATION_TYPE_CODE) REFERENCES VACATION_TYPE(VACATION_TYPE_CODE),\n    INDEX IDX_FISCAL_YEAR (FISCAL_YEAR)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇残日数';\n\n-- 11. 月次勤怠 (MONTHLY_ATTENDANCE)\n-- 月次の勤怠集計と承認状態を管理するテーブル\nCREATE TABLE MONTHLY_ATTENDANCE (\n    MONTHLY_ATTENDANCE_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '月次勤怠ID: 主キー。月次勤怠記録を一意に識別するID（自動採番）',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "CREATE TABLE VACATION_BALANCE (",
            "lineNumber": 212
          },
          {
            "text": "    BALANCE_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '休暇残日数ID',",
            "lineNumber": 213
          },
          {
            "text": "    EMPLOYEE_ID VARCHAR(50) NOT NULL COMMENT '従業員ID',",
            "lineNumber": 214
          },
          {
            "text": "    VACATION_TYPE_CODE VARCHAR(20) NOT NULL COMMENT '休暇種別コード',",
            "lineNumber": 215
          },
          {
            "text": "    FISCAL_YEAR INT NOT NULL COMMENT '年度',",
            "lineNumber": 216
          },
          {
            "text": "    GRANTED_DAYS DECIMAL(4,1) NOT NULL COMMENT '付与日数',",
            "lineNumber": 217
          },
          {
            "text": "    USED_DAYS DECIMAL(4,1) DEFAULT 0 COMMENT '使用日数',",
            "lineNumber": 218
          },
          {
            "text": "    REMAINING_DAYS DECIMAL(4,1) NOT NULL COMMENT '残日数',",
            "lineNumber": 219
          },
          {
            "text": "    GRANT_DATE DATE NOT NULL COMMENT '付与日',",
            "lineNumber": 220
          },
          {
            "text": "    EXPIRATION_DATE DATE COMMENT '有効期限',",
            "lineNumber": 221
          },
          {
            "text": "    CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '作成日時',",
            "lineNumber": 222
          },
          {
            "text": "    UPDATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新日時',",
            "lineNumber": 223
          },
          {
            "text": "    PRIMARY KEY (BALANCE_ID),",
            "lineNumber": 224
          },
          {
            "text": "    UNIQUE KEY UK_EMP_TYPE_YEAR (EMPLOYEE_ID, VACATION_TYPE_CODE, FISCAL_YEAR),",
            "lineNumber": 225
          },
          {
            "text": "    FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE(EMPLOYEE_ID) ON DELETE CASCADE,",
            "lineNumber": 226
          },
          {
            "text": "    FOREIGN KEY (VACATION_TYPE_CODE) REFERENCES VACATION_TYPE(VACATION_TYPE_CODE),",
            "lineNumber": 227
          },
          {
            "text": "    INDEX IDX_FISCAL_YEAR (FISCAL_YEAR)",
            "lineNumber": 228
          },
          {
            "text": ") ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='休暇残日数';",
            "lineNumber": 229
          },
          {
            "lineNumber": 230
          },
          {
            "text": "-- 11. 月次勤怠 (MONTHLY_ATTENDANCE)",
            "lineNumber": 231
          },
          {
            "text": "-- 月次の勤怠集計と承認状態を管理するテーブル",
            "lineNumber": 232
          },
          {
            "text": "CREATE TABLE MONTHLY_ATTENDANCE (",
            "lineNumber": 233
          },
          {
            "text": "    MONTHLY_ATTENDANCE_ID BIGINT AUTO_INCREMENT NOT NULL COMMENT '月次勤怠ID: 主キー。月次勤怠記録を一意に識別するID（自動採番）',",
            "lineNumber": 234
          }
        ]
      },
      "score": 0.40129315853118896
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 304
          },
          "endPosition": {
            "line": 331
          }
        },
        "contents": "| **BALANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇残日数を一意に識別するID。自動採番されます。 |\n| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員の休暇残日数か。&#96;EMPLOYEE&#96;テーブルを参照。 |\n| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **外部キー**。どの休暇種別か。&#96;VACATION_TYPE&#96;テーブルを参照。例: &#96;PAID_LEAVE&#96;、&#96;SUMMER_LEAVE&#96; |\n| **FISCAL_YEAR** | INT | NOT NULL | - | 年度。どの年度の休暇残日数か。例: &#96;2025&#96;=2025年度（2025年4月〜2026年3月） |\n| **GRANTED_DAYS** | DECIMAL(4,1) | NOT NULL | - | 付与日数。その年度に付与された休暇日数。例: &#96;20.0&#96;=20日、&#96;15.0&#96;=15日 |\n| **USED_DAYS** | DECIMAL(4,1) | NULL | &#96;0&#96; | 使用日数。その年度に使用した休暇日数。例: &#96;5.0&#96;=5日使用済み |\n| **REMAINING_DAYS** | DECIMAL(4,1) | NOT NULL | - | 残日数。付与日数から使用日数を引いた残り。例: &#96;15.0&#96;=15日残り（&#96;GRANTED_DAYS - USED_DAYS&#96;） |\n| **GRANT_DATE** | DATE | NOT NULL | - | 付与日。いつ休暇が付与されたか。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-04-01&#96;（年度初め） |\n| **EXPIRATION_DATE** | DATE | NULL | - | 有効期限。いつまで有効か。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2026-03-31&#96;（年度末） |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n**重要な制約:**\n- 1人の従業員は1つの休暇種別につき1年度1レコードのみ（&#96;EMPLOYEE_ID&#96; + &#96;VACATION_TYPE_CODE&#96; + &#96;FISCAL_YEAR&#96;でユニーク）\n\n**使用例:**\n- 2025年度の有給休暇: 付与20日、使用5日、残り15日\n\n---\n\n### 11. 休暇取得履歴 (VACATION_HISTORY)\n\n従業員が休暇を取得した履歴と承認状態を記録するテーブルです。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |\n|---------|-----|------|-----------|------|\n| **VACATION_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇取得を一意に識別するID。自動採番されます。 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| **BALANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇残日数を一意に識別するID。自動採番されます。 |",
            "lineNumber": 305
          },
          {
            "text": "| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員の休暇残日数か。&#96;EMPLOYEE&#96;テーブルを参照。 |",
            "lineNumber": 306
          },
          {
            "text": "| **VACATION_TYPE_CODE** | VARCHAR(20) | NOT NULL | - | **外部キー**。どの休暇種別か。&#96;VACATION_TYPE&#96;テーブルを参照。例: &#96;PAID_LEAVE&#96;、&#96;SUMMER_LEAVE&#96; |",
            "lineNumber": 307
          },
          {
            "text": "| **FISCAL_YEAR** | INT | NOT NULL | - | 年度。どの年度の休暇残日数か。例: &#96;2025&#96;=2025年度（2025年4月〜2026年3月） |",
            "lineNumber": 308
          },
          {
            "text": "| **GRANTED_DAYS** | DECIMAL(4,1) | NOT NULL | - | 付与日数。その年度に付与された休暇日数。例: &#96;20.0&#96;=20日、&#96;15.0&#96;=15日 |",
            "lineNumber": 309
          },
          {
            "text": "| **USED_DAYS** | DECIMAL(4,1) | NULL | &#96;0&#96; | 使用日数。その年度に使用した休暇日数。例: &#96;5.0&#96;=5日使用済み |",
            "lineNumber": 310
          },
          {
            "text": "| **REMAINING_DAYS** | DECIMAL(4,1) | NOT NULL | - | 残日数。付与日数から使用日数を引いた残り。例: &#96;15.0&#96;=15日残り（&#96;GRANTED_DAYS - USED_DAYS&#96;） |",
            "lineNumber": 311
          },
          {
            "text": "| **GRANT_DATE** | DATE | NOT NULL | - | 付与日。いつ休暇が付与されたか。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-04-01&#96;（年度初め） |",
            "lineNumber": 312
          },
          {
            "text": "| **EXPIRATION_DATE** | DATE | NULL | - | 有効期限。いつまで有効か。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2026-03-31&#96;（年度末） |",
            "lineNumber": 313
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 314
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 315
          },
          {
            "lineNumber": 316
          },
          {
            "text": "**重要な制約:**",
            "lineNumber": 317
          },
          {
            "text": "- 1人の従業員は1つの休暇種別につき1年度1レコードのみ（&#96;EMPLOYEE_ID&#96; + &#96;VACATION_TYPE_CODE&#96; + &#96;FISCAL_YEAR&#96;でユニーク）",
            "lineNumber": 318
          },
          {
            "lineNumber": 319
          },
          {
            "text": "**使用例:**",
            "lineNumber": 320
          },
          {
            "text": "- 2025年度の有給休暇: 付与20日、使用5日、残り15日",
            "lineNumber": 321
          },
          {
            "lineNumber": 322
          },
          {
            "text": "---",
            "lineNumber": 323
          },
          {
            "lineNumber": 324
          },
          {
            "text": "### 11. 休暇取得履歴 (VACATION_HISTORY)",
            "lineNumber": 325
          },
          {
            "lineNumber": 326
          },
          {
            "text": "従業員が休暇を取得した履歴と承認状態を記録するテーブルです。",
            "lineNumber": 327
          },
          {
            "lineNumber": 328
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 329
          },
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 330
          },
          {
            "text": "| **VACATION_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇取得を一意に識別するID。自動採番されます。 |",
            "lineNumber": 331
          }
        ]
      },
      "score": 0.39938414096832275
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\mysql_table_design.sql",
        "range": {
          "startPosition": {
            "line": 689
          },
          "endPosition": {
            "line": 730
          }
        },
        "contents": "-- 14. 月次承認履歴を取得（ステータスダイアログ用）\n-- SET @employee_id = '000001';\n-- SET @target_year_month = '2025-10';\n-- SELECT \n--     SEQ_NO AS '#',\n--     DATE_FORMAT(ACTION_DATETIME, '%Y-%m-%d %H:%i') AS '日時',\n--     ACTION_TYPE_DISPLAY AS '状況',\n--     ACTOR_NAME AS '実行者',\n--     COMMENT AS 'コメント'\n-- FROM V_MONTHLY_APPROVAL_HISTORY\n-- WHERE EMPLOYEE_ID = @employee_id\n--   AND TARGET_YEAR_MONTH = @target_year_month\n-- ORDER BY SEQ_NO;\n\n-- ====================================================================\n-- サンプルデータ\n-- ====================================================================\n\n-- ジョブマスタ\nINSERT INTO JOB_MASTER (JOB_CODE, JOB_NAME, JOB_CATEGORY, PROJECT_CODE, IS_ACTIVE, CREATED_AT, UPDATED_AT) VALUES\n('JOB001', '開発作業', '開発', 'PROJ001', TRUE, NOW(), NOW()),\n('JOB002', '設計作業', '開発', 'PROJ001', TRUE, NOW(), NOW()),\n('JOB003', 'レビュー', '品質管理', 'PROJ001', TRUE, NOW(), NOW()),\n('JOB004', '会議', '管理業務', NULL, TRUE, NOW(), NOW());\n\n-- 休暇種別マスタ\nINSERT INTO VACATION_TYPE (VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER, IS_ACTIVE, CREATED_AT, UPDATED_AT) VALUES\n('PAID', '有給休暇', '有給', TRUE, 20, 1, TRUE, NOW(), NOW()),\n('SPECIAL', '特別休暇', '特別', TRUE, 5, 2, TRUE, NOW(), NOW()),\n('SICK', '病気休暇', '特別', FALSE, 0, 3, TRUE, NOW(), NOW());\n\n\n-- ====================================================================\n-- ORIGINAL_CLOCK_IN_TIMEとORIGINAL_CLOCK_OUT_TIMEの既存データ移行\n-- 打刻種別がSTAMPの場合は、CLOCK_IN_TIME/CLOCK_OUT_TIMEをORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIMEに設定\n-- \n-- 【注意】既存のテーブルにカラムを追加する場合のALTER TABLE文（参考用）\n-- 注意: カラムが既に存在する場合はエラーになります。その場合は、以下のUPDATE文のみを実行してください。\n-- ALTER TABLE ATTENDANCE_RECORD \n-- ADD COLUMN ORIGINAL_CLOCK_IN_TIME DATETIME COMMENT '出勤打刻時刻: 打刻機による元の時刻。手入力で変更されても保持される。形式YYYY-MM-DD HH:MM:SS' AFTER CLOCK_OUT_TYPE,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "-- 14. 月次承認履歴を取得（ステータスダイアログ用）",
            "lineNumber": 691
          },
          {
            "text": "-- SET @employee_id = '000001';",
            "lineNumber": 692
          },
          {
            "text": "-- SET @target_year_month = '2025-10';",
            "lineNumber": 693
          },
          {
            "text": "-- SELECT ",
            "lineNumber": 694
          },
          {
            "text": "--     SEQ_NO AS '#',",
            "lineNumber": 695
          },
          {
            "text": "--     DATE_FORMAT(ACTION_DATETIME, '%Y-%m-%d %H:%i') AS '日時',",
            "lineNumber": 696
          },
          {
            "text": "--     ACTION_TYPE_DISPLAY AS '状況',",
            "lineNumber": 697
          },
          {
            "text": "--     ACTOR_NAME AS '実行者',",
            "lineNumber": 698
          },
          {
            "text": "--     COMMENT AS 'コメント'",
            "lineNumber": 699
          },
          {
            "text": "-- FROM V_MONTHLY_APPROVAL_HISTORY",
            "lineNumber": 700
          },
          {
            "text": "-- WHERE EMPLOYEE_ID = @employee_id",
            "lineNumber": 701
          },
          {
            "text": "--   AND TARGET_YEAR_MONTH = @target_year_month",
            "lineNumber": 702
          },
          {
            "text": "-- ORDER BY SEQ_NO;",
            "lineNumber": 703
          },
          {
            "lineNumber": 704
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 705
          },
          {
            "text": "-- サンプルデータ",
            "lineNumber": 706
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 707
          },
          {
            "lineNumber": 708
          },
          {
            "text": "-- ジョブマスタ",
            "lineNumber": 709
          },
          {
            "text": "INSERT INTO JOB_MASTER (JOB_CODE, JOB_NAME, JOB_CATEGORY, PROJECT_CODE, IS_ACTIVE, CREATED_AT, UPDATED_AT) VALUES",
            "lineNumber": 710
          },
          {
            "text": "('JOB001', '開発作業', '開発', 'PROJ001', TRUE, NOW(), NOW()),",
            "lineNumber": 711
          },
          {
            "text": "('JOB002', '設計作業', '開発', 'PROJ001', TRUE, NOW(), NOW()),",
            "lineNumber": 712
          },
          {
            "text": "('JOB003', 'レビュー', '品質管理', 'PROJ001', TRUE, NOW(), NOW()),",
            "lineNumber": 713
          },
          {
            "text": "('JOB004', '会議', '管理業務', NULL, TRUE, NOW(), NOW());",
            "lineNumber": 714
          },
          {
            "lineNumber": 715
          },
          {
            "text": "-- 休暇種別マスタ",
            "lineNumber": 716
          },
          {
            "text": "INSERT INTO VACATION_TYPE (VACATION_TYPE_CODE, VACATION_TYPE_NAME, VACATION_CATEGORY, IS_PAID, ANNUAL_GRANT_DAYS, DISPLAY_ORDER, IS_ACTIVE, CREATED_AT, UPDATED_AT) VALUES",
            "lineNumber": 717
          },
          {
            "text": "('PAID', '有給休暇', '有給', TRUE, 20, 1, TRUE, NOW(), NOW()),",
            "lineNumber": 718
          },
          {
            "text": "('SPECIAL', '特別休暇', '特別', TRUE, 5, 2, TRUE, NOW(), NOW()),",
            "lineNumber": 719
          },
          {
            "text": "('SICK', '病気休暇', '特別', FALSE, 0, 3, TRUE, NOW(), NOW());",
            "lineNumber": 720
          },
          {
            "lineNumber": 721
          },
          {
            "lineNumber": 722
          },
          {
            "text": "-- ====================================================================",
            "lineNumber": 723
          },
          {
            "text": "-- ORIGINAL_CLOCK_IN_TIMEとORIGINAL_CLOCK_OUT_TIMEの既存データ移行",
            "lineNumber": 724
          },
          {
            "text": "-- 打刻種別がSTAMPの場合は、CLOCK_IN_TIME/CLOCK_OUT_TIMEをORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIMEに設定",
            "lineNumber": 725
          },
          {
            "text": "-- ",
            "lineNumber": 726
          },
          {
            "text": "-- 【注意】既存のテーブルにカラムを追加する場合のALTER TABLE文（参考用）",
            "lineNumber": 727
          },
          {
            "text": "-- 注意: カラムが既に存在する場合はエラーになります。その場合は、以下のUPDATE文のみを実行してください。",
            "lineNumber": 728
          },
          {
            "text": "-- ALTER TABLE ATTENDANCE_RECORD ",
            "lineNumber": 729
          },
          {
            "text": "-- ADD COLUMN ORIGINAL_CLOCK_IN_TIME DATETIME COMMENT '出勤打刻時刻: 打刻機による元の時刻。手入力で変更されても保持される。形式YYYY-MM-DD HH:MM:SS' AFTER CLOCK_OUT_TYPE,",
            "lineNumber": 730
          }
        ]
      },
      "score": 0.3901076912879944
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\er-diagram.md",
        "range": {
          "startPosition": {
            "line": 128
          },
          "endPosition": {
            "line": 205
          }
        },
        "contents": "        datetime UPDATED_AT\n    }\n\n    OFFICIAL_OUTING {\n        int OUTING_ID PK\n        int ATTENDANCE_ID FK\n        int OUTING_SEQ\n        datetime OUTING_START_TIME\n        datetime OUTING_END_TIME\n        int OUTING_DURATION_MINUTES\n        string OUTING_PURPOSE\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    WORK_HOURS {\n        int WORK_HOURS_ID PK\n        int ATTENDANCE_ID FK\n        string EMPLOYEE_ID FK\n        date WORK_DATE\n        string JOB_CODE FK\n        string WORK_CODE\n        float WORK_HOURS_VALUE\n        int WORK_VOLUME\n        string INPUT_TYPE\n        text REMARKS\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    VACATION_BALANCE {\n        int BALANCE_ID PK\n        string EMPLOYEE_ID FK\n        string VACATION_TYPE_CODE FK\n        int FISCAL_YEAR\n        float GRANTED_DAYS\n        float USED_DAYS\n        float REMAINING_DAYS\n        date GRANT_DATE\n        date EXPIRATION_DATE\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    VACATION_HISTORY {\n        int VACATION_ID PK\n        string EMPLOYEE_ID FK\n        string VACATION_TYPE_CODE FK\n        date START_DATE\n        date END_DATE\n        float VACATION_DAYS\n        string HALF_DAY_TYPE\n        text REASON\n        text CONTACT_INFO\n        string APPROVAL_STATUS\n        string APPROVED_BY\n        datetime APPROVED_AT\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    APPLICATION_HISTORY {\n        int APPLICATION_ID PK\n        string EMPLOYEE_ID FK\n        string APPLICATION_TYPE\n        date TARGET_START_DATE\n        date TARGET_END_DATE\n        float OVERTIME_HOURS\n        text REASON\n        string APPROVAL_STATUS\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    MONTHLY_ATTENDANCE {\n        int MONTHLY_ATTENDANCE_ID PK\n        string EMPLOYEE_ID FK",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 129
          },
          {
            "text": "    }",
            "lineNumber": 130
          },
          {
            "lineNumber": 131
          },
          {
            "text": "    OFFICIAL_OUTING {",
            "lineNumber": 132
          },
          {
            "text": "        int OUTING_ID PK",
            "lineNumber": 133
          },
          {
            "text": "        int ATTENDANCE_ID FK",
            "lineNumber": 134
          },
          {
            "text": "        int OUTING_SEQ",
            "lineNumber": 135
          },
          {
            "text": "        datetime OUTING_START_TIME",
            "lineNumber": 136
          },
          {
            "text": "        datetime OUTING_END_TIME",
            "lineNumber": 137
          },
          {
            "text": "        int OUTING_DURATION_MINUTES",
            "lineNumber": 138
          },
          {
            "text": "        string OUTING_PURPOSE",
            "lineNumber": 139
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 140
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 141
          },
          {
            "text": "    }",
            "lineNumber": 142
          },
          {
            "lineNumber": 143
          },
          {
            "text": "    WORK_HOURS {",
            "lineNumber": 144
          },
          {
            "text": "        int WORK_HOURS_ID PK",
            "lineNumber": 145
          },
          {
            "text": "        int ATTENDANCE_ID FK",
            "lineNumber": 146
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 147
          },
          {
            "text": "        date WORK_DATE",
            "lineNumber": 148
          },
          {
            "text": "        string JOB_CODE FK",
            "lineNumber": 149
          },
          {
            "text": "        string WORK_CODE",
            "lineNumber": 150
          },
          {
            "text": "        float WORK_HOURS_VALUE",
            "lineNumber": 151
          },
          {
            "text": "        int WORK_VOLUME",
            "lineNumber": 152
          },
          {
            "text": "        string INPUT_TYPE",
            "lineNumber": 153
          },
          {
            "text": "        text REMARKS",
            "lineNumber": 154
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 155
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 156
          },
          {
            "text": "    }",
            "lineNumber": 157
          },
          {
            "lineNumber": 158
          },
          {
            "text": "    VACATION_BALANCE {",
            "lineNumber": 159
          },
          {
            "text": "        int BALANCE_ID PK",
            "lineNumber": 160
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 161
          },
          {
            "text": "        string VACATION_TYPE_CODE FK",
            "lineNumber": 162
          },
          {
            "text": "        int FISCAL_YEAR",
            "lineNumber": 163
          },
          {
            "text": "        float GRANTED_DAYS",
            "lineNumber": 164
          },
          {
            "text": "        float USED_DAYS",
            "lineNumber": 165
          },
          {
            "text": "        float REMAINING_DAYS",
            "lineNumber": 166
          },
          {
            "text": "        date GRANT_DATE",
            "lineNumber": 167
          },
          {
            "text": "        date EXPIRATION_DATE",
            "lineNumber": 168
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 169
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 170
          },
          {
            "text": "    }",
            "lineNumber": 171
          },
          {
            "lineNumber": 172
          },
          {
            "text": "    VACATION_HISTORY {",
            "lineNumber": 173
          },
          {
            "text": "        int VACATION_ID PK",
            "lineNumber": 174
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 175
          },
          {
            "text": "        string VACATION_TYPE_CODE FK",
            "lineNumber": 176
          },
          {
            "text": "        date START_DATE",
            "lineNumber": 177
          },
          {
            "text": "        date END_DATE",
            "lineNumber": 178
          },
          {
            "text": "        float VACATION_DAYS",
            "lineNumber": 179
          },
          {
            "text": "        string HALF_DAY_TYPE",
            "lineNumber": 180
          },
          {
            "text": "        text REASON",
            "lineNumber": 181
          },
          {
            "text": "        text CONTACT_INFO",
            "lineNumber": 182
          },
          {
            "text": "        string APPROVAL_STATUS",
            "lineNumber": 183
          },
          {
            "text": "        string APPROVED_BY",
            "lineNumber": 184
          },
          {
            "text": "        datetime APPROVED_AT",
            "lineNumber": 185
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 186
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 187
          },
          {
            "text": "    }",
            "lineNumber": 188
          },
          {
            "lineNumber": 189
          },
          {
            "text": "    APPLICATION_HISTORY {",
            "lineNumber": 190
          },
          {
            "text": "        int APPLICATION_ID PK",
            "lineNumber": 191
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 192
          },
          {
            "text": "        string APPLICATION_TYPE",
            "lineNumber": 193
          },
          {
            "text": "        date TARGET_START_DATE",
            "lineNumber": 194
          },
          {
            "text": "        date TARGET_END_DATE",
            "lineNumber": 195
          },
          {
            "text": "        float OVERTIME_HOURS",
            "lineNumber": 196
          },
          {
            "text": "        text REASON",
            "lineNumber": 197
          },
          {
            "text": "        string APPROVAL_STATUS",
            "lineNumber": 198
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 199
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 200
          },
          {
            "text": "    }",
            "lineNumber": 201
          },
          {
            "lineNumber": 202
          },
          {
            "text": "    MONTHLY_ATTENDANCE {",
            "lineNumber": 203
          },
          {
            "text": "        int MONTHLY_ATTENDANCE_ID PK",
            "lineNumber": 204
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 205
          }
        ]
      },
      "score": 0.3866705000400543
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\er-diagram.md",
        "range": {
          "startPosition": {
            "line": 60
          },
          "endPosition": {
            "line": 135
          }
        },
        "contents": "    }\n\n    VACATION_TYPE {\n        string VACATION_TYPE_CODE PK\n        string VACATION_TYPE_NAME\n        string VACATION_CATEGORY\n        boolean IS_PAID\n        float ANNUAL_GRANT_DAYS\n        int DISPLAY_ORDER\n        boolean IS_ACTIVE\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    NOTIFICATION {\n        int NOTIFICATION_ID PK\n        string NOTIFICATION_TYPE\n        string TARGET_TYPE\n        string TARGET_ID\n        string TITLE\n        text CONTENT\n        datetime DISPLAY_START_DATE\n        datetime DISPLAY_END_DATE\n        boolean IS_IMPORTANT\n        boolean IS_ACTIVE\n        string CREATED_BY\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    ATTENDANCE_RECORD {\n        int ATTENDANCE_ID PK\n        string EMPLOYEE_ID FK\n        date WORK_DATE\n        datetime CLOCK_IN_TIME\n        datetime CLOCK_OUT_TIME\n        string CLOCK_IN_TYPE\n        string CLOCK_OUT_TYPE\n        datetime ORIGINAL_CLOCK_IN_TIME\n        datetime ORIGINAL_CLOCK_OUT_TIME\n        string WORK_LOCATION_CODE FK\n        float ACTUAL_WORK_HOURS\n        float SCHEDULED_WORK_HOURS\n        float OVERTIME_HOURS\n        float WITHIN_LEGAL_OVERTIME_HOURS\n        float OVER_LEGAL_OVERTIME_HOURS\n        float NIGHT_WORK_HOURS\n        float LEGAL_HOLIDAY_WORK_HOURS\n        float HOLIDAY_WORK_HOURS\n        boolean IS_DAILY_CONFIRMED\n        datetime DAILY_CONFIRMED_AT\n        boolean IS_MONTHLY_CONFIRMED\n        datetime MONTHLY_CONFIRMED_AT\n        string APPROVAL_STATUS\n        text REMARK_TEXT\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    BREAK_TIME {\n        int BREAK_ID PK\n        int ATTENDANCE_ID FK\n        int BREAK_SEQ\n        datetime BREAK_START_TIME\n        datetime BREAK_END_TIME\n        int BREAK_DURATION_MINUTES\n        string BREAK_TYPE\n        datetime CREATED_AT\n        datetime UPDATED_AT\n    }\n\n    OFFICIAL_OUTING {\n        int OUTING_ID PK\n        int ATTENDANCE_ID FK\n        int OUTING_SEQ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    }",
            "lineNumber": 61
          },
          {
            "lineNumber": 62
          },
          {
            "text": "    VACATION_TYPE {",
            "lineNumber": 63
          },
          {
            "text": "        string VACATION_TYPE_CODE PK",
            "lineNumber": 64
          },
          {
            "text": "        string VACATION_TYPE_NAME",
            "lineNumber": 65
          },
          {
            "text": "        string VACATION_CATEGORY",
            "lineNumber": 66
          },
          {
            "text": "        boolean IS_PAID",
            "lineNumber": 67
          },
          {
            "text": "        float ANNUAL_GRANT_DAYS",
            "lineNumber": 68
          },
          {
            "text": "        int DISPLAY_ORDER",
            "lineNumber": 69
          },
          {
            "text": "        boolean IS_ACTIVE",
            "lineNumber": 70
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 71
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 72
          },
          {
            "text": "    }",
            "lineNumber": 73
          },
          {
            "lineNumber": 74
          },
          {
            "text": "    NOTIFICATION {",
            "lineNumber": 75
          },
          {
            "text": "        int NOTIFICATION_ID PK",
            "lineNumber": 76
          },
          {
            "text": "        string NOTIFICATION_TYPE",
            "lineNumber": 77
          },
          {
            "text": "        string TARGET_TYPE",
            "lineNumber": 78
          },
          {
            "text": "        string TARGET_ID",
            "lineNumber": 79
          },
          {
            "text": "        string TITLE",
            "lineNumber": 80
          },
          {
            "text": "        text CONTENT",
            "lineNumber": 81
          },
          {
            "text": "        datetime DISPLAY_START_DATE",
            "lineNumber": 82
          },
          {
            "text": "        datetime DISPLAY_END_DATE",
            "lineNumber": 83
          },
          {
            "text": "        boolean IS_IMPORTANT",
            "lineNumber": 84
          },
          {
            "text": "        boolean IS_ACTIVE",
            "lineNumber": 85
          },
          {
            "text": "        string CREATED_BY",
            "lineNumber": 86
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 87
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 88
          },
          {
            "text": "    }",
            "lineNumber": 89
          },
          {
            "lineNumber": 90
          },
          {
            "text": "    ATTENDANCE_RECORD {",
            "lineNumber": 91
          },
          {
            "text": "        int ATTENDANCE_ID PK",
            "lineNumber": 92
          },
          {
            "text": "        string EMPLOYEE_ID FK",
            "lineNumber": 93
          },
          {
            "text": "        date WORK_DATE",
            "lineNumber": 94
          },
          {
            "text": "        datetime CLOCK_IN_TIME",
            "lineNumber": 95
          },
          {
            "text": "        datetime CLOCK_OUT_TIME",
            "lineNumber": 96
          },
          {
            "text": "        string CLOCK_IN_TYPE",
            "lineNumber": 97
          },
          {
            "text": "        string CLOCK_OUT_TYPE",
            "lineNumber": 98
          },
          {
            "text": "        datetime ORIGINAL_CLOCK_IN_TIME",
            "lineNumber": 99
          },
          {
            "text": "        datetime ORIGINAL_CLOCK_OUT_TIME",
            "lineNumber": 100
          },
          {
            "text": "        string WORK_LOCATION_CODE FK",
            "lineNumber": 101
          },
          {
            "text": "        float ACTUAL_WORK_HOURS",
            "lineNumber": 102
          },
          {
            "text": "        float SCHEDULED_WORK_HOURS",
            "lineNumber": 103
          },
          {
            "text": "        float OVERTIME_HOURS",
            "lineNumber": 104
          },
          {
            "text": "        float WITHIN_LEGAL_OVERTIME_HOURS",
            "lineNumber": 105
          },
          {
            "text": "        float OVER_LEGAL_OVERTIME_HOURS",
            "lineNumber": 106
          },
          {
            "text": "        float NIGHT_WORK_HOURS",
            "lineNumber": 107
          },
          {
            "text": "        float LEGAL_HOLIDAY_WORK_HOURS",
            "lineNumber": 108
          },
          {
            "text": "        float HOLIDAY_WORK_HOURS",
            "lineNumber": 109
          },
          {
            "text": "        boolean IS_DAILY_CONFIRMED",
            "lineNumber": 110
          },
          {
            "text": "        datetime DAILY_CONFIRMED_AT",
            "lineNumber": 111
          },
          {
            "text": "        boolean IS_MONTHLY_CONFIRMED",
            "lineNumber": 112
          },
          {
            "text": "        datetime MONTHLY_CONFIRMED_AT",
            "lineNumber": 113
          },
          {
            "text": "        string APPROVAL_STATUS",
            "lineNumber": 114
          },
          {
            "text": "        text REMARK_TEXT",
            "lineNumber": 115
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 116
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 117
          },
          {
            "text": "    }",
            "lineNumber": 118
          },
          {
            "lineNumber": 119
          },
          {
            "text": "    BREAK_TIME {",
            "lineNumber": 120
          },
          {
            "text": "        int BREAK_ID PK",
            "lineNumber": 121
          },
          {
            "text": "        int ATTENDANCE_ID FK",
            "lineNumber": 122
          },
          {
            "text": "        int BREAK_SEQ",
            "lineNumber": 123
          },
          {
            "text": "        datetime BREAK_START_TIME",
            "lineNumber": 124
          },
          {
            "text": "        datetime BREAK_END_TIME",
            "lineNumber": 125
          },
          {
            "text": "        int BREAK_DURATION_MINUTES",
            "lineNumber": 126
          },
          {
            "text": "        string BREAK_TYPE",
            "lineNumber": 127
          },
          {
            "text": "        datetime CREATED_AT",
            "lineNumber": 128
          },
          {
            "text": "        datetime UPDATED_AT",
            "lineNumber": 129
          },
          {
            "text": "    }",
            "lineNumber": 130
          },
          {
            "lineNumber": 131
          },
          {
            "text": "    OFFICIAL_OUTING {",
            "lineNumber": 132
          },
          {
            "text": "        int OUTING_ID PK",
            "lineNumber": 133
          },
          {
            "text": "        int ATTENDANCE_ID FK",
            "lineNumber": 134
          },
          {
            "text": "        int OUTING_SEQ",
            "lineNumber": 135
          }
        ]
      },
      "score": 0.37018871307373047
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 321
          },
          "endPosition": {
            "line": 343
          }
        },
        "contents": "              &lt;template v-else&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;select \n                    v-model=\"vacationForm.vacationType\" \n                    @change=\"onVacationTypeChange\"\n                    class=\"select-inline\"\n                  &gt;\n                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;\n                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;\n                      {{ type.name }}\n                    &lt;/option&gt;\n                  &lt;/select&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "              &lt;template v-else&gt;",
            "lineNumber": 322
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 323
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 324
          },
          {
            "text": "                  &lt;select ",
            "lineNumber": 325
          },
          {
            "text": "                    v-model=\"vacationForm.vacationType\" ",
            "lineNumber": 326
          },
          {
            "text": "                    @change=\"onVacationTypeChange\"",
            "lineNumber": 327
          },
          {
            "text": "                    class=\"select-inline\"",
            "lineNumber": 328
          },
          {
            "text": "                  &gt;",
            "lineNumber": 329
          },
          {
            "text": "                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;",
            "lineNumber": 330
          },
          {
            "text": "                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;",
            "lineNumber": 331
          },
          {
            "text": "                      {{ type.name }}",
            "lineNumber": 332
          },
          {
            "text": "                    &lt;/option&gt;",
            "lineNumber": 333
          },
          {
            "text": "                  &lt;/select&gt;",
            "lineNumber": 334
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 335
          },
          {
            "text": "                ",
            "lineNumber": 336
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 337
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 338
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 339
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 340
          },
          {
            "text": "                ",
            "lineNumber": 341
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 343
          }
        ]
      },
      "score": 0.3665069341659546
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\monthly-summary-screen.md",
        "range": {
          "startPosition": {
            "line": 411
          },
          "endPosition": {
            "line": 432
          }
        },
        "contents": "- その他\n  - ビューV_MONTHLY_ATTENDANCEを使用して月次集計データを取得\n  - 法定休日出勤日数、所定休日出勤日数、45時間を超える時間外労働、60時間を超える時間外労働、遅刻回数・時間、早退回数・時間、コア時間内の私用外出回数・時間は、ATTENDANCE_RECORDテーブルから別途集計する必要がある\n\n#### No.4\n- 取得仕様名：休暇情報取得\n- テーブル名：VACATION_HISTORY、VACATION_BALANCE、VACATION_TYPE\n  | 項目名 | 取得内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 有給取得日数 | VACATION_HISTORY.VACATION_DAYSの合計 | VACATION_TYPE_CODE = 'PAID_LEAVE' かつ対象年月内の取得日数 |\n  | 有給取得日数内訳 | VACATION_TYPE.VACATION_TYPE_NAME | VACATION_TYPE_CODE = 'PAID_LEAVE' に対応する休暇種別名（例: 年次有給休暇）。データがない場合は空文字 |\n  | 代休取得日数 | VACATION_HISTORY.VACATION_DAYSの合計 | VACATION_TYPE_CODE = 'SUBSTITUTE_HOLIDAY' かつ対象年月内の取得日数 |\n  | 代休取得日数内訳 | VACATION_TYPE.VACATION_TYPE_NAME | VACATION_TYPE_CODE = 'SUBSTITUTE_HOLIDAY' に対応する休暇種別名。データがない場合は空文字 |\n  | 無給休暇日数 | VACATION_HISTORY.VACATION_DAYSの合計 | VACATION_TYPE_CODEが無給の休暇種別 かつ対象年月内の取得日数 |\n  | 無給休暇日数内訳 | VACATION_TYPE.VACATION_TYPE_NAME | VACATION_TYPE_CODEが無給の休暇種別に対応する休暇種別名。データがない場合は空文字 |\n  | 有給残日数 | VACATION_BALANCE.REMAINING_DAYS | 対象年月の月末日時点の有給残日数 |\n  | 計画付与予定日 | VACATION_BALANCE.GRANTED_DAYS | 対象年月の次月以降の計画付与予定日 |\n- 関連する取得仕様\n  - なし\n- 取得条件\n  - VACATION_HISTORY.EMPLOYEE_ID = 入出力項目定義.従業員ID",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- その他",
            "lineNumber": 412
          },
          {
            "text": "  - ビューV_MONTHLY_ATTENDANCEを使用して月次集計データを取得",
            "lineNumber": 413
          },
          {
            "text": "  - 法定休日出勤日数、所定休日出勤日数、45時間を超える時間外労働、60時間を超える時間外労働、遅刻回数・時間、早退回数・時間、コア時間内の私用外出回数・時間は、ATTENDANCE_RECORDテーブルから別途集計する必要がある",
            "lineNumber": 414
          },
          {
            "lineNumber": 415
          },
          {
            "text": "#### No.4",
            "lineNumber": 416
          },
          {
            "text": "- 取得仕様名：休暇情報取得",
            "lineNumber": 417
          },
          {
            "text": "- テーブル名：VACATION_HISTORY、VACATION_BALANCE、VACATION_TYPE",
            "lineNumber": 418
          },
          {
            "text": "  | 項目名 | 取得内容 | 補足 |",
            "lineNumber": 419
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 420
          },
          {
            "text": "  | 有給取得日数 | VACATION_HISTORY.VACATION_DAYSの合計 | VACATION_TYPE_CODE = 'PAID_LEAVE' かつ対象年月内の取得日数 |",
            "lineNumber": 421
          },
          {
            "text": "  | 有給取得日数内訳 | VACATION_TYPE.VACATION_TYPE_NAME | VACATION_TYPE_CODE = 'PAID_LEAVE' に対応する休暇種別名（例: 年次有給休暇）。データがない場合は空文字 |",
            "lineNumber": 422
          },
          {
            "text": "  | 代休取得日数 | VACATION_HISTORY.VACATION_DAYSの合計 | VACATION_TYPE_CODE = 'SUBSTITUTE_HOLIDAY' かつ対象年月内の取得日数 |",
            "lineNumber": 423
          },
          {
            "text": "  | 代休取得日数内訳 | VACATION_TYPE.VACATION_TYPE_NAME | VACATION_TYPE_CODE = 'SUBSTITUTE_HOLIDAY' に対応する休暇種別名。データがない場合は空文字 |",
            "lineNumber": 424
          },
          {
            "text": "  | 無給休暇日数 | VACATION_HISTORY.VACATION_DAYSの合計 | VACATION_TYPE_CODEが無給の休暇種別 かつ対象年月内の取得日数 |",
            "lineNumber": 425
          },
          {
            "text": "  | 無給休暇日数内訳 | VACATION_TYPE.VACATION_TYPE_NAME | VACATION_TYPE_CODEが無給の休暇種別に対応する休暇種別名。データがない場合は空文字 |",
            "lineNumber": 426
          },
          {
            "text": "  | 有給残日数 | VACATION_BALANCE.REMAINING_DAYS | 対象年月の月末日時点の有給残日数 |",
            "lineNumber": 427
          },
          {
            "text": "  | 計画付与予定日 | VACATION_BALANCE.GRANTED_DAYS | 対象年月の次月以降の計画付与予定日 |",
            "lineNumber": 428
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 429
          },
          {
            "text": "  - なし",
            "lineNumber": 430
          },
          {
            "text": "- 取得条件",
            "lineNumber": 431
          },
          {
            "text": "  - VACATION_HISTORY.EMPLOYEE_ID = 入出力項目定義.従業員ID",
            "lineNumber": 432
          }
        ]
      },
      "score": 0.36200904846191406
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 52,
            "column": 3
          }
        },
        "contents": "/**\n * 申請モデル\n */\nconst db = require('../config/database');\n\n/**\n * 休暇申請を作成\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst createVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo,\n    approvalStatus,\n    createdAt,\n    updatedAt\n  } = vacationData;\n  \n  const query = &#96;\n    INSERT INTO VACATION_HISTORY \n    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n  &#96;;\n  \n  const [result] = await db.execute(query, [\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason || null,\n    contactInfo || null,\n    approvalStatus || 'PENDING',\n    createdAt,\n    updatedAt\n  ]);\n  \n  return result.insertId;\n};\n\n/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請モデル",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const db = require('../config/database');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請を作成",
            "lineNumber": 7
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 8
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 9
          },
          {
            "text": " */",
            "lineNumber": 10
          },
          {
            "text": "const createVacation = async (vacationData) =&gt; {",
            "lineNumber": 11
          },
          {
            "text": "  const {",
            "lineNumber": 12
          },
          {
            "text": "    employeeId,",
            "lineNumber": 13
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 14
          },
          {
            "text": "    startDate,",
            "lineNumber": 15
          },
          {
            "text": "    endDate,",
            "lineNumber": 16
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contactInfo,",
            "lineNumber": 19
          },
          {
            "text": "    approvalStatus,",
            "lineNumber": 20
          },
          {
            "text": "    createdAt,",
            "lineNumber": 21
          },
          {
            "text": "    updatedAt",
            "lineNumber": 22
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 25
          },
          {
            "text": "    INSERT INTO VACATION_HISTORY ",
            "lineNumber": 26
          },
          {
            "text": "    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)",
            "lineNumber": 27
          },
          {
            "text": "    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
            "lineNumber": 28
          },
          {
            "text": "  &#96;;",
            "lineNumber": 29
          },
          {
            "text": "  ",
            "lineNumber": 30
          },
          {
            "text": "  const [result] = await db.execute(query, [",
            "lineNumber": 31
          },
          {
            "text": "    employeeId,",
            "lineNumber": 32
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 33
          },
          {
            "text": "    startDate,",
            "lineNumber": 34
          },
          {
            "text": "    endDate,",
            "lineNumber": 35
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 36
          },
          {
            "text": "    reason || null,",
            "lineNumber": 37
          },
          {
            "text": "    contactInfo || null,",
            "lineNumber": 38
          },
          {
            "text": "    approvalStatus || 'PENDING',",
            "lineNumber": 39
          },
          {
            "text": "    createdAt,",
            "lineNumber": 40
          },
          {
            "text": "    updatedAt",
            "lineNumber": 41
          },
          {
            "text": "  ]);",
            "lineNumber": 42
          },
          {
            "text": "  ",
            "lineNumber": 43
          },
          {
            "text": "  return result.insertId;",
            "lineNumber": 44
          },
          {
            "text": "};",
            "lineNumber": 45
          },
          {
            "lineNumber": 46
          },
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          }
        ]
      },
      "score": 0.3583894968032837
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 66,
            "column": 2
          },
          "endPosition": {
            "line": 94,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */\nconst getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {\n  const query = &#96;\n    SELECT REMAINING_DAYS\n    FROM V_VACATION_BALANCE_SUMMARY\n    WHERE EMPLOYEE_ID = ? AND VACATION_TYPE_CODE = ?\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, vacationTypeCode]);\n\n  if (rows.length &gt; 0) {\n    return rows[0].REMAINING_DAYS;\n  }\n\n  return 0;\n};\n\n/**\n * 申請履歴を作成\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 69
          },
          {
            "text": " * 休暇残日数を取得",
            "lineNumber": 70
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 71
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 72
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 73
          },
          {
            "text": " */",
            "lineNumber": 74
          },
          {
            "text": "const getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {",
            "lineNumber": 75
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 76
          },
          {
            "text": "    SELECT REMAINING_DAYS",
            "lineNumber": 77
          },
          {
            "text": "    FROM V_VACATION_BALANCE_SUMMARY",
            "lineNumber": 78
          },
          {
            "text": "    WHERE EMPLOYEE_ID = ? AND VACATION_TYPE_CODE = ?",
            "lineNumber": 79
          },
          {
            "text": "  &#96;;",
            "lineNumber": 80
          },
          {
            "text": "  ",
            "lineNumber": 81
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, vacationTypeCode]);",
            "lineNumber": 82
          },
          {
            "lineNumber": 83
          },
          {
            "text": "  if (rows.length &gt; 0) {",
            "lineNumber": 84
          },
          {
            "text": "    return rows[0].REMAINING_DAYS;",
            "lineNumber": 85
          },
          {
            "text": "  }",
            "lineNumber": 86
          },
          {
            "lineNumber": 87
          },
          {
            "text": "  return 0;",
            "lineNumber": 88
          },
          {
            "text": "};",
            "lineNumber": 89
          },
          {
            "lineNumber": 90
          },
          {
            "text": "/**",
            "lineNumber": 91
          },
          {
            "text": " * 申請履歴を作成",
            "lineNumber": 92
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 93
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 94
          },
          {
            "text": " */",
            "lineNumber": 95
          }
        ]
      },
      "score": 0.35350820422172546
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\monthlySummaryService.js",
        "range": {
          "startPosition": {
            "line": 25
          },
          "endPosition": {
            "line": 416,
            "column": 1
          }
        },
        "contents": "const getMonthlySummary = async \n\n  \n  const monthlySummary = {\n    scheduledWorkDays,\n    actualWorkDays,\n    legalHolidayWorkDays,\n    scheduledHolidayWorkDays,\n    scheduledWorkHours,\n    totalWorkHours,\n    totalWorkHoursExcludingLegalHoliday,\n    overUnderHours,\n    currentMonthOvertime,\n    safetyOvertime,\n    legalWorkHours,\n    actualWorkHoursExcludingLegalHoliday,\n    withinLegalOvertime,\n    overLegalOvertime,\n    legalHolidayWorkHours,\n    nightWorkHours,\n    overtimeOver45Hours,\n    overtimeOver60Hours,\n    lateCount,\n    lateHours,\n    earlyLeaveCount,\n    earlyLeaveHours,\n    privateOutingCount,\n    privateOutingHours,\n    totalBreakHours\n  };\n  \n  // 4. 休暇情報取得（月次サマリー用の集計）\n  // 有給取得日数\n  const paidLeaveDays = vacations\n    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')\n    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);\n  \n  // 有給取得日数内訳\n  let paidLeaveTypeName = '';\n\n  if (paidLeaveDays &gt; 0) {\n    paidLeaveTypeName = '年次有給休暇';\n  }\n\n  // 時間単位有休取得時間（VACATION_DAYSが1未満の有給休暇を時間単位として集計）\n  const hourlyPaidLeaveHours = vacations\n    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED' &amp;&amp; parseFloat(v.VACATION_DAYS) &lt; 1)\n    .reduce((sum, v) =&gt; {\n      // VACATION_DAYSが1未満の場合、時間単位として扱う（例：0.5日 = 4時間）\n      const days = parseFloat(v.VACATION_DAYS) || 0;\n      // 1日 = 8時間として計算\n      return sum + (days * 8);\n    }, 0);\n\n  // 代休取得日数\n  const substituteHolidayDays = vacations\n    .filter(v =&gt; v.VACATION_TYPE_CODE === 'SUBSTITUTE_HOLIDAY' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')\n    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);\n\n  // 代休取得日数内訳\n  let substituteHolidayTypeName = '';\n\n  if (substituteHolidayDays &gt; 0) {\n    substituteHolidayTypeName = '代休';\n  }\n  \n  // 無給休暇日数（簡易的に0とする）\n  const unpaidLeaveDays = 0;\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 26,
                "column": 1
              },
              "endPosition": {
                "line": 26,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 26,
                "column": 7
              },
              "endPosition": {
                "line": 26,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const getMonthlySummary = async ",
            "lineNumber": 26
          },
          {
            "lineNumber": 307
          },
          {
            "text": "  ",
            "lineNumber": 308
          },
          {
            "text": "  const monthlySummary = {",
            "lineNumber": 309
          },
          {
            "text": "    scheduledWorkDays,",
            "lineNumber": 310
          },
          {
            "text": "    actualWorkDays,",
            "lineNumber": 311
          },
          {
            "text": "    legalHolidayWorkDays,",
            "lineNumber": 312
          },
          {
            "text": "    scheduledHolidayWorkDays,",
            "lineNumber": 313
          },
          {
            "text": "    scheduledWorkHours,",
            "lineNumber": 314
          },
          {
            "text": "    totalWorkHours,",
            "lineNumber": 315
          },
          {
            "text": "    totalWorkHoursExcludingLegalHoliday,",
            "lineNumber": 316
          },
          {
            "text": "    overUnderHours,",
            "lineNumber": 317
          },
          {
            "text": "    currentMonthOvertime,",
            "lineNumber": 318
          },
          {
            "text": "    safetyOvertime,",
            "lineNumber": 319
          },
          {
            "text": "    legalWorkHours,",
            "lineNumber": 320
          },
          {
            "text": "    actualWorkHoursExcludingLegalHoliday,",
            "lineNumber": 321
          },
          {
            "text": "    withinLegalOvertime,",
            "lineNumber": 322
          },
          {
            "text": "    overLegalOvertime,",
            "lineNumber": 323
          },
          {
            "text": "    legalHolidayWorkHours,",
            "lineNumber": 324
          },
          {
            "text": "    nightWorkHours,",
            "lineNumber": 325
          },
          {
            "text": "    overtimeOver45Hours,",
            "lineNumber": 326
          },
          {
            "text": "    overtimeOver60Hours,",
            "lineNumber": 327
          },
          {
            "text": "    lateCount,",
            "lineNumber": 328
          },
          {
            "text": "    lateHours,",
            "lineNumber": 329
          },
          {
            "text": "    earlyLeaveCount,",
            "lineNumber": 330
          },
          {
            "text": "    earlyLeaveHours,",
            "lineNumber": 331
          },
          {
            "text": "    privateOutingCount,",
            "lineNumber": 332
          },
          {
            "text": "    privateOutingHours,",
            "lineNumber": 333
          },
          {
            "text": "    totalBreakHours",
            "lineNumber": 334
          },
          {
            "text": "  };",
            "lineNumber": 335
          },
          {
            "text": "  ",
            "lineNumber": 336
          },
          {
            "text": "  // 4. 休暇情報取得（月次サマリー用の集計）",
            "lineNumber": 337
          },
          {
            "text": "  // 有給取得日数",
            "lineNumber": 338
          },
          {
            "text": "  const paidLeaveDays = vacations",
            "lineNumber": 339
          },
          {
            "text": "    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 340
          },
          {
            "text": "    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);",
            "lineNumber": 341
          },
          {
            "text": "  ",
            "lineNumber": 342
          },
          {
            "text": "  // 有給取得日数内訳",
            "lineNumber": 343
          },
          {
            "text": "  let paidLeaveTypeName = '';",
            "lineNumber": 344
          },
          {
            "lineNumber": 345
          },
          {
            "text": "  if (paidLeaveDays &gt; 0) {",
            "lineNumber": 346
          },
          {
            "text": "    paidLeaveTypeName = '年次有給休暇';",
            "lineNumber": 347
          },
          {
            "text": "  }",
            "lineNumber": 348
          },
          {
            "lineNumber": 349
          },
          {
            "text": "  // 時間単位有休取得時間（VACATION_DAYSが1未満の有給休暇を時間単位として集計）",
            "lineNumber": 350
          },
          {
            "text": "  const hourlyPaidLeaveHours = vacations",
            "lineNumber": 351
          },
          {
            "text": "    .filter(v =&gt; v.VACATION_TYPE_CODE === 'PAID_LEAVE' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED' &amp;&amp; parseFloat(v.VACATION_DAYS) &lt; 1)",
            "lineNumber": 352
          },
          {
            "text": "    .reduce((sum, v) =&gt; {",
            "lineNumber": 353
          },
          {
            "text": "      // VACATION_DAYSが1未満の場合、時間単位として扱う（例：0.5日 = 4時間）",
            "lineNumber": 354
          },
          {
            "text": "      const days = parseFloat(v.VACATION_DAYS) || 0;",
            "lineNumber": 355
          },
          {
            "text": "      // 1日 = 8時間として計算",
            "lineNumber": 356
          },
          {
            "text": "      return sum + (days * 8);",
            "lineNumber": 357
          },
          {
            "text": "    }, 0);",
            "lineNumber": 358
          },
          {
            "lineNumber": 359
          },
          {
            "text": "  // 代休取得日数",
            "lineNumber": 360
          },
          {
            "text": "  const substituteHolidayDays = vacations",
            "lineNumber": 361
          },
          {
            "text": "    .filter(v =&gt; v.VACATION_TYPE_CODE === 'SUBSTITUTE_HOLIDAY' &amp;&amp; v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 362
          },
          {
            "text": "    .reduce((sum, v) =&gt; sum + (parseFloat(v.VACATION_DAYS) || 0), 0);",
            "lineNumber": 363
          },
          {
            "lineNumber": 364
          },
          {
            "text": "  // 代休取得日数内訳",
            "lineNumber": 365
          },
          {
            "text": "  let substituteHolidayTypeName = '';",
            "lineNumber": 366
          },
          {
            "lineNumber": 367
          },
          {
            "text": "  if (substituteHolidayDays &gt; 0) {",
            "lineNumber": 368
          },
          {
            "text": "    substituteHolidayTypeName = '代休';",
            "lineNumber": 369
          },
          {
            "text": "  }",
            "lineNumber": 370
          },
          {
            "text": "  ",
            "lineNumber": 371
          },
          {
            "text": "  // 無給休暇日数（簡易的に0とする）",
            "lineNumber": 372
          },
          {
            "text": "  const unpaidLeaveDays = 0;",
            "lineNumber": 373
          },
          {
            "text": ";",
            "lineNumber": 417
          }
        ]
      },
      "score": 0.35235071182250977
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 279
          },
          "endPosition": {
            "line": 306
          }
        },
        "contents": "| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員の工数か。&#96;EMPLOYEE&#96;テーブルを参照。集計時に使用します。 |\n| **WORK_DATE** | DATE | NOT NULL | - | 作業日。どの日に作業したか。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-25&#96; |\n| **JOB_CODE** | VARCHAR(50) | NOT NULL | - | **外部キー**。どのジョブ（プロジェクト・タスク）に工数を投入したか。&#96;JOB_MASTER&#96;テーブルを参照。 |\n| **WORK_CODE** | VARCHAR(50) | NULL | - | 作業コード。具体的な作業内容を識別するコード。例: &#96;DEV001&#96;、&#96;TRN001&#96; |\n| **WORK_HOURS_VALUE** | DECIMAL(5,2) | NOT NULL | - | 工数時間（時間単位）。スライダーまたは数値入力で入力します。例: &#96;5.00&#96;=5時間、&#96;3.50&#96;=3時間30分 |\n| **WORK_VOLUME** | INT | NULL | - | 作業ボリューム（0-10の段階）。時間入力の代わりにボリューム入力も可能。例: &#96;5&#96;=中程度の作業量 |\n| **INPUT_TYPE** | VARCHAR(20) | NULL | &#96;TIME&#96; | 入力種別。&#96;TIME&#96;=時間入力、&#96;VOLUME&#96;=ボリューム入力。 |\n| **REMARKS** | TEXT | NULL | - | 備考。工数に関する補足情報。 |\n| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |\n| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |\n\n**重要な制約:**\n- 1日の工数の合計が実労働時間と一致する必要があります（日次確定申請の条件）\n\n**使用例:**\n- ジョブAに5時間、ジョブBに3時間 → 合計8時間（実労働時間と一致）\n\n---\n\n### 10. 休暇残日数 (VACATION_BALANCE)\n\n従業員ごとの休暇種別別の付与日数、使用日数、残日数を管理するテーブルです。年度ごとに管理されます。\n\n| カラム名 | 型 | NULL | デフォルト | 説明 |\n|---------|-----|------|-----------|------|\n| **BALANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇残日数を一意に識別するID。自動採番されます。 |\n| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員の休暇残日数か。&#96;EMPLOYEE&#96;テーブルを参照。 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員の工数か。&#96;EMPLOYEE&#96;テーブルを参照。集計時に使用します。 |",
            "lineNumber": 280
          },
          {
            "text": "| **WORK_DATE** | DATE | NOT NULL | - | 作業日。どの日に作業したか。形式: &#96;YYYY-MM-DD&#96; 例: &#96;2025-11-25&#96; |",
            "lineNumber": 281
          },
          {
            "text": "| **JOB_CODE** | VARCHAR(50) | NOT NULL | - | **外部キー**。どのジョブ（プロジェクト・タスク）に工数を投入したか。&#96;JOB_MASTER&#96;テーブルを参照。 |",
            "lineNumber": 282
          },
          {
            "text": "| **WORK_CODE** | VARCHAR(50) | NULL | - | 作業コード。具体的な作業内容を識別するコード。例: &#96;DEV001&#96;、&#96;TRN001&#96; |",
            "lineNumber": 283
          },
          {
            "text": "| **WORK_HOURS_VALUE** | DECIMAL(5,2) | NOT NULL | - | 工数時間（時間単位）。スライダーまたは数値入力で入力します。例: &#96;5.00&#96;=5時間、&#96;3.50&#96;=3時間30分 |",
            "lineNumber": 284
          },
          {
            "text": "| **WORK_VOLUME** | INT | NULL | - | 作業ボリューム（0-10の段階）。時間入力の代わりにボリューム入力も可能。例: &#96;5&#96;=中程度の作業量 |",
            "lineNumber": 285
          },
          {
            "text": "| **INPUT_TYPE** | VARCHAR(20) | NULL | &#96;TIME&#96; | 入力種別。&#96;TIME&#96;=時間入力、&#96;VOLUME&#96;=ボリューム入力。 |",
            "lineNumber": 286
          },
          {
            "text": "| **REMARKS** | TEXT | NULL | - | 備考。工数に関する補足情報。 |",
            "lineNumber": 287
          },
          {
            "text": "| **CREATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード作成日時。 |",
            "lineNumber": 288
          },
          {
            "text": "| **UPDATED_AT** | TIMESTAMP | NULL | CURRENT_TIMESTAMP | レコード更新日時。 |",
            "lineNumber": 289
          },
          {
            "lineNumber": 290
          },
          {
            "text": "**重要な制約:**",
            "lineNumber": 291
          },
          {
            "text": "- 1日の工数の合計が実労働時間と一致する必要があります（日次確定申請の条件）",
            "lineNumber": 292
          },
          {
            "lineNumber": 293
          },
          {
            "text": "**使用例:**",
            "lineNumber": 294
          },
          {
            "text": "- ジョブAに5時間、ジョブBに3時間 → 合計8時間（実労働時間と一致）",
            "lineNumber": 295
          },
          {
            "lineNumber": 296
          },
          {
            "text": "---",
            "lineNumber": 297
          },
          {
            "lineNumber": 298
          },
          {
            "text": "### 10. 休暇残日数 (VACATION_BALANCE)",
            "lineNumber": 299
          },
          {
            "lineNumber": 300
          },
          {
            "text": "従業員ごとの休暇種別別の付与日数、使用日数、残日数を管理するテーブルです。年度ごとに管理されます。",
            "lineNumber": 301
          },
          {
            "lineNumber": 302
          },
          {
            "text": "| カラム名 | 型 | NULL | デフォルト | 説明 |",
            "lineNumber": 303
          },
          {
            "text": "|---------|-----|------|-----------|------|",
            "lineNumber": 304
          },
          {
            "text": "| **BALANCE_ID** | BIGINT | NOT NULL | AUTO_INCREMENT | **主キー**。休暇残日数を一意に識別するID。自動採番されます。 |",
            "lineNumber": 305
          },
          {
            "text": "| **EMPLOYEE_ID** | VARCHAR(50) | NOT NULL | - | **外部キー**。どの従業員の休暇残日数か。&#96;EMPLOYEE&#96;テーブルを参照。 |",
            "lineNumber": 306
          }
        ]
      },
      "score": 0.3521772623062134
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1478
          },
          "endPosition": {
            "line": 1522
          }
        },
        "contents": "          }\n        }\n        \n        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定\n        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {\n          holidayWorkBreakHours = 1.0\n        }\n        \n        // 休暇申請の情報を取得\n        const vacation = apiRecord?.vacation\n        const hasVacation = !!(vacation &amp;&amp; \n          (vacation.APPROVAL_STATUS === 'PENDING' || vacation.APPROVAL_STATUS === 'APPROVED'))\n        const vacationTypeCode = vacation?.VACATION_TYPE_CODE || null\n        const vacationApplicationStatus = vacation?.APPROVAL_STATUS || null\n        \n        displayData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          hasStampManualMismatch: hasStampManualMismatch,\n          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',\n          clockIn: clockIn,\n          clockOut: clockOut,\n          clockInType: clockInType,\n          clockOutType: clockOutType,\n          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',\n          workHours: formatWorkHours(totalWorkHours),\n          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,\n          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,\n          isHoliday: holiday,\n          hasVacation: hasVacation,\n          vacationTypeCode: vacationTypeCode,\n          vacationApplicationStatus: vacationApplicationStatus,\n          attendanceId: apiRecord?.ATTENDANCE_ID,\n          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,\n          breakTimes: breakTimes,\n          hasHolidayWorkApplication: hasHolidayWorkApplication,\n          holidayWorkApplicationStatus: holidayWorkApplicationStatus,\n          holidayWorkStartTime: holidayWorkStartTime,\n          holidayWorkEndTime: holidayWorkEndTime,\n          holidayWorkBreakHours: holidayWorkBreakHours,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          }",
            "lineNumber": 1479
          },
          {
            "text": "        }",
            "lineNumber": 1480
          },
          {
            "text": "        ",
            "lineNumber": 1481
          },
          {
            "text": "        // 休日出勤申請が申請中または承認済みの場合、休憩時間が設定されていない場合はデフォルト値を設定",
            "lineNumber": 1482
          },
          {
            "text": "        if (hasHolidayWorkApplication &amp;&amp; holidayWorkBreakHours === null) {",
            "lineNumber": 1483
          },
          {
            "text": "          holidayWorkBreakHours = 1.0",
            "lineNumber": 1484
          },
          {
            "text": "        }",
            "lineNumber": 1485
          },
          {
            "text": "        ",
            "lineNumber": 1486
          },
          {
            "text": "        // 休暇申請の情報を取得",
            "lineNumber": 1487
          },
          {
            "text": "        const vacation = apiRecord?.vacation",
            "lineNumber": 1488
          },
          {
            "text": "        const hasVacation = !!(vacation &amp;&amp; ",
            "lineNumber": 1489
          },
          {
            "text": "          (vacation.APPROVAL_STATUS === 'PENDING' || vacation.APPROVAL_STATUS === 'APPROVED'))",
            "lineNumber": 1490
          },
          {
            "text": "        const vacationTypeCode = vacation?.VACATION_TYPE_CODE || null",
            "lineNumber": 1491
          },
          {
            "text": "        const vacationApplicationStatus = vacation?.APPROVAL_STATUS || null",
            "lineNumber": 1492
          },
          {
            "text": "        ",
            "lineNumber": 1493
          },
          {
            "text": "        displayData.push({",
            "lineNumber": 1494
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1495
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1496
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1497
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1498
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1499
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1500
          },
          {
            "text": "          hasStampManualMismatch: hasStampManualMismatch,",
            "lineNumber": 1501
          },
          {
            "text": "          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',",
            "lineNumber": 1502
          },
          {
            "text": "          clockIn: clockIn,",
            "lineNumber": 1503
          },
          {
            "text": "          clockOut: clockOut,",
            "lineNumber": 1504
          },
          {
            "text": "          clockInType: clockInType,",
            "lineNumber": 1505
          },
          {
            "text": "          clockOutType: clockOutType,",
            "lineNumber": 1506
          },
          {
            "text": "          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',",
            "lineNumber": 1507
          },
          {
            "text": "          workHours: formatWorkHours(totalWorkHours),",
            "lineNumber": 1508
          },
          {
            "text": "          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,",
            "lineNumber": 1509
          },
          {
            "text": "          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,",
            "lineNumber": 1510
          },
          {
            "text": "          isHoliday: holiday,",
            "lineNumber": 1511
          },
          {
            "text": "          hasVacation: hasVacation,",
            "lineNumber": 1512
          },
          {
            "text": "          vacationTypeCode: vacationTypeCode,",
            "lineNumber": 1513
          },
          {
            "text": "          vacationApplicationStatus: vacationApplicationStatus,",
            "lineNumber": 1514
          },
          {
            "text": "          attendanceId: apiRecord?.ATTENDANCE_ID,",
            "lineNumber": 1515
          },
          {
            "text": "          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,",
            "lineNumber": 1516
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1517
          },
          {
            "text": "          hasHolidayWorkApplication: hasHolidayWorkApplication,",
            "lineNumber": 1518
          },
          {
            "text": "          holidayWorkApplicationStatus: holidayWorkApplicationStatus,",
            "lineNumber": 1519
          },
          {
            "text": "          holidayWorkStartTime: holidayWorkStartTime,",
            "lineNumber": 1520
          },
          {
            "text": "          holidayWorkEndTime: holidayWorkEndTime,",
            "lineNumber": 1521
          },
          {
            "text": "          holidayWorkBreakHours: holidayWorkBreakHours,",
            "lineNumber": 1522
          }
        ]
      },
      "score": 0.3515932857990265
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\entities\\README_MySQL.md",
        "range": {
          "startPosition": {
            "line": 476
          },
          "endPosition": {
            "line": 505
          }
        },
        "contents": "Mermaid形式で記述されており、GitHub、GitLab、VSCodeなどで表示できます。\n\n## 休暇残日数の管理方法\n\n休暇残日数は**年度ごと**に管理されます。以下の2つのテーブルで管理しています：\n\n### 1. VACATION_BALANCE（休暇残日数テーブル）\n\n**管理単位:** 従業員 × 休暇種別 × 年度\n\n**主要なカラム:**\n- &#96;GRANTED_DAYS&#96;（付与日数）: 年度初めに付与される日数。例: 有給休暇20日\n- &#96;USED_DAYS&#96;（使用日数）: その年度に使用した日数。**VACATION_HISTORYから自動計算推奨**\n- &#96;REMAINING_DAYS&#96;（残日数）: 付与日数 - 使用日数。**自動計算推奨**\n\n**管理の流れ:**\n\n1. **年度初め（4月1日）**: 各従業員に休暇を付与\n   &#96;&#96;&#96;sql\n   -- 例: 2025年度の有給休暇を20日付与\n   INSERT INTO VACATION_BALANCE \n   (EMPLOYEE_ID, VACATION_TYPE_CODE, FISCAL_YEAR, GRANTED_DAYS, USED_DAYS, REMAINING_DAYS, GRANT_DATE, EXPIRATION_DATE)\n   VALUES \n   ('000001', 'PAID_LEAVE', 2025, 20.0, 0.0, 20.0, '2025-04-01', '2026-03-31');\n   &#96;&#96;&#96;\n\n2. **休暇申請時**: VACATION_HISTORYに記録し、有給休暇の場合はVACATION_BALANCEのUSED_DAYSとREMAINING_DAYSを更新\n   &#96;&#96;&#96;sql\n   -- 休暇申請履歴を登録（申請時はAPPROVAL_STATUS='PENDING'）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "Mermaid形式で記述されており、GitHub、GitLab、VSCodeなどで表示できます。",
            "lineNumber": 477
          },
          {
            "lineNumber": 478
          },
          {
            "text": "## 休暇残日数の管理方法",
            "lineNumber": 479
          },
          {
            "lineNumber": 480
          },
          {
            "text": "休暇残日数は**年度ごと**に管理されます。以下の2つのテーブルで管理しています：",
            "lineNumber": 481
          },
          {
            "lineNumber": 482
          },
          {
            "text": "### 1. VACATION_BALANCE（休暇残日数テーブル）",
            "lineNumber": 483
          },
          {
            "lineNumber": 484
          },
          {
            "text": "**管理単位:** 従業員 × 休暇種別 × 年度",
            "lineNumber": 485
          },
          {
            "lineNumber": 486
          },
          {
            "text": "**主要なカラム:**",
            "lineNumber": 487
          },
          {
            "text": "- &#96;GRANTED_DAYS&#96;（付与日数）: 年度初めに付与される日数。例: 有給休暇20日",
            "lineNumber": 488
          },
          {
            "text": "- &#96;USED_DAYS&#96;（使用日数）: その年度に使用した日数。**VACATION_HISTORYから自動計算推奨**",
            "lineNumber": 489
          },
          {
            "text": "- &#96;REMAINING_DAYS&#96;（残日数）: 付与日数 - 使用日数。**自動計算推奨**",
            "lineNumber": 490
          },
          {
            "lineNumber": 491
          },
          {
            "text": "**管理の流れ:**",
            "lineNumber": 492
          },
          {
            "lineNumber": 493
          },
          {
            "text": "1. **年度初め（4月1日）**: 各従業員に休暇を付与",
            "lineNumber": 494
          },
          {
            "text": "   &#96;&#96;&#96;sql",
            "lineNumber": 495
          },
          {
            "text": "   -- 例: 2025年度の有給休暇を20日付与",
            "lineNumber": 496
          },
          {
            "text": "   INSERT INTO VACATION_BALANCE ",
            "lineNumber": 497
          },
          {
            "text": "   (EMPLOYEE_ID, VACATION_TYPE_CODE, FISCAL_YEAR, GRANTED_DAYS, USED_DAYS, REMAINING_DAYS, GRANT_DATE, EXPIRATION_DATE)",
            "lineNumber": 498
          },
          {
            "text": "   VALUES ",
            "lineNumber": 499
          },
          {
            "text": "   ('000001', 'PAID_LEAVE', 2025, 20.0, 0.0, 20.0, '2025-04-01', '2026-03-31');",
            "lineNumber": 500
          },
          {
            "text": "   &#96;&#96;&#96;",
            "lineNumber": 501
          },
          {
            "lineNumber": 502
          },
          {
            "text": "2. **休暇申請時**: VACATION_HISTORYに記録し、有給休暇の場合はVACATION_BALANCEのUSED_DAYSとREMAINING_DAYSを更新",
            "lineNumber": 503
          },
          {
            "text": "   &#96;&#96;&#96;sql",
            "lineNumber": 504
          },
          {
            "text": "   -- 休暇申請履歴を登録（申請時はAPPROVAL_STATUS='PENDING'）",
            "lineNumber": 505
          }
        ]
      },
      "score": 0.3433109521865845
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 117
          },
          "endPosition": {
            "line": 164,
            "column": 18
          }
        },
        "contents": "        &lt;div class=\"form-container daily-confirmation-container\"&gt;\n          &lt;div class=\"daily-confirmation-content\"&gt;\n            &lt;div class=\"daily-confirmation-fields\"&gt;\n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;出退社時刻&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.clockInOut }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;休憩時間&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.breakTime }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;総労働時間&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.totalWorkHours }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;実労働時間&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.actualWorkHours }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row form-row-textarea\"&gt;\n                &lt;label class=\"form-label\"&gt;備考&lt;/label&gt;\n                &lt;textarea \n                  v-model=\"dailyConfirmationForm.remark\"\n                  class=\"textarea-input daily-confirmation-textarea\"\n                  rows=\"1\"\n                  :disabled=\"!isEditable('dailyConfirmation')\"\n                  :readonly=\"!isEditable('dailyConfirmation')\"\n                &gt;&lt;/textarea&gt;\n              &lt;/div&gt;\n              \n              &lt;!-- エラーメッセージ表示 --&gt;\n              &lt;div v-if=\"dailyConfirmationError\" class=\"form-row\"&gt;\n                &lt;div class=\"daily-confirmation-error-message\"&gt;{{ dailyConfirmationError }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;\n              &lt;div v-if=\"isPendingOrApproved('dailyConfirmation')\" class=\"application-info-section\"&gt;\n                &lt;div class=\"form-row\"&gt;\n                  &lt;label class=\"form-label form-label-inline\"&gt;申請日時&lt;/label&gt;\n                  &lt;div class=\"daily-confirmation-value daily-confirmation-value-inline\"&gt;{{ formatApplicationDate('dailyConfirmation') }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-row\"&gt;\n                  ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div class=\"form-container daily-confirmation-container\"&gt;",
            "lineNumber": 118
          },
          {
            "text": "          &lt;div class=\"daily-confirmation-content\"&gt;",
            "lineNumber": 119
          },
          {
            "text": "            &lt;div class=\"daily-confirmation-fields\"&gt;",
            "lineNumber": 120
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 121
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;出退社時刻&lt;/label&gt;",
            "lineNumber": 122
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.clockInOut }}&lt;/div&gt;",
            "lineNumber": 123
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 124
          },
          {
            "text": "              ",
            "lineNumber": 125
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 126
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;休憩時間&lt;/label&gt;",
            "lineNumber": 127
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.breakTime }}&lt;/div&gt;",
            "lineNumber": 128
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 129
          },
          {
            "text": "              ",
            "lineNumber": 130
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 131
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;総労働時間&lt;/label&gt;",
            "lineNumber": 132
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.totalWorkHours }}&lt;/div&gt;",
            "lineNumber": 133
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 134
          },
          {
            "text": "              ",
            "lineNumber": 135
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 136
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;実労働時間&lt;/label&gt;",
            "lineNumber": 137
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.actualWorkHours }}&lt;/div&gt;",
            "lineNumber": 138
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 139
          },
          {
            "text": "              ",
            "lineNumber": 140
          },
          {
            "text": "              &lt;div class=\"form-row form-row-textarea\"&gt;",
            "lineNumber": 141
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;備考&lt;/label&gt;",
            "lineNumber": 142
          },
          {
            "text": "                &lt;textarea ",
            "lineNumber": 143
          },
          {
            "text": "                  v-model=\"dailyConfirmationForm.remark\"",
            "lineNumber": 144
          },
          {
            "text": "                  class=\"textarea-input daily-confirmation-textarea\"",
            "lineNumber": 145
          },
          {
            "text": "                  rows=\"1\"",
            "lineNumber": 146
          },
          {
            "text": "                  :disabled=\"!isEditable('dailyConfirmation')\"",
            "lineNumber": 147
          },
          {
            "text": "                  :readonly=\"!isEditable('dailyConfirmation')\"",
            "lineNumber": 148
          },
          {
            "text": "                &gt;&lt;/textarea&gt;",
            "lineNumber": 149
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 150
          },
          {
            "text": "              ",
            "lineNumber": 151
          },
          {
            "text": "              &lt;!-- エラーメッセージ表示 --&gt;",
            "lineNumber": 152
          },
          {
            "text": "              &lt;div v-if=\"dailyConfirmationError\" class=\"form-row\"&gt;",
            "lineNumber": 153
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-error-message\"&gt;{{ dailyConfirmationError }}&lt;/div&gt;",
            "lineNumber": 154
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 155
          },
          {
            "text": "              ",
            "lineNumber": 156
          },
          {
            "text": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
            "lineNumber": 157
          },
          {
            "text": "              &lt;div v-if=\"isPendingOrApproved('dailyConfirmation')\" class=\"application-info-section\"&gt;",
            "lineNumber": 158
          },
          {
            "text": "                &lt;div class=\"form-row\"&gt;",
            "lineNumber": 159
          },
          {
            "text": "                  &lt;label class=\"form-label form-label-inline\"&gt;申請日時&lt;/label&gt;",
            "lineNumber": 160
          },
          {
            "text": "                  &lt;div class=\"daily-confirmation-value daily-confirmation-value-inline\"&gt;{{ formatApplicationDate('dailyConfirmation') }}&lt;/div&gt;",
            "lineNumber": 161
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 162
          },
          {
            "text": "                ",
            "lineNumber": 163
          },
          {
            "text": "                &lt;div class=\"form-row\"&gt;",
            "lineNumber": 164
          },
          {
            "text": "                  ",
            "lineNumber": 165
          }
        ]
      },
      "score": 0.3417544364929199
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 56,
            "column": 3
          }
        },
        "contents": "/**\n * 申請サービス\n */\nconst applicationModel = require('../models/applicationModel');\nconst { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');\n\n/**\n * 休暇申請\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst applyVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    reason,\n    contact\n  } = vacationData;\n  \n  // 日数を計算\n  const vacationDays = calculateDays(startDate, endDate);\n  \n  // 有給休暇の場合、残日数チェックと残日数の減算\n  if (vacationTypeCode === 'PAID_LEAVE') {\n    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);\n    if (vacationDays &gt; remainingDays) {\n      throw new Error('有給休暇の残日数が不足しています。');\n    }\n    \n    // 申請時に残日数を減らす\n    const fiscalYear = getFiscalYear(startDate);\n    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);\n  }\n  \n  const now = getNow();\n  \n  return await applicationModel.createVacation({\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo: contact,\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請サービス",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationModel = require('../models/applicationModel');",
            "lineNumber": 4
          },
          {
            "text": "const { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');",
            "lineNumber": 5
          },
          {
            "lineNumber": 6
          },
          {
            "text": "/**",
            "lineNumber": 7
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 8
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 9
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 10
          },
          {
            "text": " */",
            "lineNumber": 11
          },
          {
            "text": "const applyVacation = async (vacationData) =&gt; {",
            "lineNumber": 12
          },
          {
            "text": "  const {",
            "lineNumber": 13
          },
          {
            "text": "    employeeId,",
            "lineNumber": 14
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 15
          },
          {
            "text": "    startDate,",
            "lineNumber": 16
          },
          {
            "text": "    endDate,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contact",
            "lineNumber": 19
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 20
          },
          {
            "text": "  ",
            "lineNumber": 21
          },
          {
            "text": "  // 日数を計算",
            "lineNumber": 22
          },
          {
            "text": "  const vacationDays = calculateDays(startDate, endDate);",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  // 有給休暇の場合、残日数チェックと残日数の減算",
            "lineNumber": 25
          },
          {
            "text": "  if (vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 26
          },
          {
            "text": "    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 27
          },
          {
            "text": "    if (vacationDays &gt; remainingDays) {",
            "lineNumber": 28
          },
          {
            "text": "      throw new Error('有給休暇の残日数が不足しています。');",
            "lineNumber": 29
          },
          {
            "text": "    }",
            "lineNumber": 30
          },
          {
            "text": "    ",
            "lineNumber": 31
          },
          {
            "text": "    // 申請時に残日数を減らす",
            "lineNumber": 32
          },
          {
            "text": "    const fiscalYear = getFiscalYear(startDate);",
            "lineNumber": 33
          },
          {
            "text": "    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);",
            "lineNumber": 34
          },
          {
            "text": "  }",
            "lineNumber": 35
          },
          {
            "text": "  ",
            "lineNumber": 36
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 37
          },
          {
            "text": "  ",
            "lineNumber": 38
          },
          {
            "text": "  return await applicationModel.createVacation({",
            "lineNumber": 39
          },
          {
            "text": "    employeeId,",
            "lineNumber": 40
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 41
          },
          {
            "text": "    startDate,",
            "lineNumber": 42
          },
          {
            "text": "    endDate,",
            "lineNumber": 43
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 44
          },
          {
            "text": "    reason,",
            "lineNumber": 45
          },
          {
            "text": "    contactInfo: contact,",
            "lineNumber": 46
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 47
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 48
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 49
          },
          {
            "text": "  });",
            "lineNumber": 50
          },
          {
            "text": "};",
            "lineNumber": 51
          },
          {
            "lineNumber": 52
          },
          {
            "text": "/**",
            "lineNumber": 53
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 54
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 55
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 56
          },
          {
            "text": " */",
            "lineNumber": 57
          }
        ]
      },
      "score": 0.34103524684906006
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1438
          },
          "endPosition": {
            "line": 1486,
            "column": 10
          }
        },
        "contents": "    initializeForms() {\n      // 日次確定申請フォームの初期化\n      this.dailyConfirmationForm = {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      }\n      // エラーメッセージをクリア\n      this.dailyConfirmationError = ''\n      \n      // 休暇申請フォームの初期化（年次有給休暇を選択）\n      this.vacationForm.vacationType = 'PAID_LEAVE'\n      this.vacationForm.startDate = this.targetDate\n      this.vacationForm.endDate = this.targetDate\n      this.vacationForm.enableEndDate = false\n      this.vacationForm.reason = ''\n      this.vacationForm.contact = ''\n      \n      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）\n      this.overtimeForm.startDate = this.targetDate\n      this.overtimeForm.endDate = this.targetDate\n      this.earlyWorkForm.startDate = this.targetDate\n      this.earlyWorkForm.endDate = this.targetDate\n      this.transferForm.fromDate = this.targetDate\n      this.transferForm.toDate = this.targetDate\n    },\n    \n    async loadVacationTypes() {\n      try {\n        const response = await fetch('http://localhost:3000/api/master/vacation-types')\n        const data = await response.json()\n        if (data.success) {\n          this.vacationTypes = data.vacationTypes.map(type =&gt; ({\n            code: type.VACATION_TYPE_CODE,\n            name: type.VACATION_TYPE_NAME,\n            isPaid: type.IS_PAID\n          }))\n        }\n      } catch (error) {\n        console.error('休暇種別マスタ取得エラー:', error)\n      }\n    },\n    \n    async loadPaidLeaveBalance() {\n      try {\n        const response = await fetch(\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    initializeForms() {",
            "lineNumber": 1439
          },
          {
            "text": "      // 日次確定申請フォームの初期化",
            "lineNumber": 1440
          },
          {
            "text": "      this.dailyConfirmationForm = {",
            "lineNumber": 1441
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1442
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1443
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1444
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1445
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1446
          },
          {
            "text": "      }",
            "lineNumber": 1447
          },
          {
            "text": "      // エラーメッセージをクリア",
            "lineNumber": 1448
          },
          {
            "text": "      this.dailyConfirmationError = ''",
            "lineNumber": 1449
          },
          {
            "text": "      ",
            "lineNumber": 1450
          },
          {
            "text": "      // 休暇申請フォームの初期化（年次有給休暇を選択）",
            "lineNumber": 1451
          },
          {
            "text": "      this.vacationForm.vacationType = 'PAID_LEAVE'",
            "lineNumber": 1452
          },
          {
            "text": "      this.vacationForm.startDate = this.targetDate",
            "lineNumber": 1453
          },
          {
            "text": "      this.vacationForm.endDate = this.targetDate",
            "lineNumber": 1454
          },
          {
            "text": "      this.vacationForm.enableEndDate = false",
            "lineNumber": 1455
          },
          {
            "text": "      this.vacationForm.reason = ''",
            "lineNumber": 1456
          },
          {
            "text": "      this.vacationForm.contact = ''",
            "lineNumber": 1457
          },
          {
            "text": "      ",
            "lineNumber": 1458
          },
          {
            "text": "      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）",
            "lineNumber": 1459
          },
          {
            "text": "      this.overtimeForm.startDate = this.targetDate",
            "lineNumber": 1460
          },
          {
            "text": "      this.overtimeForm.endDate = this.targetDate",
            "lineNumber": 1461
          },
          {
            "text": "      this.earlyWorkForm.startDate = this.targetDate",
            "lineNumber": 1462
          },
          {
            "text": "      this.earlyWorkForm.endDate = this.targetDate",
            "lineNumber": 1463
          },
          {
            "text": "      this.transferForm.fromDate = this.targetDate",
            "lineNumber": 1464
          },
          {
            "text": "      this.transferForm.toDate = this.targetDate",
            "lineNumber": 1465
          },
          {
            "text": "    },",
            "lineNumber": 1466
          },
          {
            "text": "    ",
            "lineNumber": 1467
          },
          {
            "text": "    async loadVacationTypes() {",
            "lineNumber": 1468
          },
          {
            "text": "      try {",
            "lineNumber": 1469
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/master/vacation-types')",
            "lineNumber": 1470
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 1471
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 1472
          },
          {
            "text": "          this.vacationTypes = data.vacationTypes.map(type =&gt; ({",
            "lineNumber": 1473
          },
          {
            "text": "            code: type.VACATION_TYPE_CODE,",
            "lineNumber": 1474
          },
          {
            "text": "            name: type.VACATION_TYPE_NAME,",
            "lineNumber": 1475
          },
          {
            "text": "            isPaid: type.IS_PAID",
            "lineNumber": 1476
          },
          {
            "text": "          }))",
            "lineNumber": 1477
          },
          {
            "text": "        }",
            "lineNumber": 1478
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1479
          },
          {
            "text": "        console.error('休暇種別マスタ取得エラー:', error)",
            "lineNumber": 1480
          },
          {
            "text": "      }",
            "lineNumber": 1481
          },
          {
            "text": "    },",
            "lineNumber": 1482
          },
          {
            "text": "    ",
            "lineNumber": 1483
          },
          {
            "text": "    async loadPaidLeaveBalance() {",
            "lineNumber": 1484
          },
          {
            "text": "      try {",
            "lineNumber": 1485
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1486
          },
          {
            "text": "          ",
            "lineNumber": 1487
          }
        ]
      },
      "score": 0.34090733528137207
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 937
          },
          "endPosition": {
            "line": 990
          }
        },
        "contents": "- テーブル名：VACATION_HISTORY\n- 種別：登録\n  | 項目名 | 更新内容 | 補足 |\n  | :--- | :--- | :--- |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | |\n  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | |\n  | START_DATE | 画面項目定義.開始日 | |\n  | END_DATE | 画面項目定義.終了日 | |\n  | VACATION_DAYS | 計算値（終了日-開始日+1） | |\n  | REASON | 画面項目定義.備考 | |\n  | APPROVAL_STATUS | 'PENDING' | |\n  | CREATED_AT | 現在日時 | |\n  | UPDATED_AT | 現在日時 | |\n- 関連する取得仕様\n  - なし\n- 更新条件\n  - なし（新規登録）\n- その他\n  - 休暇申請時にチェック仕様No.2のチェックを実行\n\n## API利用仕様\n\n#### No.1\n- API仕様名：休暇種別マスタ取得API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | GET | |\n  | エンドポイント | /api/master/vacation-types | |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 休暇種別マスタ | 休暇種別マスタリスト | JSON形式 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | VACATION_TYPE.VACATION_TYPE_CODE | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | VACATION_TYPE.VACATION_TYPE_NAME | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | VACATION_TYPE.IS_PAID | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;表示順 | VACATION_TYPE.DISPLAY_ORDER | |\n- 関連する取得仕様\n  - なし\n- その他\n  - IS_ACTIVE=TRUEの休暇種別をDISPLAY_ORDER順で取得\n\n#### No.2\n- API仕様名：有給残日数取得API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | GET | |\n  | エンドポイント | /api/vacation/balance | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |\n  | VACATION_TYPE_CODE | 'PAID_LEAVE' | クエリパラメータ（固定値） |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- テーブル名：VACATION_HISTORY",
            "lineNumber": 938
          },
          {
            "text": "- 種別：登録",
            "lineNumber": 939
          },
          {
            "text": "  | 項目名 | 更新内容 | 補足 |",
            "lineNumber": 940
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 941
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | |",
            "lineNumber": 942
          },
          {
            "text": "  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | |",
            "lineNumber": 943
          },
          {
            "text": "  | START_DATE | 画面項目定義.開始日 | |",
            "lineNumber": 944
          },
          {
            "text": "  | END_DATE | 画面項目定義.終了日 | |",
            "lineNumber": 945
          },
          {
            "text": "  | VACATION_DAYS | 計算値（終了日-開始日+1） | |",
            "lineNumber": 946
          },
          {
            "text": "  | REASON | 画面項目定義.備考 | |",
            "lineNumber": 947
          },
          {
            "text": "  | APPROVAL_STATUS | 'PENDING' | |",
            "lineNumber": 948
          },
          {
            "text": "  | CREATED_AT | 現在日時 | |",
            "lineNumber": 949
          },
          {
            "text": "  | UPDATED_AT | 現在日時 | |",
            "lineNumber": 950
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 951
          },
          {
            "text": "  - なし",
            "lineNumber": 952
          },
          {
            "text": "- 更新条件",
            "lineNumber": 953
          },
          {
            "text": "  - なし（新規登録）",
            "lineNumber": 954
          },
          {
            "text": "- その他",
            "lineNumber": 955
          },
          {
            "text": "  - 休暇申請時にチェック仕様No.2のチェックを実行",
            "lineNumber": 956
          },
          {
            "lineNumber": 957
          },
          {
            "text": "## API利用仕様",
            "lineNumber": 958
          },
          {
            "lineNumber": 959
          },
          {
            "text": "#### No.1",
            "lineNumber": 960
          },
          {
            "text": "- API仕様名：休暇種別マスタ取得API",
            "lineNumber": 961
          },
          {
            "text": "- リクエスト",
            "lineNumber": 962
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 963
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 964
          },
          {
            "text": "  | HTTPメソッド | GET | |",
            "lineNumber": 965
          },
          {
            "text": "  | エンドポイント | /api/master/vacation-types | |",
            "lineNumber": 966
          },
          {
            "text": "- レスポンス",
            "lineNumber": 967
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 968
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 969
          },
          {
            "text": "  | 休暇種別マスタ | 休暇種別マスタリスト | JSON形式 |",
            "lineNumber": 970
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | VACATION_TYPE.VACATION_TYPE_CODE | |",
            "lineNumber": 971
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | VACATION_TYPE.VACATION_TYPE_NAME | |",
            "lineNumber": 972
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | VACATION_TYPE.IS_PAID | |",
            "lineNumber": 973
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;表示順 | VACATION_TYPE.DISPLAY_ORDER | |",
            "lineNumber": 974
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 975
          },
          {
            "text": "  - なし",
            "lineNumber": 976
          },
          {
            "text": "- その他",
            "lineNumber": 977
          },
          {
            "text": "  - IS_ACTIVE=TRUEの休暇種別をDISPLAY_ORDER順で取得",
            "lineNumber": 978
          },
          {
            "lineNumber": 979
          },
          {
            "text": "#### No.2",
            "lineNumber": 980
          },
          {
            "text": "- API仕様名：有給残日数取得API",
            "lineNumber": 981
          },
          {
            "text": "- リクエスト",
            "lineNumber": 982
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 983
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 984
          },
          {
            "text": "  | HTTPメソッド | GET | |",
            "lineNumber": 985
          },
          {
            "text": "  | エンドポイント | /api/vacation/balance | |",
            "lineNumber": 986
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |",
            "lineNumber": 987
          },
          {
            "text": "  | VACATION_TYPE_CODE | 'PAID_LEAVE' | クエリパラメータ（固定値） |",
            "lineNumber": 988
          },
          {
            "text": "- レスポンス",
            "lineNumber": 989
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 990
          }
        ]
      },
      "score": 0.33944475650787354
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1485
          },
          "endPosition": {
            "line": 1513
          }
        },
        "contents": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます\n- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）\n- 表示スタイル: 赤い点線のボックスで表示されます\n\n##### 代休取得の期限\n- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります\n- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります\n\n##### 代休申請の手順\n1. [休暇申請] タブを選択します\n2. 休暇種類のプルダウンから [代休] を選択します\n3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）\n4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**\n  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します\n  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n#### 申請取り消し時の動作\n- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます\n  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます",
            "lineNumber": 1486
          },
          {
            "text": "- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
            "lineNumber": 1487
          },
          {
            "text": "- 表示スタイル: 赤い点線のボックスで表示されます",
            "lineNumber": 1488
          },
          {
            "lineNumber": 1489
          },
          {
            "text": "##### 代休取得の期限",
            "lineNumber": 1490
          },
          {
            "text": "- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります",
            "lineNumber": 1491
          },
          {
            "text": "- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります",
            "lineNumber": 1492
          },
          {
            "lineNumber": 1493
          },
          {
            "text": "##### 代休申請の手順",
            "lineNumber": 1494
          },
          {
            "text": "1. [休暇申請] タブを選択します",
            "lineNumber": 1495
          },
          {
            "text": "2. 休暇種類のプルダウンから [代休] を選択します",
            "lineNumber": 1496
          },
          {
            "text": "3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）",
            "lineNumber": 1497
          },
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1498
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1499
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1500
          },
          {
            "lineNumber": 1501
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1502
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1503
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1504
          },
          {
            "text": "- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**",
            "lineNumber": 1505
          },
          {
            "text": "  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します",
            "lineNumber": 1506
          },
          {
            "text": "  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）",
            "lineNumber": 1507
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1508
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1509
          },
          {
            "lineNumber": 1510
          },
          {
            "text": "#### 申請取り消し時の動作",
            "lineNumber": 1511
          },
          {
            "text": "- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます",
            "lineNumber": 1512
          },
          {
            "text": "  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
            "lineNumber": 1513
          }
        ]
      },
      "score": 0.3340505361557007
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\monthlySummaryService.js",
        "range": {
          "startPosition": {
            "line": 25
          },
          "endPosition": {
            "line": 416,
            "column": 1
          }
        },
        "contents": "const getMonthlySummary = async \n\n  let previousCumulativeWorkHours = 0;\n  \n  for (let day = 1; day &lt;= daysInMonth; day++) {\n    const workDate = &#96;${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}&#96;;\n    const attendance = attendanceRows.find(row =&gt; normalizeDate(row.WORK_DATE) === workDate);\n    \n    // 祝日情報を取得\n    const dateObj = new Date(year, month - 1, day);\n    let holidayName = null;\n    try {\n      // isHolidayはbooleanを返すので、betweenで祝日情報を取得\n      const holidays = HolidayJp.between(dateObj, dateObj);\n      if (holidays &amp;&amp; holidays.length &gt; 0) {\n        holidayName = holidays[0].name || null;\n      }\n    } catch (error) {\n      console.error(&#96;祝日判定エラー (${workDate}):&#96;, error);\n      holidayName = null;\n    }\n    \n    // その日の休暇情報を取得（承認済みまたは申請中の休暇）\n    const dayVacation = vacations.find(v =&gt; {\n      const startDate = normalizeDate(v.START_DATE);\n      const endDate = normalizeDate(v.END_DATE);\n      return workDate &gt;= startDate &amp;&amp; workDate &lt;= endDate &amp;&amp; \n             (v.APPROVAL_STATUS === 'APPROVED' || v.APPROVAL_STATUS === 'PENDING');\n    });\n    let vacationTypeName = null;\n    if (dayVacation &amp;&amp; dayVacation.VACATION_TYPE_CODE) {\n      vacationTypeName = vacationTypeMap[dayVacation.VACATION_TYPE_CODE] || null;\n    }\n    \n    let breakTimeTotal = 0;\n    let actualWorkHours = 0;\n    let overtimeHours = 0;\n    // 日次の法定時間内残業・法定時間外残業（分単位）を保存\n    let withinLegalOvertimeMinutes = 0;\n    let overLegalOvertimeMinutes = 0;\n    \n    if (attendance) {\n      const breakTimes = await breakTimeModel.getBreakTimes;\n  }\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 26,
                "column": 1
              },
              "endPosition": {
                "line": 26,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 26,
                "column": 7
              },
              "endPosition": {
                "line": 26,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const getMonthlySummary = async ",
            "lineNumber": 26
          },
          {
            "lineNumber": 56
          },
          {
            "text": "  let previousCumulativeWorkHours = 0;",
            "lineNumber": 57
          },
          {
            "text": "  ",
            "lineNumber": 58
          },
          {
            "text": "  for (let day = 1; day &lt;= daysInMonth; day++) {",
            "lineNumber": 59
          },
          {
            "text": "    const workDate = &#96;${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}&#96;;",
            "lineNumber": 60
          },
          {
            "text": "    const attendance = attendanceRows.find(row =&gt; normalizeDate(row.WORK_DATE) === workDate);",
            "lineNumber": 61
          },
          {
            "text": "    ",
            "lineNumber": 62
          },
          {
            "text": "    // 祝日情報を取得",
            "lineNumber": 63
          },
          {
            "text": "    const dateObj = new Date(year, month - 1, day);",
            "lineNumber": 64
          },
          {
            "text": "    let holidayName = null;",
            "lineNumber": 65
          },
          {
            "text": "    try {",
            "lineNumber": 66
          },
          {
            "text": "      // isHolidayはbooleanを返すので、betweenで祝日情報を取得",
            "lineNumber": 67
          },
          {
            "text": "      const holidays = HolidayJp.between(dateObj, dateObj);",
            "lineNumber": 68
          },
          {
            "text": "      if (holidays &amp;&amp; holidays.length &gt; 0) {",
            "lineNumber": 69
          },
          {
            "text": "        holidayName = holidays[0].name || null;",
            "lineNumber": 70
          },
          {
            "text": "      }",
            "lineNumber": 71
          },
          {
            "text": "    } catch (error) {",
            "lineNumber": 72
          },
          {
            "text": "      console.error(&#96;祝日判定エラー (${workDate}):&#96;, error);",
            "lineNumber": 73
          },
          {
            "text": "      holidayName = null;",
            "lineNumber": 74
          },
          {
            "text": "    }",
            "lineNumber": 75
          },
          {
            "text": "    ",
            "lineNumber": 76
          },
          {
            "text": "    // その日の休暇情報を取得（承認済みまたは申請中の休暇）",
            "lineNumber": 77
          },
          {
            "text": "    const dayVacation = vacations.find(v =&gt; {",
            "lineNumber": 78
          },
          {
            "text": "      const startDate = normalizeDate(v.START_DATE);",
            "lineNumber": 79
          },
          {
            "text": "      const endDate = normalizeDate(v.END_DATE);",
            "lineNumber": 80
          },
          {
            "text": "      return workDate &gt;= startDate &amp;&amp; workDate &lt;= endDate &amp;&amp; ",
            "lineNumber": 81
          },
          {
            "text": "             (v.APPROVAL_STATUS === 'APPROVED' || v.APPROVAL_STATUS === 'PENDING');",
            "lineNumber": 82
          },
          {
            "text": "    });",
            "lineNumber": 83
          },
          {
            "text": "    let vacationTypeName = null;",
            "lineNumber": 84
          },
          {
            "text": "    if (dayVacation &amp;&amp; dayVacation.VACATION_TYPE_CODE) {",
            "lineNumber": 85
          },
          {
            "text": "      vacationTypeName = vacationTypeMap[dayVacation.VACATION_TYPE_CODE] || null;",
            "lineNumber": 86
          },
          {
            "text": "    }",
            "lineNumber": 87
          },
          {
            "text": "    ",
            "lineNumber": 88
          },
          {
            "text": "    let breakTimeTotal = 0;",
            "lineNumber": 89
          },
          {
            "text": "    let actualWorkHours = 0;",
            "lineNumber": 90
          },
          {
            "text": "    let overtimeHours = 0;",
            "lineNumber": 91
          },
          {
            "text": "    // 日次の法定時間内残業・法定時間外残業（分単位）を保存",
            "lineNumber": 92
          },
          {
            "text": "    let withinLegalOvertimeMinutes = 0;",
            "lineNumber": 93
          },
          {
            "text": "    let overLegalOvertimeMinutes = 0;",
            "lineNumber": 94
          },
          {
            "text": "    ",
            "lineNumber": 95
          },
          {
            "text": "    if (attendance) {",
            "lineNumber": 96
          },
          {
            "text": "      const breakTimes = await breakTimeModel.getBreakTimes;",
            "lineNumber": 97
          },
          {
            "text": "  }",
            "lineNumber": 206
          },
          {
            "text": ";",
            "lineNumber": 417
          }
        ]
      },
      "score": 0.33287039399147034
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\docs\\API_SPECIFICATION.md",
        "range": {
          "startPosition": {
            "line": 283
          },
          "endPosition": {
            "line": 399
          }
        },
        "contents": "{\n  \"success\": true,\n  \"message\": \"勤務場所を設定しました。\"\n}\n&#96;&#96;&#96;\n\n---\n\n## マスタデータ\n\n### GET /api/master/work-locations\n\n**機能一覧**: API_TS_0301  \n**説明**: 勤務場所マスタを取得する\n\n#### レスポンス（成功）\n\n&#96;&#96;&#96;json\n{\n  \"success\": true,\n  \"workLocations\": [\n    {\n      \"LOCATION_CODE\": \"COMMUTE\",\n      \"LOCATION_NAME\": \"通勤\",\n      \"DISPLAY_ORDER\": 1\n    },\n    {\n      \"LOCATION_CODE\": \"REMOTE\",\n      \"LOCATION_NAME\": \"在宅\",\n      \"DISPLAY_ORDER\": 2\n    },\n    {\n      \"LOCATION_CODE\": \"DIRECT_BOTH\",\n      \"LOCATION_NAME\": \"直行直帰\",\n      \"DISPLAY_ORDER\": 3\n    },\n    {\n      \"LOCATION_CODE\": \"BUSINESS_TRIP\",\n      \"LOCATION_NAME\": \"出張\",\n      \"DISPLAY_ORDER\": 4\n    }\n  ]\n}\n&#96;&#96;&#96;\n\n---\n\n### GET /api/master/jobs\n\n**機能一覧**: API_TS_0302  \n**説明**: ジョブマスタを取得する\n\n#### レスポンス（成功）\n\n&#96;&#96;&#96;json\n{\n  \"success\": true,\n  \"jobs\": [\n    {\n      \"JOB_CODE\": \"ZXXXA2506B\",\n      \"JOB_NAME\": \"ZXXXA2506B 人推_育成活動実施25152025-300／00X100 00X収益\",\n      \"JOB_CATEGORY\": \"プロジェクト\",\n      \"PROJECT_CODE\": \"25152025-300\",\n      \"START_DATE\": \"2025-01-01\",\n      \"END_DATE\": \"2025-12-31\"\n    }\n  ]\n}\n&#96;&#96;&#96;\n\n---\n\n### GET /api/master/vacation-types\n\n**機能一覧**: API_TS_0303  \n**説明**: 休暇種別マスタを取得する\n\n#### レスポンス（成功）\n\n&#96;&#96;&#96;json\n{\n  \"success\": true,\n  \"vacationTypes\": [\n    {\n      \"VACATION_TYPE_CODE\": \"PAID_LEAVE\",\n      \"VACATION_TYPE_NAME\": \"有給休暇\",\n      \"VACATION_CATEGORY\": \"有給\",\n      \"IS_PAID\": 1,\n      \"ANNUAL_GRANT_DAYS\": 20.0,\n      \"DISPLAY_ORDER\": 1\n    }\n  ]\n}\n&#96;&#96;&#96;\n\n---\n\n## エラーレスポンス\n\nすべてのAPIで共通のエラーレスポンス形式を使用します。\n\n### バリデーションエラー（400 Bad Request）\n\n&#96;&#96;&#96;json\n{\n  \"success\": false,\n  \"message\": \"従業員IDが必要です。\"\n}\n&#96;&#96;&#96;\n\n### 認証エラー（401 Unauthorized）\n\n&#96;&#96;&#96;json\n{\n  \"success\": false,\n  \"message\": \"社員コードまたはパスワードが違います。\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "{",
            "lineNumber": 284
          },
          {
            "text": "  \"success\": true,",
            "lineNumber": 285
          },
          {
            "text": "  \"message\": \"勤務場所を設定しました。\"",
            "lineNumber": 286
          },
          {
            "text": "}",
            "lineNumber": 287
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 288
          },
          {
            "lineNumber": 289
          },
          {
            "text": "---",
            "lineNumber": 290
          },
          {
            "lineNumber": 291
          },
          {
            "text": "## マスタデータ",
            "lineNumber": 292
          },
          {
            "lineNumber": 293
          },
          {
            "text": "### GET /api/master/work-locations",
            "lineNumber": 294
          },
          {
            "lineNumber": 295
          },
          {
            "text": "**機能一覧**: API_TS_0301  ",
            "lineNumber": 296
          },
          {
            "text": "**説明**: 勤務場所マスタを取得する",
            "lineNumber": 297
          },
          {
            "lineNumber": 298
          },
          {
            "text": "#### レスポンス（成功）",
            "lineNumber": 299
          },
          {
            "lineNumber": 300
          },
          {
            "text": "&#96;&#96;&#96;json",
            "lineNumber": 301
          },
          {
            "text": "{",
            "lineNumber": 302
          },
          {
            "text": "  \"success\": true,",
            "lineNumber": 303
          },
          {
            "text": "  \"workLocations\": [",
            "lineNumber": 304
          },
          {
            "text": "    {",
            "lineNumber": 305
          },
          {
            "text": "      \"LOCATION_CODE\": \"COMMUTE\",",
            "lineNumber": 306
          },
          {
            "text": "      \"LOCATION_NAME\": \"通勤\",",
            "lineNumber": 307
          },
          {
            "text": "      \"DISPLAY_ORDER\": 1",
            "lineNumber": 308
          },
          {
            "text": "    },",
            "lineNumber": 309
          },
          {
            "text": "    {",
            "lineNumber": 310
          },
          {
            "text": "      \"LOCATION_CODE\": \"REMOTE\",",
            "lineNumber": 311
          },
          {
            "text": "      \"LOCATION_NAME\": \"在宅\",",
            "lineNumber": 312
          },
          {
            "text": "      \"DISPLAY_ORDER\": 2",
            "lineNumber": 313
          },
          {
            "text": "    },",
            "lineNumber": 314
          },
          {
            "text": "    {",
            "lineNumber": 315
          },
          {
            "text": "      \"LOCATION_CODE\": \"DIRECT_BOTH\",",
            "lineNumber": 316
          },
          {
            "text": "      \"LOCATION_NAME\": \"直行直帰\",",
            "lineNumber": 317
          },
          {
            "text": "      \"DISPLAY_ORDER\": 3",
            "lineNumber": 318
          },
          {
            "text": "    },",
            "lineNumber": 319
          },
          {
            "text": "    {",
            "lineNumber": 320
          },
          {
            "text": "      \"LOCATION_CODE\": \"BUSINESS_TRIP\",",
            "lineNumber": 321
          },
          {
            "text": "      \"LOCATION_NAME\": \"出張\",",
            "lineNumber": 322
          },
          {
            "text": "      \"DISPLAY_ORDER\": 4",
            "lineNumber": 323
          },
          {
            "text": "    }",
            "lineNumber": 324
          },
          {
            "text": "  ]",
            "lineNumber": 325
          },
          {
            "text": "}",
            "lineNumber": 326
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 327
          },
          {
            "lineNumber": 328
          },
          {
            "text": "---",
            "lineNumber": 329
          },
          {
            "lineNumber": 330
          },
          {
            "text": "### GET /api/master/jobs",
            "lineNumber": 331
          },
          {
            "lineNumber": 332
          },
          {
            "text": "**機能一覧**: API_TS_0302  ",
            "lineNumber": 333
          },
          {
            "text": "**説明**: ジョブマスタを取得する",
            "lineNumber": 334
          },
          {
            "lineNumber": 335
          },
          {
            "text": "#### レスポンス（成功）",
            "lineNumber": 336
          },
          {
            "lineNumber": 337
          },
          {
            "text": "&#96;&#96;&#96;json",
            "lineNumber": 338
          },
          {
            "text": "{",
            "lineNumber": 339
          },
          {
            "text": "  \"success\": true,",
            "lineNumber": 340
          },
          {
            "text": "  \"jobs\": [",
            "lineNumber": 341
          },
          {
            "text": "    {",
            "lineNumber": 342
          },
          {
            "text": "      \"JOB_CODE\": \"ZXXXA2506B\",",
            "lineNumber": 343
          },
          {
            "text": "      \"JOB_NAME\": \"ZXXXA2506B 人推_育成活動実施25152025-300／00X100 00X収益\",",
            "lineNumber": 344
          },
          {
            "text": "      \"JOB_CATEGORY\": \"プロジェクト\",",
            "lineNumber": 345
          },
          {
            "text": "      \"PROJECT_CODE\": \"25152025-300\",",
            "lineNumber": 346
          },
          {
            "text": "      \"START_DATE\": \"2025-01-01\",",
            "lineNumber": 347
          },
          {
            "text": "      \"END_DATE\": \"2025-12-31\"",
            "lineNumber": 348
          },
          {
            "text": "    }",
            "lineNumber": 349
          },
          {
            "text": "  ]",
            "lineNumber": 350
          },
          {
            "text": "}",
            "lineNumber": 351
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 352
          },
          {
            "lineNumber": 353
          },
          {
            "text": "---",
            "lineNumber": 354
          },
          {
            "lineNumber": 355
          },
          {
            "text": "### GET /api/master/vacation-types",
            "lineNumber": 356
          },
          {
            "lineNumber": 357
          },
          {
            "text": "**機能一覧**: API_TS_0303  ",
            "lineNumber": 358
          },
          {
            "text": "**説明**: 休暇種別マスタを取得する",
            "lineNumber": 359
          },
          {
            "lineNumber": 360
          },
          {
            "text": "#### レスポンス（成功）",
            "lineNumber": 361
          },
          {
            "lineNumber": 362
          },
          {
            "text": "&#96;&#96;&#96;json",
            "lineNumber": 363
          },
          {
            "text": "{",
            "lineNumber": 364
          },
          {
            "text": "  \"success\": true,",
            "lineNumber": 365
          },
          {
            "text": "  \"vacationTypes\": [",
            "lineNumber": 366
          },
          {
            "text": "    {",
            "lineNumber": 367
          },
          {
            "text": "      \"VACATION_TYPE_CODE\": \"PAID_LEAVE\",",
            "lineNumber": 368
          },
          {
            "text": "      \"VACATION_TYPE_NAME\": \"有給休暇\",",
            "lineNumber": 369
          },
          {
            "text": "      \"VACATION_CATEGORY\": \"有給\",",
            "lineNumber": 370
          },
          {
            "text": "      \"IS_PAID\": 1,",
            "lineNumber": 371
          },
          {
            "text": "      \"ANNUAL_GRANT_DAYS\": 20.0,",
            "lineNumber": 372
          },
          {
            "text": "      \"DISPLAY_ORDER\": 1",
            "lineNumber": 373
          },
          {
            "text": "    }",
            "lineNumber": 374
          },
          {
            "text": "  ]",
            "lineNumber": 375
          },
          {
            "text": "}",
            "lineNumber": 376
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 377
          },
          {
            "lineNumber": 378
          },
          {
            "text": "---",
            "lineNumber": 379
          },
          {
            "lineNumber": 380
          },
          {
            "text": "## エラーレスポンス",
            "lineNumber": 381
          },
          {
            "lineNumber": 382
          },
          {
            "text": "すべてのAPIで共通のエラーレスポンス形式を使用します。",
            "lineNumber": 383
          },
          {
            "lineNumber": 384
          },
          {
            "text": "### バリデーションエラー（400 Bad Request）",
            "lineNumber": 385
          },
          {
            "lineNumber": 386
          },
          {
            "text": "&#96;&#96;&#96;json",
            "lineNumber": 387
          },
          {
            "text": "{",
            "lineNumber": 388
          },
          {
            "text": "  \"success\": false,",
            "lineNumber": 389
          },
          {
            "text": "  \"message\": \"従業員IDが必要です。\"",
            "lineNumber": 390
          },
          {
            "text": "}",
            "lineNumber": 391
          },
          {
            "text": "&#96;&#96;&#96;",
            "lineNumber": 392
          },
          {
            "lineNumber": 393
          },
          {
            "text": "### 認証エラー（401 Unauthorized）",
            "lineNumber": 394
          },
          {
            "lineNumber": 395
          },
          {
            "text": "&#96;&#96;&#96;json",
            "lineNumber": 396
          },
          {
            "text": "{",
            "lineNumber": 397
          },
          {
            "text": "  \"success\": false,",
            "lineNumber": 398
          },
          {
            "text": "  \"message\": \"社員コードまたはパスワードが違います。\"",
            "lineNumber": 399
          }
        ]
      },
      "score": 0.33254730701446533
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書を修正し、続いてコードを実装します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "SUBSTITUTE_HOLIDAY",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "SUBSTITUTE_HOLIDAY",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "252:                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
              "matches": [
                {
                  "lineNumber": 272,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 342,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 388,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 1206,
                  "content": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示"
                },
                {
                  "lineNumber": 1207,
                  "content": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {"
                },
                {
                  "lineNumber": 2046,
                  "content": "      if (this.vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY') {"
                }
              ]
            }
          ],
          "totalLines": 6,
          "totalMatchedLines": 6
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書を修正中です。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "5ec16bae-8185-416d-89bb-280b73eef9f3"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "169e0b32-6842-45a3-9957-5f726b0e6cb2"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---



---


表示例に代休の例を追加中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "d572572d-e871-44d8-97e1-d5c5fdb2965c"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] 設計書を修正：代休のグラフ表示を有給休暇と同じスタイル（薄い青背景、#1A69ABのグラフ、細い白線）に変更
- [-] TimesheetScreen.vueに代休のグラフ表示を追加（有給休暇と同じスタイル）
- [ ] 代休の申請取消機能を確認・実装

</details>
</tool-use>

---



---


TimesheetScreen.vueに代休のグラフ表示を追加中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---


代休のグラフ表示を追加中です。有給休暇と同じスタイルで実装します。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "36827bac-d32b-4c52-a96c-fb761e6275c4"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "7cb8b847-3a8c-4cac-afb7-788892a52038"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] 設計書を修正：代休のグラフ表示を有給休暇と同じスタイル（薄い青背景、#1A69ABのグラフ、細い白線）に変更
- [x] TimesheetScreen.vueに代休のグラフ表示を追加（有給休暇と同じスタイル）
- [-] 代休の申請取消機能を確認・実装

</details>
</tool-use>

---



---


代休の申請取消機能を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "休暇申請取消|cancelVacationApplication",
  "path": "docs/detailed-design/ui/attendance-application-screen.md",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "休暇申請取消|cancelVacationApplication",
    "path": "docs/detailed-design/ui/attendance-application-screen.md",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "559:#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下",
              "matches": [
                {
                  "lineNumber": 577,
                  "content": "   - 休暇申請取消"
                },
                {
                  "lineNumber": 579,
                  "content": "     - 【API利用仕様 No.14（休暇申請取消API）】"
                },
                {
                  "lineNumber": 1247,
                  "content": "- API仕様名：休暇申請取消API"
                }
              ]
            }
          ],
          "totalLines": 3,
          "totalMatchedLines": 3
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


休暇申請取消の設計書を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-application-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "休暇申請取消APIの実装と代休の処理",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 304
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const cancelApplication = async \n\n    case 'VACATION': {\n      // 休暇申請の取り消し\n      // 申請情報を取得\n      const vacation = await applicationModel.getVacationById(applicationId);\n      if (!vacation || vacation.EMPLOYEE_ID !== employeeId) {\n        throw new Error('休暇申請が見つかりません。');\n      }\n      \n      // 有給休暇の場合、残日数を戻す\n      if (vacation.VACATION_TYPE_CODE === 'PAID_LEAVE') {\n        const fiscalYear = getFiscalYear(vacation.START_DATE);\n        await applicationModel.increaseVacationBalance(\n          employeeId,\n          vacation.VACATION_TYPE_CODE,\n          vacation.VACATION_DAYS,\n          fiscalYear\n        );\n      }\n      \n      // 申請状態をNOT_SUBMITTEDに更新\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE VACATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            UPDATED_AT = NOW()\n        WHERE VACATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId]);\n      break;\n    }\n    case 'HOLIDAY_WORK': {\n      // 休日出勤申請の取り消し\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 305,
                "column": 1
              },
              "endPosition": {
                "line": 305,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 305,
                "column": 7
              },
              "endPosition": {
                "line": 305,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const cancelApplication = async ",
            "lineNumber": 305
          },
          {
            "lineNumber": 331
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 332
          },
          {
            "text": "      // 休暇申請の取り消し",
            "lineNumber": 333
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 334
          },
          {
            "text": "      const vacation = await applicationModel.getVacationById(applicationId);",
            "lineNumber": 335
          },
          {
            "text": "      if (!vacation || vacation.EMPLOYEE_ID !== employeeId) {",
            "lineNumber": 336
          },
          {
            "text": "        throw new Error('休暇申請が見つかりません。');",
            "lineNumber": 337
          },
          {
            "text": "      }",
            "lineNumber": 338
          },
          {
            "text": "      ",
            "lineNumber": 339
          },
          {
            "text": "      // 有給休暇の場合、残日数を戻す",
            "lineNumber": 340
          },
          {
            "text": "      if (vacation.VACATION_TYPE_CODE === 'PAID_LEAVE') {",
            "lineNumber": 341
          },
          {
            "text": "        const fiscalYear = getFiscalYear(vacation.START_DATE);",
            "lineNumber": 342
          },
          {
            "text": "        await applicationModel.increaseVacationBalance(",
            "lineNumber": 343
          },
          {
            "text": "          employeeId,",
            "lineNumber": 344
          },
          {
            "text": "          vacation.VACATION_TYPE_CODE,",
            "lineNumber": 345
          },
          {
            "text": "          vacation.VACATION_DAYS,",
            "lineNumber": 346
          },
          {
            "text": "          fiscalYear",
            "lineNumber": 347
          },
          {
            "text": "        );",
            "lineNumber": 348
          },
          {
            "text": "      }",
            "lineNumber": 349
          },
          {
            "text": "      ",
            "lineNumber": 350
          },
          {
            "text": "      // 申請状態をNOT_SUBMITTEDに更新",
            "lineNumber": 351
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 352
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 353
          },
          {
            "text": "        UPDATE VACATION_HISTORY",
            "lineNumber": 354
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 355
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 356
          },
          {
            "text": "        WHERE VACATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 357
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 358
          },
          {
            "text": "      &#96;;",
            "lineNumber": 359
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId]);",
            "lineNumber": 360
          },
          {
            "text": "      break;",
            "lineNumber": 361
          },
          {
            "text": "    }",
            "lineNumber": 362
          },
          {
            "text": "    case 'HOLIDAY_WORK': {",
            "lineNumber": 363
          },
          {
            "text": "      // 休日出勤申請の取り消し",
            "lineNumber": 364
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）",
            "lineNumber": 365
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.5209445357322693
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 304
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const cancelApplication = async \n\n    case 'HOLIDAY_WORK': {\n      // 休日出勤申請の取り消し\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE APPLICATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            REASON = NULL,\n            UPDATED_AT = NOW()\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPLICATION_TYPE = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId, applicationType]);\n      \n      // 申請情報から対象日を取得\n      const applicationInfoQuery = &#96;\n        SELECT TARGET_START_DATE\n        FROM APPLICATION_HISTORY\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n      &#96;;\n      const [applicationRows] = await db.execute(applicationInfoQuery, [applicationId, employeeId]);\n      \n      if (applicationRows.length &gt; 0)\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 305,
                "column": 1
              },
              "endPosition": {
                "line": 305,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 305,
                "column": 7
              },
              "endPosition": {
                "line": 305,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const cancelApplication = async ",
            "lineNumber": 305
          },
          {
            "lineNumber": 362
          },
          {
            "text": "    case 'HOLIDAY_WORK': {",
            "lineNumber": 363
          },
          {
            "text": "      // 休日出勤申請の取り消し",
            "lineNumber": 364
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新し、備考もクリア）",
            "lineNumber": 365
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 366
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 367
          },
          {
            "text": "        UPDATE APPLICATION_HISTORY",
            "lineNumber": 368
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 369
          },
          {
            "text": "            REASON = NULL,",
            "lineNumber": 370
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 371
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 372
          },
          {
            "text": "          AND APPLICATION_TYPE = ?",
            "lineNumber": 373
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 374
          },
          {
            "text": "      &#96;;",
            "lineNumber": 375
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId, applicationType]);",
            "lineNumber": 376
          },
          {
            "text": "      ",
            "lineNumber": 377
          },
          {
            "text": "      // 申請情報から対象日を取得",
            "lineNumber": 378
          },
          {
            "text": "      const applicationInfoQuery = &#96;",
            "lineNumber": 379
          },
          {
            "text": "        SELECT TARGET_START_DATE",
            "lineNumber": 380
          },
          {
            "text": "        FROM APPLICATION_HISTORY",
            "lineNumber": 381
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 382
          },
          {
            "text": "      &#96;;",
            "lineNumber": 383
          },
          {
            "text": "      const [applicationRows] = await db.execute(applicationInfoQuery, [applicationId, employeeId]);",
            "lineNumber": 384
          },
          {
            "text": "      ",
            "lineNumber": 385
          },
          {
            "text": "      if (applicationRows.length &gt; 0)",
            "lineNumber": 386
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.5047925710678101
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 304
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const cancelApplication = async \nconst ;\n      \n      if (applicationRows.length &gt; 0) {\n        // 日付をYYYY-MM-DD形式に正規化\n        const targetDate = normalizeDate(applicationRows[0].TARGET_START_DATE);\n        \n        // その日の勤怠データを削除\n        const attendanceModel = require('../models/attendanceModel');\n        const breakTimeModel = require('../models/breakTimeModel');\n        const workHoursModel = require('../models/workHoursModel');\n        \n        // 勤怠記録を取得（削除前にIDを取得するため）\n        const attendance = await attendanceModel.getAttendanceByDate(employeeId, targetDate);\n        \n        if (attendance) {\n          const attendanceId = attendance.ATTENDANCE_ID;\n          \n          // 休憩時間と公用外出を削除\n          await breakTimeModel.deleteBreakTimesByAttendanceId(attendanceId);\n          await breakTimeModel.deleteOfficialOutingsByAttendanceId(attendanceId);\n          \n          // 工数実績を削除\n          await workHoursModel.deleteWorkHoursByDate(employeeId, targetDate);\n          \n          // 勤怠記録を削除\n          await attendanceModel.deleteAttendanceByDate(employeeId, targetDate);\n        } else {\n          // 勤怠記録が存在しない場合でも工数実績は削除\n          await workHoursModel.deleteWorkHoursByDate(employeeId, targetDate);\n        }\n      }\n      break;\n    }\n    case 'OVERTIME':\n    case 'EARLY_WORK':\n    case 'TRANSFER': {\n      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新）\n      const db = require('../config/database');\n      const query = &#96;\n        UPDATE APPLICATION_HISTORY\n        SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n            UPDATED_AT = NOW()\n        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?\n          AND APPLICATION_TYPE = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n      &#96;;\n      await db.execute(query, [applicationId, employeeId, applicationType]);\n      break;\n    }\n    default:\n      throw\n;",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 305,
                "column": 1
              },
              "endPosition": {
                "line": 305,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 305,
                "column": 7
              },
              "endPosition": {
                "line": 305,
                "column": 33
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const cancelApplication = async ",
            "lineNumber": 305
          },
          {
            "text": "const ;",
            "lineNumber": 384
          },
          {
            "text": "      ",
            "lineNumber": 385
          },
          {
            "text": "      if (applicationRows.length &gt; 0) {",
            "lineNumber": 386
          },
          {
            "text": "        // 日付をYYYY-MM-DD形式に正規化",
            "lineNumber": 387
          },
          {
            "text": "        const targetDate = normalizeDate(applicationRows[0].TARGET_START_DATE);",
            "lineNumber": 388
          },
          {
            "text": "        ",
            "lineNumber": 389
          },
          {
            "text": "        // その日の勤怠データを削除",
            "lineNumber": 390
          },
          {
            "text": "        const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 391
          },
          {
            "text": "        const breakTimeModel = require('../models/breakTimeModel');",
            "lineNumber": 392
          },
          {
            "text": "        const workHoursModel = require('../models/workHoursModel');",
            "lineNumber": 393
          },
          {
            "text": "        ",
            "lineNumber": 394
          },
          {
            "text": "        // 勤怠記録を取得（削除前にIDを取得するため）",
            "lineNumber": 395
          },
          {
            "text": "        const attendance = await attendanceModel.getAttendanceByDate(employeeId, targetDate);",
            "lineNumber": 396
          },
          {
            "text": "        ",
            "lineNumber": 397
          },
          {
            "text": "        if (attendance) {",
            "lineNumber": 398
          },
          {
            "text": "          const attendanceId = attendance.ATTENDANCE_ID;",
            "lineNumber": 399
          },
          {
            "text": "          ",
            "lineNumber": 400
          },
          {
            "text": "          // 休憩時間と公用外出を削除",
            "lineNumber": 401
          },
          {
            "text": "          await breakTimeModel.deleteBreakTimesByAttendanceId(attendanceId);",
            "lineNumber": 402
          },
          {
            "text": "          await breakTimeModel.deleteOfficialOutingsByAttendanceId(attendanceId);",
            "lineNumber": 403
          },
          {
            "text": "          ",
            "lineNumber": 404
          },
          {
            "text": "          // 工数実績を削除",
            "lineNumber": 405
          },
          {
            "text": "          await workHoursModel.deleteWorkHoursByDate(employeeId, targetDate);",
            "lineNumber": 406
          },
          {
            "text": "          ",
            "lineNumber": 407
          },
          {
            "text": "          // 勤怠記録を削除",
            "lineNumber": 408
          },
          {
            "text": "          await attendanceModel.deleteAttendanceByDate(employeeId, targetDate);",
            "lineNumber": 409
          },
          {
            "text": "        } else {",
            "lineNumber": 410
          },
          {
            "text": "          // 勤怠記録が存在しない場合でも工数実績は削除",
            "lineNumber": 411
          },
          {
            "text": "          await workHoursModel.deleteWorkHoursByDate(employeeId, targetDate);",
            "lineNumber": 412
          },
          {
            "text": "        }",
            "lineNumber": 413
          },
          {
            "text": "      }",
            "lineNumber": 414
          },
          {
            "text": "      break;",
            "lineNumber": 415
          },
          {
            "text": "    }",
            "lineNumber": 416
          },
          {
            "text": "    case 'OVERTIME':",
            "lineNumber": 417
          },
          {
            "text": "    case 'EARLY_WORK':",
            "lineNumber": 418
          },
          {
            "text": "    case 'TRANSFER': {",
            "lineNumber": 419
          },
          {
            "text": "      // APPLICATION_HISTORYから削除（実際には状態をNOT_SUBMITTEDに更新）",
            "lineNumber": 420
          },
          {
            "text": "      const db = require('../config/database');",
            "lineNumber": 421
          },
          {
            "text": "      const query = &#96;",
            "lineNumber": 422
          },
          {
            "text": "        UPDATE APPLICATION_HISTORY",
            "lineNumber": 423
          },
          {
            "text": "        SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 424
          },
          {
            "text": "            UPDATED_AT = NOW()",
            "lineNumber": 425
          },
          {
            "text": "        WHERE APPLICATION_ID = ? AND EMPLOYEE_ID = ?",
            "lineNumber": 426
          },
          {
            "text": "          AND APPLICATION_TYPE = ?",
            "lineNumber": 427
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 428
          },
          {
            "text": "      &#96;;",
            "lineNumber": 429
          },
          {
            "text": "      await db.execute(query, [applicationId, employeeId, applicationType]);",
            "lineNumber": 430
          },
          {
            "text": "      break;",
            "lineNumber": 431
          },
          {
            "text": "    }",
            "lineNumber": 432
          },
          {
            "text": "    default:",
            "lineNumber": 433
          },
          {
            "text": "      throw",
            "lineNumber": 434
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.4619497060775757
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 271
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const \n;\n\n/**\n * 申請を取り消す\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId - 申請ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {\n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の取り消し\n      const attendanceModel = require('../models/attendanceModel');\n      const attendanceService = require('../services/attendanceService');\n      \n      if (!targetDate) {\n        throw new Error('対象日が必要です。');\n      }\n      \n      // 月次申請状態を確認\n      const date = new Date(targetDate);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(\n        employeeId, \n        &#96;${year}-${String(month).padStart(2, '0')}&#96;\n      );\n      \n      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {\n        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');\n      }\n      \n      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の取り消し\n      // 申請情報を取得\n      const vacation = await applicationModel.getVacationById(applicationId);\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "const ",
            "lineNumber": 272
          },
          {
            "text": ";",
            "lineNumber": 295
          },
          {
            "lineNumber": 296
          },
          {
            "text": "/**",
            "lineNumber": 297
          },
          {
            "text": " * 申請を取り消す",
            "lineNumber": 298
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 299
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 300
          },
          {
            "text": " * @param {string|number} applicationId - 申請ID",
            "lineNumber": 301
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）",
            "lineNumber": 302
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 303
          },
          {
            "text": " */",
            "lineNumber": 304
          },
          {
            "text": "const cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {",
            "lineNumber": 305
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 306
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 307
          },
          {
            "text": "      // 日次確定申請の取り消し",
            "lineNumber": 308
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 309
          },
          {
            "text": "      const attendanceService = require('../services/attendanceService');",
            "lineNumber": 310
          },
          {
            "text": "      ",
            "lineNumber": 311
          },
          {
            "text": "      if (!targetDate) {",
            "lineNumber": 312
          },
          {
            "text": "        throw new Error('対象日が必要です。');",
            "lineNumber": 313
          },
          {
            "text": "      }",
            "lineNumber": 314
          },
          {
            "text": "      ",
            "lineNumber": 315
          },
          {
            "text": "      // 月次申請状態を確認",
            "lineNumber": 316
          },
          {
            "text": "      const date = new Date(targetDate);",
            "lineNumber": 317
          },
          {
            "text": "      const year = date.getFullYear();",
            "lineNumber": 318
          },
          {
            "text": "      const month = date.getMonth() + 1;",
            "lineNumber": 319
          },
          {
            "text": "      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(",
            "lineNumber": 320
          },
          {
            "text": "        employeeId, ",
            "lineNumber": 321
          },
          {
            "text": "        &#96;${year}-${String(month).padStart(2, '0')}&#96;",
            "lineNumber": 322
          },
          {
            "text": "      );",
            "lineNumber": 323
          },
          {
            "text": "      ",
            "lineNumber": 324
          },
          {
            "text": "      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {",
            "lineNumber": 325
          },
          {
            "text": "        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');",
            "lineNumber": 326
          },
          {
            "text": "      }",
            "lineNumber": 327
          },
          {
            "text": "      ",
            "lineNumber": 328
          },
          {
            "text": "      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);",
            "lineNumber": 329
          },
          {
            "text": "      break;",
            "lineNumber": 330
          },
          {
            "text": "    }",
            "lineNumber": 331
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 332
          },
          {
            "text": "      // 休暇申請の取り消し",
            "lineNumber": 333
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 334
          },
          {
            "text": "      const vacation = await applicationModel.getVacationById(applicationId);",
            "lineNumber": 335
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.4617280960083008
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 347,
            "column": 2
          },
          "endPosition": {
            "line": 399,
            "column": 16
          }
        },
        "contents": "/**\n * 申請取消\n */\nconst cancelApplication = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, applicationType, applicationId, targetDate } = req.body;\n    \n    if (!employeeId || !applicationType) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員IDと申請タイプが必要です。'\n      });\n    }\n    \n    // 日次確定の場合はtargetDateが必要\n    if (applicationType === 'DAILY_CONFIRMATION' &amp;&amp; !targetDate) {\n      return res.status(400).json({\n        success: false,\n        message: '対象日が必要です。'\n      });\n    }\n    \n    // その他の申請タイプの場合はapplicationIdが必要\n    if (applicationType !== 'DAILY_CONFIRMATION' &amp;&amp; !applicationId) {\n      return res.status(400).json({\n        success: false,\n        message: '申請IDが必要です。'\n      });\n    }\n    \n    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);\n    \n    res.json({\n      success: true,\n      message: '申請を取り消しました。'\n    });\n  } catch (error) {\n    if (error.message.includes('月次申請を行っている場合')) {\n      return res.status(400).json({\n        success: false,\n        message: error.message\n      });\n    }\n    next(error);\n  }\n};\n\nmodule.exports = {\n  applyVacation,\n  applyHolidayWork,\n  applyOvertime,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 350
          },
          {
            "text": " * 申請取消",
            "lineNumber": 351
          },
          {
            "text": " */",
            "lineNumber": 352
          },
          {
            "text": "const cancelApplication = async (req, res, next) =&gt; {",
            "lineNumber": 353
          },
          {
            "text": "  try {",
            "lineNumber": 354
          },
          {
            "text": "    const { employeeId, applicationType, applicationId, targetDate } = req.body;",
            "lineNumber": 355
          },
          {
            "text": "    ",
            "lineNumber": 356
          },
          {
            "text": "    if (!employeeId || !applicationType) {",
            "lineNumber": 357
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 358
          },
          {
            "text": "        success: false,",
            "lineNumber": 359
          },
          {
            "text": "        message: '従業員IDと申請タイプが必要です。'",
            "lineNumber": 360
          },
          {
            "text": "      });",
            "lineNumber": 361
          },
          {
            "text": "    }",
            "lineNumber": 362
          },
          {
            "text": "    ",
            "lineNumber": 363
          },
          {
            "text": "    // 日次確定の場合はtargetDateが必要",
            "lineNumber": 364
          },
          {
            "text": "    if (applicationType === 'DAILY_CONFIRMATION' &amp;&amp; !targetDate) {",
            "lineNumber": 365
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 366
          },
          {
            "text": "        success: false,",
            "lineNumber": 367
          },
          {
            "text": "        message: '対象日が必要です。'",
            "lineNumber": 368
          },
          {
            "text": "      });",
            "lineNumber": 369
          },
          {
            "text": "    }",
            "lineNumber": 370
          },
          {
            "text": "    ",
            "lineNumber": 371
          },
          {
            "text": "    // その他の申請タイプの場合はapplicationIdが必要",
            "lineNumber": 372
          },
          {
            "text": "    if (applicationType !== 'DAILY_CONFIRMATION' &amp;&amp; !applicationId) {",
            "lineNumber": 373
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 374
          },
          {
            "text": "        success: false,",
            "lineNumber": 375
          },
          {
            "text": "        message: '申請IDが必要です。'",
            "lineNumber": 376
          },
          {
            "text": "      });",
            "lineNumber": 377
          },
          {
            "text": "    }",
            "lineNumber": 378
          },
          {
            "text": "    ",
            "lineNumber": 379
          },
          {
            "text": "    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);",
            "lineNumber": 380
          },
          {
            "text": "    ",
            "lineNumber": 381
          },
          {
            "text": "    res.json({",
            "lineNumber": 382
          },
          {
            "text": "      success: true,",
            "lineNumber": 383
          },
          {
            "text": "      message: '申請を取り消しました。'",
            "lineNumber": 384
          },
          {
            "text": "    });",
            "lineNumber": 385
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 386
          },
          {
            "text": "    if (error.message.includes('月次申請を行っている場合')) {",
            "lineNumber": 387
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 388
          },
          {
            "text": "        success: false,",
            "lineNumber": 389
          },
          {
            "text": "        message: error.message",
            "lineNumber": 390
          },
          {
            "text": "      });",
            "lineNumber": 391
          },
          {
            "text": "    }",
            "lineNumber": 392
          },
          {
            "text": "    next(error);",
            "lineNumber": 393
          },
          {
            "text": "  }",
            "lineNumber": 394
          },
          {
            "text": "};",
            "lineNumber": 395
          },
          {
            "lineNumber": 396
          },
          {
            "text": "module.exports = {",
            "lineNumber": 397
          },
          {
            "text": "  applyVacation,",
            "lineNumber": 398
          },
          {
            "text": "  applyHolidayWork,",
            "lineNumber": 399
          },
          {
            "text": "  applyOvertime,",
            "lineNumber": 400
          }
        ]
      },
      "score": 0.4516340494155884
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\services\\api.js",
        "range": {
          "startPosition": {
            "line": 220,
            "column": 1
          },
          "endPosition": {
            "line": 248,
            "column": 1
          }
        },
        "contents": "/**\n * 申請を取り消す。\n *\n * @param {string} employeeId 従業員ID\n * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId 申請ID（日次確定の場合は不要）\n * @param {string} targetDate 対象日（YYYY-MM-DD形式、日次確定の場合のみ必要）\n * @returns {Promise&lt;Object&gt;} レスポンスデータ\n */\nexport async function cancelApplication(employeeId, applicationType, applicationId = null, targetDate = null) {\n  const endpoint = &#96;/application/application&#96;\n  const body = {\n    employeeId,\n    applicationType\n  }\n  \n  if (applicationType === 'DAILY_CONFIRMATION') {\n    body.targetDate = targetDate\n  } else {\n    body.applicationId = applicationId\n  }\n  \n  return await apiRequest(endpoint, {\n    method: 'DELETE',\n    body: JSON.stringify(body)\n  })\n}",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 223
          },
          {
            "text": " * 申請を取り消す。",
            "lineNumber": 224
          },
          {
            "text": " *",
            "lineNumber": 225
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 226
          },
          {
            "text": " * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 227
          },
          {
            "text": " * @param {string|number} applicationId 申請ID（日次確定の場合は不要）",
            "lineNumber": 228
          },
          {
            "text": " * @param {string} targetDate 対象日（YYYY-MM-DD形式、日次確定の場合のみ必要）",
            "lineNumber": 229
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} レスポンスデータ",
            "lineNumber": 230
          },
          {
            "text": " */",
            "lineNumber": 231
          },
          {
            "text": "export async function cancelApplication(employeeId, applicationType, applicationId = null, targetDate = null) {",
            "lineNumber": 232,
            "isSignature": true
          },
          {
            "text": "  const endpoint = &#96;/application/application&#96;",
            "lineNumber": 233
          },
          {
            "text": "  const body = {",
            "lineNumber": 234
          },
          {
            "text": "    employeeId,",
            "lineNumber": 235
          },
          {
            "text": "    applicationType",
            "lineNumber": 236
          },
          {
            "text": "  }",
            "lineNumber": 237
          },
          {
            "text": "  ",
            "lineNumber": 238
          },
          {
            "text": "  if (applicationType === 'DAILY_CONFIRMATION') {",
            "lineNumber": 239
          },
          {
            "text": "    body.targetDate = targetDate",
            "lineNumber": 240
          },
          {
            "text": "  } else {",
            "lineNumber": 241
          },
          {
            "text": "    body.applicationId = applicationId",
            "lineNumber": 242
          },
          {
            "text": "  }",
            "lineNumber": 243
          },
          {
            "text": "  ",
            "lineNumber": 244
          },
          {
            "text": "  return await apiRequest(endpoint, {",
            "lineNumber": 245
          },
          {
            "text": "    method: 'DELETE',",
            "lineNumber": 246
          },
          {
            "text": "    body: JSON.stringify(body)",
            "lineNumber": 247
          },
          {
            "text": "  })",
            "lineNumber": 248
          },
          {
            "text": "}",
            "lineNumber": 249,
            "isSignature": true
          }
        ]
      },
      "score": 0.4345252513885498
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1217
          },
          "endPosition": {
            "line": 1264
          }
        },
        "contents": "- 関連する取得仕様\n  - なし\n- その他\n  - 月次申請状態を取得する\n  - 月次申請が申請中または承認済みの場合、日次申請の取り消しはできない\n\n#### No.13\n- API仕様名：日次確定申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/daily-confirmation | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 日次確定申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 月次申請が申請中または承認済みの場合、取り消し不可\n  - 申請取消後、ATTENDANCE_RECORDのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.14\n- API仕様名：休暇申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/vacation/apply | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | APPLICATION_ID | 申請ID | リクエストボディ |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 休暇申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1218
          },
          {
            "text": "  - なし",
            "lineNumber": 1219
          },
          {
            "text": "- その他",
            "lineNumber": 1220
          },
          {
            "text": "  - 月次申請状態を取得する",
            "lineNumber": 1221
          },
          {
            "text": "  - 月次申請が申請中または承認済みの場合、日次申請の取り消しはできない",
            "lineNumber": 1222
          },
          {
            "lineNumber": 1223
          },
          {
            "text": "#### No.13",
            "lineNumber": 1224
          },
          {
            "text": "- API仕様名：日次確定申請取消API",
            "lineNumber": 1225
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1226
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1227
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1228
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1229
          },
          {
            "text": "  | エンドポイント | /api/attendance/daily-confirmation | |",
            "lineNumber": 1230
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1231
          },
          {
            "text": "  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |",
            "lineNumber": 1232
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1233
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1234
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1235
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1236
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1237
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1238
          },
          {
            "text": "  - なし",
            "lineNumber": 1239
          },
          {
            "text": "- その他",
            "lineNumber": 1240
          },
          {
            "text": "  - 日次確定申請を取り消す",
            "lineNumber": 1241
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1242
          },
          {
            "text": "  - 月次申請が申請中または承認済みの場合、取り消し不可",
            "lineNumber": 1243
          },
          {
            "text": "  - 申請取消後、ATTENDANCE_RECORDのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1244
          },
          {
            "lineNumber": 1245
          },
          {
            "text": "#### No.14",
            "lineNumber": 1246
          },
          {
            "text": "- API仕様名：休暇申請取消API",
            "lineNumber": 1247
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1248
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1249
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1250
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1251
          },
          {
            "text": "  | エンドポイント | /api/attendance/vacation/apply | |",
            "lineNumber": 1252
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1253
          },
          {
            "text": "  | APPLICATION_ID | 申請ID | リクエストボディ |",
            "lineNumber": 1254
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1255
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1256
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1257
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1258
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1259
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1260
          },
          {
            "text": "  - なし",
            "lineNumber": 1261
          },
          {
            "text": "- その他",
            "lineNumber": 1262
          },
          {
            "text": "  - 休暇申請を取り消す",
            "lineNumber": 1263
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1264
          }
        ]
      },
      "score": 0.42572760581970215
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1280
          },
          "endPosition": {
            "line": 1310
          }
        },
        "contents": "- 関連する取得仕様\n  - なし\n- その他\n  - 休日出勤申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n  - 申請取消後、APPLICATION_HISTORYのREASON（備考を含むJSONデータ）がNULLにクリアされる\n  - 申請取消時に、その日の全ての勤怠データが削除される\n    - ATTENDANCE_RECORDテーブルから該当日の勤怠記録が削除される\n      - 打刻時刻（CLOCK_IN_TIME、CLOCK_OUT_TIME）が削除される\n      - 勤務場所（WORK_LOCATION_CODE）が削除される\n      - 備考（REMARK_TEXT）が削除される\n      - その他の勤怠情報が全て削除される\n    - BREAK_TIMEテーブルから該当日の休憩時間が削除される\n    - OFFICIAL_OUTINGテーブルから該当日の公用外出が削除される\n    - WORK_HOURSテーブルから該当日の工数実績が削除される\n  - 削除処理の順序\n    1. APPLICATION_HISTORYのAPPROVAL_STATUSをNOT_SUBMITTEDに更新、REASONをNULLにクリア\n    2. APPLICATION_HISTORYから対象日（TARGET_START_DATE）を取得\n    3. ATTENDANCE_RECORDから該当日の勤怠記録を取得（ATTENDANCE_IDを取得するため）\n    4. BREAK_TIMEから該当ATTENDANCE_IDの休憩時間を削除\n    5. OFFICIAL_OUTINGから該当ATTENDANCE_IDの公用外出を削除\n    6. WORK_HOURSから該当日の工数実績を削除\n    7. ATTENDANCE_RECORDから該当日の勤怠記録を削除\n  - 勤怠記録が存在しない場合でも、工数実績は削除される\n\n#### No.16\n- API仕様名：残業申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1281
          },
          {
            "text": "  - なし",
            "lineNumber": 1282
          },
          {
            "text": "- その他",
            "lineNumber": 1283
          },
          {
            "text": "  - 休日出勤申請を取り消す",
            "lineNumber": 1284
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1285
          },
          {
            "text": "  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1286
          },
          {
            "text": "  - 申請取消後、APPLICATION_HISTORYのREASON（備考を含むJSONデータ）がNULLにクリアされる",
            "lineNumber": 1287
          },
          {
            "text": "  - 申請取消時に、その日の全ての勤怠データが削除される",
            "lineNumber": 1288
          },
          {
            "text": "    - ATTENDANCE_RECORDテーブルから該当日の勤怠記録が削除される",
            "lineNumber": 1289
          },
          {
            "text": "      - 打刻時刻（CLOCK_IN_TIME、CLOCK_OUT_TIME）が削除される",
            "lineNumber": 1290
          },
          {
            "text": "      - 勤務場所（WORK_LOCATION_CODE）が削除される",
            "lineNumber": 1291
          },
          {
            "text": "      - 備考（REMARK_TEXT）が削除される",
            "lineNumber": 1292
          },
          {
            "text": "      - その他の勤怠情報が全て削除される",
            "lineNumber": 1293
          },
          {
            "text": "    - BREAK_TIMEテーブルから該当日の休憩時間が削除される",
            "lineNumber": 1294
          },
          {
            "text": "    - OFFICIAL_OUTINGテーブルから該当日の公用外出が削除される",
            "lineNumber": 1295
          },
          {
            "text": "    - WORK_HOURSテーブルから該当日の工数実績が削除される",
            "lineNumber": 1296
          },
          {
            "text": "  - 削除処理の順序",
            "lineNumber": 1297
          },
          {
            "text": "    1. APPLICATION_HISTORYのAPPROVAL_STATUSをNOT_SUBMITTEDに更新、REASONをNULLにクリア",
            "lineNumber": 1298
          },
          {
            "text": "    2. APPLICATION_HISTORYから対象日（TARGET_START_DATE）を取得",
            "lineNumber": 1299
          },
          {
            "text": "    3. ATTENDANCE_RECORDから該当日の勤怠記録を取得（ATTENDANCE_IDを取得するため）",
            "lineNumber": 1300
          },
          {
            "text": "    4. BREAK_TIMEから該当ATTENDANCE_IDの休憩時間を削除",
            "lineNumber": 1301
          },
          {
            "text": "    5. OFFICIAL_OUTINGから該当ATTENDANCE_IDの公用外出を削除",
            "lineNumber": 1302
          },
          {
            "text": "    6. WORK_HOURSから該当日の工数実績を削除",
            "lineNumber": 1303
          },
          {
            "text": "    7. ATTENDANCE_RECORDから該当日の勤怠記録を削除",
            "lineNumber": 1304
          },
          {
            "text": "  - 勤怠記録が存在しない場合でも、工数実績は削除される",
            "lineNumber": 1305
          },
          {
            "lineNumber": 1306
          },
          {
            "text": "#### No.16",
            "lineNumber": 1307
          },
          {
            "text": "- API仕様名：残業申請取消API",
            "lineNumber": 1308
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1309
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1310
          }
        ]
      },
      "score": 0.42336905002593994
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2530
          },
          "endPosition": {
            "line": 2587
          }
        },
        "contents": "    // 日次確定申請取消\n    async cancelDailyConfirmation() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('dailyConfirmation')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['dailyConfirmation']) {\n        await this.loadApplicationStatus('dailyConfirmation')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('dailyConfirmation')\n    },\n    \n    // 休暇申請取消\n    async cancelVacationApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('vacation')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['vacation']) {\n        await this.loadApplicationStatus('vacation')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('vacation')\n    },\n    \n    // 休日出勤申請取消\n    async cancelHolidayWorkApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('holidayWork')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['holidayWork']) {\n        await this.loadApplicationStatus('holidayWork')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('holidayWork')\n    },\n    \n    // 残業申請取消\n    async cancelOvertimeApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('overtime')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['overtime']) {\n        await this.loadApplicationStatus('overtime')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('overtime')\n    },\n    \n    // 早朝勤務申請取消",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    // 日次確定申請取消",
            "lineNumber": 2531
          },
          {
            "text": "    async cancelDailyConfirmation() {",
            "lineNumber": 2532
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2533
          },
          {
            "text": "      await this.loadApplicationInfo('dailyConfirmation')",
            "lineNumber": 2534
          },
          {
            "text": "      ",
            "lineNumber": 2535
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2536
          },
          {
            "text": "      if (!this.applicationIds['dailyConfirmation']) {",
            "lineNumber": 2537
          },
          {
            "text": "        await this.loadApplicationStatus('dailyConfirmation')",
            "lineNumber": 2538
          },
          {
            "text": "      }",
            "lineNumber": 2539
          },
          {
            "text": "      ",
            "lineNumber": 2540
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2541
          },
          {
            "text": "      await this.executeCancelApplication('dailyConfirmation')",
            "lineNumber": 2542
          },
          {
            "text": "    },",
            "lineNumber": 2543
          },
          {
            "text": "    ",
            "lineNumber": 2544
          },
          {
            "text": "    // 休暇申請取消",
            "lineNumber": 2545
          },
          {
            "text": "    async cancelVacationApplication() {",
            "lineNumber": 2546
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2547
          },
          {
            "text": "      await this.loadApplicationInfo('vacation')",
            "lineNumber": 2548
          },
          {
            "text": "      ",
            "lineNumber": 2549
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2550
          },
          {
            "text": "      if (!this.applicationIds['vacation']) {",
            "lineNumber": 2551
          },
          {
            "text": "        await this.loadApplicationStatus('vacation')",
            "lineNumber": 2552
          },
          {
            "text": "      }",
            "lineNumber": 2553
          },
          {
            "text": "      ",
            "lineNumber": 2554
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2555
          },
          {
            "text": "      await this.executeCancelApplication('vacation')",
            "lineNumber": 2556
          },
          {
            "text": "    },",
            "lineNumber": 2557
          },
          {
            "text": "    ",
            "lineNumber": 2558
          },
          {
            "text": "    // 休日出勤申請取消",
            "lineNumber": 2559
          },
          {
            "text": "    async cancelHolidayWorkApplication() {",
            "lineNumber": 2560
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2561
          },
          {
            "text": "      await this.loadApplicationInfo('holidayWork')",
            "lineNumber": 2562
          },
          {
            "text": "      ",
            "lineNumber": 2563
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2564
          },
          {
            "text": "      if (!this.applicationIds['holidayWork']) {",
            "lineNumber": 2565
          },
          {
            "text": "        await this.loadApplicationStatus('holidayWork')",
            "lineNumber": 2566
          },
          {
            "text": "      }",
            "lineNumber": 2567
          },
          {
            "text": "      ",
            "lineNumber": 2568
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2569
          },
          {
            "text": "      await this.executeCancelApplication('holidayWork')",
            "lineNumber": 2570
          },
          {
            "text": "    },",
            "lineNumber": 2571
          },
          {
            "text": "    ",
            "lineNumber": 2572
          },
          {
            "text": "    // 残業申請取消",
            "lineNumber": 2573
          },
          {
            "text": "    async cancelOvertimeApplication() {",
            "lineNumber": 2574
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2575
          },
          {
            "text": "      await this.loadApplicationInfo('overtime')",
            "lineNumber": 2576
          },
          {
            "text": "      ",
            "lineNumber": 2577
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2578
          },
          {
            "text": "      if (!this.applicationIds['overtime']) {",
            "lineNumber": 2579
          },
          {
            "text": "        await this.loadApplicationStatus('overtime')",
            "lineNumber": 2580
          },
          {
            "text": "      }",
            "lineNumber": 2581
          },
          {
            "text": "      ",
            "lineNumber": 2582
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2583
          },
          {
            "text": "      await this.executeCancelApplication('overtime')",
            "lineNumber": 2584
          },
          {
            "text": "    },",
            "lineNumber": 2585
          },
          {
            "text": "    ",
            "lineNumber": 2586
          },
          {
            "text": "    // 早朝勤務申請取消",
            "lineNumber": 2587
          }
        ]
      },
      "score": 0.41625648736953735
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 544
          },
          "endPosition": {
            "line": 574
          }
        },
        "contents": "4. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 日次確定申請取消\n     - API利用仕様に従い、日次確定申請を取り消す。\n     - 【API利用仕様 No.13（日次確定申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n\n#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 承認取消ボタン押下処理",
            "lineNumber": 545
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 546
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 547
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 548
          },
          {
            "text": "   - 日次確定申請取消",
            "lineNumber": 549
          },
          {
            "text": "     - API利用仕様に従い、日次確定申請を取り消す。",
            "lineNumber": 550
          },
          {
            "text": "     - 【API利用仕様 No.13（日次確定申請取消API）】",
            "lineNumber": 551
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 552
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 553
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 554
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 555
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 556
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 557
          },
          {
            "lineNumber": 558
          },
          {
            "text": "#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下",
            "lineNumber": 559
          },
          {
            "lineNumber": 560
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 561
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 562
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 563
          },
          {
            "lineNumber": 564
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 565
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 566
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 567
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 568
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 569
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 570
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 571
          },
          {
            "lineNumber": 572
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 573
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 574
          }
        ]
      },
      "score": 0.40197470784187317
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 262,
            "column": 2
          },
          "endPosition": {
            "line": 303,
            "column": 3
          }
        },
        "contents": "/**\n * 月次確定申請取消\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelMonthlyApproval = async (employeeId, year, month) =&gt; {\n  const targetYearMonth = &#96;${year}-${String(month).padStart(2, '0')}&#96;;\n  \n  // 現在の状態を確認\n  const currentStatus = await applicationModel.getMonthlyApprovalStatus(employeeId, targetYearMonth);\n  \n  if (currentStatus !== 'PENDING') {\n    throw new Error('申請中の月次確定のみ取り消すことができます。');\n  }\n  \n  // 状態を更新\n  await applicationModel.updateMonthlyApprovalStatus(employeeId, targetYearMonth, 'NOT_SUBMITTED');\n  \n  // 履歴を追加\n  const nextSeq = await applicationModel.getNextSeqNo(employeeId, targetYearMonth);\n  await applicationModel.createMonthlyApprovalHistory({\n    employeeId,\n    targetYearMonth,\n    seqNo: nextSeq,\n    actionType: 'CANCEL',\n    actorId: employeeId,\n    comment: '申請を取り消しました'\n  });\n};\n\n/**\n * 申請を取り消す\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId - 申請ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）\n * @returns {Promise&lt;void&gt;}\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 265
          },
          {
            "text": " * 月次確定申請取消",
            "lineNumber": 266
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 267
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 268
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 269
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 270
          },
          {
            "text": " */",
            "lineNumber": 271
          },
          {
            "text": "const cancelMonthlyApproval = async (employeeId, year, month) =&gt; {",
            "lineNumber": 272
          },
          {
            "text": "  const targetYearMonth = &#96;${year}-${String(month).padStart(2, '0')}&#96;;",
            "lineNumber": 273
          },
          {
            "text": "  ",
            "lineNumber": 274
          },
          {
            "text": "  // 現在の状態を確認",
            "lineNumber": 275
          },
          {
            "text": "  const currentStatus = await applicationModel.getMonthlyApprovalStatus(employeeId, targetYearMonth);",
            "lineNumber": 276
          },
          {
            "text": "  ",
            "lineNumber": 277
          },
          {
            "text": "  if (currentStatus !== 'PENDING') {",
            "lineNumber": 278
          },
          {
            "text": "    throw new Error('申請中の月次確定のみ取り消すことができます。');",
            "lineNumber": 279
          },
          {
            "text": "  }",
            "lineNumber": 280
          },
          {
            "text": "  ",
            "lineNumber": 281
          },
          {
            "text": "  // 状態を更新",
            "lineNumber": 282
          },
          {
            "text": "  await applicationModel.updateMonthlyApprovalStatus(employeeId, targetYearMonth, 'NOT_SUBMITTED');",
            "lineNumber": 283
          },
          {
            "text": "  ",
            "lineNumber": 284
          },
          {
            "text": "  // 履歴を追加",
            "lineNumber": 285
          },
          {
            "text": "  const nextSeq = await applicationModel.getNextSeqNo(employeeId, targetYearMonth);",
            "lineNumber": 286
          },
          {
            "text": "  await applicationModel.createMonthlyApprovalHistory({",
            "lineNumber": 287
          },
          {
            "text": "    employeeId,",
            "lineNumber": 288
          },
          {
            "text": "    targetYearMonth,",
            "lineNumber": 289
          },
          {
            "text": "    seqNo: nextSeq,",
            "lineNumber": 290
          },
          {
            "text": "    actionType: 'CANCEL',",
            "lineNumber": 291
          },
          {
            "text": "    actorId: employeeId,",
            "lineNumber": 292
          },
          {
            "text": "    comment: '申請を取り消しました'",
            "lineNumber": 293
          },
          {
            "text": "  });",
            "lineNumber": 294
          },
          {
            "text": "};",
            "lineNumber": 295
          },
          {
            "lineNumber": 296
          },
          {
            "text": "/**",
            "lineNumber": 297
          },
          {
            "text": " * 申請を取り消す",
            "lineNumber": 298
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 299
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 300
          },
          {
            "text": " * @param {string|number} applicationId - 申請ID",
            "lineNumber": 301
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）",
            "lineNumber": 302
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 303
          },
          {
            "text": " */",
            "lineNumber": 304
          }
        ]
      },
      "score": 0.3971637487411499
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1259
          },
          "endPosition": {
            "line": 1285
          }
        },
        "contents": "- 関連する取得仕様\n  - なし\n- その他\n  - 休暇申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 申請取消後、VACATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.15\n- API仕様名：休日出勤申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/holiday-work | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | APPLICATION_ID | 申請ID | リクエストボディ |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 休日出勤申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1260
          },
          {
            "text": "  - なし",
            "lineNumber": 1261
          },
          {
            "text": "- その他",
            "lineNumber": 1262
          },
          {
            "text": "  - 休暇申請を取り消す",
            "lineNumber": 1263
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1264
          },
          {
            "text": "  - 申請取消後、VACATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1265
          },
          {
            "lineNumber": 1266
          },
          {
            "text": "#### No.15",
            "lineNumber": 1267
          },
          {
            "text": "- API仕様名：休日出勤申請取消API",
            "lineNumber": 1268
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1269
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1270
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1271
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1272
          },
          {
            "text": "  | エンドポイント | /api/attendance/holiday-work | |",
            "lineNumber": 1273
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1274
          },
          {
            "text": "  | APPLICATION_ID | 申請ID | リクエストボディ |",
            "lineNumber": 1275
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1276
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1277
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1278
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1279
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1280
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1281
          },
          {
            "text": "  - なし",
            "lineNumber": 1282
          },
          {
            "text": "- その他",
            "lineNumber": 1283
          },
          {
            "text": "  - 休日出勤申請を取り消す",
            "lineNumber": 1284
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1285
          }
        ]
      },
      "score": 0.39636099338531494
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 600
          },
          "endPosition": {
            "line": 630
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休日出勤申請取消\n     - API利用仕様に従い、休日出勤申請を取り消す。\n     - 【API利用仕様 No.15（休日出勤申請取消API）】\n     - 申請取消時に、その日の全ての勤怠データが削除される。\n       - 打刻時刻（出社時刻、退社時刻）が削除される。\n       - 休憩時間（BREAK_TIME）が削除される。\n       - 公用外出（OFFICIAL_OUTING）が削除される。\n       - 工数実績（WORK_HOURS）が削除される。\n       - 勤怠記録の備考（ATTENDANCE_RECORD.REMARK_TEXT）が削除される。\n       - 休日出勤申請の備考（APPLICATION_HISTORY.REASON）がクリアされる。\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n     - 該当日の勤怠データが全て削除され、元の状態（データなし）に戻る。\n\n#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 601
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 602
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 603
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 604
          },
          {
            "text": "   - 休日出勤申請取消",
            "lineNumber": 605
          },
          {
            "text": "     - API利用仕様に従い、休日出勤申請を取り消す。",
            "lineNumber": 606
          },
          {
            "text": "     - 【API利用仕様 No.15（休日出勤申請取消API）】",
            "lineNumber": 607
          },
          {
            "text": "     - 申請取消時に、その日の全ての勤怠データが削除される。",
            "lineNumber": 608
          },
          {
            "text": "       - 打刻時刻（出社時刻、退社時刻）が削除される。",
            "lineNumber": 609
          },
          {
            "text": "       - 休憩時間（BREAK_TIME）が削除される。",
            "lineNumber": 610
          },
          {
            "text": "       - 公用外出（OFFICIAL_OUTING）が削除される。",
            "lineNumber": 611
          },
          {
            "text": "       - 工数実績（WORK_HOURS）が削除される。",
            "lineNumber": 612
          },
          {
            "text": "       - 勤怠記録の備考（ATTENDANCE_RECORD.REMARK_TEXT）が削除される。",
            "lineNumber": 613
          },
          {
            "text": "       - 休日出勤申請の備考（APPLICATION_HISTORY.REASON）がクリアされる。",
            "lineNumber": 614
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 615
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 616
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 617
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 618
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 619
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 620
          },
          {
            "text": "     - 該当日の勤怠データが全て削除され、元の状態（データなし）に戻る。",
            "lineNumber": 621
          },
          {
            "lineNumber": 622
          },
          {
            "text": "#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下",
            "lineNumber": 623
          },
          {
            "lineNumber": 624
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 625
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 626
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 627
          },
          {
            "lineNumber": 628
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 629
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 630
          }
        ]
      },
      "score": 0.39339756965637207
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 224,
            "column": 2
          },
          "endPosition": {
            "line": 280,
            "column": 1
          }
        },
        "contents": "/**\n * 月次確定申請取消\n */\nconst cancelMonthlyApproval = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, year, month } = req.body;\n    \n    if (!employeeId || !year || !month) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員ID、年、月が必要です。'\n      });\n    }\n    \n    await applicationService.cancelMonthlyApproval(employeeId, parseInt(year), parseInt(month));\n    \n    res.json({\n      success: true,\n      message: '月次確定申請を取り消しました。'\n    });\n  } catch (error) {\n    if (error.message.includes('申請中の月次確定のみ')) {\n      return res.status(400).json({\n        success: false,\n        message: error.message\n      });\n    }\n    next(error);\n  }\n};\n\n/**\n * 休暇情報取得\n */\nconst getVacationInfo = async (req, res, next)\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 227
          },
          {
            "text": " * 月次確定申請取消",
            "lineNumber": 228
          },
          {
            "text": " */",
            "lineNumber": 229
          },
          {
            "text": "const cancelMonthlyApproval = async (req, res, next) =&gt; {",
            "lineNumber": 230
          },
          {
            "text": "  try {",
            "lineNumber": 231
          },
          {
            "text": "    const { employeeId, year, month } = req.body;",
            "lineNumber": 232
          },
          {
            "text": "    ",
            "lineNumber": 233
          },
          {
            "text": "    if (!employeeId || !year || !month) {",
            "lineNumber": 234
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 235
          },
          {
            "text": "        success: false,",
            "lineNumber": 236
          },
          {
            "text": "        message: '従業員ID、年、月が必要です。'",
            "lineNumber": 237
          },
          {
            "text": "      });",
            "lineNumber": 238
          },
          {
            "text": "    }",
            "lineNumber": 239
          },
          {
            "text": "    ",
            "lineNumber": 240
          },
          {
            "text": "    await applicationService.cancelMonthlyApproval(employeeId, parseInt(year), parseInt(month));",
            "lineNumber": 241
          },
          {
            "text": "    ",
            "lineNumber": 242
          },
          {
            "text": "    res.json({",
            "lineNumber": 243
          },
          {
            "text": "      success: true,",
            "lineNumber": 244
          },
          {
            "text": "      message: '月次確定申請を取り消しました。'",
            "lineNumber": 245
          },
          {
            "text": "    });",
            "lineNumber": 246
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 247
          },
          {
            "text": "    if (error.message.includes('申請中の月次確定のみ')) {",
            "lineNumber": 248
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 249
          },
          {
            "text": "        success: false,",
            "lineNumber": 250
          },
          {
            "text": "        message: error.message",
            "lineNumber": 251
          },
          {
            "text": "      });",
            "lineNumber": 252
          },
          {
            "text": "    }",
            "lineNumber": 253
          },
          {
            "text": "    next(error);",
            "lineNumber": 254
          },
          {
            "text": "  }",
            "lineNumber": 255
          },
          {
            "text": "};",
            "lineNumber": 256
          },
          {
            "lineNumber": 257
          },
          {
            "text": "/**",
            "lineNumber": 258
          },
          {
            "text": " * 休暇情報取得",
            "lineNumber": 259
          },
          {
            "text": " */",
            "lineNumber": 260
          },
          {
            "text": "const getVacationInfo = async (req, res, next)",
            "lineNumber": 261
          },
          {
            "text": ";",
            "lineNumber": 281
          }
        ]
      },
      "score": 0.38416385650634766
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2615
          },
          "endPosition": {
            "line": 2685
          }
        },
        "contents": "    async executeCancelApplication(applicationType) {\n      if (!applicationType) return\n      \n      // applicationIdが取得されていない場合は、申請状態を取得\n      if (!this.applicationIds[applicationType]) {\n        await this.loadApplicationStatus(applicationType)\n      }\n      \n      this.loading = true\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        const applicationId = this.applicationIds[applicationType]\n        \n        const response = await cancelApplication(\n          this.employeeId,\n          apiType,\n          applicationId,\n          applicationType === 'dailyConfirmation' ? this.targetDate : null\n        )\n        \n        if (response.success) {\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(response.message || '申請取消に失敗しました')\n        }\n      } catch (error) {\n        console.error('申請取消エラー:', error)\n        this.showError(error.message || '申請取消中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n  },\n  \n  beforeUnmount() {\n    // コンポーネント破棄時にスクロールをアンロック\n    document.body.style.overflow = ''\n  }\n}\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n}\n\n.dialog-container {\n  position: relative;\n  width: 710px;\n  height: 396px;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async executeCancelApplication(applicationType) {",
            "lineNumber": 2616
          },
          {
            "text": "      if (!applicationType) return",
            "lineNumber": 2617
          },
          {
            "text": "      ",
            "lineNumber": 2618
          },
          {
            "text": "      // applicationIdが取得されていない場合は、申請状態を取得",
            "lineNumber": 2619
          },
          {
            "text": "      if (!this.applicationIds[applicationType]) {",
            "lineNumber": 2620
          },
          {
            "text": "        await this.loadApplicationStatus(applicationType)",
            "lineNumber": 2621
          },
          {
            "text": "      }",
            "lineNumber": 2622
          },
          {
            "text": "      ",
            "lineNumber": 2623
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2624
          },
          {
            "text": "      try {",
            "lineNumber": 2625
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 2626
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 2627
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 2628
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 2629
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 2630
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 2631
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 2632
          },
          {
            "text": "        }",
            "lineNumber": 2633
          },
          {
            "text": "        ",
            "lineNumber": 2634
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 2635
          },
          {
            "text": "        const applicationId = this.applicationIds[applicationType]",
            "lineNumber": 2636
          },
          {
            "text": "        ",
            "lineNumber": 2637
          },
          {
            "text": "        const response = await cancelApplication(",
            "lineNumber": 2638
          },
          {
            "text": "          this.employeeId,",
            "lineNumber": 2639
          },
          {
            "text": "          apiType,",
            "lineNumber": 2640
          },
          {
            "text": "          applicationId,",
            "lineNumber": 2641
          },
          {
            "text": "          applicationType === 'dailyConfirmation' ? this.targetDate : null",
            "lineNumber": 2642
          },
          {
            "text": "        )",
            "lineNumber": 2643
          },
          {
            "text": "        ",
            "lineNumber": 2644
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 2645
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2646
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2647
          },
          {
            "text": "        } else {",
            "lineNumber": 2648
          },
          {
            "text": "          this.showError(response.message || '申請取消に失敗しました')",
            "lineNumber": 2649
          },
          {
            "text": "        }",
            "lineNumber": 2650
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2651
          },
          {
            "text": "        console.error('申請取消エラー:', error)",
            "lineNumber": 2652
          },
          {
            "text": "        this.showError(error.message || '申請取消中にエラーが発生しました')",
            "lineNumber": 2653
          },
          {
            "text": "      } finally {",
            "lineNumber": 2654
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2655
          },
          {
            "text": "      }",
            "lineNumber": 2656
          },
          {
            "text": "    },",
            "lineNumber": 2657
          },
          {
            "text": "    ",
            "lineNumber": 2658
          },
          {
            "text": "  },",
            "lineNumber": 2659
          },
          {
            "text": "  ",
            "lineNumber": 2660
          },
          {
            "text": "  beforeUnmount() {",
            "lineNumber": 2661
          },
          {
            "text": "    // コンポーネント破棄時にスクロールをアンロック",
            "lineNumber": 2662
          },
          {
            "text": "    document.body.style.overflow = ''",
            "lineNumber": 2663
          },
          {
            "text": "  }",
            "lineNumber": 2664
          },
          {
            "text": "}",
            "lineNumber": 2665
          },
          {
            "text": "&lt;/script&gt;",
            "lineNumber": 2666
          },
          {
            "lineNumber": 2667
          },
          {
            "text": "&lt;style scoped&gt;",
            "lineNumber": 2668
          },
          {
            "text": ".dialog-overlay {",
            "lineNumber": 2669
          },
          {
            "text": "  position: fixed;",
            "lineNumber": 2670
          },
          {
            "text": "  top: 0;",
            "lineNumber": 2671
          },
          {
            "text": "  left: 0;",
            "lineNumber": 2672
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 2673
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 2674
          },
          {
            "text": "  background-color: rgba(0, 0, 0, 0.5);",
            "lineNumber": 2675
          },
          {
            "text": "  display: flex;",
            "lineNumber": 2676
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 2677
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 2678
          },
          {
            "text": "  z-index: 10000;",
            "lineNumber": 2679
          },
          {
            "text": "}",
            "lineNumber": 2680
          },
          {
            "lineNumber": 2681
          },
          {
            "text": ".dialog-container {",
            "lineNumber": 2682
          },
          {
            "text": "  position: relative;",
            "lineNumber": 2683
          },
          {
            "text": "  width: 710px;",
            "lineNumber": 2684
          },
          {
            "text": "  height: 396px;",
            "lineNumber": 2685
          }
        ]
      },
      "score": 0.38180863857269287
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 572
          },
          "endPosition": {
            "line": 602
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休暇申請取消\n     - API利用仕様に従い、休暇申請を取り消す。\n     - 【API利用仕様 No.14（休暇申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。\n\n#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 573
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 574
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 575
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 576
          },
          {
            "text": "   - 休暇申請取消",
            "lineNumber": 577
          },
          {
            "text": "     - API利用仕様に従い、休暇申請を取り消す。",
            "lineNumber": 578
          },
          {
            "text": "     - 【API利用仕様 No.14（休暇申請取消API）】",
            "lineNumber": 579
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 580
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 581
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 582
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 583
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 584
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。",
            "lineNumber": 585
          },
          {
            "lineNumber": 586
          },
          {
            "text": "#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下",
            "lineNumber": 587
          },
          {
            "lineNumber": 588
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 589
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 590
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 591
          },
          {
            "lineNumber": 592
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 593
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 594
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 595
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 596
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 597
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 598
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 599
          },
          {
            "lineNumber": 600
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 601
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 602
          }
        ]
      },
      "score": 0.38065239787101746
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1308
          },
          "endPosition": {
            "line": 1352
          }
        },
        "contents": "- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/overtime | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | APPLICATION_ID | 申請ID | リクエストボディ |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 残業申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.17\n- API仕様名：早朝勤務申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | DELETE | |\n  | エンドポイント | /api/attendance/early-work | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |\n  | APPLICATION_ID | 申請ID | リクエストボディ |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 成功フラグ | 成功/失敗 | true/false |\n  | メッセージ | 処理結果メッセージ | |\n- 関連する取得仕様\n  - なし\n- その他\n  - 早朝勤務申請を取り消す\n  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能\n  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される\n\n#### No.18\n- API仕様名：振替申請取消API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- リクエスト",
            "lineNumber": 1309
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1310
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1311
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1312
          },
          {
            "text": "  | エンドポイント | /api/attendance/overtime | |",
            "lineNumber": 1313
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1314
          },
          {
            "text": "  | APPLICATION_ID | 申請ID | リクエストボディ |",
            "lineNumber": 1315
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1316
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1317
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1318
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1319
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1320
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1321
          },
          {
            "text": "  - なし",
            "lineNumber": 1322
          },
          {
            "text": "- その他",
            "lineNumber": 1323
          },
          {
            "text": "  - 残業申請を取り消す",
            "lineNumber": 1324
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1325
          },
          {
            "text": "  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1326
          },
          {
            "lineNumber": 1327
          },
          {
            "text": "#### No.17",
            "lineNumber": 1328
          },
          {
            "text": "- API仕様名：早朝勤務申請取消API",
            "lineNumber": 1329
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1330
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1331
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1332
          },
          {
            "text": "  | HTTPメソッド | DELETE | |",
            "lineNumber": 1333
          },
          {
            "text": "  | エンドポイント | /api/attendance/early-work | |",
            "lineNumber": 1334
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |",
            "lineNumber": 1335
          },
          {
            "text": "  | APPLICATION_ID | 申請ID | リクエストボディ |",
            "lineNumber": 1336
          },
          {
            "text": "- レスポンス",
            "lineNumber": 1337
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 1338
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 1339
          },
          {
            "text": "  | 成功フラグ | 成功/失敗 | true/false |",
            "lineNumber": 1340
          },
          {
            "text": "  | メッセージ | 処理結果メッセージ | |",
            "lineNumber": 1341
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 1342
          },
          {
            "text": "  - なし",
            "lineNumber": 1343
          },
          {
            "text": "- その他",
            "lineNumber": 1344
          },
          {
            "text": "  - 早朝勤務申請を取り消す",
            "lineNumber": 1345
          },
          {
            "text": "  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能",
            "lineNumber": 1346
          },
          {
            "text": "  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される",
            "lineNumber": 1347
          },
          {
            "lineNumber": 1348
          },
          {
            "text": "#### No.18",
            "lineNumber": 1349
          },
          {
            "text": "- API仕様名：振替申請取消API",
            "lineNumber": 1350
          },
          {
            "text": "- リクエスト",
            "lineNumber": 1351
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 1352
          }
        ]
      },
      "score": 0.37504470348358154
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\attendanceService.js",
        "range": {
          "startPosition": {
            "line": 625,
            "column": 2
          },
          "endPosition": {
            "line": 677,
            "column": 3
          }
        },
        "contents": "/**\n * 日次確定申請を取り消す。\n *\n * @param {string} employeeId 従業員ID\n * @param {string} workDate 勤務日（YYYY-MM-DD形式）\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelDailyConfirmation = async (employeeId, workDate) =&gt; {\n  const attendance = await attendanceModel.getAttendanceDetail(employeeId, workDate);\n  \n  if (!attendance) {\n    throw new Error('勤怠記録が見つかりません。');\n  }\n\n  const now = getNow();\n  await attendanceModel.updateAttendance(attendance.ATTENDANCE_ID, {\n    isDailyConfirmed: false,\n    dailyConfirmedAt: null,\n    approvalStatus: 'NOT_SUBMITTED',\n    updatedAt: now\n  });\n  \n  // APPLICATION_HISTORYテーブルの最新の申請をNOT_SUBMITTEDに更新\n  const updateQuery = &#96;\n    UPDATE APPLICATION_HISTORY\n    SET APPROVAL_STATUS = 'NOT_SUBMITTED',\n        UPDATED_AT = ?\n    WHERE APPLICATION_ID = (\n      SELECT APPLICATION_ID FROM (\n        SELECT APPLICATION_ID\n        FROM APPLICATION_HISTORY\n        WHERE EMPLOYEE_ID = ?\n          AND APPLICATION_TYPE = 'DAILY_CONFIRMATION'\n          AND TARGET_START_DATE = ?\n          AND TARGET_END_DATE = ?\n          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n        ORDER BY CREATED_AT DESC\n        LIMIT 1\n      ) AS sub\n    )\n  &#96;;\n  await db.execute(updateQuery, [now, employeeId, workDate, workDate]);\n};\n\n/**\n * 当月時間外残業時間を取得（法定時間外残業）\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;number&gt;} 時間外残業時間（時間単位、小数）\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 628
          },
          {
            "text": " * 日次確定申請を取り消す。",
            "lineNumber": 629
          },
          {
            "text": " *",
            "lineNumber": 630
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 631
          },
          {
            "text": " * @param {string} workDate 勤務日（YYYY-MM-DD形式）",
            "lineNumber": 632
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 633
          },
          {
            "text": " */",
            "lineNumber": 634
          },
          {
            "text": "const cancelDailyConfirmation = async (employeeId, workDate) =&gt; {",
            "lineNumber": 635
          },
          {
            "text": "  const attendance = await attendanceModel.getAttendanceDetail(employeeId, workDate);",
            "lineNumber": 636
          },
          {
            "text": "  ",
            "lineNumber": 637
          },
          {
            "text": "  if (!attendance) {",
            "lineNumber": 638
          },
          {
            "text": "    throw new Error('勤怠記録が見つかりません。');",
            "lineNumber": 639
          },
          {
            "text": "  }",
            "lineNumber": 640
          },
          {
            "lineNumber": 641
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 642
          },
          {
            "text": "  await attendanceModel.updateAttendance(attendance.ATTENDANCE_ID, {",
            "lineNumber": 643
          },
          {
            "text": "    isDailyConfirmed: false,",
            "lineNumber": 644
          },
          {
            "text": "    dailyConfirmedAt: null,",
            "lineNumber": 645
          },
          {
            "text": "    approvalStatus: 'NOT_SUBMITTED',",
            "lineNumber": 646
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 647
          },
          {
            "text": "  });",
            "lineNumber": 648
          },
          {
            "text": "  ",
            "lineNumber": 649
          },
          {
            "text": "  // APPLICATION_HISTORYテーブルの最新の申請をNOT_SUBMITTEDに更新",
            "lineNumber": 650
          },
          {
            "text": "  const updateQuery = &#96;",
            "lineNumber": 651
          },
          {
            "text": "    UPDATE APPLICATION_HISTORY",
            "lineNumber": 652
          },
          {
            "text": "    SET APPROVAL_STATUS = 'NOT_SUBMITTED',",
            "lineNumber": 653
          },
          {
            "text": "        UPDATED_AT = ?",
            "lineNumber": 654
          },
          {
            "text": "    WHERE APPLICATION_ID = (",
            "lineNumber": 655
          },
          {
            "text": "      SELECT APPLICATION_ID FROM (",
            "lineNumber": 656
          },
          {
            "text": "        SELECT APPLICATION_ID",
            "lineNumber": 657
          },
          {
            "text": "        FROM APPLICATION_HISTORY",
            "lineNumber": 658
          },
          {
            "text": "        WHERE EMPLOYEE_ID = ?",
            "lineNumber": 659
          },
          {
            "text": "          AND APPLICATION_TYPE = 'DAILY_CONFIRMATION'",
            "lineNumber": 660
          },
          {
            "text": "          AND TARGET_START_DATE = ?",
            "lineNumber": 661
          },
          {
            "text": "          AND TARGET_END_DATE = ?",
            "lineNumber": 662
          },
          {
            "text": "          AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 663
          },
          {
            "text": "        ORDER BY CREATED_AT DESC",
            "lineNumber": 664
          },
          {
            "text": "        LIMIT 1",
            "lineNumber": 665
          },
          {
            "text": "      ) AS sub",
            "lineNumber": 666
          },
          {
            "text": "    )",
            "lineNumber": 667
          },
          {
            "text": "  &#96;;",
            "lineNumber": 668
          },
          {
            "text": "  await db.execute(updateQuery, [now, employeeId, workDate, workDate]);",
            "lineNumber": 669
          },
          {
            "text": "};",
            "lineNumber": 670
          },
          {
            "lineNumber": 671
          },
          {
            "text": "/**",
            "lineNumber": 672
          },
          {
            "text": " * 当月時間外残業時間を取得（法定時間外残業）",
            "lineNumber": 673
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 674
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 675
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 676
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 時間外残業時間（時間単位、小数）",
            "lineNumber": 677
          },
          {
            "text": " */",
            "lineNumber": 678
          }
        ]
      },
      "score": 0.3638589382171631
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1689
          },
          "endPosition": {
            "line": 1719
          }
        },
        "contents": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化\n\n**注意事項**:\n- 振替申請ボタンは休日でも常に活性状態を維持します\n- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です\n- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります\n\n### 申請取り消し機能\n\n申請中または承認済みの申請を取り消すことができます。\n\n#### 申請取消ボタンの表示条件\n- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます\n- 申請取消ボタンは赤色のボタンで表示されます\n- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります\n\n#### 申請取り消しの手順\n1. 申請中または承認済みの申請タイプのタブを開く\n2. 「申請取消」ボタンをクリックする\n3. 申請取消確認ダイアログが表示される\n   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される\n   - 申請日時が表示される\n   - 状況（申請済みまたは承認済み）が表示される\n   - 承認履歴テーブルが表示される\n4. 「承認取消」ボタンをクリックする\n5. 申請が取り消され、申請前の状態に戻る\n\n#### 申請取り消しの制約\n- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません\n- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化",
            "lineNumber": 1690
          },
          {
            "lineNumber": 1691
          },
          {
            "text": "**注意事項**:",
            "lineNumber": 1692
          },
          {
            "text": "- 振替申請ボタンは休日でも常に活性状態を維持します",
            "lineNumber": 1693
          },
          {
            "text": "- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です",
            "lineNumber": 1694
          },
          {
            "text": "- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります",
            "lineNumber": 1695
          },
          {
            "lineNumber": 1696
          },
          {
            "text": "### 申請取り消し機能",
            "lineNumber": 1697
          },
          {
            "lineNumber": 1698
          },
          {
            "text": "申請中または承認済みの申請を取り消すことができます。",
            "lineNumber": 1699
          },
          {
            "lineNumber": 1700
          },
          {
            "text": "#### 申請取消ボタンの表示条件",
            "lineNumber": 1701
          },
          {
            "text": "- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます",
            "lineNumber": 1702
          },
          {
            "text": "- 申請取消ボタンは赤色のボタンで表示されます",
            "lineNumber": 1703
          },
          {
            "text": "- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります",
            "lineNumber": 1704
          },
          {
            "lineNumber": 1705
          },
          {
            "text": "#### 申請取り消しの手順",
            "lineNumber": 1706
          },
          {
            "text": "1. 申請中または承認済みの申請タイプのタブを開く",
            "lineNumber": 1707
          },
          {
            "text": "2. 「申請取消」ボタンをクリックする",
            "lineNumber": 1708
          },
          {
            "text": "3. 申請取消確認ダイアログが表示される",
            "lineNumber": 1709
          },
          {
            "text": "   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される",
            "lineNumber": 1710
          },
          {
            "text": "   - 申請日時が表示される",
            "lineNumber": 1711
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）が表示される",
            "lineNumber": 1712
          },
          {
            "text": "   - 承認履歴テーブルが表示される",
            "lineNumber": 1713
          },
          {
            "text": "4. 「承認取消」ボタンをクリックする",
            "lineNumber": 1714
          },
          {
            "text": "5. 申請が取り消され、申請前の状態に戻る",
            "lineNumber": 1715
          },
          {
            "lineNumber": 1716
          },
          {
            "text": "#### 申請取り消しの制約",
            "lineNumber": 1717
          },
          {
            "text": "- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません",
            "lineNumber": 1718
          },
          {
            "text": "- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
            "lineNumber": 1719
          }
        ]
      },
      "score": 0.36265915632247925
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1771
          },
          "endPosition": {
            "line": 1777
          }
        },
        "contents": "| 2025-12-20 | 休日出勤申請承認申請ボタン押下後の動作を明確化。申請成功後、勤務表画面で申請中のマーク（↑マーク）が表示され、土日祝でも出社・退社・勤務場所のテキストボックスが表示され編集可能になる仕様を追加。標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示される仕様を追加。グラフの色について、土曜日または祝日（所定休日）は法定時間内残業と同じ色（#B0B000）、日曜日（法定休日）は#DE9EDDに変更 | AI Assistant |\n| 2025-12-20 | 代休申請の仕様を追加。休暇申請フォームに「代休取得可能日数」の項目を追加。代休は休日出勤申請を行っている場合のみ休暇種類のプルダウンに表示される仕様を追加。代休取得可能日数の表示ロジック、代休取得の期限（休日勤務した日の翌月末まで）、代休申請の手順を追加 | AI Assistant |\n| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |\n| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |\n| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |\n| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 2025-12-20 | 休日出勤申請承認申請ボタン押下後の動作を明確化。申請成功後、勤務表画面で申請中のマーク（↑マーク）が表示され、土日祝でも出社・退社・勤務場所のテキストボックスが表示され編集可能になる仕様を追加。標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示される仕様を追加。グラフの色について、土曜日または祝日（所定休日）は法定時間内残業と同じ色（#B0B000）、日曜日（法定休日）は#DE9EDDに変更 | AI Assistant |",
            "lineNumber": 1772
          },
          {
            "text": "| 2025-12-20 | 代休申請の仕様を追加。休暇申請フォームに「代休取得可能日数」の項目を追加。代休は休日出勤申請を行っている場合のみ休暇種類のプルダウンに表示される仕様を追加。代休取得可能日数の表示ロジック、代休取得の期限（休日勤務した日の翌月末まで）、代休申請の手順を追加 | AI Assistant |",
            "lineNumber": 1773
          },
          {
            "text": "| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |",
            "lineNumber": 1774
          },
          {
            "text": "| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |",
            "lineNumber": 1775
          },
          {
            "text": "| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |",
            "lineNumber": 1776
          },
          {
            "text": "| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |",
            "lineNumber": 1777
          }
        ]
      },
      "score": 0.36194780468940735
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 683,
            "column": 2
          },
          "endPosition": {
            "line": 712,
            "column": 3
          }
        },
        "contents": "/**\n * 有給休暇の残日数を戻す（申請取り消し時）\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @param {number} vacationDays - 取り消し日数\n * @param {number} fiscalYear - 年度\n * @returns {Promise&lt;void&gt;}\n */\nconst increaseVacationBalance = async (employeeId, vacationTypeCode, vacationDays, fiscalYear) =&gt; {\n  // MySQLでは、SET句で同じカラムを参照する場合、更新後の値を使用する\n  const query = &#96;\n    UPDATE VACATION_BALANCE\n    SET USED_DAYS = GREATEST(USED_DAYS - ?, 0),\n        REMAINING_DAYS = GRANTED_DAYS - GREATEST(USED_DAYS - ?, 0),\n        UPDATED_AT = NOW()\n    WHERE EMPLOYEE_ID = ?\n      AND VACATION_TYPE_CODE = ?\n      AND FISCAL_YEAR = ?\n  &#96;;\n  \n  await db.execute(query, [vacationDays, vacationDays, employeeId, vacationTypeCode, fiscalYear]);\n};\n\n/**\n * 休暇申請情報を取得（申請取り消し時に使用）\n * @param {number} vacationId - 休暇申請ID\n * @returns {Promise&lt;Object|null&gt;} 休暇申請情報\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 686
          },
          {
            "text": " * 有給休暇の残日数を戻す（申請取り消し時）",
            "lineNumber": 687
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 688
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 689
          },
          {
            "text": " * @param {number} vacationDays - 取り消し日数",
            "lineNumber": 690
          },
          {
            "text": " * @param {number} fiscalYear - 年度",
            "lineNumber": 691
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 692
          },
          {
            "text": " */",
            "lineNumber": 693
          },
          {
            "text": "const increaseVacationBalance = async (employeeId, vacationTypeCode, vacationDays, fiscalYear) =&gt; {",
            "lineNumber": 694
          },
          {
            "text": "  // MySQLでは、SET句で同じカラムを参照する場合、更新後の値を使用する",
            "lineNumber": 695
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 696
          },
          {
            "text": "    UPDATE VACATION_BALANCE",
            "lineNumber": 697
          },
          {
            "text": "    SET USED_DAYS = GREATEST(USED_DAYS - ?, 0),",
            "lineNumber": 698
          },
          {
            "text": "        REMAINING_DAYS = GRANTED_DAYS - GREATEST(USED_DAYS - ?, 0),",
            "lineNumber": 699
          },
          {
            "text": "        UPDATED_AT = NOW()",
            "lineNumber": 700
          },
          {
            "text": "    WHERE EMPLOYEE_ID = ?",
            "lineNumber": 701
          },
          {
            "text": "      AND VACATION_TYPE_CODE = ?",
            "lineNumber": 702
          },
          {
            "text": "      AND FISCAL_YEAR = ?",
            "lineNumber": 703
          },
          {
            "text": "  &#96;;",
            "lineNumber": 704
          },
          {
            "text": "  ",
            "lineNumber": 705
          },
          {
            "text": "  await db.execute(query, [vacationDays, vacationDays, employeeId, vacationTypeCode, fiscalYear]);",
            "lineNumber": 706
          },
          {
            "text": "};",
            "lineNumber": 707
          },
          {
            "lineNumber": 708
          },
          {
            "text": "/**",
            "lineNumber": 709
          },
          {
            "text": " * 休暇申請情報を取得（申請取り消し時に使用）",
            "lineNumber": 710
          },
          {
            "text": " * @param {number} vacationId - 休暇申請ID",
            "lineNumber": 711
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 休暇申請情報",
            "lineNumber": 712
          },
          {
            "text": " */",
            "lineNumber": 713
          }
        ]
      },
      "score": 0.3588983118534088
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1485
          },
          "endPosition": {
            "line": 1513
          }
        },
        "contents": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます\n- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）\n- 表示スタイル: 赤い点線のボックスで表示されます\n\n##### 代休取得の期限\n- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります\n- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります\n\n##### 代休申請の手順\n1. [休暇申請] タブを選択します\n2. 休暇種類のプルダウンから [代休] を選択します\n3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）\n4. 期間（開始日・終了日）を指定します\n5. 備考や連絡先を入力します（任意）\n6. [承認申請] ボタンをクリックして申請を送信します\n\n#### 申請後の動作\n- 承認申請ボタンを押下すると、休暇申請が送信されます\n- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます\n- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**\n  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します\n  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）\n- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます\n\n#### 申請取り消し時の動作\n- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます\n  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます",
            "lineNumber": 1486
          },
          {
            "text": "- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
            "lineNumber": 1487
          },
          {
            "text": "- 表示スタイル: 赤い点線のボックスで表示されます",
            "lineNumber": 1488
          },
          {
            "lineNumber": 1489
          },
          {
            "text": "##### 代休取得の期限",
            "lineNumber": 1490
          },
          {
            "text": "- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります",
            "lineNumber": 1491
          },
          {
            "text": "- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります",
            "lineNumber": 1492
          },
          {
            "lineNumber": 1493
          },
          {
            "text": "##### 代休申請の手順",
            "lineNumber": 1494
          },
          {
            "text": "1. [休暇申請] タブを選択します",
            "lineNumber": 1495
          },
          {
            "text": "2. 休暇種類のプルダウンから [代休] を選択します",
            "lineNumber": 1496
          },
          {
            "text": "3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）",
            "lineNumber": 1497
          },
          {
            "text": "4. 期間（開始日・終了日）を指定します",
            "lineNumber": 1498
          },
          {
            "text": "5. 備考や連絡先を入力します（任意）",
            "lineNumber": 1499
          },
          {
            "text": "6. [承認申請] ボタンをクリックして申請を送信します",
            "lineNumber": 1500
          },
          {
            "lineNumber": 1501
          },
          {
            "text": "#### 申請後の動作",
            "lineNumber": 1502
          },
          {
            "text": "- 承認申請ボタンを押下すると、休暇申請が送信されます",
            "lineNumber": 1503
          },
          {
            "text": "- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます",
            "lineNumber": 1504
          },
          {
            "text": "- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**",
            "lineNumber": 1505
          },
          {
            "text": "  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します",
            "lineNumber": 1506
          },
          {
            "text": "  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）",
            "lineNumber": 1507
          },
          {
            "text": "- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます",
            "lineNumber": 1508
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます",
            "lineNumber": 1509
          },
          {
            "lineNumber": 1510
          },
          {
            "text": "#### 申請取り消し時の動作",
            "lineNumber": 1511
          },
          {
            "text": "- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます",
            "lineNumber": 1512
          },
          {
            "text": "  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します",
            "lineNumber": 1513
          }
        ]
      },
      "score": 0.3581523001194
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\attendanceController.js",
        "range": {
          "startPosition": {
            "line": 153,
            "column": 2
          },
          "endPosition": {
            "line": 186,
            "column": 25
          }
        },
        "contents": "/**\n * 日次確定申請を取り消す。\n *\n * @param {Object} req リクエストオブジェクト\n * @param {Object} res レスポンスオブジェクト\n * @param {Function} next 次のミドルウェア関数\n */\nconst cancelDailyConfirmation = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, workDate } = req.body;\n    \n    if (!employeeId || !workDate) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員IDと勤務日が必要です。'\n      });\n    }\n    \n    await attendanceService.cancelDailyConfirmation(employeeId, workDate);\n    \n    res.json({\n      success: true,\n      message: '日次確定申請を取り消しました。'\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\nmodule.exports = {\n  getDailyAttendance,\n  updateAttendanceRecord,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 156
          },
          {
            "text": " * 日次確定申請を取り消す。",
            "lineNumber": 157
          },
          {
            "text": " *",
            "lineNumber": 158
          },
          {
            "text": " * @param {Object} req リクエストオブジェクト",
            "lineNumber": 159
          },
          {
            "text": " * @param {Object} res レスポンスオブジェクト",
            "lineNumber": 160
          },
          {
            "text": " * @param {Function} next 次のミドルウェア関数",
            "lineNumber": 161
          },
          {
            "text": " */",
            "lineNumber": 162
          },
          {
            "text": "const cancelDailyConfirmation = async (req, res, next) =&gt; {",
            "lineNumber": 163
          },
          {
            "text": "  try {",
            "lineNumber": 164
          },
          {
            "text": "    const { employeeId, workDate } = req.body;",
            "lineNumber": 165
          },
          {
            "text": "    ",
            "lineNumber": 166
          },
          {
            "text": "    if (!employeeId || !workDate) {",
            "lineNumber": 167
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 168
          },
          {
            "text": "        success: false,",
            "lineNumber": 169
          },
          {
            "text": "        message: '従業員IDと勤務日が必要です。'",
            "lineNumber": 170
          },
          {
            "text": "      });",
            "lineNumber": 171
          },
          {
            "text": "    }",
            "lineNumber": 172
          },
          {
            "text": "    ",
            "lineNumber": 173
          },
          {
            "text": "    await attendanceService.cancelDailyConfirmation(employeeId, workDate);",
            "lineNumber": 174
          },
          {
            "text": "    ",
            "lineNumber": 175
          },
          {
            "text": "    res.json({",
            "lineNumber": 176
          },
          {
            "text": "      success: true,",
            "lineNumber": 177
          },
          {
            "text": "      message: '日次確定申請を取り消しました。'",
            "lineNumber": 178
          },
          {
            "text": "    });",
            "lineNumber": 179
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 180
          },
          {
            "text": "    next(error);",
            "lineNumber": 181
          },
          {
            "text": "  }",
            "lineNumber": 182
          },
          {
            "text": "};",
            "lineNumber": 183
          },
          {
            "lineNumber": 184
          },
          {
            "text": "module.exports = {",
            "lineNumber": 185
          },
          {
            "text": "  getDailyAttendance,",
            "lineNumber": 186
          },
          {
            "text": "  updateAttendanceRecord,",
            "lineNumber": 187
          }
        ]
      },
      "score": 0.3526757061481476
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 56,
            "column": 3
          }
        },
        "contents": "/**\n * 申請サービス\n */\nconst applicationModel = require('../models/applicationModel');\nconst { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');\n\n/**\n * 休暇申請\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst applyVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    reason,\n    contact\n  } = vacationData;\n  \n  // 日数を計算\n  const vacationDays = calculateDays(startDate, endDate);\n  \n  // 有給休暇の場合、残日数チェックと残日数の減算\n  if (vacationTypeCode === 'PAID_LEAVE') {\n    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);\n    if (vacationDays &gt; remainingDays) {\n      throw new Error('有給休暇の残日数が不足しています。');\n    }\n    \n    // 申請時に残日数を減らす\n    const fiscalYear = getFiscalYear(startDate);\n    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);\n  }\n  \n  const now = getNow();\n  \n  return await applicationModel.createVacation({\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo: contact,\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請サービス",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationModel = require('../models/applicationModel');",
            "lineNumber": 4
          },
          {
            "text": "const { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');",
            "lineNumber": 5
          },
          {
            "lineNumber": 6
          },
          {
            "text": "/**",
            "lineNumber": 7
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 8
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 9
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 10
          },
          {
            "text": " */",
            "lineNumber": 11
          },
          {
            "text": "const applyVacation = async (vacationData) =&gt; {",
            "lineNumber": 12
          },
          {
            "text": "  const {",
            "lineNumber": 13
          },
          {
            "text": "    employeeId,",
            "lineNumber": 14
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 15
          },
          {
            "text": "    startDate,",
            "lineNumber": 16
          },
          {
            "text": "    endDate,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contact",
            "lineNumber": 19
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 20
          },
          {
            "text": "  ",
            "lineNumber": 21
          },
          {
            "text": "  // 日数を計算",
            "lineNumber": 22
          },
          {
            "text": "  const vacationDays = calculateDays(startDate, endDate);",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  // 有給休暇の場合、残日数チェックと残日数の減算",
            "lineNumber": 25
          },
          {
            "text": "  if (vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 26
          },
          {
            "text": "    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 27
          },
          {
            "text": "    if (vacationDays &gt; remainingDays) {",
            "lineNumber": 28
          },
          {
            "text": "      throw new Error('有給休暇の残日数が不足しています。');",
            "lineNumber": 29
          },
          {
            "text": "    }",
            "lineNumber": 30
          },
          {
            "text": "    ",
            "lineNumber": 31
          },
          {
            "text": "    // 申請時に残日数を減らす",
            "lineNumber": 32
          },
          {
            "text": "    const fiscalYear = getFiscalYear(startDate);",
            "lineNumber": 33
          },
          {
            "text": "    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);",
            "lineNumber": 34
          },
          {
            "text": "  }",
            "lineNumber": 35
          },
          {
            "text": "  ",
            "lineNumber": 36
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 37
          },
          {
            "text": "  ",
            "lineNumber": 38
          },
          {
            "text": "  return await applicationModel.createVacation({",
            "lineNumber": 39
          },
          {
            "text": "    employeeId,",
            "lineNumber": 40
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 41
          },
          {
            "text": "    startDate,",
            "lineNumber": 42
          },
          {
            "text": "    endDate,",
            "lineNumber": 43
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 44
          },
          {
            "text": "    reason,",
            "lineNumber": 45
          },
          {
            "text": "    contactInfo: contact,",
            "lineNumber": 46
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 47
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 48
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 49
          },
          {
            "text": "  });",
            "lineNumber": 50
          },
          {
            "text": "};",
            "lineNumber": 51
          },
          {
            "lineNumber": 52
          },
          {
            "text": "/**",
            "lineNumber": 53
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 54
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 55
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 56
          },
          {
            "text": " */",
            "lineNumber": 57
          }
        ]
      },
      "score": 0.3515658378601074
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2584
          },
          "endPosition": {
            "line": 2619
          }
        },
        "contents": "    },\n    \n    // 早朝勤務申請取消\n    async cancelEarlyWorkApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('earlyWork')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['earlyWork']) {\n        await this.loadApplicationStatus('earlyWork')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('earlyWork')\n    },\n    \n    // 振替申請取消\n    async cancelTransferApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('transfer')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['transfer']) {\n        await this.loadApplicationStatus('transfer')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('transfer')\n    },\n    \n    // 申請取消を実行\n    async executeCancelApplication(applicationType) {\n      if (!applicationType) return\n      \n      // applicationIdが取得されていない場合は、申請状態を取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    },",
            "lineNumber": 2585
          },
          {
            "text": "    ",
            "lineNumber": 2586
          },
          {
            "text": "    // 早朝勤務申請取消",
            "lineNumber": 2587
          },
          {
            "text": "    async cancelEarlyWorkApplication() {",
            "lineNumber": 2588
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2589
          },
          {
            "text": "      await this.loadApplicationInfo('earlyWork')",
            "lineNumber": 2590
          },
          {
            "text": "      ",
            "lineNumber": 2591
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2592
          },
          {
            "text": "      if (!this.applicationIds['earlyWork']) {",
            "lineNumber": 2593
          },
          {
            "text": "        await this.loadApplicationStatus('earlyWork')",
            "lineNumber": 2594
          },
          {
            "text": "      }",
            "lineNumber": 2595
          },
          {
            "text": "      ",
            "lineNumber": 2596
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2597
          },
          {
            "text": "      await this.executeCancelApplication('earlyWork')",
            "lineNumber": 2598
          },
          {
            "text": "    },",
            "lineNumber": 2599
          },
          {
            "text": "    ",
            "lineNumber": 2600
          },
          {
            "text": "    // 振替申請取消",
            "lineNumber": 2601
          },
          {
            "text": "    async cancelTransferApplication() {",
            "lineNumber": 2602
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2603
          },
          {
            "text": "      await this.loadApplicationInfo('transfer')",
            "lineNumber": 2604
          },
          {
            "text": "      ",
            "lineNumber": 2605
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2606
          },
          {
            "text": "      if (!this.applicationIds['transfer']) {",
            "lineNumber": 2607
          },
          {
            "text": "        await this.loadApplicationStatus('transfer')",
            "lineNumber": 2608
          },
          {
            "text": "      }",
            "lineNumber": 2609
          },
          {
            "text": "      ",
            "lineNumber": 2610
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2611
          },
          {
            "text": "      await this.executeCancelApplication('transfer')",
            "lineNumber": 2612
          },
          {
            "text": "    },",
            "lineNumber": 2613
          },
          {
            "text": "    ",
            "lineNumber": 2614
          },
          {
            "text": "    // 申請取消を実行",
            "lineNumber": 2615
          },
          {
            "text": "    async executeCancelApplication(applicationType) {",
            "lineNumber": 2616
          },
          {
            "text": "      if (!applicationType) return",
            "lineNumber": 2617
          },
          {
            "text": "      ",
            "lineNumber": 2618
          },
          {
            "text": "      // applicationIdが取得されていない場合は、申請状態を取得",
            "lineNumber": 2619
          }
        ]
      },
      "score": 0.3515321910381317
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


申請取消ボタンの表示条件を確認中です。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "申請取消|申請取消ボタン|cancel.*button",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "申請取消|申請取消ボタン|cancel.*button",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "212:                class=\"cancel-button cancel-application-button\" ",
              "matches": [
                {
                  "lineNumber": 216,
                  "content": "                {{ getCancelButtonLabel('dailyConfirmation') }}"
                },
                {
                  "lineNumber": 407,
                  "content": "                class=\"cancel-button cancel-application-button\" "
                },
                {
                  "lineNumber": 411,
                  "content": "                {{ getCancelButtonLabel('vacation') }}"
                },
                {
                  "lineNumber": 539,
                  "content": "                class=\"cancel-button cancel-application-button\" "
                },
                {
                  "lineNumber": 543,
                  "content": "                {{ getCancelButtonLabel('holidayWork') }}"
                },
                {
                  "lineNumber": 716,
                  "content": "                class=\"cancel-button cancel-application-button\" "
                },
                {
                  "lineNumber": 720,
                  "content": "                {{ getCancelButtonLabel('overtime') }}"
                },
                {
                  "lineNumber": 833,
                  "content": "                class=\"cancel-button cancel-application-button\" "
                },
                {
                  "lineNumber": 837,
                  "content": "                {{ getCancelButtonLabel('earlyWork') }}"
                },
                {
                  "lineNumber": 951,
                  "content": "                class=\"cancel-button cancel-application-button\" "
                },
                {
                  "lineNumber": 955,
                  "content": "                {{ getCancelButtonLabel('transfer') }}"
                },
                {
                  "lineNumber": 1729,
                  "content": "    // 申請取消ボタンのラベルを取得"
                },
                {
                  "lineNumber": 1730,
                  "content": "    getCancelButtonLabel(applicationType) {"
                },
                {
                  "lineNumber": 1733,
                  "content": "        return '申請取消'"
                },
                {
                  "lineNumber": 2531,
                  "content": "    // 日次確定申請取消"
                },
                {
                  "lineNumber": 2541,
                  "content": "      // 直接申請取消を実行"
                },
                {
                  "lineNumber": 2545,
                  "content": "    // 休暇申請取消"
                },
                {
                  "lineNumber": 2555,
                  "content": "      // 直接申請取消を実行"
                },
                {
                  "lineNumber": 2559,
                  "content": "    // 休日出勤申請取消"
                },
                {
                  "lineNumber": 2569,
                  "content": "      // 直接申請取消を実行"
                },
                {
                  "lineNumber": 2573,
                  "content": "    // 残業申請取消"
                },
                {
                  "lineNumber": 2583,
                  "content": "      // 直接申請取消を実行"
                },
                {
                  "lineNumber": 2587,
                  "content": "    // 早朝勤務申請取消"
                },
                {
                  "lineNumber": 2597,
                  "content": "      // 直接申請取消を実行"
                },
                {
                  "lineNumber": 2601,
                  "content": "    // 振替申請取消"
                },
                {
                  "lineNumber": 2611,
                  "content": "      // 直接申請取消を実行"
                },
                {
                  "lineNumber": 2615,
                  "content": "    // 申請取消を実行"
                },
                {
                  "lineNumber": 2649,
                  "content": "          this.showError(response.message || '申請取消に失敗しました')"
                },
                {
                  "lineNumber": 2652,
                  "content": "        console.error('申請取消エラー:', error)"
                }
              ]
            }
          ],
          "totalLines": 29,
          "totalMatchedLines": 29
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


申請取消確認ダイアログの実装を確認中です。


---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "申請取消確認ダイアログの表示と実装",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2615
          },
          "endPosition": {
            "line": 2685
          }
        },
        "contents": "    async executeCancelApplication(applicationType) {\n      if (!applicationType) return\n      \n      // applicationIdが取得されていない場合は、申請状態を取得\n      if (!this.applicationIds[applicationType]) {\n        await this.loadApplicationStatus(applicationType)\n      }\n      \n      this.loading = true\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        const applicationId = this.applicationIds[applicationType]\n        \n        const response = await cancelApplication(\n          this.employeeId,\n          apiType,\n          applicationId,\n          applicationType === 'dailyConfirmation' ? this.targetDate : null\n        )\n        \n        if (response.success) {\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(response.message || '申請取消に失敗しました')\n        }\n      } catch (error) {\n        console.error('申請取消エラー:', error)\n        this.showError(error.message || '申請取消中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n  },\n  \n  beforeUnmount() {\n    // コンポーネント破棄時にスクロールをアンロック\n    document.body.style.overflow = ''\n  }\n}\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n}\n\n.dialog-container {\n  position: relative;\n  width: 710px;\n  height: 396px;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async executeCancelApplication(applicationType) {",
            "lineNumber": 2616
          },
          {
            "text": "      if (!applicationType) return",
            "lineNumber": 2617
          },
          {
            "text": "      ",
            "lineNumber": 2618
          },
          {
            "text": "      // applicationIdが取得されていない場合は、申請状態を取得",
            "lineNumber": 2619
          },
          {
            "text": "      if (!this.applicationIds[applicationType]) {",
            "lineNumber": 2620
          },
          {
            "text": "        await this.loadApplicationStatus(applicationType)",
            "lineNumber": 2621
          },
          {
            "text": "      }",
            "lineNumber": 2622
          },
          {
            "text": "      ",
            "lineNumber": 2623
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2624
          },
          {
            "text": "      try {",
            "lineNumber": 2625
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 2626
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 2627
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 2628
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 2629
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 2630
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 2631
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 2632
          },
          {
            "text": "        }",
            "lineNumber": 2633
          },
          {
            "text": "        ",
            "lineNumber": 2634
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 2635
          },
          {
            "text": "        const applicationId = this.applicationIds[applicationType]",
            "lineNumber": 2636
          },
          {
            "text": "        ",
            "lineNumber": 2637
          },
          {
            "text": "        const response = await cancelApplication(",
            "lineNumber": 2638
          },
          {
            "text": "          this.employeeId,",
            "lineNumber": 2639
          },
          {
            "text": "          apiType,",
            "lineNumber": 2640
          },
          {
            "text": "          applicationId,",
            "lineNumber": 2641
          },
          {
            "text": "          applicationType === 'dailyConfirmation' ? this.targetDate : null",
            "lineNumber": 2642
          },
          {
            "text": "        )",
            "lineNumber": 2643
          },
          {
            "text": "        ",
            "lineNumber": 2644
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 2645
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2646
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2647
          },
          {
            "text": "        } else {",
            "lineNumber": 2648
          },
          {
            "text": "          this.showError(response.message || '申請取消に失敗しました')",
            "lineNumber": 2649
          },
          {
            "text": "        }",
            "lineNumber": 2650
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2651
          },
          {
            "text": "        console.error('申請取消エラー:', error)",
            "lineNumber": 2652
          },
          {
            "text": "        this.showError(error.message || '申請取消中にエラーが発生しました')",
            "lineNumber": 2653
          },
          {
            "text": "      } finally {",
            "lineNumber": 2654
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2655
          },
          {
            "text": "      }",
            "lineNumber": 2656
          },
          {
            "text": "    },",
            "lineNumber": 2657
          },
          {
            "text": "    ",
            "lineNumber": 2658
          },
          {
            "text": "  },",
            "lineNumber": 2659
          },
          {
            "text": "  ",
            "lineNumber": 2660
          },
          {
            "text": "  beforeUnmount() {",
            "lineNumber": 2661
          },
          {
            "text": "    // コンポーネント破棄時にスクロールをアンロック",
            "lineNumber": 2662
          },
          {
            "text": "    document.body.style.overflow = ''",
            "lineNumber": 2663
          },
          {
            "text": "  }",
            "lineNumber": 2664
          },
          {
            "text": "}",
            "lineNumber": 2665
          },
          {
            "text": "&lt;/script&gt;",
            "lineNumber": 2666
          },
          {
            "lineNumber": 2667
          },
          {
            "text": "&lt;style scoped&gt;",
            "lineNumber": 2668
          },
          {
            "text": ".dialog-overlay {",
            "lineNumber": 2669
          },
          {
            "text": "  position: fixed;",
            "lineNumber": 2670
          },
          {
            "text": "  top: 0;",
            "lineNumber": 2671
          },
          {
            "text": "  left: 0;",
            "lineNumber": 2672
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 2673
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 2674
          },
          {
            "text": "  background-color: rgba(0, 0, 0, 0.5);",
            "lineNumber": 2675
          },
          {
            "text": "  display: flex;",
            "lineNumber": 2676
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 2677
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 2678
          },
          {
            "text": "  z-index: 10000;",
            "lineNumber": 2679
          },
          {
            "text": "}",
            "lineNumber": 2680
          },
          {
            "lineNumber": 2681
          },
          {
            "text": ".dialog-container {",
            "lineNumber": 2682
          },
          {
            "text": "  position: relative;",
            "lineNumber": 2683
          },
          {
            "text": "  width: 710px;",
            "lineNumber": 2684
          },
          {
            "text": "  height: 396px;",
            "lineNumber": 2685
          }
        ]
      },
      "score": 0.434323251247406
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2530
          },
          "endPosition": {
            "line": 2587
          }
        },
        "contents": "    // 日次確定申請取消\n    async cancelDailyConfirmation() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('dailyConfirmation')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['dailyConfirmation']) {\n        await this.loadApplicationStatus('dailyConfirmation')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('dailyConfirmation')\n    },\n    \n    // 休暇申請取消\n    async cancelVacationApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('vacation')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['vacation']) {\n        await this.loadApplicationStatus('vacation')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('vacation')\n    },\n    \n    // 休日出勤申請取消\n    async cancelHolidayWorkApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('holidayWork')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['holidayWork']) {\n        await this.loadApplicationStatus('holidayWork')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('holidayWork')\n    },\n    \n    // 残業申請取消\n    async cancelOvertimeApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('overtime')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['overtime']) {\n        await this.loadApplicationStatus('overtime')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('overtime')\n    },\n    \n    // 早朝勤務申請取消",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    // 日次確定申請取消",
            "lineNumber": 2531
          },
          {
            "text": "    async cancelDailyConfirmation() {",
            "lineNumber": 2532
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2533
          },
          {
            "text": "      await this.loadApplicationInfo('dailyConfirmation')",
            "lineNumber": 2534
          },
          {
            "text": "      ",
            "lineNumber": 2535
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2536
          },
          {
            "text": "      if (!this.applicationIds['dailyConfirmation']) {",
            "lineNumber": 2537
          },
          {
            "text": "        await this.loadApplicationStatus('dailyConfirmation')",
            "lineNumber": 2538
          },
          {
            "text": "      }",
            "lineNumber": 2539
          },
          {
            "text": "      ",
            "lineNumber": 2540
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2541
          },
          {
            "text": "      await this.executeCancelApplication('dailyConfirmation')",
            "lineNumber": 2542
          },
          {
            "text": "    },",
            "lineNumber": 2543
          },
          {
            "text": "    ",
            "lineNumber": 2544
          },
          {
            "text": "    // 休暇申請取消",
            "lineNumber": 2545
          },
          {
            "text": "    async cancelVacationApplication() {",
            "lineNumber": 2546
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2547
          },
          {
            "text": "      await this.loadApplicationInfo('vacation')",
            "lineNumber": 2548
          },
          {
            "text": "      ",
            "lineNumber": 2549
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2550
          },
          {
            "text": "      if (!this.applicationIds['vacation']) {",
            "lineNumber": 2551
          },
          {
            "text": "        await this.loadApplicationStatus('vacation')",
            "lineNumber": 2552
          },
          {
            "text": "      }",
            "lineNumber": 2553
          },
          {
            "text": "      ",
            "lineNumber": 2554
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2555
          },
          {
            "text": "      await this.executeCancelApplication('vacation')",
            "lineNumber": 2556
          },
          {
            "text": "    },",
            "lineNumber": 2557
          },
          {
            "text": "    ",
            "lineNumber": 2558
          },
          {
            "text": "    // 休日出勤申請取消",
            "lineNumber": 2559
          },
          {
            "text": "    async cancelHolidayWorkApplication() {",
            "lineNumber": 2560
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2561
          },
          {
            "text": "      await this.loadApplicationInfo('holidayWork')",
            "lineNumber": 2562
          },
          {
            "text": "      ",
            "lineNumber": 2563
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2564
          },
          {
            "text": "      if (!this.applicationIds['holidayWork']) {",
            "lineNumber": 2565
          },
          {
            "text": "        await this.loadApplicationStatus('holidayWork')",
            "lineNumber": 2566
          },
          {
            "text": "      }",
            "lineNumber": 2567
          },
          {
            "text": "      ",
            "lineNumber": 2568
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2569
          },
          {
            "text": "      await this.executeCancelApplication('holidayWork')",
            "lineNumber": 2570
          },
          {
            "text": "    },",
            "lineNumber": 2571
          },
          {
            "text": "    ",
            "lineNumber": 2572
          },
          {
            "text": "    // 残業申請取消",
            "lineNumber": 2573
          },
          {
            "text": "    async cancelOvertimeApplication() {",
            "lineNumber": 2574
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2575
          },
          {
            "text": "      await this.loadApplicationInfo('overtime')",
            "lineNumber": 2576
          },
          {
            "text": "      ",
            "lineNumber": 2577
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2578
          },
          {
            "text": "      if (!this.applicationIds['overtime']) {",
            "lineNumber": 2579
          },
          {
            "text": "        await this.loadApplicationStatus('overtime')",
            "lineNumber": 2580
          },
          {
            "text": "      }",
            "lineNumber": 2581
          },
          {
            "text": "      ",
            "lineNumber": 2582
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2583
          },
          {
            "text": "      await this.executeCancelApplication('overtime')",
            "lineNumber": 2584
          },
          {
            "text": "    },",
            "lineNumber": 2585
          },
          {
            "text": "    ",
            "lineNumber": 2586
          },
          {
            "text": "    // 早朝勤務申請取消",
            "lineNumber": 2587
          }
        ]
      },
      "score": 0.4339641332626343
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 510
          },
          "endPosition": {
            "line": 546
          }
        },
        "contents": "4. ローディング表示終了\n   - ローディングマークを非表示にする。\n\n5. ダイアログ閉じる\n   - 申請成功後、ダイアログを閉じる。\n\n#### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下\n\n1. タブを閉じる\n   - 現在開いているタブを閉じる。\n   - メニュー画面を表示する。\n\n#### 名称：日次確定申請取消ボタン押下処理、英名：cancelDailyConfirmation、処理タイミング：日次確定申請フォーム.申請取消ボタン.押下\n\n1. 月次申請状態確認\n   - API利用仕様に従い、月次申請状態を確認する。\n   - 【API利用仕様 No.12（月次申請状態取得API）】\n   - 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、エラーダイアログで「月次申請を行っている場合、日次申請の取り消しはできません。」と表示し、処理を終了する。\n\n2. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n   - 日次勤務データを取得する。\n   - 【API利用仕様 No.9（日次勤務データ取得API）】\n\n3. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n4. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. ローディング表示終了",
            "lineNumber": 511
          },
          {
            "text": "   - ローディングマークを非表示にする。",
            "lineNumber": 512
          },
          {
            "lineNumber": 513
          },
          {
            "text": "5. ダイアログ閉じる",
            "lineNumber": 514
          },
          {
            "text": "   - 申請成功後、ダイアログを閉じる。",
            "lineNumber": 515
          },
          {
            "lineNumber": 516
          },
          {
            "text": "#### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下",
            "lineNumber": 517
          },
          {
            "lineNumber": 518
          },
          {
            "text": "1. タブを閉じる",
            "lineNumber": 519
          },
          {
            "text": "   - 現在開いているタブを閉じる。",
            "lineNumber": 520
          },
          {
            "text": "   - メニュー画面を表示する。",
            "lineNumber": 521
          },
          {
            "lineNumber": 522
          },
          {
            "text": "#### 名称：日次確定申請取消ボタン押下処理、英名：cancelDailyConfirmation、処理タイミング：日次確定申請フォーム.申請取消ボタン.押下",
            "lineNumber": 523
          },
          {
            "lineNumber": 524
          },
          {
            "text": "1. 月次申請状態確認",
            "lineNumber": 525
          },
          {
            "text": "   - API利用仕様に従い、月次申請状態を確認する。",
            "lineNumber": 526
          },
          {
            "text": "   - 【API利用仕様 No.12（月次申請状態取得API）】",
            "lineNumber": 527
          },
          {
            "text": "   - 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、エラーダイアログで「月次申請を行っている場合、日次申請の取り消しはできません。」と表示し、処理を終了する。",
            "lineNumber": 528
          },
          {
            "lineNumber": 529
          },
          {
            "text": "2. 申請情報取得",
            "lineNumber": 530
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 531
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 532
          },
          {
            "text": "   - 日次勤務データを取得する。",
            "lineNumber": 533
          },
          {
            "text": "   - 【API利用仕様 No.9（日次勤務データ取得API）】",
            "lineNumber": 534
          },
          {
            "lineNumber": 535
          },
          {
            "text": "3. 申請取消確認ダイアログ表示",
            "lineNumber": 536
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 537
          },
          {
            "text": "   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。",
            "lineNumber": 538
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 539
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 540
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 541
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 542
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 543
          },
          {
            "lineNumber": 544
          },
          {
            "text": "4. 承認取消ボタン押下処理",
            "lineNumber": 545
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 546
          }
        ]
      },
      "score": 0.4119093418121338
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 628
          },
          "endPosition": {
            "line": 665
          }
        },
        "contents": "2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 残業申請取消\n     - API利用仕様に従い、残業申請を取り消す。\n     - 【API利用仕様 No.16（残業申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n\n#### 名称：早朝勤務申請取消ボタン押下処理、英名：cancelEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 629
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 630
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 631
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 632
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 633
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 634
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 635
          },
          {
            "lineNumber": 636
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 637
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 638
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 639
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 640
          },
          {
            "text": "   - 残業申請取消",
            "lineNumber": 641
          },
          {
            "text": "     - API利用仕様に従い、残業申請を取り消す。",
            "lineNumber": 642
          },
          {
            "text": "     - 【API利用仕様 No.16（残業申請取消API）】",
            "lineNumber": 643
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 644
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 645
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 646
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 647
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 648
          },
          {
            "lineNumber": 649
          },
          {
            "text": "#### 名称：早朝勤務申請取消ボタン押下処理、英名：cancelEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.申請取消ボタン.押下",
            "lineNumber": 650
          },
          {
            "lineNumber": 651
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 652
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 653
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 654
          },
          {
            "lineNumber": 655
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 656
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 657
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 658
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 659
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 660
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 661
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 662
          },
          {
            "lineNumber": 663
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 664
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 665
          }
        ]
      },
      "score": 0.3973771333694458
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 200
          },
          "endPosition": {
            "line": 227,
            "column": 10
          }
        },
        "contents": "            &lt;div class=\"daily-confirmation-buttons\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('dailyConfirmation')\" \n                class=\"submit-button daily-confirmation-submit\" \n                @click=\"submitDailyConfirmation\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('dailyConfirmation')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelDailyConfirmation\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('dailyConfirmation') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 休暇申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div class=\"daily-confirmation-buttons\"&gt;",
            "lineNumber": 201
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 202
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('dailyConfirmation')\" ",
            "lineNumber": 203
          },
          {
            "text": "                class=\"submit-button daily-confirmation-submit\" ",
            "lineNumber": 204
          },
          {
            "text": "                @click=\"submitDailyConfirmation\"",
            "lineNumber": 205
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 206
          },
          {
            "text": "              &gt;",
            "lineNumber": 207
          },
          {
            "text": "                承認申請",
            "lineNumber": 208
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 209
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 210
          },
          {
            "text": "                v-if=\"isPendingOrApproved('dailyConfirmation')\" ",
            "lineNumber": 211
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 212
          },
          {
            "text": "                @click=\"cancelDailyConfirmation\"",
            "lineNumber": 213
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 214
          },
          {
            "text": "              &gt;",
            "lineNumber": 215
          },
          {
            "text": "                {{ getCancelButtonLabel('dailyConfirmation') }}",
            "lineNumber": 216
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 217
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 218
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 219
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 220
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 221
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 222
          },
          {
            "text": "      ",
            "lineNumber": 223
          },
          {
            "text": "      &lt;!-- 休暇申請フォーム --&gt;",
            "lineNumber": 224
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;",
            "lineNumber": 225
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 226
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 227
          },
          {
            "text": "          ",
            "lineNumber": 228
          }
        ]
      },
      "score": 0.38326549530029297
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1729
          },
          "endPosition": {
            "line": 1760,
            "column": 12
          }
        },
        "contents": "    getCancelButtonLabel(applicationType) {\n      const status = this.applicationStatuses[applicationType]\n      if (status === 'PENDING') {\n        return '申請取消'\n      } else if (status === 'APPROVED') {\n        return '承認取消'\n      }\n      return '取消'\n    },\n    \n    \n    // 申請情報を取得\n    async loadApplicationInfo(applicationType) {\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        if (!apiType) return\n        \n        // 申請情報取得APIを呼び出し\n        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)\n        \n        if (response.success) {\n          if (response.applicationDate) {\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getCancelButtonLabel(applicationType) {",
            "lineNumber": 1730
          },
          {
            "text": "      const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1731
          },
          {
            "text": "      if (status === 'PENDING') {",
            "lineNumber": 1732
          },
          {
            "text": "        return '申請取消'",
            "lineNumber": 1733
          },
          {
            "text": "      } else if (status === 'APPROVED') {",
            "lineNumber": 1734
          },
          {
            "text": "        return '承認取消'",
            "lineNumber": 1735
          },
          {
            "text": "      }",
            "lineNumber": 1736
          },
          {
            "text": "      return '取消'",
            "lineNumber": 1737
          },
          {
            "text": "    },",
            "lineNumber": 1738
          },
          {
            "text": "    ",
            "lineNumber": 1739
          },
          {
            "text": "    ",
            "lineNumber": 1740
          },
          {
            "text": "    // 申請情報を取得",
            "lineNumber": 1741
          },
          {
            "text": "    async loadApplicationInfo(applicationType) {",
            "lineNumber": 1742
          },
          {
            "text": "      try {",
            "lineNumber": 1743
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 1744
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 1745
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 1746
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 1747
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 1748
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 1749
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 1750
          },
          {
            "text": "        }",
            "lineNumber": 1751
          },
          {
            "text": "        ",
            "lineNumber": 1752
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 1753
          },
          {
            "text": "        if (!apiType) return",
            "lineNumber": 1754
          },
          {
            "text": "        ",
            "lineNumber": 1755
          },
          {
            "text": "        // 申請情報取得APIを呼び出し",
            "lineNumber": 1756
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)",
            "lineNumber": 1757
          },
          {
            "text": "        ",
            "lineNumber": 1758
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1759
          },
          {
            "text": "          if (response.applicationDate) {",
            "lineNumber": 1760
          },
          {
            "text": "            ",
            "lineNumber": 1761
          }
        ]
      },
      "score": 0.38151484727859497
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2584
          },
          "endPosition": {
            "line": 2619
          }
        },
        "contents": "    },\n    \n    // 早朝勤務申請取消\n    async cancelEarlyWorkApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('earlyWork')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['earlyWork']) {\n        await this.loadApplicationStatus('earlyWork')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('earlyWork')\n    },\n    \n    // 振替申請取消\n    async cancelTransferApplication() {\n      // 申請情報を取得（applicationIdを取得するため）\n      await this.loadApplicationInfo('transfer')\n      \n      // applicationIdが取得できていない場合は、申請状態を取得\n      if (!this.applicationIds['transfer']) {\n        await this.loadApplicationStatus('transfer')\n      }\n      \n      // 直接申請取消を実行\n      await this.executeCancelApplication('transfer')\n    },\n    \n    // 申請取消を実行\n    async executeCancelApplication(applicationType) {\n      if (!applicationType) return\n      \n      // applicationIdが取得されていない場合は、申請状態を取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    },",
            "lineNumber": 2585
          },
          {
            "text": "    ",
            "lineNumber": 2586
          },
          {
            "text": "    // 早朝勤務申請取消",
            "lineNumber": 2587
          },
          {
            "text": "    async cancelEarlyWorkApplication() {",
            "lineNumber": 2588
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2589
          },
          {
            "text": "      await this.loadApplicationInfo('earlyWork')",
            "lineNumber": 2590
          },
          {
            "text": "      ",
            "lineNumber": 2591
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2592
          },
          {
            "text": "      if (!this.applicationIds['earlyWork']) {",
            "lineNumber": 2593
          },
          {
            "text": "        await this.loadApplicationStatus('earlyWork')",
            "lineNumber": 2594
          },
          {
            "text": "      }",
            "lineNumber": 2595
          },
          {
            "text": "      ",
            "lineNumber": 2596
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2597
          },
          {
            "text": "      await this.executeCancelApplication('earlyWork')",
            "lineNumber": 2598
          },
          {
            "text": "    },",
            "lineNumber": 2599
          },
          {
            "text": "    ",
            "lineNumber": 2600
          },
          {
            "text": "    // 振替申請取消",
            "lineNumber": 2601
          },
          {
            "text": "    async cancelTransferApplication() {",
            "lineNumber": 2602
          },
          {
            "text": "      // 申請情報を取得（applicationIdを取得するため）",
            "lineNumber": 2603
          },
          {
            "text": "      await this.loadApplicationInfo('transfer')",
            "lineNumber": 2604
          },
          {
            "text": "      ",
            "lineNumber": 2605
          },
          {
            "text": "      // applicationIdが取得できていない場合は、申請状態を取得",
            "lineNumber": 2606
          },
          {
            "text": "      if (!this.applicationIds['transfer']) {",
            "lineNumber": 2607
          },
          {
            "text": "        await this.loadApplicationStatus('transfer')",
            "lineNumber": 2608
          },
          {
            "text": "      }",
            "lineNumber": 2609
          },
          {
            "text": "      ",
            "lineNumber": 2610
          },
          {
            "text": "      // 直接申請取消を実行",
            "lineNumber": 2611
          },
          {
            "text": "      await this.executeCancelApplication('transfer')",
            "lineNumber": 2612
          },
          {
            "text": "    },",
            "lineNumber": 2613
          },
          {
            "text": "    ",
            "lineNumber": 2614
          },
          {
            "text": "    // 申請取消を実行",
            "lineNumber": 2615
          },
          {
            "text": "    async executeCancelApplication(applicationType) {",
            "lineNumber": 2616
          },
          {
            "text": "      if (!applicationType) return",
            "lineNumber": 2617
          },
          {
            "text": "      ",
            "lineNumber": 2618
          },
          {
            "text": "      // applicationIdが取得されていない場合は、申請状態を取得",
            "lineNumber": 2619
          }
        ]
      },
      "score": 0.3758048415184021
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 544
          },
          "endPosition": {
            "line": 574
          }
        },
        "contents": "4. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 日次確定申請取消\n     - API利用仕様に従い、日次確定申請を取り消す。\n     - 【API利用仕様 No.13（日次確定申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。\n\n#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 承認取消ボタン押下処理",
            "lineNumber": 545
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 546
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 547
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 548
          },
          {
            "text": "   - 日次確定申請取消",
            "lineNumber": 549
          },
          {
            "text": "     - API利用仕様に従い、日次確定申請を取り消す。",
            "lineNumber": 550
          },
          {
            "text": "     - 【API利用仕様 No.13（日次確定申請取消API）】",
            "lineNumber": 551
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 552
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 553
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 554
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 555
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 556
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。",
            "lineNumber": 557
          },
          {
            "lineNumber": 558
          },
          {
            "text": "#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下",
            "lineNumber": 559
          },
          {
            "lineNumber": 560
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 561
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 562
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 563
          },
          {
            "lineNumber": 564
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 565
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 566
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 567
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 568
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 569
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 570
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 571
          },
          {
            "lineNumber": 572
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 573
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 574
          }
        ]
      },
      "score": 0.36854875087738037
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1731
          },
          "endPosition": {
            "line": 1766
          }
        },
        "contents": "#### リンク動作\nステータス表示をクリックすると、ステータスダイアログが表示されます。\n\n### ステータスダイアログ\n\nステータス表示のリンクを押下すると、月次確定の承認履歴を表示するダイアログが開きます。\n\n#### ダイアログの構成\n- **タイトル**: 「ステータス」（青色のヘッダーバー）\n- **承認履歴テーブル**: 以下の列で構成\n  - **#**: 履歴の連番（1, 2, 3...）\n  - **日時**: アクションが行われた日時（YYYY-MM-DD HH:MM形式）\n  - **状況**: アクション種別\n    - 「申請」: 月次確定を申請した\n    - 「承認」: 申請が承認された\n    - 「却下」: 申請が却下された\n    - 「取消」: 申請を取り消した\n  - **実行者**: アクションを実行した人の名前\n  - **コメント**: 承認/却下時に入力されたコメント\n- **承認履歴なしメッセージ**: 履歴が0件の場合、「承認履歴はありません」と表示\n- **申請取消ボタン**: グレー/青色のボタン\n  - 月次確定申請中（PENDING）の場合: 青色で活性、押下で申請取消\n  - それ以外の場合: グレーで非活性\n- **閉じるリンク**: 青色のリンク、押下でダイアログを閉じる\n\n#### 申請取消処理\n申請取消ボタンを押下すると：\n1. 確認ダイアログ「月次確定申請を取り消しますか？」を表示\n2. OKを押すと申請が取り消され、ステータスが「未確定」に戻る\n3. 承認履歴テーブルに「取消」の履歴が追加される\n\n### 申請状況詳細ダイアログ\n\n申請状況アイコン（申請中、承認済み）を押下すると、勤怠関連申請ダイアログが開き、申請タイプに応じたタブが表示されます。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "#### リンク動作",
            "lineNumber": 1733
          },
          {
            "text": "ステータス表示をクリックすると、ステータスダイアログが表示されます。",
            "lineNumber": 1734
          },
          {
            "lineNumber": 1735
          },
          {
            "text": "### ステータスダイアログ",
            "lineNumber": 1736
          },
          {
            "lineNumber": 1737
          },
          {
            "text": "ステータス表示のリンクを押下すると、月次確定の承認履歴を表示するダイアログが開きます。",
            "lineNumber": 1738
          },
          {
            "lineNumber": 1739
          },
          {
            "text": "#### ダイアログの構成",
            "lineNumber": 1740
          },
          {
            "text": "- **タイトル**: 「ステータス」（青色のヘッダーバー）",
            "lineNumber": 1741
          },
          {
            "text": "- **承認履歴テーブル**: 以下の列で構成",
            "lineNumber": 1742
          },
          {
            "text": "  - **#**: 履歴の連番（1, 2, 3...）",
            "lineNumber": 1743
          },
          {
            "text": "  - **日時**: アクションが行われた日時（YYYY-MM-DD HH:MM形式）",
            "lineNumber": 1744
          },
          {
            "text": "  - **状況**: アクション種別",
            "lineNumber": 1745
          },
          {
            "text": "    - 「申請」: 月次確定を申請した",
            "lineNumber": 1746
          },
          {
            "text": "    - 「承認」: 申請が承認された",
            "lineNumber": 1747
          },
          {
            "text": "    - 「却下」: 申請が却下された",
            "lineNumber": 1748
          },
          {
            "text": "    - 「取消」: 申請を取り消した",
            "lineNumber": 1749
          },
          {
            "text": "  - **実行者**: アクションを実行した人の名前",
            "lineNumber": 1750
          },
          {
            "text": "  - **コメント**: 承認/却下時に入力されたコメント",
            "lineNumber": 1751
          },
          {
            "text": "- **承認履歴なしメッセージ**: 履歴が0件の場合、「承認履歴はありません」と表示",
            "lineNumber": 1752
          },
          {
            "text": "- **申請取消ボタン**: グレー/青色のボタン",
            "lineNumber": 1753
          },
          {
            "text": "  - 月次確定申請中（PENDING）の場合: 青色で活性、押下で申請取消",
            "lineNumber": 1754
          },
          {
            "text": "  - それ以外の場合: グレーで非活性",
            "lineNumber": 1755
          },
          {
            "text": "- **閉じるリンク**: 青色のリンク、押下でダイアログを閉じる",
            "lineNumber": 1756
          },
          {
            "lineNumber": 1757
          },
          {
            "text": "#### 申請取消処理",
            "lineNumber": 1758
          },
          {
            "text": "申請取消ボタンを押下すると：",
            "lineNumber": 1759
          },
          {
            "text": "1. 確認ダイアログ「月次確定申請を取り消しますか？」を表示",
            "lineNumber": 1760
          },
          {
            "text": "2. OKを押すと申請が取り消され、ステータスが「未確定」に戻る",
            "lineNumber": 1761
          },
          {
            "text": "3. 承認履歴テーブルに「取消」の履歴が追加される",
            "lineNumber": 1762
          },
          {
            "lineNumber": 1763
          },
          {
            "text": "### 申請状況詳細ダイアログ",
            "lineNumber": 1764
          },
          {
            "lineNumber": 1765
          },
          {
            "text": "申請状況アイコン（申請中、承認済み）を押下すると、勤怠関連申請ダイアログが開き、申請タイプに応じたタブが表示されます。",
            "lineNumber": 1766
          }
        ]
      },
      "score": 0.36788269877433777
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 939
          },
          "endPosition": {
            "line": 996
          }
        },
        "contents": "            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('transfer')\" \n                class=\"submit-button\" \n                @click=\"submitTransferApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('transfer')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelTransferApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('transfer') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 下部操作エリア --&gt;\n      &lt;div class=\"dialog-footer\"&gt;\n        &lt;a href=\"#\" @click.prevent=\"closeDialog\" class=\"close-link\"&gt;閉じる&lt;/a&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- ローディング表示 --&gt;\n      &lt;div v-if=\"loading\" class=\"loading-overlay\"&gt;\n        &lt;div class=\"loading-spinner\"&gt;&lt;/div&gt;\n        &lt;p&gt;処理中...&lt;/p&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- エラーダイアログ --&gt;\n      &lt;div v-if=\"showErrorDialog\" class=\"error-dialog-overlay\" @click.self=\"closeErrorDialog\"&gt;\n        &lt;div class=\"error-dialog-container\"&gt;\n          &lt;div class=\"error-dialog-header\"&gt;\n            &lt;span class=\"error-dialog-title\"&gt;エラー&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"error-dialog-message\"&gt;\n            {{ errorMessage }}\n          &lt;/div&gt;\n          &lt;button class=\"error-dialog-ok-button\" @click=\"closeErrorDialog\"&gt;OK&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"js\"&gt;\nimport HolidayJp from '@holiday-jp/holiday_jp'\nimport { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'\n\nexport default {\n  name: 'AttendanceApplicationDialog',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 940
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 941
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('transfer')\" ",
            "lineNumber": 942
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 943
          },
          {
            "text": "                @click=\"submitTransferApplication\"",
            "lineNumber": 944
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 945
          },
          {
            "text": "              &gt;",
            "lineNumber": 946
          },
          {
            "text": "                承認申請",
            "lineNumber": 947
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 948
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 949
          },
          {
            "text": "                v-if=\"isPendingOrApproved('transfer')\" ",
            "lineNumber": 950
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 951
          },
          {
            "text": "                @click=\"cancelTransferApplication\"",
            "lineNumber": 952
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 953
          },
          {
            "text": "              &gt;",
            "lineNumber": 954
          },
          {
            "text": "                {{ getCancelButtonLabel('transfer') }}",
            "lineNumber": 955
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 956
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 957
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 958
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 959
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 960
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 961
          },
          {
            "text": "      ",
            "lineNumber": 962
          },
          {
            "text": "      &lt;!-- 下部操作エリア --&gt;",
            "lineNumber": 963
          },
          {
            "text": "      &lt;div class=\"dialog-footer\"&gt;",
            "lineNumber": 964
          },
          {
            "text": "        &lt;a href=\"#\" @click.prevent=\"closeDialog\" class=\"close-link\"&gt;閉じる&lt;/a&gt;",
            "lineNumber": 965
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 966
          },
          {
            "text": "      ",
            "lineNumber": 967
          },
          {
            "text": "      &lt;!-- ローディング表示 --&gt;",
            "lineNumber": 968
          },
          {
            "text": "      &lt;div v-if=\"loading\" class=\"loading-overlay\"&gt;",
            "lineNumber": 969
          },
          {
            "text": "        &lt;div class=\"loading-spinner\"&gt;&lt;/div&gt;",
            "lineNumber": 970
          },
          {
            "text": "        &lt;p&gt;処理中...&lt;/p&gt;",
            "lineNumber": 971
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 972
          },
          {
            "text": "      ",
            "lineNumber": 973
          },
          {
            "text": "      &lt;!-- エラーダイアログ --&gt;",
            "lineNumber": 974
          },
          {
            "text": "      &lt;div v-if=\"showErrorDialog\" class=\"error-dialog-overlay\" @click.self=\"closeErrorDialog\"&gt;",
            "lineNumber": 975
          },
          {
            "text": "        &lt;div class=\"error-dialog-container\"&gt;",
            "lineNumber": 976
          },
          {
            "text": "          &lt;div class=\"error-dialog-header\"&gt;",
            "lineNumber": 977
          },
          {
            "text": "            &lt;span class=\"error-dialog-title\"&gt;エラー&lt;/span&gt;",
            "lineNumber": 978
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 979
          },
          {
            "text": "          &lt;div class=\"error-dialog-message\"&gt;",
            "lineNumber": 980
          },
          {
            "text": "            {{ errorMessage }}",
            "lineNumber": 981
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 982
          },
          {
            "text": "          &lt;button class=\"error-dialog-ok-button\" @click=\"closeErrorDialog\"&gt;OK&lt;/button&gt;",
            "lineNumber": 983
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 984
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 985
          },
          {
            "text": "      ",
            "lineNumber": 986
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 987
          },
          {
            "text": "  &lt;/div&gt;",
            "lineNumber": 988
          },
          {
            "text": "&lt;/template&gt;",
            "lineNumber": 989
          },
          {
            "lineNumber": 990
          },
          {
            "text": "&lt;script lang=\"js\"&gt;",
            "lineNumber": 991
          },
          {
            "text": "import HolidayJp from '@holiday-jp/holiday_jp'",
            "lineNumber": 992
          },
          {
            "text": "import { getHolidayWorkStatus, getWorkHours, getApplicationStatus, getApplicationInfo, cancelApplication } from '@/services/api'",
            "lineNumber": 993
          },
          {
            "lineNumber": 994
          },
          {
            "text": "export default {",
            "lineNumber": 995
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 996
          }
        ]
      },
      "score": 0.3583548963069916
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 271
          },
          "endPosition": {
            "line": 435,
            "column": 1
          }
        },
        "contents": "const \n;\n\n/**\n * 申請を取り消す\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId - 申請ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）\n * @returns {Promise&lt;void&gt;}\n */\nconst cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {\n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の取り消し\n      const attendanceModel = require('../models/attendanceModel');\n      const attendanceService = require('../services/attendanceService');\n      \n      if (!targetDate) {\n        throw new Error('対象日が必要です。');\n      }\n      \n      // 月次申請状態を確認\n      const date = new Date(targetDate);\n      const year = date.getFullYear();\n      const month = date.getMonth() + 1;\n      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(\n        employeeId, \n        &#96;${year}-${String(month).padStart(2, '0')}&#96;\n      );\n      \n      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {\n        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');\n      }\n      \n      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の取り消し\n      // 申請情報を取得\n      const vacation = await applicationModel.getVacationById(applicationId);\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "const ",
            "lineNumber": 272
          },
          {
            "text": ";",
            "lineNumber": 295
          },
          {
            "lineNumber": 296
          },
          {
            "text": "/**",
            "lineNumber": 297
          },
          {
            "text": " * 申請を取り消す",
            "lineNumber": 298
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 299
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 300
          },
          {
            "text": " * @param {string|number} applicationId - 申請ID",
            "lineNumber": 301
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式、日次確定の場合のみ）",
            "lineNumber": 302
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 303
          },
          {
            "text": " */",
            "lineNumber": 304
          },
          {
            "text": "const cancelApplication = async (employeeId, applicationType, applicationId, targetDate = null) =&gt; {",
            "lineNumber": 305
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 306
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 307
          },
          {
            "text": "      // 日次確定申請の取り消し",
            "lineNumber": 308
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 309
          },
          {
            "text": "      const attendanceService = require('../services/attendanceService');",
            "lineNumber": 310
          },
          {
            "text": "      ",
            "lineNumber": 311
          },
          {
            "text": "      if (!targetDate) {",
            "lineNumber": 312
          },
          {
            "text": "        throw new Error('対象日が必要です。');",
            "lineNumber": 313
          },
          {
            "text": "      }",
            "lineNumber": 314
          },
          {
            "text": "      ",
            "lineNumber": 315
          },
          {
            "text": "      // 月次申請状態を確認",
            "lineNumber": 316
          },
          {
            "text": "      const date = new Date(targetDate);",
            "lineNumber": 317
          },
          {
            "text": "      const year = date.getFullYear();",
            "lineNumber": 318
          },
          {
            "text": "      const month = date.getMonth() + 1;",
            "lineNumber": 319
          },
          {
            "text": "      const monthlyStatus = await applicationModel.getMonthlyApprovalStatus(",
            "lineNumber": 320
          },
          {
            "text": "        employeeId, ",
            "lineNumber": 321
          },
          {
            "text": "        &#96;${year}-${String(month).padStart(2, '0')}&#96;",
            "lineNumber": 322
          },
          {
            "text": "      );",
            "lineNumber": 323
          },
          {
            "text": "      ",
            "lineNumber": 324
          },
          {
            "text": "      if (monthlyStatus === 'PENDING' || monthlyStatus === 'APPROVED') {",
            "lineNumber": 325
          },
          {
            "text": "        throw new Error('月次申請を行っている場合、日次申請の取り消しはできません。');",
            "lineNumber": 326
          },
          {
            "text": "      }",
            "lineNumber": 327
          },
          {
            "text": "      ",
            "lineNumber": 328
          },
          {
            "text": "      await attendanceService.cancelDailyConfirmation(employeeId, targetDate);",
            "lineNumber": 329
          },
          {
            "text": "      break;",
            "lineNumber": 330
          },
          {
            "text": "    }",
            "lineNumber": 331
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 332
          },
          {
            "text": "      // 休暇申請の取り消し",
            "lineNumber": 333
          },
          {
            "text": "      // 申請情報を取得",
            "lineNumber": 334
          },
          {
            "text": "      const vacation = await applicationModel.getVacationById(applicationId);",
            "lineNumber": 335
          },
          {
            "text": ";",
            "lineNumber": 436
          }
        ]
      },
      "score": 0.3573043942451477
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 574
          },
          "endPosition": {
            "line": 607,
            "column": 3
          }
        },
        "contents": "2. 申請状況に応じた処理\n   \n   **2-1. 未申請（NOT_SUBMITTED）の場合**\n   - 日次確定ボタン押下処理を実行する。\n   - 【イベント処理説明: 日次確定ボタン押下処理】\n\n   **2-2. 申請中（PENDING）または承認済み（APPROVED）の場合**\n   - 勤怠関連申請ダイアログを表示する。\n   - 申請タイプに応じたタブを開く（日次確定/休日出勤申請/休暇申請）\n   - ダイアログタイトル: 「勤怠関連申請」\n   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n   - 申請フォーム: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）\n   - 申請情報セクション（申請中または承認済みの場合のみ表示）:\n     - 申請日時: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示\n     - 状況: 申請中/承認済みを表示\n     - 承認履歴: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）\n   - 取消ボタン: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示\n   - 「キャンセル」リンク: ダイアログを閉じる\n\n   **2-3. 却下（REJECTED）の場合（日次確定申請のみ）**\n   - 申請状況詳細ダイアログを表示する。\n   - ダイアログタイトル: 「申請状況」\n   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n   - 申請状態: 「却下」と表示\n   - 申請日時: 日次確定申請を行った日時を表示\n   - 却下日時: 却下された日時を表示\n   - 却下者: 却下を行った承認者名を表示\n   - 却下理由: 却下時のコメントを表示（該当する場合）\n   - 「閉じる」ボタンを表示\n   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある\n\n3. ダイアログの閉じる処理\n   ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. 申請状況に応じた処理",
            "lineNumber": 576
          },
          {
            "text": "   ",
            "lineNumber": 577
          },
          {
            "text": "   **2-1. 未申請（NOT_SUBMITTED）の場合**",
            "lineNumber": 578
          },
          {
            "text": "   - 日次確定ボタン押下処理を実行する。",
            "lineNumber": 579
          },
          {
            "text": "   - 【イベント処理説明: 日次確定ボタン押下処理】",
            "lineNumber": 580
          },
          {
            "lineNumber": 581
          },
          {
            "text": "   **2-2. 申請中（PENDING）または承認済み（APPROVED）の場合**",
            "lineNumber": 582
          },
          {
            "text": "   - 勤怠関連申請ダイアログを表示する。",
            "lineNumber": 583
          },
          {
            "text": "   - 申請タイプに応じたタブを開く（日次確定/休日出勤申請/休暇申請）",
            "lineNumber": 584
          },
          {
            "text": "   - ダイアログタイトル: 「勤怠関連申請」",
            "lineNumber": 585
          },
          {
            "text": "   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 586
          },
          {
            "text": "   - 申請フォーム: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）",
            "lineNumber": 587
          },
          {
            "text": "   - 申請情報セクション（申請中または承認済みの場合のみ表示）:",
            "lineNumber": 588
          },
          {
            "text": "     - 申請日時: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 589
          },
          {
            "text": "     - 状況: 申請中/承認済みを表示",
            "lineNumber": 590
          },
          {
            "text": "     - 承認履歴: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）",
            "lineNumber": 591
          },
          {
            "text": "   - 取消ボタン: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示",
            "lineNumber": 592
          },
          {
            "text": "   - 「キャンセル」リンク: ダイアログを閉じる",
            "lineNumber": 593
          },
          {
            "lineNumber": 594
          },
          {
            "text": "   **2-3. 却下（REJECTED）の場合（日次確定申請のみ）**",
            "lineNumber": 595
          },
          {
            "text": "   - 申請状況詳細ダイアログを表示する。",
            "lineNumber": 596
          },
          {
            "text": "   - ダイアログタイトル: 「申請状況」",
            "lineNumber": 597
          },
          {
            "text": "   - 日付表示: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 598
          },
          {
            "text": "   - 申請状態: 「却下」と表示",
            "lineNumber": 599
          },
          {
            "text": "   - 申請日時: 日次確定申請を行った日時を表示",
            "lineNumber": 600
          },
          {
            "text": "   - 却下日時: 却下された日時を表示",
            "lineNumber": 601
          },
          {
            "text": "   - 却下者: 却下を行った承認者名を表示",
            "lineNumber": 602
          },
          {
            "text": "   - 却下理由: 却下時のコメントを表示（該当する場合）",
            "lineNumber": 603
          },
          {
            "text": "   - 「閉じる」ボタンを表示",
            "lineNumber": 604
          },
          {
            "text": "   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある",
            "lineNumber": 605
          },
          {
            "lineNumber": 606
          },
          {
            "text": "3. ダイアログの閉じる処理",
            "lineNumber": 607
          },
          {
            "text": "   ",
            "lineNumber": 608
          }
        ]
      },
      "score": 0.35214948654174805
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 572
          },
          "endPosition": {
            "line": 602
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 休暇申請取消\n     - API利用仕様に従い、休暇申請を取り消す。\n     - 【API利用仕様 No.14（休暇申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。\n\n#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 573
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 574
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 575
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 576
          },
          {
            "text": "   - 休暇申請取消",
            "lineNumber": 577
          },
          {
            "text": "     - API利用仕様に従い、休暇申請を取り消す。",
            "lineNumber": 578
          },
          {
            "text": "     - 【API利用仕様 No.14（休暇申請取消API）】",
            "lineNumber": 579
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 580
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 581
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 582
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 583
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 584
          },
          {
            "text": "     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。",
            "lineNumber": 585
          },
          {
            "lineNumber": 586
          },
          {
            "text": "#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下",
            "lineNumber": 587
          },
          {
            "lineNumber": 588
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 589
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 590
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 591
          },
          {
            "lineNumber": 592
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 593
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 594
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 595
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 596
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 597
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 598
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 599
          },
          {
            "lineNumber": 600
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 601
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 602
          }
        ]
      },
      "score": 0.34912800788879395
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 663
          },
          "endPosition": {
            "line": 692
          }
        },
        "contents": "3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。\n   - ローディング表示開始\n     - ローディングマークを表示する。\n   - 早朝勤務申請取消\n     - API利用仕様に従い、早朝勤務申請を取り消す。\n     - 【API利用仕様 No.17（早朝勤務申請取消API）】\n   - ローディング表示終了\n     - ローディングマークを非表示にする。\n   - ダイアログ閉じる\n     - 申請取消成功後、申請取消確認ダイアログを閉じる。\n     - 勤怠関連申請画面のダイアログを閉じる。\n\n#### 名称：振替申請取消ボタン押下処理、英名：cancelTransferApplication、処理タイミング：振替申請フォーム.申請取消ボタン.押下\n\n1. 申請情報取得\n   - API利用仕様に従い、申請情報と承認履歴を取得する。\n   - 【API利用仕様 No.19（申請情報取得API）】\n\n2. 申請取消確認ダイアログ表示\n   - 申請取消確認ダイアログを表示する。\n   - 申請日時を表示する。\n   - 状況（申請済みまたは承認済み）を表示する。\n   - 承認履歴テーブルを表示する。\n   - 承認取消ボタンと閉じるリンクを表示する。\n   - 閉じるリンク押下で処理を終了する。\n\n3. 承認取消ボタン押下処理\n   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
        "signatures": {},
        "detailedLines": [
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 664
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 665
          },
          {
            "text": "   - ローディング表示開始",
            "lineNumber": 666
          },
          {
            "text": "     - ローディングマークを表示する。",
            "lineNumber": 667
          },
          {
            "text": "   - 早朝勤務申請取消",
            "lineNumber": 668
          },
          {
            "text": "     - API利用仕様に従い、早朝勤務申請を取り消す。",
            "lineNumber": 669
          },
          {
            "text": "     - 【API利用仕様 No.17（早朝勤務申請取消API）】",
            "lineNumber": 670
          },
          {
            "text": "   - ローディング表示終了",
            "lineNumber": 671
          },
          {
            "text": "     - ローディングマークを非表示にする。",
            "lineNumber": 672
          },
          {
            "text": "   - ダイアログ閉じる",
            "lineNumber": 673
          },
          {
            "text": "     - 申請取消成功後、申請取消確認ダイアログを閉じる。",
            "lineNumber": 674
          },
          {
            "text": "     - 勤怠関連申請画面のダイアログを閉じる。",
            "lineNumber": 675
          },
          {
            "lineNumber": 676
          },
          {
            "text": "#### 名称：振替申請取消ボタン押下処理、英名：cancelTransferApplication、処理タイミング：振替申請フォーム.申請取消ボタン.押下",
            "lineNumber": 677
          },
          {
            "lineNumber": 678
          },
          {
            "text": "1. 申請情報取得",
            "lineNumber": 679
          },
          {
            "text": "   - API利用仕様に従い、申請情報と承認履歴を取得する。",
            "lineNumber": 680
          },
          {
            "text": "   - 【API利用仕様 No.19（申請情報取得API）】",
            "lineNumber": 681
          },
          {
            "lineNumber": 682
          },
          {
            "text": "2. 申請取消確認ダイアログ表示",
            "lineNumber": 683
          },
          {
            "text": "   - 申請取消確認ダイアログを表示する。",
            "lineNumber": 684
          },
          {
            "text": "   - 申請日時を表示する。",
            "lineNumber": 685
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）を表示する。",
            "lineNumber": 686
          },
          {
            "text": "   - 承認履歴テーブルを表示する。",
            "lineNumber": 687
          },
          {
            "text": "   - 承認取消ボタンと閉じるリンクを表示する。",
            "lineNumber": 688
          },
          {
            "text": "   - 閉じるリンク押下で処理を終了する。",
            "lineNumber": 689
          },
          {
            "lineNumber": 690
          },
          {
            "text": "3. 承認取消ボタン押下処理",
            "lineNumber": 691
          },
          {
            "text": "   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。",
            "lineNumber": 692
          }
        ]
      },
      "score": 0.3454379141330719
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 876
          },
          "endPosition": {
            "line": 910,
            "column": 8
          }
        },
        "contents": "      &lt;!-- ヘッダー背景 --&gt;\n      &lt;svg class=\"auth-error-dialog-header-bg\"&gt;\n        &lt;path d=\"M 6.8999999999999995 0 L 545.0999999999999 0 C 548.9107648801803 0 552 2.430454131535121 552 5.428571428571428 L 552 32.57142857142857 C 552 35.56954586846488 548.9107648801803 38 545.0999999999999 38 L 6.8999999999999995 38 C 3.089235119819641 38 0 35.56954586846488 0 32.57142857142857 L 0 5.428571428571428 C 0 2.430454131535121 3.089235119819641 0 6.8999999999999995 0 Z\" \n              fill=\"rgb(215, 235, 255)\" /&gt;\n      &lt;/svg&gt;\n      \n      &lt;!-- タイトル --&gt;\n      &lt;span class=\"auth-error-dialog-title\"&gt;確認&lt;/span&gt;\n      \n      &lt;!-- ×閉じるボタン（認証エラー時は表示しない） --&gt;\n      \n      &lt;!-- メッセージ --&gt;\n      &lt;div class=\"auth-error-dialog-message\"&gt;\n        再度ログインしてください\n      &lt;/div&gt;\n      \n      &lt;!-- OKボタン背景 --&gt;\n      &lt;div class=\"auth-error-dialog-ok-bg\" @click=\"redirectToLogin\"&gt;&lt;/div&gt;\n      \n      &lt;!-- OKボタンテキスト --&gt;\n      &lt;span class=\"auth-error-dialog-ok-text\" @click=\"redirectToLogin\"&gt;OK&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  \n  &lt;!-- 確認ダイアログ（日次確定申請用） --&gt;\n  &lt;div v-if=\"showConfirmDialog\" class=\"confirm-dialog-overlay\" @click.self=\"closeConfirmDialog\"&gt;\n    &lt;div class=\"confirm-dialog-container\"&gt;\n      &lt;div class=\"confirm-dialog-header\"&gt;\n        &lt;span class=\"confirm-dialog-title\"&gt;確認&lt;/span&gt;\n      &lt;/div&gt;\n      &lt;div class=\"confirm-dialog-body\"&gt;\n        &lt;p class=\"confirm-dialog-message\"&gt;{{ confirmDialogMessage }}&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div class=\"confirm-dialog-footer\"&gt;\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;!-- ヘッダー背景 --&gt;",
            "lineNumber": 877
          },
          {
            "text": "      &lt;svg class=\"auth-error-dialog-header-bg\"&gt;",
            "lineNumber": 878
          },
          {
            "text": "        &lt;path d=\"M 6.8999999999999995 0 L 545.0999999999999 0 C 548.9107648801803 0 552 2.430454131535121 552 5.428571428571428 L 552 32.57142857142857 C 552 35.56954586846488 548.9107648801803 38 545.0999999999999 38 L 6.8999999999999995 38 C 3.089235119819641 38 0 35.56954586846488 0 32.57142857142857 L 0 5.428571428571428 C 0 2.430454131535121 3.089235119819641 0 6.8999999999999995 0 Z\" ",
            "lineNumber": 879
          },
          {
            "text": "              fill=\"rgb(215, 235, 255)\" /&gt;",
            "lineNumber": 880
          },
          {
            "text": "      &lt;/svg&gt;",
            "lineNumber": 881
          },
          {
            "text": "      ",
            "lineNumber": 882
          },
          {
            "text": "      &lt;!-- タイトル --&gt;",
            "lineNumber": 883
          },
          {
            "text": "      &lt;span class=\"auth-error-dialog-title\"&gt;確認&lt;/span&gt;",
            "lineNumber": 884
          },
          {
            "text": "      ",
            "lineNumber": 885
          },
          {
            "text": "      &lt;!-- ×閉じるボタン（認証エラー時は表示しない） --&gt;",
            "lineNumber": 886
          },
          {
            "text": "      ",
            "lineNumber": 887
          },
          {
            "text": "      &lt;!-- メッセージ --&gt;",
            "lineNumber": 888
          },
          {
            "text": "      &lt;div class=\"auth-error-dialog-message\"&gt;",
            "lineNumber": 889
          },
          {
            "text": "        再度ログインしてください",
            "lineNumber": 890
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 891
          },
          {
            "text": "      ",
            "lineNumber": 892
          },
          {
            "text": "      &lt;!-- OKボタン背景 --&gt;",
            "lineNumber": 893
          },
          {
            "text": "      &lt;div class=\"auth-error-dialog-ok-bg\" @click=\"redirectToLogin\"&gt;&lt;/div&gt;",
            "lineNumber": 894
          },
          {
            "text": "      ",
            "lineNumber": 895
          },
          {
            "text": "      &lt;!-- OKボタンテキスト --&gt;",
            "lineNumber": 896
          },
          {
            "text": "      &lt;span class=\"auth-error-dialog-ok-text\" @click=\"redirectToLogin\"&gt;OK&lt;/span&gt;",
            "lineNumber": 897
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 898
          },
          {
            "text": "  &lt;/div&gt;",
            "lineNumber": 899
          },
          {
            "text": "  ",
            "lineNumber": 900
          },
          {
            "text": "  &lt;!-- 確認ダイアログ（日次確定申請用） --&gt;",
            "lineNumber": 901
          },
          {
            "text": "  &lt;div v-if=\"showConfirmDialog\" class=\"confirm-dialog-overlay\" @click.self=\"closeConfirmDialog\"&gt;",
            "lineNumber": 902
          },
          {
            "text": "    &lt;div class=\"confirm-dialog-container\"&gt;",
            "lineNumber": 903
          },
          {
            "text": "      &lt;div class=\"confirm-dialog-header\"&gt;",
            "lineNumber": 904
          },
          {
            "text": "        &lt;span class=\"confirm-dialog-title\"&gt;確認&lt;/span&gt;",
            "lineNumber": 905
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 906
          },
          {
            "text": "      &lt;div class=\"confirm-dialog-body\"&gt;",
            "lineNumber": 907
          },
          {
            "text": "        &lt;p class=\"confirm-dialog-message\"&gt;{{ confirmDialogMessage }}&lt;/p&gt;",
            "lineNumber": 908
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 909
          },
          {
            "text": "      &lt;div class=\"confirm-dialog-footer\"&gt;",
            "lineNumber": 910
          },
          {
            "text": "        ",
            "lineNumber": 911
          }
        ]
      },
      "score": 0.34319400787353516
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 347,
            "column": 2
          },
          "endPosition": {
            "line": 399,
            "column": 16
          }
        },
        "contents": "/**\n * 申請取消\n */\nconst cancelApplication = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, applicationType, applicationId, targetDate } = req.body;\n    \n    if (!employeeId || !applicationType) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員IDと申請タイプが必要です。'\n      });\n    }\n    \n    // 日次確定の場合はtargetDateが必要\n    if (applicationType === 'DAILY_CONFIRMATION' &amp;&amp; !targetDate) {\n      return res.status(400).json({\n        success: false,\n        message: '対象日が必要です。'\n      });\n    }\n    \n    // その他の申請タイプの場合はapplicationIdが必要\n    if (applicationType !== 'DAILY_CONFIRMATION' &amp;&amp; !applicationId) {\n      return res.status(400).json({\n        success: false,\n        message: '申請IDが必要です。'\n      });\n    }\n    \n    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);\n    \n    res.json({\n      success: true,\n      message: '申請を取り消しました。'\n    });\n  } catch (error) {\n    if (error.message.includes('月次申請を行っている場合')) {\n      return res.status(400).json({\n        success: false,\n        message: error.message\n      });\n    }\n    next(error);\n  }\n};\n\nmodule.exports = {\n  applyVacation,\n  applyHolidayWork,\n  applyOvertime,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 350
          },
          {
            "text": " * 申請取消",
            "lineNumber": 351
          },
          {
            "text": " */",
            "lineNumber": 352
          },
          {
            "text": "const cancelApplication = async (req, res, next) =&gt; {",
            "lineNumber": 353
          },
          {
            "text": "  try {",
            "lineNumber": 354
          },
          {
            "text": "    const { employeeId, applicationType, applicationId, targetDate } = req.body;",
            "lineNumber": 355
          },
          {
            "text": "    ",
            "lineNumber": 356
          },
          {
            "text": "    if (!employeeId || !applicationType) {",
            "lineNumber": 357
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 358
          },
          {
            "text": "        success: false,",
            "lineNumber": 359
          },
          {
            "text": "        message: '従業員IDと申請タイプが必要です。'",
            "lineNumber": 360
          },
          {
            "text": "      });",
            "lineNumber": 361
          },
          {
            "text": "    }",
            "lineNumber": 362
          },
          {
            "text": "    ",
            "lineNumber": 363
          },
          {
            "text": "    // 日次確定の場合はtargetDateが必要",
            "lineNumber": 364
          },
          {
            "text": "    if (applicationType === 'DAILY_CONFIRMATION' &amp;&amp; !targetDate) {",
            "lineNumber": 365
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 366
          },
          {
            "text": "        success: false,",
            "lineNumber": 367
          },
          {
            "text": "        message: '対象日が必要です。'",
            "lineNumber": 368
          },
          {
            "text": "      });",
            "lineNumber": 369
          },
          {
            "text": "    }",
            "lineNumber": 370
          },
          {
            "text": "    ",
            "lineNumber": 371
          },
          {
            "text": "    // その他の申請タイプの場合はapplicationIdが必要",
            "lineNumber": 372
          },
          {
            "text": "    if (applicationType !== 'DAILY_CONFIRMATION' &amp;&amp; !applicationId) {",
            "lineNumber": 373
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 374
          },
          {
            "text": "        success: false,",
            "lineNumber": 375
          },
          {
            "text": "        message: '申請IDが必要です。'",
            "lineNumber": 376
          },
          {
            "text": "      });",
            "lineNumber": 377
          },
          {
            "text": "    }",
            "lineNumber": 378
          },
          {
            "text": "    ",
            "lineNumber": 379
          },
          {
            "text": "    await applicationService.cancelApplication(employeeId, applicationType, applicationId, targetDate);",
            "lineNumber": 380
          },
          {
            "text": "    ",
            "lineNumber": 381
          },
          {
            "text": "    res.json({",
            "lineNumber": 382
          },
          {
            "text": "      success: true,",
            "lineNumber": 383
          },
          {
            "text": "      message: '申請を取り消しました。'",
            "lineNumber": 384
          },
          {
            "text": "    });",
            "lineNumber": 385
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 386
          },
          {
            "text": "    if (error.message.includes('月次申請を行っている場合')) {",
            "lineNumber": 387
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 388
          },
          {
            "text": "        success: false,",
            "lineNumber": 389
          },
          {
            "text": "        message: error.message",
            "lineNumber": 390
          },
          {
            "text": "      });",
            "lineNumber": 391
          },
          {
            "text": "    }",
            "lineNumber": 392
          },
          {
            "text": "    next(error);",
            "lineNumber": 393
          },
          {
            "text": "  }",
            "lineNumber": 394
          },
          {
            "text": "};",
            "lineNumber": 395
          },
          {
            "lineNumber": 396
          },
          {
            "text": "module.exports = {",
            "lineNumber": 397
          },
          {
            "text": "  applyVacation,",
            "lineNumber": 398
          },
          {
            "text": "  applyHolidayWork,",
            "lineNumber": 399
          },
          {
            "text": "  applyOvertime,",
            "lineNumber": 400
          }
        ]
      },
      "score": 0.3418646454811096
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 603
          },
          "endPosition": {
            "line": 642,
            "column": 5
          }
        },
        "contents": "   - 「閉じる」ボタンを表示\n   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある\n\n3. ダイアログの閉じる処理\n   - 「キャンセル」リンクまたは「閉じる」ボタン押下でダイアログを閉じる。\n\n#### 名称：月次サマリーリンク押下処理、英名：showMonthlySummary、処理タイミング：テーブル上部操作エリア.月次サマリーリンク.押下\n\n1. 月次サマリーデータ取得\n   - API利用仕様に従い、月次サマリーデータを取得する。\n   - 【API利用仕様 No.7（月次サマリー取得API）】\n\n2. 月次サマリー画面表示\n   - 月次サマリー画面を表示する。\n\n#### 名称：ステータス表示押下処理、英名：showStatusDialog、処理タイミング：テーブル上部操作エリア.ステータス表示.押下\n\n1. 月次承認履歴取得\n   - API利用仕様に従い、表示年月の月次承認履歴を取得する。\n   - 【API利用仕様 No.9（月次承認履歴取得API）】\n\n2. ステータスダイアログ表示\n   - ステータスダイアログを表示する。\n   - ダイアログタイトル: 「ステータス」\n   - 承認履歴テーブルに取得した履歴を表示\n   - 承認履歴が0件の場合は「承認履歴はありません」と表示\n\n3. 申請取消ボタンの活性制御\n   - 月次確定申請中（MONTHLY_APPROVAL_STATUS=PENDING）の場合: 活性（青色ボタン）\n   - 上記以外の場合: 非活性（グレーボタン）\n\n#### 名称：申請取消ボタン押下処理、英名：cancelMonthlyApproval、処理タイミング：ステータスダイアログ.申請取消ボタン.押下\n\n1. 確認ダイアログ表示\n   - 「月次確定申請を取り消しますか？」の確認ダイアログを表示する。\n   - 「OK」ボタンと「キャンセル」ボタンを表示\n\n2. 取消処理\n   - 「OK」ボタン押下時:\n     ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "   - 「閉じる」ボタンを表示",
            "lineNumber": 604
          },
          {
            "text": "   - 備考: 却下された場合は、修正後に再度日次確定申請を行う必要がある",
            "lineNumber": 605
          },
          {
            "lineNumber": 606
          },
          {
            "text": "3. ダイアログの閉じる処理",
            "lineNumber": 607
          },
          {
            "text": "   - 「キャンセル」リンクまたは「閉じる」ボタン押下でダイアログを閉じる。",
            "lineNumber": 608
          },
          {
            "lineNumber": 609
          },
          {
            "text": "#### 名称：月次サマリーリンク押下処理、英名：showMonthlySummary、処理タイミング：テーブル上部操作エリア.月次サマリーリンク.押下",
            "lineNumber": 610
          },
          {
            "lineNumber": 611
          },
          {
            "text": "1. 月次サマリーデータ取得",
            "lineNumber": 612
          },
          {
            "text": "   - API利用仕様に従い、月次サマリーデータを取得する。",
            "lineNumber": 613
          },
          {
            "text": "   - 【API利用仕様 No.7（月次サマリー取得API）】",
            "lineNumber": 614
          },
          {
            "lineNumber": 615
          },
          {
            "text": "2. 月次サマリー画面表示",
            "lineNumber": 616
          },
          {
            "text": "   - 月次サマリー画面を表示する。",
            "lineNumber": 617
          },
          {
            "lineNumber": 618
          },
          {
            "text": "#### 名称：ステータス表示押下処理、英名：showStatusDialog、処理タイミング：テーブル上部操作エリア.ステータス表示.押下",
            "lineNumber": 619
          },
          {
            "lineNumber": 620
          },
          {
            "text": "1. 月次承認履歴取得",
            "lineNumber": 621
          },
          {
            "text": "   - API利用仕様に従い、表示年月の月次承認履歴を取得する。",
            "lineNumber": 622
          },
          {
            "text": "   - 【API利用仕様 No.9（月次承認履歴取得API）】",
            "lineNumber": 623
          },
          {
            "lineNumber": 624
          },
          {
            "text": "2. ステータスダイアログ表示",
            "lineNumber": 625
          },
          {
            "text": "   - ステータスダイアログを表示する。",
            "lineNumber": 626
          },
          {
            "text": "   - ダイアログタイトル: 「ステータス」",
            "lineNumber": 627
          },
          {
            "text": "   - 承認履歴テーブルに取得した履歴を表示",
            "lineNumber": 628
          },
          {
            "text": "   - 承認履歴が0件の場合は「承認履歴はありません」と表示",
            "lineNumber": 629
          },
          {
            "lineNumber": 630
          },
          {
            "text": "3. 申請取消ボタンの活性制御",
            "lineNumber": 631
          },
          {
            "text": "   - 月次確定申請中（MONTHLY_APPROVAL_STATUS=PENDING）の場合: 活性（青色ボタン）",
            "lineNumber": 632
          },
          {
            "text": "   - 上記以外の場合: 非活性（グレーボタン）",
            "lineNumber": 633
          },
          {
            "lineNumber": 634
          },
          {
            "text": "#### 名称：申請取消ボタン押下処理、英名：cancelMonthlyApproval、処理タイミング：ステータスダイアログ.申請取消ボタン.押下",
            "lineNumber": 635
          },
          {
            "lineNumber": 636
          },
          {
            "text": "1. 確認ダイアログ表示",
            "lineNumber": 637
          },
          {
            "text": "   - 「月次確定申請を取り消しますか？」の確認ダイアログを表示する。",
            "lineNumber": 638
          },
          {
            "text": "   - 「OK」ボタンと「キャンセル」ボタンを表示",
            "lineNumber": 639
          },
          {
            "lineNumber": 640
          },
          {
            "text": "2. 取消処理",
            "lineNumber": 641
          },
          {
            "text": "   - 「OK」ボタン押下時:",
            "lineNumber": 642
          },
          {
            "text": "     ",
            "lineNumber": 643
          }
        ]
      },
      "score": 0.3350323438644409
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1763
          },
          "endPosition": {
            "line": 1802
          }
        },
        "contents": "### 申請状況詳細ダイアログ\n\n申請状況アイコン（申請中、承認済み）を押下すると、勤怠関連申請ダイアログが開き、申請タイプに応じたタブが表示されます。\n\n#### ダイアログの構成\n- **タイトル**: 「勤怠関連申請」（青色のヘッダーバー）\n- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）\n- **申請タイプタブ**: 申請タイプに応じたタブを表示（日次確定/休日出勤申請/休暇申請）\n- **申請フォーム**: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）\n- **申請情報セクション**（申請中または承認済みの場合のみ表示）:\n  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示\n  - **状況**: 申請中/承認済みを表示\n  - **承認履歴**: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）\n- **取消ボタン**: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示\n- **キャンセルリンク**: ダイアログを閉じる\n\n#### 申請タイプによる表示内容の違い\n\n##### 1. 日次確定申請の場合\n- **申請フォーム**: 出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n##### 2. 休日出勤申請の場合\n- **申請フォーム**: 開始時刻、終了時刻、休憩時間、備考を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n##### 3. 休暇申請の場合\n- **申請フォーム**: 休暇種類、期間（開始日、終了日）、備考、連絡先を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n#### 申請状態による表示内容の違い\n\n##### 1. 申請中（PENDING）の場合\n- **申請状態**: 「申請中」と表示\n- **申請日時**: 申請を行った日時を表示\n- **承認履歴**: 申請時の履歴を表示",
        "signatures": {},
        "detailedLines": [
          {
            "text": "### 申請状況詳細ダイアログ",
            "lineNumber": 1764
          },
          {
            "lineNumber": 1765
          },
          {
            "text": "申請状況アイコン（申請中、承認済み）を押下すると、勤怠関連申請ダイアログが開き、申請タイプに応じたタブが表示されます。",
            "lineNumber": 1766
          },
          {
            "lineNumber": 1767
          },
          {
            "text": "#### ダイアログの構成",
            "lineNumber": 1768
          },
          {
            "text": "- **タイトル**: 「勤怠関連申請」（青色のヘッダーバー）",
            "lineNumber": 1769
          },
          {
            "text": "- **日付表示**: 対象日をYYYY年MM月DD日X曜日形式で表示（例: 2025年12月5日金曜日）",
            "lineNumber": 1770
          },
          {
            "text": "- **申請タイプタブ**: 申請タイプに応じたタブを表示（日次確定/休日出勤申請/休暇申請）",
            "lineNumber": 1771
          },
          {
            "text": "- **申請フォーム**: 申請タイプに応じたフォームを表示（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1772
          },
          {
            "text": "- **申請情報セクション**（申請中または承認済みの場合のみ表示）:",
            "lineNumber": 1773
          },
          {
            "text": "  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1774
          },
          {
            "text": "  - **状況**: 申請中/承認済みを表示",
            "lineNumber": 1775
          },
          {
            "text": "  - **承認履歴**: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）",
            "lineNumber": 1776
          },
          {
            "text": "- **取消ボタン**: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示",
            "lineNumber": 1777
          },
          {
            "text": "- **キャンセルリンク**: ダイアログを閉じる",
            "lineNumber": 1778
          },
          {
            "lineNumber": 1779
          },
          {
            "text": "#### 申請タイプによる表示内容の違い",
            "lineNumber": 1780
          },
          {
            "lineNumber": 1781
          },
          {
            "text": "##### 1. 日次確定申請の場合",
            "lineNumber": 1782
          },
          {
            "text": "- **申請フォーム**: 出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示",
            "lineNumber": 1783
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1784
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1785
          },
          {
            "lineNumber": 1786
          },
          {
            "text": "##### 2. 休日出勤申請の場合",
            "lineNumber": 1787
          },
          {
            "text": "- **申請フォーム**: 開始時刻、終了時刻、休憩時間、備考を表示",
            "lineNumber": 1788
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1789
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1790
          },
          {
            "lineNumber": 1791
          },
          {
            "text": "##### 3. 休暇申請の場合",
            "lineNumber": 1792
          },
          {
            "text": "- **申請フォーム**: 休暇種類、期間（開始日、終了日）、備考、連絡先を表示",
            "lineNumber": 1793
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1794
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1795
          },
          {
            "lineNumber": 1796
          },
          {
            "text": "#### 申請状態による表示内容の違い",
            "lineNumber": 1797
          },
          {
            "lineNumber": 1798
          },
          {
            "text": "##### 1. 申請中（PENDING）の場合",
            "lineNumber": 1799
          },
          {
            "text": "- **申請状態**: 「申請中」と表示",
            "lineNumber": 1800
          },
          {
            "text": "- **申請日時**: 申請を行った日時を表示",
            "lineNumber": 1801
          },
          {
            "text": "- **承認履歴**: 申請時の履歴を表示",
            "lineNumber": 1802
          }
        ]
      },
      "score": 0.33443590998649597
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1689
          },
          "endPosition": {
            "line": 1719
          }
        },
        "contents": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化\n\n**注意事項**:\n- 振替申請ボタンは休日でも常に活性状態を維持します\n- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です\n- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります\n\n### 申請取り消し機能\n\n申請中または承認済みの申請を取り消すことができます。\n\n#### 申請取消ボタンの表示条件\n- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます\n- 申請取消ボタンは赤色のボタンで表示されます\n- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります\n\n#### 申請取り消しの手順\n1. 申請中または承認済みの申請タイプのタブを開く\n2. 「申請取消」ボタンをクリックする\n3. 申請取消確認ダイアログが表示される\n   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される\n   - 申請日時が表示される\n   - 状況（申請済みまたは承認済み）が表示される\n   - 承認履歴テーブルが表示される\n4. 「承認取消」ボタンをクリックする\n5. 申請が取り消され、申請前の状態に戻る\n\n#### 申請取り消しの制約\n- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません\n- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
        "signatures": {},
        "detailedLines": [
          {
            "text": "4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化",
            "lineNumber": 1690
          },
          {
            "lineNumber": 1691
          },
          {
            "text": "**注意事項**:",
            "lineNumber": 1692
          },
          {
            "text": "- 振替申請ボタンは休日でも常に活性状態を維持します",
            "lineNumber": 1693
          },
          {
            "text": "- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です",
            "lineNumber": 1694
          },
          {
            "text": "- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります",
            "lineNumber": 1695
          },
          {
            "lineNumber": 1696
          },
          {
            "text": "### 申請取り消し機能",
            "lineNumber": 1697
          },
          {
            "lineNumber": 1698
          },
          {
            "text": "申請中または承認済みの申請を取り消すことができます。",
            "lineNumber": 1699
          },
          {
            "lineNumber": 1700
          },
          {
            "text": "#### 申請取消ボタンの表示条件",
            "lineNumber": 1701
          },
          {
            "text": "- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます",
            "lineNumber": 1702
          },
          {
            "text": "- 申請取消ボタンは赤色のボタンで表示されます",
            "lineNumber": 1703
          },
          {
            "text": "- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります",
            "lineNumber": 1704
          },
          {
            "lineNumber": 1705
          },
          {
            "text": "#### 申請取り消しの手順",
            "lineNumber": 1706
          },
          {
            "text": "1. 申請中または承認済みの申請タイプのタブを開く",
            "lineNumber": 1707
          },
          {
            "text": "2. 「申請取消」ボタンをクリックする",
            "lineNumber": 1708
          },
          {
            "text": "3. 申請取消確認ダイアログが表示される",
            "lineNumber": 1709
          },
          {
            "text": "   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される",
            "lineNumber": 1710
          },
          {
            "text": "   - 申請日時が表示される",
            "lineNumber": 1711
          },
          {
            "text": "   - 状況（申請済みまたは承認済み）が表示される",
            "lineNumber": 1712
          },
          {
            "text": "   - 承認履歴テーブルが表示される",
            "lineNumber": 1713
          },
          {
            "text": "4. 「承認取消」ボタンをクリックする",
            "lineNumber": 1714
          },
          {
            "text": "5. 申請が取り消され、申請前の状態に戻る",
            "lineNumber": 1715
          },
          {
            "lineNumber": 1716
          },
          {
            "text": "#### 申請取り消しの制約",
            "lineNumber": 1717
          },
          {
            "text": "- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません",
            "lineNumber": 1718
          },
          {
            "text": "- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です",
            "lineNumber": 1719
          }
        ]
      },
      "score": 0.3338738679885864
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 142
          },
          "endPosition": {
            "line": 154
          }
        },
        "contents": "| 69-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |\n| 69-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |\n| 70 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 振替申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |\n| 70-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |\n| 71 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;下部操作エリア&gt; | | | | | | | | | | | | |\n| 72 | 閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク |\n| | &lt;ローディング表示&gt; | | | | | | | | | | | | |\n| 73 | ローディングマーク | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | API通信中やデータ処理中に表示されるローディングインジケーター |\n| | &lt;エラーダイアログ&gt; | | | | | | | | | | | | |\n| 74 | エラーダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請時のエラー時に表示 |\n| 75 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | エラー | ダイアログのタイトル |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 69-3 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |",
            "lineNumber": 143
          },
          {
            "text": "| 69-4 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |",
            "lineNumber": 144
          },
          {
            "text": "| 70 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 振替申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |",
            "lineNumber": 145
          },
          {
            "text": "| 70-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |",
            "lineNumber": 146
          },
          {
            "text": "| 71 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 147
          },
          {
            "text": "| | &lt;下部操作エリア&gt; | | | | | | | | | | | | |",
            "lineNumber": 148
          },
          {
            "text": "| 72 | 閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク |",
            "lineNumber": 149
          },
          {
            "text": "| | &lt;ローディング表示&gt; | | | | | | | | | | | | |",
            "lineNumber": 150
          },
          {
            "text": "| 73 | ローディングマーク | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | API通信中やデータ処理中に表示されるローディングインジケーター |",
            "lineNumber": 151
          },
          {
            "text": "| | &lt;エラーダイアログ&gt; | | | | | | | | | | | | |",
            "lineNumber": 152
          },
          {
            "text": "| 74 | エラーダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請時のエラー時に表示 |",
            "lineNumber": 153
          },
          {
            "text": "| 75 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | エラー | ダイアログのタイトル |",
            "lineNumber": 154
          }
        ]
      },
      "score": 0.32694005966186523
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2031
          },
          "endPosition": {
            "line": 2075
          }
        },
        "contents": "      \n      // 出勤時刻が休憩時間より前の場合：青色（#1A69AB）\n      return '#1A69AB'\n    },\n    \n    // 休憩時間を表示するかどうかを判定\n    shouldShowBreakTime(breakTime, day) {\n      // 有給休暇または夏季休暇の取得日の場合、通常の休憩時間の長方形を表示しない\n      if (day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE') {\n        return false\n      }\n      \n      // 出勤していない場合：表示する（グレー）\n      if (!day.clockIn) {\n        return true\n      }\n      \n      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const clockInMinutes = inHour * 60 + inMin\n      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない\n      return clockInMinutes &lt;= breakStartMinutes\n    },\n    \n      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）\n      openApplicationDialog(day) {\n        this.selectedDayForApplication = day\n        this.selectedApplicationType = null\n        this.showApplicationDialog = true\n      },\n      \n      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）\n      openApplicationDialogWithType(day) {\n        this.selectedDayForApplication = day\n        \n        // どの申請タイプが申請中または承認済みかを判定\n        // 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 &gt; 残業 &gt; 早朝勤務 &gt; 振替\n        if (day.approvalStatus === 'PENDING' || day.approvalStatus === 'APPROVED') {\n          this.selectedApplicationType = 'dailyConfirmation'\n          this.selectedApplicationStatus = day.approvalStatus\n        } else if (day.holidayWorkApplicationStatus === 'PENDING' || day.holidayWorkApplicationStatus === 'APPROVED') {\n          this.selectedApplicationType = 'holidayWork'",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      ",
            "lineNumber": 2032
          },
          {
            "text": "      // 出勤時刻が休憩時間より前の場合：青色（#1A69AB）",
            "lineNumber": 2033
          },
          {
            "text": "      return '#1A69AB'",
            "lineNumber": 2034
          },
          {
            "text": "    },",
            "lineNumber": 2035
          },
          {
            "text": "    ",
            "lineNumber": 2036
          },
          {
            "text": "    // 休憩時間を表示するかどうかを判定",
            "lineNumber": 2037
          },
          {
            "text": "    shouldShowBreakTime(breakTime, day) {",
            "lineNumber": 2038
          },
          {
            "text": "      // 有給休暇または夏季休暇の取得日の場合、通常の休憩時間の長方形を表示しない",
            "lineNumber": 2039
          },
          {
            "text": "      if (day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 2040
          },
          {
            "text": "        return false",
            "lineNumber": 2041
          },
          {
            "text": "      }",
            "lineNumber": 2042
          },
          {
            "text": "      ",
            "lineNumber": 2043
          },
          {
            "text": "      // 出勤していない場合：表示する（グレー）",
            "lineNumber": 2044
          },
          {
            "text": "      if (!day.clockIn) {",
            "lineNumber": 2045
          },
          {
            "text": "        return true",
            "lineNumber": 2046
          },
          {
            "text": "      }",
            "lineNumber": 2047
          },
          {
            "text": "      ",
            "lineNumber": 2048
          },
          {
            "text": "      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック",
            "lineNumber": 2049
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 2050
          },
          {
            "text": "      const clockInMinutes = inHour * 60 + inMin",
            "lineNumber": 2051
          },
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 2052
          },
          {
            "text": "      ",
            "lineNumber": 2053
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない",
            "lineNumber": 2054
          },
          {
            "text": "      return clockInMinutes &lt;= breakStartMinutes",
            "lineNumber": 2055
          },
          {
            "text": "    },",
            "lineNumber": 2056
          },
          {
            "text": "    ",
            "lineNumber": 2057
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）",
            "lineNumber": 2058
          },
          {
            "text": "      openApplicationDialog(day) {",
            "lineNumber": 2059
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 2060
          },
          {
            "text": "        this.selectedApplicationType = null",
            "lineNumber": 2061
          },
          {
            "text": "        this.showApplicationDialog = true",
            "lineNumber": 2062
          },
          {
            "text": "      },",
            "lineNumber": 2063
          },
          {
            "text": "      ",
            "lineNumber": 2064
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）",
            "lineNumber": 2065
          },
          {
            "text": "      openApplicationDialogWithType(day) {",
            "lineNumber": 2066
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 2067
          },
          {
            "text": "        ",
            "lineNumber": 2068
          },
          {
            "text": "        // どの申請タイプが申請中または承認済みかを判定",
            "lineNumber": 2069
          },
          {
            "text": "        // 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 &gt; 残業 &gt; 早朝勤務 &gt; 振替",
            "lineNumber": 2070
          },
          {
            "text": "        if (day.approvalStatus === 'PENDING' || day.approvalStatus === 'APPROVED') {",
            "lineNumber": 2071
          },
          {
            "text": "          this.selectedApplicationType = 'dailyConfirmation'",
            "lineNumber": 2072
          },
          {
            "text": "          this.selectedApplicationStatus = day.approvalStatus",
            "lineNumber": 2073
          },
          {
            "text": "        } else if (day.holidayWorkApplicationStatus === 'PENDING' || day.holidayWorkApplicationStatus === 'APPROVED') {",
            "lineNumber": 2074
          },
          {
            "text": "          this.selectedApplicationType = 'holidayWork'",
            "lineNumber": 2075
          }
        ]
      },
      "score": 0.3228108882904053
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 821
          },
          "endPosition": {
            "line": 848,
            "column": 10
          }
        },
        "contents": "            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('earlyWork')\" \n                class=\"submit-button\" \n                @click=\"submitEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('earlyWork')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelEarlyWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('earlyWork') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 振替申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 822
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 823
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 824
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 825
          },
          {
            "text": "                @click=\"submitEarlyWorkApplication\"",
            "lineNumber": 826
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 827
          },
          {
            "text": "              &gt;",
            "lineNumber": 828
          },
          {
            "text": "                承認申請",
            "lineNumber": 829
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 830
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 831
          },
          {
            "text": "                v-if=\"isPendingOrApproved('earlyWork')\" ",
            "lineNumber": 832
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 833
          },
          {
            "text": "                @click=\"cancelEarlyWorkApplication\"",
            "lineNumber": 834
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 835
          },
          {
            "text": "              &gt;",
            "lineNumber": 836
          },
          {
            "text": "                {{ getCancelButtonLabel('earlyWork') }}",
            "lineNumber": 837
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 838
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 839
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 840
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 841
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 842
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 843
          },
          {
            "text": "      ",
            "lineNumber": 844
          },
          {
            "text": "      &lt;!-- 振替申請フォーム --&gt;",
            "lineNumber": 845
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'transfer'\" class=\"content-area\"&gt;",
            "lineNumber": 846
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 847
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 848
          },
          {
            "text": "          ",
            "lineNumber": 849
          }
        ]
      },
      "score": 0.3222074508666992
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "申請取消確認|cancel.*dialog|cancel.*confirm",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "申請取消確認|cancel.*dialog|cancel.*confirm",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "213:                @click=\"cancelDailyConfirmation\"",
              "matches": [
                {
                  "lineNumber": 216,
                  "content": "                {{ getCancelButtonLabel('dailyConfirmation') }}"
                },
                {
                  "lineNumber": 591,
                  "content": "              &lt;a href=\"#\" class=\"break-time-cancel\" @click.prevent=\"closeBreakTimeDialog\"&gt;キャンセル&lt;/a&gt;"
                },
                {
                  "lineNumber": 2532,
                  "content": "    async cancelDailyConfirmation() {"
                },
                {
                  "lineNumber": 2542,
                  "content": "      await this.executeCancelApplication('dailyConfirmation')"
                }
              ]
            }
          ],
          "totalLines": 4,
          "totalMatchedLines": 4
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


申請情報セクションの表示を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


休暇申請フォームの申請情報セクションを確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


代休の申請取消機能は既に実装済みです。申請中または承認済みの場合、申請情報セクションと申請取消ボタンが表示され、クリックで申請取消が実行されます。代休も他の休暇種別と同様に動作します。


---

<tool-use data-tool-type="task" data-tool-name="todo_write">
<details><summary>Tool use: **todo_write** • Todo List</summary>

- [x] 設計書を修正：代休のグラフ表示を有給休暇と同じスタイル（薄い青背景、#1A69ABのグラフ、細い白線）に変更
- [x] TimesheetScreen.vueに代休のグラフ表示を追加（有給休暇と同じスタイル）
- [x] 代休の申請取消機能を確認・実装

</details>
</tool-use>

---



---


実装を完了しました。変更点は以下の通りです。

## 実装内容

### 1. 設計書の修正
- `docs/detailed-design/ui/attendance-table-screen.md`を修正
- 代休のグラフ表示を有給休暇と同じスタイルに変更
  - 所定内労働時間帯（9:00-17:30）: 薄い青（#4B9EE4）の背景
  - 休憩時間（12:00-13:00）: 青色（#1A69AB）
  - 細い白線（1px）を表示

### 2. TimesheetScreen.vueの実装
- 代休（`SUBSTITUTE_HOLIDAY`）のグラフ表示を追加
- 有給休暇と同じスタイルで表示
  - 薄い青の背景（#4B9EE4）
  - 青色の休憩時間バー（#1A69AB）
  - 細い白線を表示

### 3. 申請取消機能
- 既存の休暇申請取消機能で代休も対応
- 申請中または承認済みの場合、申請取消ボタンが表示され、クリックで申請取消が実行されます

代休の申請時は、有給休暇と同じスタイルのグラフが表示され、申請取消も可能です。

---

_**User**_

いや、グラフの長方形全部が1A69ABになります。また代休のアイコンは一旦有給休暇などのあのコーヒーマークと同じで良いです。

---

_**Agent (model composer-1, mode Agent)**_



---


代休のグラフは長方形全体を#1A69ABに統一し、アイコンは有給休暇と同じコーヒーマークにします。実装を確認して修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "vacation.*icon|コーヒー|coffee|PAID_LEAVE.*icon",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "vacation.*icon|コーヒー|coffee|PAID_LEAVE.*icon",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "253:        &lt;!-- 有給休暇: コーヒーマーク --&gt;",
              "matches": [
                {
                  "lineNumber": 256,
                  "content": "          class=\"coffee-icon\""
                },
                {
                  "lineNumber": 262,
                  "content": "            &lt;!-- コーヒーカップ（白） --&gt;"
                },
                {
                  "lineNumber": 349,
                  "content": "          &lt;div v-else-if=\"day.vacationApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;"
                },
                {
                  "lineNumber": 357,
                  "content": "          &lt;div v-else-if=\"day.vacationApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;"
                }
              ]
            }
          ],
          "totalLines": 4,
          "totalMatchedLines": 4
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "有給休暇のアイコン表示とコーヒーマークの実装",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 242
          },
          "endPosition": {
            "line": 278,
            "column": 12
          }
        },
        "contents": "        &lt;/svg&gt;\n      &lt;/div&gt;\n      &lt;!-- 日付 --&gt;\n      &lt;span class=\"cell-date\"&gt;\n        &lt;span class=\"date-number\"&gt;{{ day.dateNumber }}&lt;/span&gt;\n        &lt;span :class=\"['date-day-of-week', getDayOfWeekClass(day)]\"&gt;{{ day.dateDayOfWeek }}&lt;/span&gt;\n      &lt;/span&gt;\n      \n      &lt;!-- 勤務状況アイコン --&gt;\n      &lt;div class=\"cell-work-status\"&gt;\n        &lt;!-- 有給休暇: コーヒーマーク --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"coffee-icon\"\n          title=\"有給休暇\"\n        &gt;\n          &lt;svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;!-- 水色の円 --&gt;\n            &lt;circle cx=\"9\" cy=\"9\" r=\"9\" fill=\"rgb(94, 168, 198)\"/&gt;\n            &lt;!-- コーヒーカップ（白） --&gt;\n            &lt;path d=\"M 5 6 L 5 11 L 7 11 L 7 13 L 11 13 L 11 11 L 13 11 L 13 6 Z\" fill=\"rgb(255, 255, 255)\"/&gt;\n            &lt;!-- ハンドル（白） --&gt;\n            &lt;path d=\"M 13 8 Q 14 8 14 9 Q 14 10 13 10\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;\n            &lt;!-- 湯気（白） --&gt;\n            &lt;line x1=\"6\" y1=\"5\" x2=\"6\" y2=\"3\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;\n            &lt;line x1=\"9\" y1=\"5\" x2=\"9\" y2=\"2\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;\n            &lt;line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"3\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 打刻時刻と入力時刻が異なる場合: 黄色の警告アイコン --&gt;\n        &lt;div \n          v-else-if=\"day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.hasStampManualMismatch &amp;&amp; !day.hasWarning &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) &amp;&amp; !day.hasVacation\"\n          class=\"stamp-manual-mismatch-icon\"\n          title=\"通常勤務日&amp;#10;打刻時刻と入力時刻が異なる理由を備考に入力してください\"\n        &gt;\n          &lt;div class=\"icon-circle-yellow\"&gt;\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 243
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 244
          },
          {
            "text": "      &lt;!-- 日付 --&gt;",
            "lineNumber": 245
          },
          {
            "text": "      &lt;span class=\"cell-date\"&gt;",
            "lineNumber": 246
          },
          {
            "text": "        &lt;span class=\"date-number\"&gt;{{ day.dateNumber }}&lt;/span&gt;",
            "lineNumber": 247
          },
          {
            "text": "        &lt;span :class=\"['date-day-of-week', getDayOfWeekClass(day)]\"&gt;{{ day.dateDayOfWeek }}&lt;/span&gt;",
            "lineNumber": 248
          },
          {
            "text": "      &lt;/span&gt;",
            "lineNumber": 249
          },
          {
            "text": "      ",
            "lineNumber": 250
          },
          {
            "text": "      &lt;!-- 勤務状況アイコン --&gt;",
            "lineNumber": 251
          },
          {
            "text": "      &lt;div class=\"cell-work-status\"&gt;",
            "lineNumber": 252
          },
          {
            "text": "        &lt;!-- 有給休暇: コーヒーマーク --&gt;",
            "lineNumber": 253
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 254
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 255
          },
          {
            "text": "          class=\"coffee-icon\"",
            "lineNumber": 256
          },
          {
            "text": "          title=\"有給休暇\"",
            "lineNumber": 257
          },
          {
            "text": "        &gt;",
            "lineNumber": 258
          },
          {
            "text": "          &lt;svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 259
          },
          {
            "text": "            &lt;!-- 水色の円 --&gt;",
            "lineNumber": 260
          },
          {
            "text": "            &lt;circle cx=\"9\" cy=\"9\" r=\"9\" fill=\"rgb(94, 168, 198)\"/&gt;",
            "lineNumber": 261
          },
          {
            "text": "            &lt;!-- コーヒーカップ（白） --&gt;",
            "lineNumber": 262
          },
          {
            "text": "            &lt;path d=\"M 5 6 L 5 11 L 7 11 L 7 13 L 11 13 L 11 11 L 13 11 L 13 6 Z\" fill=\"rgb(255, 255, 255)\"/&gt;",
            "lineNumber": 263
          },
          {
            "text": "            &lt;!-- ハンドル（白） --&gt;",
            "lineNumber": 264
          },
          {
            "text": "            &lt;path d=\"M 13 8 Q 14 8 14 9 Q 14 10 13 10\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;",
            "lineNumber": 265
          },
          {
            "text": "            &lt;!-- 湯気（白） --&gt;",
            "lineNumber": 266
          },
          {
            "text": "            &lt;line x1=\"6\" y1=\"5\" x2=\"6\" y2=\"3\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;",
            "lineNumber": 267
          },
          {
            "text": "            &lt;line x1=\"9\" y1=\"5\" x2=\"9\" y2=\"2\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;",
            "lineNumber": 268
          },
          {
            "text": "            &lt;line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"3\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\" stroke-linecap=\"round\"/&gt;",
            "lineNumber": 269
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 270
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 271
          },
          {
            "text": "        &lt;!-- 打刻時刻と入力時刻が異なる場合: 黄色の警告アイコン --&gt;",
            "lineNumber": 272
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 273
          },
          {
            "text": "          v-else-if=\"day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.hasStampManualMismatch &amp;&amp; !day.hasWarning &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) &amp;&amp; !day.hasVacation\"",
            "lineNumber": 274
          },
          {
            "text": "          class=\"stamp-manual-mismatch-icon\"",
            "lineNumber": 275
          },
          {
            "text": "          title=\"通常勤務日&amp;#10;打刻時刻と入力時刻が異なる理由を備考に入力してください\"",
            "lineNumber": 276
          },
          {
            "text": "        &gt;",
            "lineNumber": 277
          },
          {
            "text": "          &lt;div class=\"icon-circle-yellow\"&gt;",
            "lineNumber": 278
          },
          {
            "text": "            ",
            "lineNumber": 279
          }
        ]
      },
      "score": 0.5021660923957825
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 612
          },
          "endPosition": {
            "line": 639,
            "column": 12
          }
        },
        "contents": "        &lt;/template&gt;\n        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;\n        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;\n        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇のオレンジ色のアイコン（グラフの左端） --&gt;\n        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;!-- 吹き出しの本体（明るいオレンジ色） --&gt;\n            &lt;path d=\"M 8.5 1 Q 12 1 12 4.5 L 12 8.5 Q 12 12 8.5 12 Q 5 12 5 8.5 L 5 4.5 Q 5 1 8.5 1 Z\" fill=\"rgb(255, 183, 77)\"/&gt;\n            &lt;!-- ポインタ（下部の矢印） --&gt;\n            &lt;path d=\"M 8.5 12 L 6 15 L 11 15 Z\" fill=\"rgb(255, 183, 77)\"/&gt;\n            &lt;!-- 中心のOシンボル（白） --&gt;\n            &lt;circle cx=\"8.5\" cy=\"6.5\" r=\"2.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 休日出勤申請の緑の↑マーク（グラフ内） --&gt;\n        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 613
          },
          {
            "text": "        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;",
            "lineNumber": 614
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;",
            "lineNumber": 615
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 616
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 617
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 618
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 619
          },
          {
            "text": "        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;",
            "lineNumber": 620
          },
          {
            "text": "        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;",
            "lineNumber": 621
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 622
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 623
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 624
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 625
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇のオレンジ色のアイコン（グラフの左端） --&gt;",
            "lineNumber": 626
          },
          {
            "text": "        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 627
          },
          {
            "text": "          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 628
          },
          {
            "text": "            &lt;!-- 吹き出しの本体（明るいオレンジ色） --&gt;",
            "lineNumber": 629
          },
          {
            "text": "            &lt;path d=\"M 8.5 1 Q 12 1 12 4.5 L 12 8.5 Q 12 12 8.5 12 Q 5 12 5 8.5 L 5 4.5 Q 5 1 8.5 1 Z\" fill=\"rgb(255, 183, 77)\"/&gt;",
            "lineNumber": 630
          },
          {
            "text": "            &lt;!-- ポインタ（下部の矢印） --&gt;",
            "lineNumber": 631
          },
          {
            "text": "            &lt;path d=\"M 8.5 12 L 6 15 L 11 15 Z\" fill=\"rgb(255, 183, 77)\"/&gt;",
            "lineNumber": 632
          },
          {
            "text": "            &lt;!-- 中心のOシンボル（白） --&gt;",
            "lineNumber": 633
          },
          {
            "text": "            &lt;circle cx=\"8.5\" cy=\"6.5\" r=\"2.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\"/&gt;",
            "lineNumber": 634
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 635
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 636
          },
          {
            "text": "        &lt;!-- 休日出勤申請の緑の↑マーク（グラフ内） --&gt;",
            "lineNumber": 637
          },
          {
            "text": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 638
          },
          {
            "text": "          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 639
          },
          {
            "text": "            ",
            "lineNumber": 640
          }
        ]
      },
      "score": 0.41758453845977783
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1263
          },
          "endPosition": {
            "line": 1290
          }
        },
        "contents": "2. **打刻時刻と入力時刻が異なる場合**: 黄色の丸の中に「!」マーク（警告アイコン）\n   - 打刻した時刻と手入力した時刻が一致しない場合に表示される\n   - **表示条件**: 出勤時刻または退勤時刻の打刻種別がSTAMPまたはSCHEDULEDで、かつ手入力（MANUAL）で時刻が変更されている場合\n   - **ツールチップ**: マウスホバー時に「通常勤務日　打刻時刻と入力時刻が異なる理由を備考に入力してください」と表示される\n   - 備考欄に理由を入力することを促す警告アイコン\n   - **背景色**: 出社・退社のテキストボックスの背景色が黄色（#FFFF00）で表示される\n   - **戻り処理**: 勤怠情報入力画面で打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）と同じ時刻に変更し、打刻種別をSTAMPまたはSCHEDULEDに戻した場合、勤務状況アイコンはNIKKORIマークに戻り、背景色も白色に戻る\n\n3. **注意が必要な勤務**: 青色の丸の中に白い「!」マーク\n   - 打刻漏れや手入力による修正が必要な場合\n   - 工数未入力など、注意が必要な項目がある場合\n   - エラーアイコン（赤い!マーク）とは別に表示\n\n4. **有給休暇**: 水色の背景に白いコーヒーカップのアイコン\n   - 有給休暇取得日を示す\n   - 行全体がオレンジ色の背景で表示される\n   - アイコンは水色の円の中に白いコーヒーカップ（湯気付き）が描かれたアイコン\n\n5. **代休**: オレンジ色の背景に白い下向きの笑顔アイコン\n   - 代休取得日を示す\n   - 行全体がオレンジ色の背景で表示される\n   - アイコンはオレンジ色の円の中に白い下向きの笑顔が描かれたアイコン\n\n6. **休日（法定休日・所定休日）**: 休日種別に応じたアイコン\n   - 土日祝日など、法定休日や所定休日を示すアイコン",
        "signatures": {},
        "detailedLines": [
          {
            "text": "2. **打刻時刻と入力時刻が異なる場合**: 黄色の丸の中に「!」マーク（警告アイコン）",
            "lineNumber": 1265
          },
          {
            "text": "   - 打刻した時刻と手入力した時刻が一致しない場合に表示される",
            "lineNumber": 1266
          },
          {
            "text": "   - **表示条件**: 出勤時刻または退勤時刻の打刻種別がSTAMPまたはSCHEDULEDで、かつ手入力（MANUAL）で時刻が変更されている場合",
            "lineNumber": 1267
          },
          {
            "text": "   - **ツールチップ**: マウスホバー時に「通常勤務日　打刻時刻と入力時刻が異なる理由を備考に入力してください」と表示される",
            "lineNumber": 1268
          },
          {
            "text": "   - 備考欄に理由を入力することを促す警告アイコン",
            "lineNumber": 1269
          },
          {
            "text": "   - **背景色**: 出社・退社のテキストボックスの背景色が黄色（#FFFF00）で表示される",
            "lineNumber": 1270
          },
          {
            "text": "   - **戻り処理**: 勤怠情報入力画面で打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）と同じ時刻に変更し、打刻種別をSTAMPまたはSCHEDULEDに戻した場合、勤務状況アイコンはNIKKORIマークに戻り、背景色も白色に戻る",
            "lineNumber": 1271
          },
          {
            "lineNumber": 1272
          },
          {
            "text": "3. **注意が必要な勤務**: 青色の丸の中に白い「!」マーク",
            "lineNumber": 1273
          },
          {
            "text": "   - 打刻漏れや手入力による修正が必要な場合",
            "lineNumber": 1274
          },
          {
            "text": "   - 工数未入力など、注意が必要な項目がある場合",
            "lineNumber": 1275
          },
          {
            "text": "   - エラーアイコン（赤い!マーク）とは別に表示",
            "lineNumber": 1276
          },
          {
            "lineNumber": 1277
          },
          {
            "text": "4. **有給休暇**: 水色の背景に白いコーヒーカップのアイコン",
            "lineNumber": 1278
          },
          {
            "text": "   - 有給休暇取得日を示す",
            "lineNumber": 1279
          },
          {
            "text": "   - 行全体がオレンジ色の背景で表示される",
            "lineNumber": 1280
          },
          {
            "text": "   - アイコンは水色の円の中に白いコーヒーカップ（湯気付き）が描かれたアイコン",
            "lineNumber": 1281
          },
          {
            "lineNumber": 1282
          },
          {
            "text": "5. **代休**: オレンジ色の背景に白い下向きの笑顔アイコン",
            "lineNumber": 1283
          },
          {
            "text": "   - 代休取得日を示す",
            "lineNumber": 1284
          },
          {
            "text": "   - 行全体がオレンジ色の背景で表示される",
            "lineNumber": 1285
          },
          {
            "text": "   - アイコンはオレンジ色の円の中に白い下向きの笑顔が描かれたアイコン",
            "lineNumber": 1286
          },
          {
            "lineNumber": 1287
          },
          {
            "text": "6. **休日（法定休日・所定休日）**: 休日種別に応じたアイコン",
            "lineNumber": 1288
          },
          {
            "text": "   - 土日祝日など、法定休日や所定休日を示すアイコン",
            "lineNumber": 1289
          }
        ]
      },
      "score": 0.39562439918518066
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 276
          },
          "endPosition": {
            "line": 312
          }
        },
        "contents": "        &gt;\n          &lt;div class=\"icon-circle-yellow\"&gt;\n            &lt;span class=\"icon-exclamation-black\"&gt;!&lt;/span&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 通常勤務: NIKKORIアイコン（出社と退社ボタンが押された場合） --&gt;\n        &lt;div \n          v-else-if=\"day.clockIn &amp;&amp; day.clockOut &amp;&amp; !day.hasWarning &amp;&amp; !day.hasStampManualMismatch &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) &amp;&amp; !day.hasVacation\"\n          class=\"nikori-icon\"\n          title=\"通常勤務日\"\n        &gt;\n          &lt;svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;!-- 顔の輪郭（青色の円） --&gt;\n            &lt;circle cx=\"9\" cy=\"9\" r=\"9\" fill=\"rgb(94, 168, 198)\"/&gt;\n            &lt;!-- 左目（白い小さな円） --&gt;\n            &lt;ellipse cx=\"6.5\" cy=\"7\" rx=\"1.5\" ry=\"3\" fill=\"rgb(255, 255, 255)\"/&gt;\n            &lt;!-- 右目（白い小さな円） --&gt;\n            &lt;ellipse cx=\"11.5\" cy=\"7\" rx=\"1.5\" ry=\"3\" fill=\"rgb(255, 255, 255)\"/&gt;\n            &lt;!-- 笑顔の口（白いベクター） --&gt;\n            &lt;path d=\"M 3 12.5 Q 9 17.5 15 12.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1\" stroke-linecap=\"round\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 注意が必要な勤務: !マーク --&gt;\n        &lt;div \n          v-else-if=\"day.hasWarning &amp;&amp; !day.hasVacation\" \n          class=\"warning-icon\"\n          title=\"注意が必要な勤務\"\n        &gt;\n          &lt;div class=\"icon-circle-blue\"&gt;\n            &lt;span class=\"icon-exclamation\"&gt;!&lt;/span&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      \n        &lt;!-- 申請状況 --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &gt;",
            "lineNumber": 277
          },
          {
            "text": "          &lt;div class=\"icon-circle-yellow\"&gt;",
            "lineNumber": 278
          },
          {
            "text": "            &lt;span class=\"icon-exclamation-black\"&gt;!&lt;/span&gt;",
            "lineNumber": 279
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 280
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 281
          },
          {
            "text": "        &lt;!-- 通常勤務: NIKKORIアイコン（出社と退社ボタンが押された場合） --&gt;",
            "lineNumber": 282
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 283
          },
          {
            "text": "          v-else-if=\"day.clockIn &amp;&amp; day.clockOut &amp;&amp; !day.hasWarning &amp;&amp; !day.hasStampManualMismatch &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) &amp;&amp; !day.hasVacation\"",
            "lineNumber": 284
          },
          {
            "text": "          class=\"nikori-icon\"",
            "lineNumber": 285
          },
          {
            "text": "          title=\"通常勤務日\"",
            "lineNumber": 286
          },
          {
            "text": "        &gt;",
            "lineNumber": 287
          },
          {
            "text": "          &lt;svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 288
          },
          {
            "text": "            &lt;!-- 顔の輪郭（青色の円） --&gt;",
            "lineNumber": 289
          },
          {
            "text": "            &lt;circle cx=\"9\" cy=\"9\" r=\"9\" fill=\"rgb(94, 168, 198)\"/&gt;",
            "lineNumber": 290
          },
          {
            "text": "            &lt;!-- 左目（白い小さな円） --&gt;",
            "lineNumber": 291
          },
          {
            "text": "            &lt;ellipse cx=\"6.5\" cy=\"7\" rx=\"1.5\" ry=\"3\" fill=\"rgb(255, 255, 255)\"/&gt;",
            "lineNumber": 292
          },
          {
            "text": "            &lt;!-- 右目（白い小さな円） --&gt;",
            "lineNumber": 293
          },
          {
            "text": "            &lt;ellipse cx=\"11.5\" cy=\"7\" rx=\"1.5\" ry=\"3\" fill=\"rgb(255, 255, 255)\"/&gt;",
            "lineNumber": 294
          },
          {
            "text": "            &lt;!-- 笑顔の口（白いベクター） --&gt;",
            "lineNumber": 295
          },
          {
            "text": "            &lt;path d=\"M 3 12.5 Q 9 17.5 15 12.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1\" stroke-linecap=\"round\"/&gt;",
            "lineNumber": 296
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 297
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 298
          },
          {
            "text": "        &lt;!-- 注意が必要な勤務: !マーク --&gt;",
            "lineNumber": 299
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 300
          },
          {
            "text": "          v-else-if=\"day.hasWarning &amp;&amp; !day.hasVacation\" ",
            "lineNumber": 301
          },
          {
            "text": "          class=\"warning-icon\"",
            "lineNumber": 302
          },
          {
            "text": "          title=\"注意が必要な勤務\"",
            "lineNumber": 303
          },
          {
            "text": "        &gt;",
            "lineNumber": 304
          },
          {
            "text": "          &lt;div class=\"icon-circle-blue\"&gt;",
            "lineNumber": 305
          },
          {
            "text": "            &lt;span class=\"icon-exclamation\"&gt;!&lt;/span&gt;",
            "lineNumber": 306
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 307
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 308
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 309
          },
          {
            "text": "      ",
            "lineNumber": 310
          },
          {
            "text": "      ",
            "lineNumber": 311
          },
          {
            "text": "        &lt;!-- 申請状況 --&gt;",
            "lineNumber": 312
          }
        ]
      },
      "score": 0.3820422887802124
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 732
          },
          "endPosition": {
            "line": 735
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況アイコン | 日次勤務データの状態に応じてアイコンを表示 | 通常勤務時はNIKKORIアイコン（青色の丸の中に白い笑顔）、打刻時刻と入力時刻が異なる場合は黄色の丸の中に「!」マーク（警告アイコン）、注意が必要な場合は青色の丸の中に「!」マーク、有給休暇は水色の丸の中に白いコーヒーカップアイコン、代休はオレンジ色の丸の中に白い下向きの笑顔アイコン、その他の休暇・休日は休暇種別に応じたアイコン。マウスホバーでツールチップ表示（通常勤務の場合は「通常勤務日」と表示、打刻時刻と入力時刻が異なる場合は「通常勤務日　打刻時刻と入力時刻が異なる理由を備考に入力してください」と表示）。表示条件：通常勤務日に出社と退社ボタンが押された際に表示。打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）と入力時刻が一致し、かつ打刻種別がSTAMPまたはSCHEDULEDの場合はNIKKORIアイコン、打刻時刻と入力時刻が異なる場合（打刻種別がMANUALで時刻が変更されている場合）は警告アイコン（黄色の丸の中に「!」マーク）。勤怠情報入力画面で打刻時刻と同じ時刻に変更し、打刻種別をSTAMPまたはSCHEDULEDに戻した場合、NIKKORIアイコンに戻る |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請状況アイコン | 日次勤務データの承認状態に応じてアイコンを表示 | 日次確定申請: APPROVAL_STATUS=PENDING：↑マーク・黒色（申請中）、APPROVED：青色の丸の中に白い✓チェックマーク（承認済み）、REJECTED：×マーク・赤色（却下）、NOT_SUBMITTED：+マーク・グレー色（未申請、日次確定ボタンとして機能）。休暇申請: VACATION_HISTORY.APPROVAL_STATUS=PENDING：↑マーク・黒色（申請中）、APPROVED：青色の丸の中に白い✓チェックマーク（承認済み）。休日出勤申請: APPLICATION_HISTORY.APPROVAL_STATUS=PENDING：↑マーク・黒色（申請中）、APPROVED：青色の丸の中に白い✓チェックマーク（承認済み）。複数の申請がある場合は優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 日次勤務データ.出勤時刻をHH:MM形式で表示 | 打刻種別がMANUALの場合は黄色背景（#FFFF00）、STAMPまたはSCHEDULEDの場合は白色背景。休暇申請がある場合はテキストボックスを表示しない（非表示）。土日祝の場合、休日出勤申請が承認されている（APPLICATION_HISTORY.APPLICATION_TYPE='HOLIDAY_WORK'かつAPPROVAL_STATUS='APPROVED'または'PENDING'）場合はテキストボックス表示、それ以外の場合はテキストボックスを表示しない。平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示、申請中（PENDING）または承認済み（APPROVED）の場合はテキストのみ表示（テキストボックスは表示されない） |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況アイコン | 日次勤務データの状態に応じてアイコンを表示 | 通常勤務時はNIKKORIアイコン（青色の丸の中に白い笑顔）、打刻時刻と入力時刻が異なる場合は黄色の丸の中に「!」マーク（警告アイコン）、注意が必要な場合は青色の丸の中に「!」マーク、有給休暇は水色の丸の中に白いコーヒーカップアイコン、代休はオレンジ色の丸の中に白い下向きの笑顔アイコン、その他の休暇・休日は休暇種別に応じたアイコン。マウスホバーでツールチップ表示（通常勤務の場合は「通常勤務日」と表示、打刻時刻と入力時刻が異なる場合は「通常勤務日　打刻時刻と入力時刻が異なる理由を備考に入力してください」と表示）。表示条件：通常勤務日に出社と退社ボタンが押された際に表示。打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）と入力時刻が一致し、かつ打刻種別がSTAMPまたはSCHEDULEDの場合はNIKKORIアイコン、打刻時刻と入力時刻が異なる場合（打刻種別がMANUALで時刻が変更されている場合）は警告アイコン（黄色の丸の中に「!」マーク）。勤怠情報入力画面で打刻時刻と同じ時刻に変更し、打刻種別をSTAMPまたはSCHEDULEDに戻した場合、NIKKORIアイコンに戻る |",
            "lineNumber": 733
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請状況アイコン | 日次勤務データの承認状態に応じてアイコンを表示 | 日次確定申請: APPROVAL_STATUS=PENDING：↑マーク・黒色（申請中）、APPROVED：青色の丸の中に白い✓チェックマーク（承認済み）、REJECTED：×マーク・赤色（却下）、NOT_SUBMITTED：+マーク・グレー色（未申請、日次確定ボタンとして機能）。休暇申請: VACATION_HISTORY.APPROVAL_STATUS=PENDING：↑マーク・黒色（申請中）、APPROVED：青色の丸の中に白い✓チェックマーク（承認済み）。休日出勤申請: APPLICATION_HISTORY.APPROVAL_STATUS=PENDING：↑マーク・黒色（申請中）、APPROVED：青色の丸の中に白い✓チェックマーク（承認済み）。複数の申請がある場合は優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 |",
            "lineNumber": 734
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 日次勤務データ.出勤時刻をHH:MM形式で表示 | 打刻種別がMANUALの場合は黄色背景（#FFFF00）、STAMPまたはSCHEDULEDの場合は白色背景。休暇申請がある場合はテキストボックスを表示しない（非表示）。土日祝の場合、休日出勤申請が承認されている（APPLICATION_HISTORY.APPLICATION_TYPE='HOLIDAY_WORK'かつAPPROVAL_STATUS='APPROVED'または'PENDING'）場合はテキストボックス表示、それ以外の場合はテキストボックスを表示しない。平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示、申請中（PENDING）または承認済み（APPROVED）の場合はテキストのみ表示（テキストボックスは表示されない） |",
            "lineNumber": 735
          }
        ]
      },
      "score": 0.373344361782074
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1881
          },
          "endPosition": {
            "line": 1940
          }
        },
        "contents": "    getClockInMarkerStyle(day) {\n      if (!day.clockIn) return {}\n      \n      // 長方形がある場合は長方形の左端、ない場合は時刻の位置\n      let leftPosition\n      if (day.clockIn &amp;&amp; day.clockOut) {\n        const graphStyle = this.getGraphStyle(day)\n        leftPosition = parseFloat(graphStyle.left)\n      } else {\n        leftPosition = this.getClockInPosition(day)\n      }\n      \n      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 3px)'\n      }\n    },\n    \n    // 退勤時刻の▼マークスタイルを取得（長方形の右上の角）\n    getClockOutMarkerStyle(day) {\n      if (!day.clockOut) return {}\n      \n      // 長方形がある場合は長方形の右端、ない場合は時刻の位置\n      let leftPosition\n      if (day.clockIn &amp;&amp; day.clockOut) {\n        const graphStyle = this.getGraphStyle(day)\n        const left = parseFloat(graphStyle.left)\n        const width = parseFloat(graphStyle.width)\n        leftPosition = left + width\n      } else {\n        leftPosition = this.getClockOutPosition(day)\n      }\n      \n      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 3px)'\n      }\n    },\n    \n    // 有給休暇または夏季休暇のオレンジ色のアイコンスタイルを取得\n    getVacationApplicationMarkerStyle(day) {\n      if (!day.hasVacation || day.vacationTypeCode !== 'PAID_LEAVE') return {}\n      \n      // 9:00の位置に配置（グラフの左端）\n      const leftPosition = this.calculateTimePosition(9, 0)\n      \n      // グラフの中央より少し上に配置\n      return {\n        left: &#96;${leftPosition}%&#96;,\n        top: 'calc(50% - 15px)'\n      }\n    },\n    \n    // 休日出勤申請の緑の↑マークスタイルを取得\n    getHolidayWorkApplicationMarkerStyle(day) {\n      if (!day.hasHolidayWorkApplication) return {}\n      ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getClockInMarkerStyle(day) {",
            "lineNumber": 1882
          },
          {
            "text": "      if (!day.clockIn) return {}",
            "lineNumber": 1883
          },
          {
            "text": "      ",
            "lineNumber": 1884
          },
          {
            "text": "      // 長方形がある場合は長方形の左端、ない場合は時刻の位置",
            "lineNumber": 1885
          },
          {
            "text": "      let leftPosition",
            "lineNumber": 1886
          },
          {
            "text": "      if (day.clockIn &amp;&amp; day.clockOut) {",
            "lineNumber": 1887
          },
          {
            "text": "        const graphStyle = this.getGraphStyle(day)",
            "lineNumber": 1888
          },
          {
            "text": "        leftPosition = parseFloat(graphStyle.left)",
            "lineNumber": 1889
          },
          {
            "text": "      } else {",
            "lineNumber": 1890
          },
          {
            "text": "        leftPosition = this.getClockInPosition(day)",
            "lineNumber": 1891
          },
          {
            "text": "      }",
            "lineNumber": 1892
          },
          {
            "text": "      ",
            "lineNumber": 1893
          },
          {
            "text": "      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）",
            "lineNumber": 1894
          },
          {
            "text": "      return {",
            "lineNumber": 1895
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1896
          },
          {
            "text": "        top: 'calc(50% - 3px)'",
            "lineNumber": 1897
          },
          {
            "text": "      }",
            "lineNumber": 1898
          },
          {
            "text": "    },",
            "lineNumber": 1899
          },
          {
            "text": "    ",
            "lineNumber": 1900
          },
          {
            "text": "    // 退勤時刻の▼マークスタイルを取得（長方形の右上の角）",
            "lineNumber": 1901
          },
          {
            "text": "    getClockOutMarkerStyle(day) {",
            "lineNumber": 1902
          },
          {
            "text": "      if (!day.clockOut) return {}",
            "lineNumber": 1903
          },
          {
            "text": "      ",
            "lineNumber": 1904
          },
          {
            "text": "      // 長方形がある場合は長方形の右端、ない場合は時刻の位置",
            "lineNumber": 1905
          },
          {
            "text": "      let leftPosition",
            "lineNumber": 1906
          },
          {
            "text": "      if (day.clockIn &amp;&amp; day.clockOut) {",
            "lineNumber": 1907
          },
          {
            "text": "        const graphStyle = this.getGraphStyle(day)",
            "lineNumber": 1908
          },
          {
            "text": "        const left = parseFloat(graphStyle.left)",
            "lineNumber": 1909
          },
          {
            "text": "        const width = parseFloat(graphStyle.width)",
            "lineNumber": 1910
          },
          {
            "text": "        leftPosition = left + width",
            "lineNumber": 1911
          },
          {
            "text": "      } else {",
            "lineNumber": 1912
          },
          {
            "text": "        leftPosition = this.getClockOutPosition(day)",
            "lineNumber": 1913
          },
          {
            "text": "      }",
            "lineNumber": 1914
          },
          {
            "text": "      ",
            "lineNumber": 1915
          },
          {
            "text": "      // バーの上端より少し下に配置（バーの上端: 50% - 5.5px、少し下にずらす）",
            "lineNumber": 1916
          },
          {
            "text": "      return {",
            "lineNumber": 1917
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1918
          },
          {
            "text": "        top: 'calc(50% - 3px)'",
            "lineNumber": 1919
          },
          {
            "text": "      }",
            "lineNumber": 1920
          },
          {
            "text": "    },",
            "lineNumber": 1921
          },
          {
            "text": "    ",
            "lineNumber": 1922
          },
          {
            "text": "    // 有給休暇または夏季休暇のオレンジ色のアイコンスタイルを取得",
            "lineNumber": 1923
          },
          {
            "text": "    getVacationApplicationMarkerStyle(day) {",
            "lineNumber": 1924
          },
          {
            "text": "      if (!day.hasVacation || day.vacationTypeCode !== 'PAID_LEAVE') return {}",
            "lineNumber": 1925
          },
          {
            "text": "      ",
            "lineNumber": 1926
          },
          {
            "text": "      // 9:00の位置に配置（グラフの左端）",
            "lineNumber": 1927
          },
          {
            "text": "      const leftPosition = this.calculateTimePosition(9, 0)",
            "lineNumber": 1928
          },
          {
            "text": "      ",
            "lineNumber": 1929
          },
          {
            "text": "      // グラフの中央より少し上に配置",
            "lineNumber": 1930
          },
          {
            "text": "      return {",
            "lineNumber": 1931
          },
          {
            "text": "        left: &#96;${leftPosition}%&#96;,",
            "lineNumber": 1932
          },
          {
            "text": "        top: 'calc(50% - 15px)'",
            "lineNumber": 1933
          },
          {
            "text": "      }",
            "lineNumber": 1934
          },
          {
            "text": "    },",
            "lineNumber": 1935
          },
          {
            "text": "    ",
            "lineNumber": 1936
          },
          {
            "text": "    // 休日出勤申請の緑の↑マークスタイルを取得",
            "lineNumber": 1937
          },
          {
            "text": "    getHolidayWorkApplicationMarkerStyle(day) {",
            "lineNumber": 1938
          },
          {
            "text": "      if (!day.hasHolidayWorkApplication) return {}",
            "lineNumber": 1939
          },
          {
            "text": "      ",
            "lineNumber": 1940
          }
        ]
      },
      "score": 0.343380331993103
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 340
          },
          "endPosition": {
            "line": 375
          }
        },
        "contents": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇申請: 申請中 --&gt;\n          &lt;div v-else-if=\"day.vacationApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇申請: 承認済み --&gt;\n          &lt;div v-else-if=\"day.vacationApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 未申請: +マーク --&gt;\n          &lt;button v-else class=\"plus-button\" @click=\"openApplicationDialog(day)\" title=\"勤怠関連申請\"&gt;\n            &lt;div class=\"plus-icon-circle\"&gt;\n              &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;\n              &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/button&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 出社時刻 --&gt;\n      &lt;div v-if=\"!day.hasVacation\" class=\"cell-clock-in\" :class=\"{ 'no-interaction': isHolidayOrWeekend(day), 'no-highlight': day.approvalStatus === 'PENDING' }\"&gt;\n        &lt;!-- テキストボックス表示（未申請または却下の場合） --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 341
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 343
          },
          {
            "text": "              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 344
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 345
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 346
          },
          {
            "text": "          ",
            "lineNumber": 347
          },
          {
            "text": "          &lt;!-- 休暇申請: 申請中 --&gt;",
            "lineNumber": 348
          },
          {
            "text": "          &lt;div v-else-if=\"day.vacationApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;",
            "lineNumber": 349
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 350
          },
          {
            "text": "              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 351
          },
          {
            "text": "              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 352
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 353
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 354
          },
          {
            "text": "          ",
            "lineNumber": 355
          },
          {
            "text": "          &lt;!-- 休暇申請: 承認済み --&gt;",
            "lineNumber": 356
          },
          {
            "text": "          &lt;div v-else-if=\"day.vacationApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 357
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 358
          },
          {
            "text": "              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 359
          },
          {
            "text": "              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 360
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 361
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 362
          },
          {
            "text": "          ",
            "lineNumber": 363
          },
          {
            "text": "          &lt;!-- 未申請: +マーク --&gt;",
            "lineNumber": 364
          },
          {
            "text": "          &lt;button v-else class=\"plus-button\" @click=\"openApplicationDialog(day)\" title=\"勤怠関連申請\"&gt;",
            "lineNumber": 365
          },
          {
            "text": "            &lt;div class=\"plus-icon-circle\"&gt;",
            "lineNumber": 366
          },
          {
            "text": "              &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;",
            "lineNumber": 367
          },
          {
            "text": "              &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;",
            "lineNumber": 368
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 369
          },
          {
            "text": "          &lt;/button&gt;",
            "lineNumber": 370
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 371
          },
          {
            "text": "      ",
            "lineNumber": 372
          },
          {
            "text": "      &lt;!-- 出社時刻 --&gt;",
            "lineNumber": 373
          },
          {
            "text": "      &lt;div v-if=\"!day.hasVacation\" class=\"cell-clock-in\" :class=\"{ 'no-interaction': isHolidayOrWeekend(day), 'no-highlight': day.approvalStatus === 'PENDING' }\"&gt;",
            "lineNumber": 374
          },
          {
            "text": "        &lt;!-- テキストボックス表示（未申請または却下の場合） --&gt;",
            "lineNumber": 375
          }
        ]
      },
      "score": 0.33958715200424194
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\MonthlySummaryScreen.vue",
        "range": {
          "startPosition": {
            "line": 89
          },
          "endPosition": {
            "line": 109
          }
        },
        "contents": "      &lt;/svg&gt;\n      &lt;div v-for=\"(day, index) in dailyData\" :key=\"index\" class=\"table-row\" :style=\"{ top: getRowTop(index) + 'px' }\"&gt;\n        &lt;svg class=\"row-background\" :viewBox=\"&#96;0 0 1873 ${getRowHeight(index)}&#96;\" preserveAspectRatio=\"none\" :style=\"{ height: getRowHeight(index) + 'px' }\"&gt;\n          &lt;rect :width=\"1873\" :height=\"getRowHeight(index)\" :fill=\"getRowBackgroundColor(day, index)\" stroke=\"#DDDDDD\" stroke-width=\"0.5\" /&gt;\n        &lt;/svg&gt;\n        &lt;span class=\"row-date\" :style=\"{ top: getRowContentTop(index) + 'px', left: index === 0 ? '64px' : (64 + getDatePaddingLeft(index, day.workDate)) + 'px' }\"&gt;{{ formatDate(day.workDate, index) }}&lt;/span&gt;\n        &lt;span class=\"row-day\" :style=\"{ top: (getRowContentTop(index) - 2) + 'px', color: getDayOfWeekColor(day.workDate, day) }\"&gt;{{ getDayOfWeek(day.workDate) }}&lt;/span&gt;\n        &lt;!-- 所定休日（土曜日・祝日）: ○ - 祝日は所定休日として優先表示 --&gt;\n        &lt;svg v-if=\"isScheduledHoliday(day.workDate, day)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;\n          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;\n        &lt;/svg&gt;\n        &lt;!-- 法定休日（日曜日、祝日でない場合）: ◎ --&gt;\n        &lt;svg v-else-if=\"isLegalHoliday(day.workDate)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;\n          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"4.5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;\n          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"3\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;\n        &lt;/svg&gt;\n        &lt;span class=\"row-event\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ getEventText(day) }}&lt;/span&gt;\n        &lt;span v-if=\"day.clockInTime\" class=\"row-clock-in\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockInTime) }}&lt;/span&gt;\n        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;\n        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;/svg&gt;",
            "lineNumber": 90
          },
          {
            "text": "      &lt;div v-for=\"(day, index) in dailyData\" :key=\"index\" class=\"table-row\" :style=\"{ top: getRowTop(index) + 'px' }\"&gt;",
            "lineNumber": 91
          },
          {
            "text": "        &lt;svg class=\"row-background\" :viewBox=\"&#96;0 0 1873 ${getRowHeight(index)}&#96;\" preserveAspectRatio=\"none\" :style=\"{ height: getRowHeight(index) + 'px' }\"&gt;",
            "lineNumber": 92
          },
          {
            "text": "          &lt;rect :width=\"1873\" :height=\"getRowHeight(index)\" :fill=\"getRowBackgroundColor(day, index)\" stroke=\"#DDDDDD\" stroke-width=\"0.5\" /&gt;",
            "lineNumber": 93
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 94
          },
          {
            "text": "        &lt;span class=\"row-date\" :style=\"{ top: getRowContentTop(index) + 'px', left: index === 0 ? '64px' : (64 + getDatePaddingLeft(index, day.workDate)) + 'px' }\"&gt;{{ formatDate(day.workDate, index) }}&lt;/span&gt;",
            "lineNumber": 95
          },
          {
            "text": "        &lt;span class=\"row-day\" :style=\"{ top: (getRowContentTop(index) - 2) + 'px', color: getDayOfWeekColor(day.workDate, day) }\"&gt;{{ getDayOfWeek(day.workDate) }}&lt;/span&gt;",
            "lineNumber": 96
          },
          {
            "text": "        &lt;!-- 所定休日（土曜日・祝日）: ○ - 祝日は所定休日として優先表示 --&gt;",
            "lineNumber": 97
          },
          {
            "text": "        &lt;svg v-if=\"isScheduledHoliday(day.workDate, day)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;",
            "lineNumber": 98
          },
          {
            "text": "          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;",
            "lineNumber": 99
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 100
          },
          {
            "text": "        &lt;!-- 法定休日（日曜日、祝日でない場合）: ◎ --&gt;",
            "lineNumber": 101
          },
          {
            "text": "        &lt;svg v-else-if=\"isLegalHoliday(day.workDate)\" class=\"holiday-icon\" :style=\"{ top: getRowContentTop(index) + 'px' }\" viewBox=\"0 0 11 11\" preserveAspectRatio=\"none\"&gt;",
            "lineNumber": 102
          },
          {
            "text": "          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"4.5\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;",
            "lineNumber": 103
          },
          {
            "text": "          &lt;circle cx=\"5.5\" cy=\"5.5\" r=\"3\" fill=\"none\" stroke=\"rgb(51, 51, 51)\" stroke-width=\"1\" /&gt;",
            "lineNumber": 104
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 105
          },
          {
            "text": "        &lt;span class=\"row-event\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ getEventText(day) }}&lt;/span&gt;",
            "lineNumber": 106
          },
          {
            "text": "        &lt;span v-if=\"day.clockInTime\" class=\"row-clock-in\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockInTime) }}&lt;/span&gt;",
            "lineNumber": 107
          },
          {
            "text": "        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;",
            "lineNumber": 108
          },
          {
            "text": "        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;",
            "lineNumber": 109
          }
        ]
      },
      "score": 0.3169926404953003
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 4177
          },
          "endPosition": {
            "line": 4251
          }
        },
        "contents": "/* 法定時間外残業セグメント */\n.graph-bar-over-legal {\n  background-color: #E28E1C;\n}\n\n/* 標準勤務時間帯のグレー長方形（平日のみ） */\n.scheduled-work-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  background-color: rgb(228, 228, 228); /* グレー */\n  z-index: 1; /* 勤務時間バーの下に表示 */\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 有給休暇または夏季休暇の所定内労働時間帯（薄い青） */\n.vacation-work-time-bar {\n  background-color: #4B9EE4; /* 薄い青 */\n  z-index: 1;\n}\n\n/* 有給休暇または夏季休暇の細い白線 */\n.vacation-white-line {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 1px;\n  background-color: rgb(255, 255, 255); /* 白 */\n  z-index: 3; /* グラフバーの上に表示 */\n  pointer-events: none;\n}\n\n/* 休憩時間のグレー長方形（休日出勤申請が承認されている場合） */\n.scheduled-break-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  background-color: #BBBBBB; /* 濃いグレー */\n  z-index: 1; /* 勤務時間バーの下に表示 */\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 有給休暇または夏季休暇の休憩時間の長方形 */\n.vacation-break-time-bar {\n  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */\n  z-index: 2; /* 所定内労働時間帯の上に表示 */\n}\n\n/* 休憩時間の四角形 */\n.break-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  z-index: 2;\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 出退勤時刻マーカー（▼マーク） */\n.clock-marker {\n  position: absolute;\n  transform: translate(-50%, -100%);\n  z-index: 3;\n  pointer-events: none;\n}\n\n/* 有給休暇または夏季休暇のオレンジ色のアイコンマーカー */\n.vacation-application-marker {\n  position: absolute;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/* 法定時間外残業セグメント */",
            "lineNumber": 4178
          },
          {
            "text": ".graph-bar-over-legal {",
            "lineNumber": 4179
          },
          {
            "text": "  background-color: #E28E1C;",
            "lineNumber": 4180
          },
          {
            "text": "}",
            "lineNumber": 4181
          },
          {
            "lineNumber": 4182
          },
          {
            "text": "/* 標準勤務時間帯のグレー長方形（平日のみ） */",
            "lineNumber": 4183
          },
          {
            "text": ".scheduled-work-time-bar {",
            "lineNumber": 4184
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4185
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4186
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4187
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4188
          },
          {
            "text": "  background-color: rgb(228, 228, 228); /* グレー */",
            "lineNumber": 4189
          },
          {
            "text": "  z-index: 1; /* 勤務時間バーの下に表示 */",
            "lineNumber": 4190
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4191
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4192
          },
          {
            "text": "}",
            "lineNumber": 4193
          },
          {
            "lineNumber": 4194
          },
          {
            "text": "/* 有給休暇または夏季休暇の所定内労働時間帯（薄い青） */",
            "lineNumber": 4195
          },
          {
            "text": ".vacation-work-time-bar {",
            "lineNumber": 4196
          },
          {
            "text": "  background-color: #4B9EE4; /* 薄い青 */",
            "lineNumber": 4197
          },
          {
            "text": "  z-index: 1;",
            "lineNumber": 4198
          },
          {
            "text": "}",
            "lineNumber": 4199
          },
          {
            "lineNumber": 4200
          },
          {
            "text": "/* 有給休暇または夏季休暇の細い白線 */",
            "lineNumber": 4201
          },
          {
            "text": ".vacation-white-line {",
            "lineNumber": 4202
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4203
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4204
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4205
          },
          {
            "text": "  height: 1px;",
            "lineNumber": 4206
          },
          {
            "text": "  background-color: rgb(255, 255, 255); /* 白 */",
            "lineNumber": 4207
          },
          {
            "text": "  z-index: 3; /* グラフバーの上に表示 */",
            "lineNumber": 4208
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4209
          },
          {
            "text": "}",
            "lineNumber": 4210
          },
          {
            "lineNumber": 4211
          },
          {
            "text": "/* 休憩時間のグレー長方形（休日出勤申請が承認されている場合） */",
            "lineNumber": 4212
          },
          {
            "text": ".scheduled-break-time-bar {",
            "lineNumber": 4213
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4214
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4215
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4216
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4217
          },
          {
            "text": "  background-color: #BBBBBB; /* 濃いグレー */",
            "lineNumber": 4218
          },
          {
            "text": "  z-index: 1; /* 勤務時間バーの下に表示 */",
            "lineNumber": 4219
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4220
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4221
          },
          {
            "text": "}",
            "lineNumber": 4222
          },
          {
            "lineNumber": 4223
          },
          {
            "text": "/* 有給休暇または夏季休暇の休憩時間の長方形 */",
            "lineNumber": 4224
          },
          {
            "text": ".vacation-break-time-bar {",
            "lineNumber": 4225
          },
          {
            "text": "  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */",
            "lineNumber": 4226
          },
          {
            "text": "  z-index: 2; /* 所定内労働時間帯の上に表示 */",
            "lineNumber": 4227
          },
          {
            "text": "}",
            "lineNumber": 4228
          },
          {
            "lineNumber": 4229
          },
          {
            "text": "/* 休憩時間の四角形 */",
            "lineNumber": 4230
          },
          {
            "text": ".break-time-bar {",
            "lineNumber": 4231
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4232
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4233
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4234
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4235
          },
          {
            "text": "  z-index: 2;",
            "lineNumber": 4236
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4237
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4238
          },
          {
            "text": "}",
            "lineNumber": 4239
          },
          {
            "lineNumber": 4240
          },
          {
            "text": "/* 出退勤時刻マーカー（▼マーク） */",
            "lineNumber": 4241
          },
          {
            "text": ".clock-marker {",
            "lineNumber": 4242
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4243
          },
          {
            "text": "  transform: translate(-50%, -100%);",
            "lineNumber": 4244
          },
          {
            "text": "  z-index: 3;",
            "lineNumber": 4245
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4246
          },
          {
            "text": "}",
            "lineNumber": 4247
          },
          {
            "lineNumber": 4248
          },
          {
            "text": "/* 有給休暇または夏季休暇のオレンジ色のアイコンマーカー */",
            "lineNumber": 4249
          },
          {
            "text": ".vacation-application-marker {",
            "lineNumber": 4250
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4251
          }
        ]
      },
      "score": 0.31004685163497925
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 516
          },
          "endPosition": {
            "line": 557
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-work-time-bar vacation-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の所定内労働時間帯（薄い青） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"scheduled-work-time-bar vacation-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合） --&gt;\n        &lt;div \n          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours\"\n          class=\"scheduled-break-time-bar\" \n          :style=\"getScheduledBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 517
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 518
          },
          {
            "text": "          class=\"scheduled-work-time-bar vacation-work-time-bar\" ",
            "lineNumber": 519
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 520
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 521
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 522
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 523
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 524
          },
          {
            "text": "        &lt;!-- 代休の所定内労働時間帯（薄い青） --&gt;",
            "lineNumber": 525
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 526
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 527
          },
          {
            "text": "          class=\"scheduled-work-time-bar vacation-work-time-bar\" ",
            "lineNumber": 528
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 529
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 530
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 531
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 532
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 533
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;",
            "lineNumber": 534
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 535
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 536
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 537
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 538
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 539
          },
          {
            "text": "        &lt;!-- 代休の細い白線 --&gt;",
            "lineNumber": 540
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 541
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 542
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 543
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 544
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 545
          },
          {
            "text": "        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合） --&gt;",
            "lineNumber": 546
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 547
          },
          {
            "text": "          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours\"",
            "lineNumber": 548
          },
          {
            "text": "          class=\"scheduled-break-time-bar\" ",
            "lineNumber": 549
          },
          {
            "text": "          :style=\"getScheduledBreakTimeStyle(day)\"",
            "lineNumber": 550
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 551
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 552
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 553
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 554
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;",
            "lineNumber": 555
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 556
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 557
          }
        ]
      },
      "score": 0.3054949641227722
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1224
          },
          "endPosition": {
            "line": 1266
          }
        },
        "contents": "#### その他\n- フレックスタイム適用社員には遅刻・早退・私用外出の定義は適用されない\n\n### 申請状況アイコンの表示\n\n#### アイコンの種類と表示条件\n申請状況は以下のアイコンで表示されます（APPROVAL_STATUSフィールドの値に基づく）：\n\n1. **未申請（NOT_SUBMITTED）**: +マーク（グレー色）\n   - 日次確定申請をまだ行っていない状態\n   - +マークが日次確定ボタンとして機能する\n   - クリックすると日次確定申請を実行\n\n2. **申請中（PENDING）**: ↑マーク（黒色、上向き矢印）\n   - 日次確定申請を行い、承認待ちの状態\n   - 上司や管理者による承認を待っている\n   - この状態では編集不可\n\n3. **承認済み（APPROVED）**: 青色の丸の中に白い✓チェックマーク\n   - 申請が承認された状態\n   - 確定されており、編集不可\n   - 承認済みであることを明確に示す\n\n4. **却下（REJECTED）**: ×マーク（赤色）\n   - 申請が却下された状態\n   - 再申請や修正が必要\n   - +マークに戻り、再度申請可能\n\n### 勤務状況アイコンの表示\n\n#### 勤務状況アイコンの種類\n勤務状況に応じて、日付列の左側に表示されるアイコン：\n\n1. **通常勤務**: NIKKORIアイコン（青色の丸の中に白い笑顔）\n   - 通常の出勤日で特に注意事項がない場合\n   - **表示条件**: 通常勤務日に出社と退社ボタンが押された際に表示される\n   - **ツールチップ**: マウスホバー時に「通常勤務日」と表示される\n   - NIKKORIアイコンは青色の円（rgb(94, 168, 198)）の中に白い目と笑顔の口が描かれたアイコン\n\n2. **打刻時刻と入力時刻が異なる場合**: 黄色の丸の中に「!」マーク（警告アイコン）\n   - 打刻した時刻と手入力した時刻が一致しない場合に表示される",
        "signatures": {},
        "detailedLines": [
          {
            "text": "#### その他",
            "lineNumber": 1226
          },
          {
            "text": "- フレックスタイム適用社員には遅刻・早退・私用外出の定義は適用されない",
            "lineNumber": 1227
          },
          {
            "lineNumber": 1228
          },
          {
            "text": "### 申請状況アイコンの表示",
            "lineNumber": 1229
          },
          {
            "lineNumber": 1230
          },
          {
            "text": "#### アイコンの種類と表示条件",
            "lineNumber": 1231
          },
          {
            "text": "申請状況は以下のアイコンで表示されます（APPROVAL_STATUSフィールドの値に基づく）：",
            "lineNumber": 1232
          },
          {
            "lineNumber": 1233
          },
          {
            "text": "1. **未申請（NOT_SUBMITTED）**: +マーク（グレー色）",
            "lineNumber": 1234
          },
          {
            "text": "   - 日次確定申請をまだ行っていない状態",
            "lineNumber": 1235
          },
          {
            "text": "   - +マークが日次確定ボタンとして機能する",
            "lineNumber": 1236
          },
          {
            "text": "   - クリックすると日次確定申請を実行",
            "lineNumber": 1237
          },
          {
            "lineNumber": 1238
          },
          {
            "text": "2. **申請中（PENDING）**: ↑マーク（黒色、上向き矢印）",
            "lineNumber": 1239
          },
          {
            "text": "   - 日次確定申請を行い、承認待ちの状態",
            "lineNumber": 1240
          },
          {
            "text": "   - 上司や管理者による承認を待っている",
            "lineNumber": 1241
          },
          {
            "text": "   - この状態では編集不可",
            "lineNumber": 1242
          },
          {
            "lineNumber": 1243
          },
          {
            "text": "3. **承認済み（APPROVED）**: 青色の丸の中に白い✓チェックマーク",
            "lineNumber": 1244
          },
          {
            "text": "   - 申請が承認された状態",
            "lineNumber": 1245
          },
          {
            "text": "   - 確定されており、編集不可",
            "lineNumber": 1246
          },
          {
            "text": "   - 承認済みであることを明確に示す",
            "lineNumber": 1247
          },
          {
            "lineNumber": 1248
          },
          {
            "text": "4. **却下（REJECTED）**: ×マーク（赤色）",
            "lineNumber": 1249
          },
          {
            "text": "   - 申請が却下された状態",
            "lineNumber": 1250
          },
          {
            "text": "   - 再申請や修正が必要",
            "lineNumber": 1251
          },
          {
            "text": "   - +マークに戻り、再度申請可能",
            "lineNumber": 1252
          },
          {
            "lineNumber": 1253
          },
          {
            "text": "### 勤務状況アイコンの表示",
            "lineNumber": 1254
          },
          {
            "lineNumber": 1255
          },
          {
            "text": "#### 勤務状況アイコンの種類",
            "lineNumber": 1256
          },
          {
            "text": "勤務状況に応じて、日付列の左側に表示されるアイコン：",
            "lineNumber": 1257
          },
          {
            "lineNumber": 1258
          },
          {
            "text": "1. **通常勤務**: NIKKORIアイコン（青色の丸の中に白い笑顔）",
            "lineNumber": 1259
          },
          {
            "text": "   - 通常の出勤日で特に注意事項がない場合",
            "lineNumber": 1260
          },
          {
            "text": "   - **表示条件**: 通常勤務日に出社と退社ボタンが押された際に表示される",
            "lineNumber": 1261
          },
          {
            "text": "   - **ツールチップ**: マウスホバー時に「通常勤務日」と表示される",
            "lineNumber": 1262
          },
          {
            "text": "   - NIKKORIアイコンは青色の円（rgb(94, 168, 198)）の中に白い目と笑顔の口が描かれたアイコン",
            "lineNumber": 1263
          },
          {
            "lineNumber": 1264
          },
          {
            "text": "2. **打刻時刻と入力時刻が異なる場合**: 黄色の丸の中に「!」マーク（警告アイコン）",
            "lineNumber": 1265
          },
          {
            "text": "   - 打刻した時刻と手入力した時刻が一致しない場合に表示される",
            "lineNumber": 1266
          }
        ]
      },
      "score": 0.30042290687561035
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1424
          },
          "endPosition": {
            "line": 1462
          }
        },
        "contents": "- **表示条件**: \n  - 有給休暇、特別休暇など、休暇種別が設定されている日\n  - VACATION_HISTORYテーブルに該当日の休暇申請レコードが存在する\n  - APPROVAL_STATUS=PENDING（申請中）またはAPPROVED（承認済み）\n\n#### 休暇申請の扱い\n- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされる\n- 清算期間の所定労働時間に算入される\n- 休暇申請中（オレンジ色の行）は、出勤時刻・退勤時刻の編集不可\n\n#### 休暇申請時の表示制御\n休暇申請がある日（&#96;hasVacation=true&#96;）の場合、以下の表示制御を行う：\n\n1. **申請状況アイコンの表示**\n   - 休暇申請の承認状態（&#96;VACATION_HISTORY.APPROVAL_STATUS&#96;）に応じて表示\n   - &#96;PENDING&#96;（申請中）: ↑マーク（黒色）を表示\n   - &#96;APPROVED&#96;（承認済み）: ✓チェックマーク（青色の丸に白い✓）を表示\n   - 日次確定申請の状態とは独立して表示される\n\n2. **日次確定ボタンの非表示**\n   - 休暇申請がある場合は、日次確定ボタン（+アイコン）を非表示にする\n   - 休暇申請日は日次確定申請を行わないため\n\n3. **出社・退社・勤務場所のテキストボックスの非表示**\n   - 休暇申請がある場合は、出社時刻・退社時刻・勤務場所のテキストボックスを非表示にする\n   - 休暇申請日は出退社時刻や勤務場所の入力が不要なため\n\n4. **工数実績の+アイコンの非表示**\n   - 休暇申請がある場合は、工数実績の+アイコンを非表示にする\n   - 休暇申請日は工数実績の入力が不要なため\n\n### 日次確定申請の条件\n以下の条件を満たす必要があります:\n1. 出退社時刻が入力されていること\n2. 勤務場所が設定されていること\n3. 工数合計と実労働時間が一致していること\n4. 手入力の場合は備考に理由が入力されていること",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **表示条件**: ",
            "lineNumber": 1425
          },
          {
            "text": "  - 有給休暇、特別休暇など、休暇種別が設定されている日",
            "lineNumber": 1426
          },
          {
            "text": "  - VACATION_HISTORYテーブルに該当日の休暇申請レコードが存在する",
            "lineNumber": 1427
          },
          {
            "text": "  - APPROVAL_STATUS=PENDING（申請中）またはAPPROVED（承認済み）",
            "lineNumber": 1428
          },
          {
            "lineNumber": 1429
          },
          {
            "text": "#### 休暇申請の扱い",
            "lineNumber": 1430
          },
          {
            "text": "- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされる",
            "lineNumber": 1431
          },
          {
            "text": "- 清算期間の所定労働時間に算入される",
            "lineNumber": 1432
          },
          {
            "text": "- 休暇申請中（オレンジ色の行）は、出勤時刻・退勤時刻の編集不可",
            "lineNumber": 1433
          },
          {
            "lineNumber": 1434
          },
          {
            "text": "#### 休暇申請時の表示制御",
            "lineNumber": 1435
          },
          {
            "text": "休暇申請がある日（&#96;hasVacation=true&#96;）の場合、以下の表示制御を行う：",
            "lineNumber": 1436
          },
          {
            "lineNumber": 1437
          },
          {
            "text": "1. **申請状況アイコンの表示**",
            "lineNumber": 1438
          },
          {
            "text": "   - 休暇申請の承認状態（&#96;VACATION_HISTORY.APPROVAL_STATUS&#96;）に応じて表示",
            "lineNumber": 1439
          },
          {
            "text": "   - &#96;PENDING&#96;（申請中）: ↑マーク（黒色）を表示",
            "lineNumber": 1440
          },
          {
            "text": "   - &#96;APPROVED&#96;（承認済み）: ✓チェックマーク（青色の丸に白い✓）を表示",
            "lineNumber": 1441
          },
          {
            "text": "   - 日次確定申請の状態とは独立して表示される",
            "lineNumber": 1442
          },
          {
            "lineNumber": 1443
          },
          {
            "text": "2. **日次確定ボタンの非表示**",
            "lineNumber": 1444
          },
          {
            "text": "   - 休暇申請がある場合は、日次確定ボタン（+アイコン）を非表示にする",
            "lineNumber": 1445
          },
          {
            "text": "   - 休暇申請日は日次確定申請を行わないため",
            "lineNumber": 1446
          },
          {
            "lineNumber": 1447
          },
          {
            "text": "3. **出社・退社・勤務場所のテキストボックスの非表示**",
            "lineNumber": 1448
          },
          {
            "text": "   - 休暇申請がある場合は、出社時刻・退社時刻・勤務場所のテキストボックスを非表示にする",
            "lineNumber": 1449
          },
          {
            "text": "   - 休暇申請日は出退社時刻や勤務場所の入力が不要なため",
            "lineNumber": 1450
          },
          {
            "lineNumber": 1451
          },
          {
            "text": "4. **工数実績の+アイコンの非表示**",
            "lineNumber": 1452
          },
          {
            "text": "   - 休暇申請がある場合は、工数実績の+アイコンを非表示にする",
            "lineNumber": 1453
          },
          {
            "text": "   - 休暇申請日は工数実績の入力が不要なため",
            "lineNumber": 1454
          },
          {
            "lineNumber": 1455
          },
          {
            "text": "### 日次確定申請の条件",
            "lineNumber": 1456
          },
          {
            "text": "以下の条件を満たす必要があります:",
            "lineNumber": 1457
          },
          {
            "text": "1. 出退社時刻が入力されていること",
            "lineNumber": 1458
          },
          {
            "text": "2. 勤務場所が設定されていること",
            "lineNumber": 1459
          },
          {
            "text": "3. 工数合計と実労働時間が一致していること",
            "lineNumber": 1460
          },
          {
            "text": "4. 手入力の場合は備考に理由が入力されていること",
            "lineNumber": 1461
          }
        ]
      },
      "score": 0.29592180252075195
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 212
          },
          "endPosition": {
            "line": 245
          }
        },
        "contents": "    &lt;!-- エラー表示 --&gt;\n    &lt;div v-if=\"error &amp;&amp; !loading\" class=\"error-message\"&gt;\n      &lt;p&gt;{{ error }}&lt;/p&gt;\n      &lt;button @click=\"loadAttendanceData\" class=\"retry-button\"&gt;再読み込み&lt;/button&gt;\n    &lt;/div&gt;\n\n    &lt;!-- データ行 --&gt;\n    &lt;div v-for=\"day in attendanceData\" :key=\"day.date\" :class=\"['table-row', getRowClass(day)]\"&gt;\n      &lt;!-- 日次確定ボタン（+アイコン） --&gt;\n      &lt;button v-if=\"day.approvalStatus === 'NOT_SUBMITTED' &amp;&amp; !day.hasVacation &amp;&amp; (!(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) || day.hasHolidayWorkApplication)\" class=\"daily-confirm-button\" @click=\"confirmDaily(day)\" title=\"日次確定\"&gt;\n        &lt;div class=\"plus-icon-circle\"&gt;\n          &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;\n          &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/button&gt;\n      &lt;!-- 申請中マーク（↑アイコン） --&gt;\n      &lt;div v-if=\"day.approvalStatus === 'PENDING' &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6)\" class=\"pending-icon-daily\" title=\"日次確定(承認待ち)\"&gt;\n        &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n          &lt;!-- 矢印のシャフト（垂直線） --&gt;\n          &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n          &lt;!-- 矢印の頭部（三角形） --&gt;\n          &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n        &lt;/svg&gt;\n      &lt;/div&gt;\n      &lt;!-- 承認済みマーク（チェックアイコン） --&gt;\n      &lt;div v-if=\"day.approvalStatus === 'APPROVED' &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6)\" class=\"check-icon-daily\" title=\"日次確定(承認済み)\"&gt;\n        &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n          &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n          &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n        &lt;/svg&gt;\n      &lt;/div&gt;\n      &lt;!-- 日付 --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    &lt;!-- エラー表示 --&gt;",
            "lineNumber": 214
          },
          {
            "text": "    &lt;div v-if=\"error &amp;&amp; !loading\" class=\"error-message\"&gt;",
            "lineNumber": 215
          },
          {
            "text": "      &lt;p&gt;{{ error }}&lt;/p&gt;",
            "lineNumber": 216
          },
          {
            "text": "      &lt;button @click=\"loadAttendanceData\" class=\"retry-button\"&gt;再読み込み&lt;/button&gt;",
            "lineNumber": 217
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 218
          },
          {
            "lineNumber": 219
          },
          {
            "text": "    &lt;!-- データ行 --&gt;",
            "lineNumber": 220
          },
          {
            "text": "    &lt;div v-for=\"day in attendanceData\" :key=\"day.date\" :class=\"['table-row', getRowClass(day)]\"&gt;",
            "lineNumber": 221
          },
          {
            "text": "      &lt;!-- 日次確定ボタン（+アイコン） --&gt;",
            "lineNumber": 222
          },
          {
            "text": "      &lt;button v-if=\"day.approvalStatus === 'NOT_SUBMITTED' &amp;&amp; !day.hasVacation &amp;&amp; (!(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) || day.hasHolidayWorkApplication)\" class=\"daily-confirm-button\" @click=\"confirmDaily(day)\" title=\"日次確定\"&gt;",
            "lineNumber": 223
          },
          {
            "text": "        &lt;div class=\"plus-icon-circle\"&gt;",
            "lineNumber": 224
          },
          {
            "text": "          &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;",
            "lineNumber": 225
          },
          {
            "text": "          &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;",
            "lineNumber": 226
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 227
          },
          {
            "text": "      &lt;/button&gt;",
            "lineNumber": 228
          },
          {
            "text": "      &lt;!-- 申請中マーク（↑アイコン） --&gt;",
            "lineNumber": 229
          },
          {
            "text": "      &lt;div v-if=\"day.approvalStatus === 'PENDING' &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6)\" class=\"pending-icon-daily\" title=\"日次確定(承認待ち)\"&gt;",
            "lineNumber": 230
          },
          {
            "text": "        &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 231
          },
          {
            "text": "          &lt;!-- 矢印のシャフト（垂直線） --&gt;",
            "lineNumber": 232
          },
          {
            "text": "          &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 233
          },
          {
            "text": "          &lt;!-- 矢印の頭部（三角形） --&gt;",
            "lineNumber": 234
          },
          {
            "text": "          &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 235
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 236
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 237
          },
          {
            "text": "      &lt;!-- 承認済みマーク（チェックアイコン） --&gt;",
            "lineNumber": 238
          },
          {
            "text": "      &lt;div v-if=\"day.approvalStatus === 'APPROVED' &amp;&amp; !(day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6)\" class=\"check-icon-daily\" title=\"日次確定(承認済み)\"&gt;",
            "lineNumber": 239
          },
          {
            "text": "        &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 240
          },
          {
            "text": "          &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 241
          },
          {
            "text": "          &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 242
          },
          {
            "text": "        &lt;/svg&gt;",
            "lineNumber": 243
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 244
          },
          {
            "text": "      &lt;!-- 日付 --&gt;",
            "lineNumber": 245
          }
        ]
      },
      "score": 0.2926858961582184
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 651
          },
          "endPosition": {
            "line": 688
          }
        },
        "contents": "        :style=\"tooltipStyle\"\n      &gt;\n        &lt;div class=\"tooltip-content\"&gt;\n          &lt;!-- 見出し: 標準の勤務時間 --&gt;\n          &lt;div class=\"tooltip-header\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-header-text\"&gt;標準の勤務時間&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 標準勤務時間 --&gt;\n          &lt;div class=\"tooltip-row\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-label\"&gt;標準勤務時間&lt;/span&gt;\n            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkTime(day) }}&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 所定休憩時間 --&gt;\n          &lt;div class=\"tooltip-row\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-label\"&gt;所定休憩時間&lt;/span&gt;\n            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledBreakTime(day) }}&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇の場合の表示 --&gt;\n          &lt;template v-if=\"day.hasVacation\"&gt;\n            &lt;!-- 総労働時間（休暇時のみ） --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTimeForVacation(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/template&gt;\n          \n          &lt;!-- 通常勤務の場合の表示 --&gt;\n          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;\n            &lt;!-- 区切り線 --&gt;\n            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        :style=\"tooltipStyle\"",
            "lineNumber": 652
          },
          {
            "text": "      &gt;",
            "lineNumber": 653
          },
          {
            "text": "        &lt;div class=\"tooltip-content\"&gt;",
            "lineNumber": 654
          },
          {
            "text": "          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
            "lineNumber": 655
          },
          {
            "text": "          &lt;div class=\"tooltip-header\"&gt;",
            "lineNumber": 656
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 657
          },
          {
            "text": "            &lt;span class=\"tooltip-header-text\"&gt;標準の勤務時間&lt;/span&gt;",
            "lineNumber": 658
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 659
          },
          {
            "text": "          ",
            "lineNumber": 660
          },
          {
            "text": "          &lt;!-- 標準勤務時間 --&gt;",
            "lineNumber": 661
          },
          {
            "text": "          &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 662
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 663
          },
          {
            "text": "            &lt;span class=\"tooltip-label\"&gt;標準勤務時間&lt;/span&gt;",
            "lineNumber": 664
          },
          {
            "text": "            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkTime(day) }}&lt;/span&gt;",
            "lineNumber": 665
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 666
          },
          {
            "text": "          ",
            "lineNumber": 667
          },
          {
            "text": "          &lt;!-- 所定休憩時間 --&gt;",
            "lineNumber": 668
          },
          {
            "text": "          &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 669
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 670
          },
          {
            "text": "            &lt;span class=\"tooltip-label\"&gt;所定休憩時間&lt;/span&gt;",
            "lineNumber": 671
          },
          {
            "text": "            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledBreakTime(day) }}&lt;/span&gt;",
            "lineNumber": 672
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 673
          },
          {
            "text": "          ",
            "lineNumber": 674
          },
          {
            "text": "          &lt;!-- 休暇の場合の表示 --&gt;",
            "lineNumber": 675
          },
          {
            "text": "          &lt;template v-if=\"day.hasVacation\"&gt;",
            "lineNumber": 676
          },
          {
            "text": "            &lt;!-- 総労働時間（休暇時のみ） --&gt;",
            "lineNumber": 677
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 678
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 679
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;",
            "lineNumber": 680
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTimeForVacation(day) }}&lt;/span&gt;",
            "lineNumber": 681
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 682
          },
          {
            "text": "          &lt;/template&gt;",
            "lineNumber": 683
          },
          {
            "text": "          ",
            "lineNumber": 684
          },
          {
            "text": "          &lt;!-- 通常勤務の場合の表示 --&gt;",
            "lineNumber": 685
          },
          {
            "text": "          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;",
            "lineNumber": 686
          },
          {
            "text": "            &lt;!-- 区切り線 --&gt;",
            "lineNumber": 687
          },
          {
            "text": "            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;",
            "lineNumber": 688
          }
        ]
      },
      "score": 0.2902719974517822
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 637
          },
          "endPosition": {
            "line": 655
          }
        },
        "contents": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;circle cx=\"8.5\" cy=\"8.5\" r=\"8\" fill=\"rgb(76, 175, 80)\"/&gt;\n            &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n            &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"rgb(255, 255, 255)\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- グラフツールチップ --&gt;\n      &lt;div \n        v-if=\"showTooltip &amp;&amp; tooltipDay === day\"\n        ref=\"graphTooltip\"\n        class=\"graph-tooltip\"\n        :style=\"tooltipStyle\"\n      &gt;\n        &lt;div class=\"tooltip-content\"&gt;\n          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 638
          },
          {
            "text": "          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 639
          },
          {
            "text": "            &lt;circle cx=\"8.5\" cy=\"8.5\" r=\"8\" fill=\"rgb(76, 175, 80)\"/&gt;",
            "lineNumber": 640
          },
          {
            "text": "            &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 641
          },
          {
            "text": "            &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"rgb(255, 255, 255)\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 642
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 643
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 644
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 645
          },
          {
            "text": "      ",
            "lineNumber": 646
          },
          {
            "text": "      &lt;!-- グラフツールチップ --&gt;",
            "lineNumber": 647
          },
          {
            "text": "      &lt;div ",
            "lineNumber": 648
          },
          {
            "text": "        v-if=\"showTooltip &amp;&amp; tooltipDay === day\"",
            "lineNumber": 649
          },
          {
            "text": "        ref=\"graphTooltip\"",
            "lineNumber": 650
          },
          {
            "text": "        class=\"graph-tooltip\"",
            "lineNumber": 651
          },
          {
            "text": "        :style=\"tooltipStyle\"",
            "lineNumber": 652
          },
          {
            "text": "      &gt;",
            "lineNumber": 653
          },
          {
            "text": "        &lt;div class=\"tooltip-content\"&gt;",
            "lineNumber": 654
          },
          {
            "text": "          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
            "lineNumber": 655
          }
        ]
      },
      "score": 0.28611886501312256
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 309
          },
          "endPosition": {
            "line": 342,
            "column": 14
          }
        },
        "contents": "      \n      \n        &lt;!-- 申請状況 --&gt;\n        &lt;div class=\"cell-approval\"&gt;\n          &lt;!-- 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 --&gt;\n          \n          &lt;!-- 日次確定申請: 申請中 --&gt;\n          &lt;div v-if=\"day.approvalStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 日次確定申請: 承認済み --&gt;\n          &lt;div v-else-if=\"day.approvalStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休日出勤申請: 申請中 --&gt;\n          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休日出勤申請: 承認済み --&gt;\n          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      ",
            "lineNumber": 310
          },
          {
            "text": "      ",
            "lineNumber": 311
          },
          {
            "text": "        &lt;!-- 申請状況 --&gt;",
            "lineNumber": 312
          },
          {
            "text": "        &lt;div class=\"cell-approval\"&gt;",
            "lineNumber": 313
          },
          {
            "text": "          &lt;!-- 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 --&gt;",
            "lineNumber": 314
          },
          {
            "text": "          ",
            "lineNumber": 315
          },
          {
            "text": "          &lt;!-- 日次確定申請: 申請中 --&gt;",
            "lineNumber": 316
          },
          {
            "text": "          &lt;div v-if=\"day.approvalStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;",
            "lineNumber": 317
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 318
          },
          {
            "text": "              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 319
          },
          {
            "text": "              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 320
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 321
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 322
          },
          {
            "text": "          ",
            "lineNumber": 323
          },
          {
            "text": "          &lt;!-- 日次確定申請: 承認済み --&gt;",
            "lineNumber": 324
          },
          {
            "text": "          &lt;div v-else-if=\"day.approvalStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 325
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 326
          },
          {
            "text": "              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 327
          },
          {
            "text": "              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 328
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 329
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 330
          },
          {
            "text": "          ",
            "lineNumber": 331
          },
          {
            "text": "          &lt;!-- 休日出勤申請: 申請中 --&gt;",
            "lineNumber": 332
          },
          {
            "text": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;",
            "lineNumber": 333
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 334
          },
          {
            "text": "              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 335
          },
          {
            "text": "              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 336
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 337
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 338
          },
          {
            "text": "          ",
            "lineNumber": 339
          },
          {
            "text": "          &lt;!-- 休日出勤申請: 承認済み --&gt;",
            "lineNumber": 340
          },
          {
            "text": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 341
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "              ",
            "lineNumber": 343
          }
        ]
      },
      "score": 0.2856731116771698
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1547
          },
          "endPosition": {
            "line": 1569
          }
        },
        "contents": "- **色のルール**:\n  - **出勤していない場合（勤務予定日）**: グレー色（#BBBBBB）で表示\n  - **出勤している場合**: \n    - 出勤時刻が休憩時間（12:00）より前の場合：青色（#1A69AB）で表示\n    - 出勤時刻が休憩時間（12:00）より後の場合：四角形を表示しない（休憩時間が過ぎてから出勤した場合は休憩時間の四角形を表示しない）\n\n##### 4. 青色の▼マーク（出退勤時刻マーカー）\n- **出勤時刻**の位置に**青色の▼（下向き三角）**マークが表示される\n- **退勤時刻**の位置にも**青色の▼（下向き三角）**マークが表示される\n- 出勤のみで退勤前の状態（勤務中）では、**出勤時刻の位置にのみ▼が表示**される\n- ▼マークは長方形の左上の角（出勤時刻）と右上の角（退勤時刻）に配置される\n\n##### 5. 有給休暇または夏季休暇のグラフ表示\n- **有給休暇または夏季休暇の取得日**の場合、出勤・退勤データの有無に関わらず、以下のグラフが表示される：\n  - **所定内労働時間帯（9:00-17:30）**: 薄い青（#4B9EE4）の長方形で表示\n  - **休憩時間（12:00-13:00）**: 青色（#1A69AB）の長方形で表示\n  - **細い白線**: 所定内労働時間帯と休憩時間の長方形の上に細い白線（1px）を表示\n- これは有給休暇または夏季休暇の取得日であることを視覚的に示す\n\n##### 6. 代休のグラフ表示\n- **代休の取得日**の場合、出勤・退勤データの有無に関わらず、以下のグラフが表示される：\n  - **所定内労働時間帯（9:00-17:30）**: 薄い青（#4B9EE4）の長方形で表示（有給休暇などと同じ背景色）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **色のルール**:",
            "lineNumber": 1548
          },
          {
            "text": "  - **出勤していない場合（勤務予定日）**: グレー色（#BBBBBB）で表示",
            "lineNumber": 1549
          },
          {
            "text": "  - **出勤している場合**: ",
            "lineNumber": 1550
          },
          {
            "text": "    - 出勤時刻が休憩時間（12:00）より前の場合：青色（#1A69AB）で表示",
            "lineNumber": 1551
          },
          {
            "text": "    - 出勤時刻が休憩時間（12:00）より後の場合：四角形を表示しない（休憩時間が過ぎてから出勤した場合は休憩時間の四角形を表示しない）",
            "lineNumber": 1552
          },
          {
            "lineNumber": 1553
          },
          {
            "text": "##### 4. 青色の▼マーク（出退勤時刻マーカー）",
            "lineNumber": 1554
          },
          {
            "text": "- **出勤時刻**の位置に**青色の▼（下向き三角）**マークが表示される",
            "lineNumber": 1555
          },
          {
            "text": "- **退勤時刻**の位置にも**青色の▼（下向き三角）**マークが表示される",
            "lineNumber": 1556
          },
          {
            "text": "- 出勤のみで退勤前の状態（勤務中）では、**出勤時刻の位置にのみ▼が表示**される",
            "lineNumber": 1557
          },
          {
            "text": "- ▼マークは長方形の左上の角（出勤時刻）と右上の角（退勤時刻）に配置される",
            "lineNumber": 1558
          },
          {
            "lineNumber": 1559
          },
          {
            "text": "##### 5. 有給休暇または夏季休暇のグラフ表示",
            "lineNumber": 1560
          },
          {
            "text": "- **有給休暇または夏季休暇の取得日**の場合、出勤・退勤データの有無に関わらず、以下のグラフが表示される：",
            "lineNumber": 1561
          },
          {
            "text": "  - **所定内労働時間帯（9:00-17:30）**: 薄い青（#4B9EE4）の長方形で表示",
            "lineNumber": 1562
          },
          {
            "text": "  - **休憩時間（12:00-13:00）**: 青色（#1A69AB）の長方形で表示",
            "lineNumber": 1563
          },
          {
            "text": "  - **細い白線**: 所定内労働時間帯と休憩時間の長方形の上に細い白線（1px）を表示",
            "lineNumber": 1564
          },
          {
            "text": "- これは有給休暇または夏季休暇の取得日であることを視覚的に示す",
            "lineNumber": 1565
          },
          {
            "lineNumber": 1566
          },
          {
            "text": "##### 6. 代休のグラフ表示",
            "lineNumber": 1567
          },
          {
            "text": "- **代休の取得日**の場合、出勤・退勤データの有無に関わらず、以下のグラフが表示される：",
            "lineNumber": 1568
          },
          {
            "text": "  - **所定内労働時間帯（9:00-17:30）**: 薄い青（#4B9EE4）の長方形で表示（有給休暇などと同じ背景色）",
            "lineNumber": 1569
          }
        ]
      },
      "score": 0.2853747606277466
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 64
          },
          "endPosition": {
            "line": 70
          }
        },
        "contents": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定ボタン（+アイコン） | ボタン | | | | | | | 条件付き表示 | 活性 | | 日付列に表示される+マーク（グレー色）。押下で日次確定申請を実行。未確定（NOT_SUBMITTED）の日のみ表示。休暇申請がある場合は非表示 |\n| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況アイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 通常勤務時はNIKKORIアイコン（青色の丸の中に白い笑顔）、注意が必要な場合は青色の丸の中に「!」マーク。マウスホバーでツールチップ表示 |\n| 26-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況ツールチップ | 出力 | | オブジェクト | | | | | 条件付き表示 | 活性 | | 勤務状況アイコンにマウスホバー時に表示される詳細情報。通常勤務の場合は「通常勤務日」と表示 |\n| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請状況アイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 申請中（↑マーク・黒色）、承認済み（青色の丸の中に白い✓チェックマーク）、却下（×マーク・赤色）。未申請（NOT_SUBMITTED）時は+マークを表示 |\n| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 入出力 | | 時間 | | | | HH:MM | 条件付き表示 | 条件付き活性 | | 出勤時刻。手入力（MANUAL）は黄色背景、打刻（STAMP/SCHEDULED）は白色背景。休暇申請がある場合はテキストボックスを表示しない（非表示）。土日祝の場合、休日出勤申請が承認されている（APPLICATION_HISTORY.APPLICATION_TYPE='HOLIDAY_WORK'かつAPPROVAL_STATUS='APPROVED'または'PENDING'）場合はテキストボックス表示、それ以外の場合はテキストボックスを表示しない。平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示、申請中（PENDING）または承認済み（APPROVED）の場合はテキストのみ表示。押下で勤怠情報入力ダイアログを表示 |\n| 29 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 入出力 | | 時間 | | | | HH:MM | 条件付き表示 | 条件付き活性 | | 退勤時刻。手入力（MANUAL）は黄色背景、打刻（STAMP/SCHEDULED）は白色背景。休暇申請がある場合はテキストボックスを表示しない（非表示）。土日祝の場合、休日出勤申請が承認されている（APPLICATION_HISTORY.APPLICATION_TYPE='HOLIDAY_WORK'かつAPPROVAL_STATUS='APPROVED'または'PENDING'）場合はテキストボックス表示、それ以外の場合はテキストボックスを表示しない。平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示、申請中（PENDING）または承認済み（APPROVED）の場合はテキストのみ表示。押下で勤怠情報入力ダイアログを表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定ボタン（+アイコン） | ボタン | | | | | | | 条件付き表示 | 活性 | | 日付列に表示される+マーク（グレー色）。押下で日次確定申請を実行。未確定（NOT_SUBMITTED）の日のみ表示。休暇申請がある場合は非表示 |",
            "lineNumber": 65
          },
          {
            "text": "| 26 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況アイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 通常勤務時はNIKKORIアイコン（青色の丸の中に白い笑顔）、注意が必要な場合は青色の丸の中に「!」マーク。マウスホバーでツールチップ表示 |",
            "lineNumber": 66
          },
          {
            "text": "| 26-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況ツールチップ | 出力 | | オブジェクト | | | | | 条件付き表示 | 活性 | | 勤務状況アイコンにマウスホバー時に表示される詳細情報。通常勤務の場合は「通常勤務日」と表示 |",
            "lineNumber": 67
          },
          {
            "text": "| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請状況アイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 申請中（↑マーク・黒色）、承認済み（青色の丸の中に白い✓チェックマーク）、却下（×マーク・赤色）。未申請（NOT_SUBMITTED）時は+マークを表示 |",
            "lineNumber": 68
          },
          {
            "text": "| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出勤時刻 | 入出力 | | 時間 | | | | HH:MM | 条件付き表示 | 条件付き活性 | | 出勤時刻。手入力（MANUAL）は黄色背景、打刻（STAMP/SCHEDULED）は白色背景。休暇申請がある場合はテキストボックスを表示しない（非表示）。土日祝の場合、休日出勤申請が承認されている（APPLICATION_HISTORY.APPLICATION_TYPE='HOLIDAY_WORK'かつAPPROVAL_STATUS='APPROVED'または'PENDING'）場合はテキストボックス表示、それ以外の場合はテキストボックスを表示しない。平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示、申請中（PENDING）または承認済み（APPROVED）の場合はテキストのみ表示。押下で勤怠情報入力ダイアログを表示 |",
            "lineNumber": 69
          },
          {
            "text": "| 29 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;退勤時刻 | 入出力 | | 時間 | | | | HH:MM | 条件付き表示 | 条件付き活性 | | 退勤時刻。手入力（MANUAL）は黄色背景、打刻（STAMP/SCHEDULED）は白色背景。休暇申請がある場合はテキストボックスを表示しない（非表示）。土日祝の場合、休日出勤申請が承認されている（APPLICATION_HISTORY.APPLICATION_TYPE='HOLIDAY_WORK'かつAPPROVAL_STATUS='APPROVED'または'PENDING'）場合はテキストボックス表示、それ以外の場合はテキストボックスを表示しない。平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示、申請中（PENDING）または承認済み（APPROVED）の場合はテキストのみ表示。押下で勤怠情報入力ダイアログを表示 |",
            "lineNumber": 70
          }
        ]
      },
      "score": 0.2814635932445526
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\monthly-summary-screen.md",
        "range": {
          "startPosition": {
            "line": 494
          },
          "endPosition": {
            "line": 520
          }
        },
        "contents": "### 遅刻回数・時間などの表示形式について\n- 遅刻回数・時間、早退回数・時間、コア時間内の私用外出回数・時間は、「XX回 XX:XX」形式で表示します（例: 0回 0:00）。\n- 回数と時間の間にスペースを1つ入れます。\n\n### 休日アイコンの表示について\n- 所定休日: ○（白い丸）\n- 法定休日: ◎（二重丸）\n- 有休計画付与日: △（三角）\n\n### 記号の説明について\n- 画面下部に「記号の説明 ○＝所定休日、◎＝法定休日、△＝有休計画付与日」を表示します。\n- 記号の詳細説明：\n  - **○（所定休日）**: 勤務表画面のテーブルでいえば土曜日と祝日に対応します。\n  - **◎（法定休日）**: 日曜日に対応します。\n  - **△（有休計画付与日）**: 有給休暇の計画付与日を表します。\n\n### 内訳の表示について\n- 有給取得日数、代休取得日数、無給休暇日数の内訳は、データがある場合とない場合で表示が異なります。\n  - データがある場合: 具体的な内訳名を表示します（例: [内訳]年次有給休暇）。\n  - データがない場合: 「[内訳] ---」と表示します（グレー色）。\n- 有給残日数と計画付与予定日には内訳は表示しません。\n\n### イベント/勤務状況/勤務場所の表示形式について\n- 本欄には、以下の優先順位で表示内容が決定されます：\n  1. **祝日の場合**: 「(祝日名)」形式で表示します（例: (勤労感謝の日)）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "### 遅刻回数・時間などの表示形式について",
            "lineNumber": 496
          },
          {
            "text": "- 遅刻回数・時間、早退回数・時間、コア時間内の私用外出回数・時間は、「XX回 XX:XX」形式で表示します（例: 0回 0:00）。",
            "lineNumber": 497
          },
          {
            "text": "- 回数と時間の間にスペースを1つ入れます。",
            "lineNumber": 498
          },
          {
            "lineNumber": 499
          },
          {
            "text": "### 休日アイコンの表示について",
            "lineNumber": 500
          },
          {
            "text": "- 所定休日: ○（白い丸）",
            "lineNumber": 501
          },
          {
            "text": "- 法定休日: ◎（二重丸）",
            "lineNumber": 502
          },
          {
            "text": "- 有休計画付与日: △（三角）",
            "lineNumber": 503
          },
          {
            "lineNumber": 504
          },
          {
            "text": "### 記号の説明について",
            "lineNumber": 505
          },
          {
            "text": "- 画面下部に「記号の説明 ○＝所定休日、◎＝法定休日、△＝有休計画付与日」を表示します。",
            "lineNumber": 506
          },
          {
            "text": "- 記号の詳細説明：",
            "lineNumber": 507
          },
          {
            "text": "  - **○（所定休日）**: 勤務表画面のテーブルでいえば土曜日と祝日に対応します。",
            "lineNumber": 508
          },
          {
            "text": "  - **◎（法定休日）**: 日曜日に対応します。",
            "lineNumber": 509
          },
          {
            "text": "  - **△（有休計画付与日）**: 有給休暇の計画付与日を表します。",
            "lineNumber": 510
          },
          {
            "lineNumber": 511
          },
          {
            "text": "### 内訳の表示について",
            "lineNumber": 512
          },
          {
            "text": "- 有給取得日数、代休取得日数、無給休暇日数の内訳は、データがある場合とない場合で表示が異なります。",
            "lineNumber": 513
          },
          {
            "text": "  - データがある場合: 具体的な内訳名を表示します（例: [内訳]年次有給休暇）。",
            "lineNumber": 514
          },
          {
            "text": "  - データがない場合: 「[内訳] ---」と表示します（グレー色）。",
            "lineNumber": 515
          },
          {
            "text": "- 有給残日数と計画付与予定日には内訳は表示しません。",
            "lineNumber": 516
          },
          {
            "lineNumber": 517
          },
          {
            "text": "### イベント/勤務状況/勤務場所の表示形式について",
            "lineNumber": 518
          },
          {
            "text": "- 本欄には、以下の優先順位で表示内容が決定されます：",
            "lineNumber": 519
          },
          {
            "text": "  1. **祝日の場合**: 「(祝日名)」形式で表示します（例: (勤労感謝の日)）",
            "lineNumber": 520
          }
        ]
      },
      "score": 0.280260294675827
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1584
          },
          "endPosition": {
            "line": 1602
          }
        },
        "contents": "- **有給休暇または夏季休暇の取得日（出勤・退勤データなし）**: 所定内労働時間帯（9:00-17:30）を薄い青（#4B9EE4）の長方形で表示し、休憩時間（12:00-13:00）を青色（#1A69AB）の長方形で表示。その上に細い白線（1px）を表示\n- **代休の取得日（出勤・退勤データなし）**: 所定内労働時間帯（9:00-17:30）を薄い青（#4B9EE4）の長方形で表示し、休憩時間（12:00-13:00）を青色（#1A69AB）の長方形で表示。その上に細い白線（1px）を表示（有給休暇などと同じスタイル）\n- **無給の休暇の取得日**: 薄いグレーの塗りつぶし\n- **法定時間外割増時間**: セグメント内の紫色の部分\n- **深夜労働時間**: セグメント内の赤色の部分\n- **公用外出時間**: セグメント内の水色の部分\n\n#### 表示例\n\n| 状態 | グラフ表示 |\n| --- | --- |\n| 平日・勤怠データなし | グレーの長方形（9:00-17:30）+ 休憩時間のグレー四角形（12:00-13:00、#BBBBBB） |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |\n| 平日・出退勤済み（出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤〜退勤の青色バー + 出勤・退勤位置に▼ |\n| 平日・出退勤済み（出勤時刻が休憩時間より後） | グレーの長方形 + 出勤〜退勤の青色バー + 出勤・退勤位置に▼（休憩時間の四角形は表示しない） |\n| 有給休暇または夏季休暇の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |\n| 代休の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **有給休暇または夏季休暇の取得日（出勤・退勤データなし）**: 所定内労働時間帯（9:00-17:30）を薄い青（#4B9EE4）の長方形で表示し、休憩時間（12:00-13:00）を青色（#1A69AB）の長方形で表示。その上に細い白線（1px）を表示",
            "lineNumber": 1585
          },
          {
            "text": "- **代休の取得日（出勤・退勤データなし）**: 所定内労働時間帯（9:00-17:30）を薄い青（#4B9EE4）の長方形で表示し、休憩時間（12:00-13:00）を青色（#1A69AB）の長方形で表示。その上に細い白線（1px）を表示（有給休暇などと同じスタイル）",
            "lineNumber": 1586
          },
          {
            "text": "- **無給の休暇の取得日**: 薄いグレーの塗りつぶし",
            "lineNumber": 1587
          },
          {
            "text": "- **法定時間外割増時間**: セグメント内の紫色の部分",
            "lineNumber": 1588
          },
          {
            "text": "- **深夜労働時間**: セグメント内の赤色の部分",
            "lineNumber": 1589
          },
          {
            "text": "- **公用外出時間**: セグメント内の水色の部分",
            "lineNumber": 1590
          },
          {
            "lineNumber": 1591
          },
          {
            "text": "#### 表示例",
            "lineNumber": 1592
          },
          {
            "lineNumber": 1593
          },
          {
            "text": "| 状態 | グラフ表示 |",
            "lineNumber": 1594
          },
          {
            "text": "| --- | --- |",
            "lineNumber": 1595
          },
          {
            "text": "| 平日・勤怠データなし | グレーの長方形（9:00-17:30）+ 休憩時間のグレー四角形（12:00-13:00、#BBBBBB） |",
            "lineNumber": 1596
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |",
            "lineNumber": 1597
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1598
          },
          {
            "text": "| 平日・出退勤済み（出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤〜退勤の青色バー + 出勤・退勤位置に▼ |",
            "lineNumber": 1599
          },
          {
            "text": "| 平日・出退勤済み（出勤時刻が休憩時間より後） | グレーの長方形 + 出勤〜退勤の青色バー + 出勤・退勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1600
          },
          {
            "text": "| 有給休暇または夏季休暇の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |",
            "lineNumber": 1601
          },
          {
            "text": "| 代休の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |",
            "lineNumber": 1602
          }
        ]
      },
      "score": 0.2787388861179352
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 487
          },
          "endPosition": {
            "line": 518
          }
        },
        "contents": "          &lt;!-- 32時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;\n          &lt;!-- 34時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;\n          &lt;!-- 36時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;\n          &lt;!-- 38時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 40時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 42時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;\n          &lt;!-- 44時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;\n          &lt;!-- 46時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;\n          &lt;!-- 48時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;\n        &lt;div \n          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" \n          class=\"scheduled-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;!-- 32時の罫線 --&gt;",
            "lineNumber": 488
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;",
            "lineNumber": 489
          },
          {
            "text": "          &lt;!-- 34時の罫線 --&gt;",
            "lineNumber": 490
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;",
            "lineNumber": 491
          },
          {
            "text": "          &lt;!-- 36時の罫線 --&gt;",
            "lineNumber": 492
          },
          {
            "text": "          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;",
            "lineNumber": 493
          },
          {
            "text": "          &lt;!-- 38時の罫線 --&gt;",
            "lineNumber": 494
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 495
          },
          {
            "text": "          &lt;!-- 40時の罫線 --&gt;",
            "lineNumber": 496
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 497
          },
          {
            "text": "          &lt;!-- 42時の罫線 --&gt;",
            "lineNumber": 498
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;",
            "lineNumber": 499
          },
          {
            "text": "          &lt;!-- 44時の罫線 --&gt;",
            "lineNumber": 500
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;",
            "lineNumber": 501
          },
          {
            "text": "          &lt;!-- 46時の罫線 --&gt;",
            "lineNumber": 502
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;",
            "lineNumber": 503
          },
          {
            "text": "          &lt;!-- 48時の罫線 --&gt;",
            "lineNumber": 504
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;",
            "lineNumber": 505
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 506
          },
          {
            "text": "        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;",
            "lineNumber": 507
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 508
          },
          {
            "text": "          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" ",
            "lineNumber": 509
          },
          {
            "text": "          class=\"scheduled-work-time-bar\" ",
            "lineNumber": 510
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 511
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 512
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 513
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 514
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 515
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;",
            "lineNumber": 516
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 517
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 518
          }
        ]
      },
      "score": 0.27847594022750854
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 85
          },
          "endPosition": {
            "line": 97
          }
        },
        "contents": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数 | 出力 | | 文字 | | | | | 表示 | 活性 | | 工数実績の表示。未登録の場合は+アイコン |\n| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ボタン | | 画像 | | | | | 表示 | 活性 | | 常に+アイコンを表示。押下すると備考入力ダイアログを開く |\n| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーアイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 工数合計と実労働時間の不一致時に赤い!マークを表示 |\n| | &lt;勤務グラフ凡例&gt; | | | | | | | | | | | |\n| 45 | グラフ凡例 | ラベル | | | | | | | 表示 | 活性 | | 勤務グラフの色の意味を説明 |\n| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;未出勤日の所定勤務時間 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |\n| 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;平日の所定内の労働時間、残業時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント） |\n| 48 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日（法定時間内かつ法定休日ではない）の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 法定時間内残業と同じ色（黄土色、#B0B000）の塗りつぶし。土曜日または祝日（所定休日）の労働時間に適用 |\n| 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | #DE9EDD（薄い紫色/ラベンダー色）の塗りつぶし。日曜日（法定休日）の労働時間に適用 |\n| 50 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給の休暇の取得日または裁量労働日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント）。勤務状況のアイコンで区別 |\n| 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |\n| 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;無給の休暇の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 42 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;工数 | 出力 | | 文字 | | | | | 表示 | 活性 | | 工数実績の表示。未登録の場合は+アイコン |",
            "lineNumber": 86
          },
          {
            "text": "| 43 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | ボタン | | 画像 | | | | | 表示 | 活性 | | 常に+アイコンを表示。押下すると備考入力ダイアログを開く |",
            "lineNumber": 87
          },
          {
            "text": "| 44 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーアイコン | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | 工数合計と実労働時間の不一致時に赤い!マークを表示 |",
            "lineNumber": 88
          },
          {
            "text": "| | &lt;勤務グラフ凡例&gt; | | | | | | | | | | | |",
            "lineNumber": 89
          },
          {
            "text": "| 45 | グラフ凡例 | ラベル | | | | | | | 表示 | 活性 | | 勤務グラフの色の意味を説明 |",
            "lineNumber": 90
          },
          {
            "text": "| 46 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;未出勤日の所定勤務時間 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
            "lineNumber": 91
          },
          {
            "text": "| 47 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;平日の所定内の労働時間、残業時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント） |",
            "lineNumber": 92
          },
          {
            "text": "| 48 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日（法定時間内かつ法定休日ではない）の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 法定時間内残業と同じ色（黄土色、#B0B000）の塗りつぶし。土曜日または祝日（所定休日）の労働時間に適用 |",
            "lineNumber": 93
          },
          {
            "text": "| 49 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | #DE9EDD（薄い紫色/ラベンダー色）の塗りつぶし。日曜日（法定休日）の労働時間に適用 |",
            "lineNumber": 94
          },
          {
            "text": "| 50 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給の休暇の取得日または裁量労働日の労働時間 | ラベル | | | | | | | 表示 | 活性 | | 青色の塗りつぶし（濃い青と薄い青のセグメント）。勤務状況のアイコンで区別 |",
            "lineNumber": 95
          },
          {
            "text": "| 51 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
            "lineNumber": 96
          },
          {
            "text": "| 52 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;無給の休暇の取得日 | ラベル | | | | | | | 表示 | 活性 | | 薄いグレーの塗りつぶし |",
            "lineNumber": 97
          }
        ]
      },
      "score": 0.27150678634643555
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 3216
          },
          "endPosition": {
            "line": 3325
          }
        },
        "contents": ".button-green {\n  position: absolute;\n  right: calc(100% - 1657px - 64px);\n  top: 2px;\n  width: 64px;\n  height: 51px;\n  background-color: rgb(179, 210, 44);\n  border-radius: 0 0 10px 10px;\n}\n\n.button-blue {\n  position: absolute;\n  right: calc(100% - 1729px - 64px);\n  top: 2px;\n  width: 64px;\n  height: 51px;\n  background-color: rgb(94, 168, 197);\n  border-radius: 0 0 10px 10px;\n}\n\n.button-yellow {\n  position: absolute;\n  right: calc(100% - 1803px - 64px);\n  top: 2px;\n  width: 64px;\n  height: 51px;\n  background-color: rgb(242, 183, 27);\n  border-radius: 0 0 10px 10px;\n}\n\n/* HELP テキスト */\n.help-question {\n  position: absolute;\n  right: calc(100% - 1820px - 32px);\n  top: 5px;\n  width: 32px;\n  height: 25px;\n  color: rgb(255, 255, 255);\n  font-size: 28px;\n  font-family: Arial;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.help-text {\n  position: absolute;\n  right: calc(100% - 1820px - 34px);\n  top: 38px;\n  width: 34px;\n  height: 11px;\n  color: rgb(255, 255, 255);\n  font-size: 11px;\n  font-family: Arial;\n  font-weight: bold;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* カレンダーアイコン */\n.calendar-icon {\n  position: absolute;\n  right: calc(100% - 1745px - 34px);\n  top: 6px;\n  width: 34px;\n  height: 31px;\n}\n\n/* 休暇情報 */\n.vacation-info {\n  position: absolute;\n  right: calc(100% - 1737px - 49px);\n  top: 38px;\n  width: 49px;\n  height: 11px;\n  color: rgb(255, 255, 255);\n  font-size: 11px;\n  font-family: Arial;\n  font-weight: bold;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* ロゴ: 楕円 */\n.logo-circle {\n  position: absolute;\n  left: 30px;\n  top: 20px;\n  width: 34px;\n  height: 32px;\n}\n\n/* 時計の針 */\n.clock-long-hand {\n  position: absolute;\n  left: 40px;\n  top: 29px;\n  width: 15px;\n  height: 1px;\n  transform: rotate(-90deg);\n}\n\n.clock-short-hand {\n  position: absolute;",
        "signatures": {},
        "detailedLines": [
          {
            "text": ".button-green {",
            "lineNumber": 3217
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3218
          },
          {
            "text": "  right: calc(100% - 1657px - 64px);",
            "lineNumber": 3219
          },
          {
            "text": "  top: 2px;",
            "lineNumber": 3220
          },
          {
            "text": "  width: 64px;",
            "lineNumber": 3221
          },
          {
            "text": "  height: 51px;",
            "lineNumber": 3222
          },
          {
            "text": "  background-color: rgb(179, 210, 44);",
            "lineNumber": 3223
          },
          {
            "text": "  border-radius: 0 0 10px 10px;",
            "lineNumber": 3224
          },
          {
            "text": "}",
            "lineNumber": 3225
          },
          {
            "lineNumber": 3226
          },
          {
            "text": ".button-blue {",
            "lineNumber": 3227
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3228
          },
          {
            "text": "  right: calc(100% - 1729px - 64px);",
            "lineNumber": 3229
          },
          {
            "text": "  top: 2px;",
            "lineNumber": 3230
          },
          {
            "text": "  width: 64px;",
            "lineNumber": 3231
          },
          {
            "text": "  height: 51px;",
            "lineNumber": 3232
          },
          {
            "text": "  background-color: rgb(94, 168, 197);",
            "lineNumber": 3233
          },
          {
            "text": "  border-radius: 0 0 10px 10px;",
            "lineNumber": 3234
          },
          {
            "text": "}",
            "lineNumber": 3235
          },
          {
            "lineNumber": 3236
          },
          {
            "text": ".button-yellow {",
            "lineNumber": 3237
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3238
          },
          {
            "text": "  right: calc(100% - 1803px - 64px);",
            "lineNumber": 3239
          },
          {
            "text": "  top: 2px;",
            "lineNumber": 3240
          },
          {
            "text": "  width: 64px;",
            "lineNumber": 3241
          },
          {
            "text": "  height: 51px;",
            "lineNumber": 3242
          },
          {
            "text": "  background-color: rgb(242, 183, 27);",
            "lineNumber": 3243
          },
          {
            "text": "  border-radius: 0 0 10px 10px;",
            "lineNumber": 3244
          },
          {
            "text": "}",
            "lineNumber": 3245
          },
          {
            "lineNumber": 3246
          },
          {
            "text": "/* HELP テキスト */",
            "lineNumber": 3247
          },
          {
            "text": ".help-question {",
            "lineNumber": 3248
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3249
          },
          {
            "text": "  right: calc(100% - 1820px - 32px);",
            "lineNumber": 3250
          },
          {
            "text": "  top: 5px;",
            "lineNumber": 3251
          },
          {
            "text": "  width: 32px;",
            "lineNumber": 3252
          },
          {
            "text": "  height: 25px;",
            "lineNumber": 3253
          },
          {
            "text": "  color: rgb(255, 255, 255);",
            "lineNumber": 3254
          },
          {
            "text": "  font-size: 28px;",
            "lineNumber": 3255
          },
          {
            "text": "  font-family: Arial;",
            "lineNumber": 3256
          },
          {
            "text": "  text-align: center;",
            "lineNumber": 3257
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3258
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3259
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3260
          },
          {
            "text": "}",
            "lineNumber": 3261
          },
          {
            "lineNumber": 3262
          },
          {
            "text": ".help-text {",
            "lineNumber": 3263
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3264
          },
          {
            "text": "  right: calc(100% - 1820px - 34px);",
            "lineNumber": 3265
          },
          {
            "text": "  top: 38px;",
            "lineNumber": 3266
          },
          {
            "text": "  width: 34px;",
            "lineNumber": 3267
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 3268
          },
          {
            "text": "  color: rgb(255, 255, 255);",
            "lineNumber": 3269
          },
          {
            "text": "  font-size: 11px;",
            "lineNumber": 3270
          },
          {
            "text": "  font-family: Arial;",
            "lineNumber": 3271
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 3272
          },
          {
            "text": "  text-align: center;",
            "lineNumber": 3273
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3274
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3275
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3276
          },
          {
            "text": "}",
            "lineNumber": 3277
          },
          {
            "lineNumber": 3278
          },
          {
            "text": "/* カレンダーアイコン */",
            "lineNumber": 3279
          },
          {
            "text": ".calendar-icon {",
            "lineNumber": 3280
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3281
          },
          {
            "text": "  right: calc(100% - 1745px - 34px);",
            "lineNumber": 3282
          },
          {
            "text": "  top: 6px;",
            "lineNumber": 3283
          },
          {
            "text": "  width: 34px;",
            "lineNumber": 3284
          },
          {
            "text": "  height: 31px;",
            "lineNumber": 3285
          },
          {
            "text": "}",
            "lineNumber": 3286
          },
          {
            "lineNumber": 3287
          },
          {
            "text": "/* 休暇情報 */",
            "lineNumber": 3288
          },
          {
            "text": ".vacation-info {",
            "lineNumber": 3289
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3290
          },
          {
            "text": "  right: calc(100% - 1737px - 49px);",
            "lineNumber": 3291
          },
          {
            "text": "  top: 38px;",
            "lineNumber": 3292
          },
          {
            "text": "  width: 49px;",
            "lineNumber": 3293
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 3294
          },
          {
            "text": "  color: rgb(255, 255, 255);",
            "lineNumber": 3295
          },
          {
            "text": "  font-size: 11px;",
            "lineNumber": 3296
          },
          {
            "text": "  font-family: Arial;",
            "lineNumber": 3297
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 3298
          },
          {
            "text": "  text-align: center;",
            "lineNumber": 3299
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3300
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3301
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3302
          },
          {
            "text": "}",
            "lineNumber": 3303
          },
          {
            "lineNumber": 3304
          },
          {
            "text": "/* ロゴ: 楕円 */",
            "lineNumber": 3305
          },
          {
            "text": ".logo-circle {",
            "lineNumber": 3306
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3307
          },
          {
            "text": "  left: 30px;",
            "lineNumber": 3308
          },
          {
            "text": "  top: 20px;",
            "lineNumber": 3309
          },
          {
            "text": "  width: 34px;",
            "lineNumber": 3310
          },
          {
            "text": "  height: 32px;",
            "lineNumber": 3311
          },
          {
            "text": "}",
            "lineNumber": 3312
          },
          {
            "lineNumber": 3313
          },
          {
            "text": "/* 時計の針 */",
            "lineNumber": 3314
          },
          {
            "text": ".clock-long-hand {",
            "lineNumber": 3315
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3316
          },
          {
            "text": "  left: 40px;",
            "lineNumber": 3317
          },
          {
            "text": "  top: 29px;",
            "lineNumber": 3318
          },
          {
            "text": "  width: 15px;",
            "lineNumber": 3319
          },
          {
            "text": "  height: 1px;",
            "lineNumber": 3320
          },
          {
            "text": "  transform: rotate(-90deg);",
            "lineNumber": 3321
          },
          {
            "text": "}",
            "lineNumber": 3322
          },
          {
            "lineNumber": 3323
          },
          {
            "text": ".clock-short-hand {",
            "lineNumber": 3324
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3325
          }
        ]
      },
      "score": 0.2712579071521759
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 555
          },
          "endPosition": {
            "line": 575
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-break-time-bar vacation-break-time-bar\" \n          :style=\"getVacationBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の休憩時間の長方形 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"scheduled-break-time-bar vacation-break-time-bar\" \n          :style=\"getVacationBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;\n        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;\n          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 556
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 557
          },
          {
            "text": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" ",
            "lineNumber": 558
          },
          {
            "text": "          :style=\"getVacationBreakTimeStyle(day)\"",
            "lineNumber": 559
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 560
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 561
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 562
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 563
          },
          {
            "text": "        &lt;!-- 代休の休憩時間の長方形 --&gt;",
            "lineNumber": 564
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 565
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 566
          },
          {
            "text": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" ",
            "lineNumber": 567
          },
          {
            "text": "          :style=\"getVacationBreakTimeStyle(day)\"",
            "lineNumber": 568
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 569
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 570
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 571
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 572
          },
          {
            "text": "        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;",
            "lineNumber": 573
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;",
            "lineNumber": 574
          },
          {
            "text": "          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
            "lineNumber": 575
          }
        ]
      },
      "score": 0.2681305408477783
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 3718
          },
          "endPosition": {
            "line": 3836
          }
        },
        "contents": ".cell-date {\n  position: absolute;\n  left: 22px;\n  width: 60px;\n  text-align: right;\n  padding-right: 5px;\n}\n\n/* 日付の数字部分（常に黒色） */\n.date-number {\n  color: rgb(0, 0, 0);\n}\n\n/* 日付の曜日部分 */\n.date-day-of-week {\n  color: rgb(0, 0, 0); /* デフォルトは黒色 */\n}\n\n/* 曜日の色 */\n.sunday-text {\n  color: rgb(255, 0, 0); /* 赤色 */\n}\n\n.saturday-text {\n  color: rgb(0, 0, 255); /* 青色 */\n}\n\n.cell-work-status {\n  position: absolute;\n  left: 96px;\n  width: 18px;\n  height: 18px;\n}\n\n.nikori-icon {\n  width: 18px;\n  height: 18px;\n  cursor: default;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.nikori-icon svg {\n  pointer-events: none;\n}\n\n.warning-icon {\n  width: 18px;\n  height: 18px;\n  cursor: default;\n}\n\n.icon-circle-blue {\n  width: 18px;\n  height: 18px;\n  background-color: rgb(94, 168, 198);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* 打刻時刻と入力時刻が異なる場合の警告アイコン */\n.stamp-manual-mismatch-icon {\n  width: 18px;\n  height: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: default;\n}\n\n.icon-circle-yellow {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background-color: #FFFF4D; /* 黄色 */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.icon-exclamation {\n  color: white;\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.icon-exclamation-black {\n  color: rgb(0, 0, 0);\n  font-size: 14px;\n  font-weight: bold;\n}\n\n.cell-approval {\n  position: absolute;\n  left: 138px;\n  width: 17px;\n  height: 17px;\n}\n\n.plus-button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  width: 17px;\n  height: 17px;\n  z-index: 11;\n  position: relative;\n  top: 1px;\n}\n\n.daily-confirm-button {\n  position: absolute;\n  left: 5px;\n  top: 50%;",
        "signatures": {},
        "detailedLines": [
          {
            "text": ".cell-date {",
            "lineNumber": 3719
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3720
          },
          {
            "text": "  left: 22px;",
            "lineNumber": 3721
          },
          {
            "text": "  width: 60px;",
            "lineNumber": 3722
          },
          {
            "text": "  text-align: right;",
            "lineNumber": 3723
          },
          {
            "text": "  padding-right: 5px;",
            "lineNumber": 3724
          },
          {
            "text": "}",
            "lineNumber": 3725
          },
          {
            "lineNumber": 3726
          },
          {
            "text": "/* 日付の数字部分（常に黒色） */",
            "lineNumber": 3727
          },
          {
            "text": ".date-number {",
            "lineNumber": 3728
          },
          {
            "text": "  color: rgb(0, 0, 0);",
            "lineNumber": 3729
          },
          {
            "text": "}",
            "lineNumber": 3730
          },
          {
            "lineNumber": 3731
          },
          {
            "text": "/* 日付の曜日部分 */",
            "lineNumber": 3732
          },
          {
            "text": ".date-day-of-week {",
            "lineNumber": 3733
          },
          {
            "text": "  color: rgb(0, 0, 0); /* デフォルトは黒色 */",
            "lineNumber": 3734
          },
          {
            "text": "}",
            "lineNumber": 3735
          },
          {
            "lineNumber": 3736
          },
          {
            "text": "/* 曜日の色 */",
            "lineNumber": 3737
          },
          {
            "text": ".sunday-text {",
            "lineNumber": 3738
          },
          {
            "text": "  color: rgb(255, 0, 0); /* 赤色 */",
            "lineNumber": 3739
          },
          {
            "text": "}",
            "lineNumber": 3740
          },
          {
            "lineNumber": 3741
          },
          {
            "text": ".saturday-text {",
            "lineNumber": 3742
          },
          {
            "text": "  color: rgb(0, 0, 255); /* 青色 */",
            "lineNumber": 3743
          },
          {
            "text": "}",
            "lineNumber": 3744
          },
          {
            "lineNumber": 3745
          },
          {
            "text": ".cell-work-status {",
            "lineNumber": 3746
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3747
          },
          {
            "text": "  left: 96px;",
            "lineNumber": 3748
          },
          {
            "text": "  width: 18px;",
            "lineNumber": 3749
          },
          {
            "text": "  height: 18px;",
            "lineNumber": 3750
          },
          {
            "text": "}",
            "lineNumber": 3751
          },
          {
            "lineNumber": 3752
          },
          {
            "text": ".nikori-icon {",
            "lineNumber": 3753
          },
          {
            "text": "  width: 18px;",
            "lineNumber": 3754
          },
          {
            "text": "  height: 18px;",
            "lineNumber": 3755
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 3756
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3757
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3758
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3759
          },
          {
            "text": "}",
            "lineNumber": 3760
          },
          {
            "lineNumber": 3761
          },
          {
            "text": ".nikori-icon svg {",
            "lineNumber": 3762
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 3763
          },
          {
            "text": "}",
            "lineNumber": 3764
          },
          {
            "lineNumber": 3765
          },
          {
            "text": ".warning-icon {",
            "lineNumber": 3766
          },
          {
            "text": "  width: 18px;",
            "lineNumber": 3767
          },
          {
            "text": "  height: 18px;",
            "lineNumber": 3768
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 3769
          },
          {
            "text": "}",
            "lineNumber": 3770
          },
          {
            "lineNumber": 3771
          },
          {
            "text": ".icon-circle-blue {",
            "lineNumber": 3772
          },
          {
            "text": "  width: 18px;",
            "lineNumber": 3773
          },
          {
            "text": "  height: 18px;",
            "lineNumber": 3774
          },
          {
            "text": "  background-color: rgb(94, 168, 198);",
            "lineNumber": 3775
          },
          {
            "text": "  border-radius: 50%;",
            "lineNumber": 3776
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3777
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3778
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3779
          },
          {
            "text": "}",
            "lineNumber": 3780
          },
          {
            "lineNumber": 3781
          },
          {
            "text": "/* 打刻時刻と入力時刻が異なる場合の警告アイコン */",
            "lineNumber": 3782
          },
          {
            "text": ".stamp-manual-mismatch-icon {",
            "lineNumber": 3783
          },
          {
            "text": "  width: 18px;",
            "lineNumber": 3784
          },
          {
            "text": "  height: 18px;",
            "lineNumber": 3785
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3786
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3787
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3788
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 3789
          },
          {
            "text": "}",
            "lineNumber": 3790
          },
          {
            "lineNumber": 3791
          },
          {
            "text": ".icon-circle-yellow {",
            "lineNumber": 3792
          },
          {
            "text": "  width: 18px;",
            "lineNumber": 3793
          },
          {
            "text": "  height: 18px;",
            "lineNumber": 3794
          },
          {
            "text": "  border-radius: 50%;",
            "lineNumber": 3795
          },
          {
            "text": "  background-color: #FFFF4D; /* 黄色 */",
            "lineNumber": 3796
          },
          {
            "text": "  display: flex;",
            "lineNumber": 3797
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 3798
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 3799
          },
          {
            "text": "}",
            "lineNumber": 3800
          },
          {
            "lineNumber": 3801
          },
          {
            "text": ".icon-exclamation {",
            "lineNumber": 3802
          },
          {
            "text": "  color: white;",
            "lineNumber": 3803
          },
          {
            "text": "  font-size: 14px;",
            "lineNumber": 3804
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 3805
          },
          {
            "text": "}",
            "lineNumber": 3806
          },
          {
            "lineNumber": 3807
          },
          {
            "text": ".icon-exclamation-black {",
            "lineNumber": 3808
          },
          {
            "text": "  color: rgb(0, 0, 0);",
            "lineNumber": 3809
          },
          {
            "text": "  font-size: 14px;",
            "lineNumber": 3810
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 3811
          },
          {
            "text": "}",
            "lineNumber": 3812
          },
          {
            "lineNumber": 3813
          },
          {
            "text": ".cell-approval {",
            "lineNumber": 3814
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3815
          },
          {
            "text": "  left: 138px;",
            "lineNumber": 3816
          },
          {
            "text": "  width: 17px;",
            "lineNumber": 3817
          },
          {
            "text": "  height: 17px;",
            "lineNumber": 3818
          },
          {
            "text": "}",
            "lineNumber": 3819
          },
          {
            "lineNumber": 3820
          },
          {
            "text": ".plus-button {",
            "lineNumber": 3821
          },
          {
            "text": "  background: none;",
            "lineNumber": 3822
          },
          {
            "text": "  border: none;",
            "lineNumber": 3823
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 3824
          },
          {
            "text": "  padding: 0;",
            "lineNumber": 3825
          },
          {
            "text": "  width: 17px;",
            "lineNumber": 3826
          },
          {
            "text": "  height: 17px;",
            "lineNumber": 3827
          },
          {
            "text": "  z-index: 11;",
            "lineNumber": 3828
          },
          {
            "text": "  position: relative;",
            "lineNumber": 3829
          },
          {
            "text": "  top: 1px;",
            "lineNumber": 3830
          },
          {
            "text": "}",
            "lineNumber": 3831
          },
          {
            "lineNumber": 3832
          },
          {
            "text": ".daily-confirm-button {",
            "lineNumber": 3833
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 3834
          },
          {
            "text": "  left: 5px;",
            "lineNumber": 3835
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 3836
          }
        ]
      },
      "score": 0.26572421193122864
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


代休のグラフを長方形全体#1A69ABに統一し、アイコンを有給休暇と同じコーヒーマークに変更します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---


代休のグラフを長方形全体#1A69ABに統一し、アイコンを有給休暇と同じコーヒーマークに変更します。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "0b323b56-d8ed-48f9-82d2-a64d49ee0254"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "8ce4b962-574c-4bce-9c7f-072f3068c569"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "d2a438a9-d679-428c-88f8-b1768c899a52"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---


代休用のCSSクラスを追加中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "78d83769-9df0-4aef-9696-5ab043e2530f"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---


代休の休憩時間バーのCSSクラスを追加中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "vacation-break-time-bar",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "vacation-break-time-bar",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "577:          class=\"scheduled-break-time-bar vacation-break-time-bar\" ",
              "matches": [
                {
                  "lineNumber": 4250,
                  "content": ".vacation-break-time-bar {"
                }
              ]
            }
          ],
          "totalLines": 1,
          "totalMatchedLines": 1
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


代休の休憩時間バーのCSSクラスを追加中です。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "1baeae23-520f-411c-ba51-c3d43e0fc7e3"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---


代休のアイコンが他の条件と競合しないか確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---



---


設計書を修正中です。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "f8f09139-519f-4754-885b-18a8602701de"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "64870a98-6918-4da4-bfd0-ee6e3c2e4fec"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "f478b7d9-11cc-40fe-91f2-0b8a46452ab2"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "frontend/src/views/TimesheetScreen.vue"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "frontend/src/views/TimesheetScreen.vue"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書の代休アイコンの説明を修正中です。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "代休.*アイコン|代休.*コーヒー",
  "path": "docs/detailed-design/ui/attendance-table-screen.md",
  "caseInsensitive": true
}
```
Result:

```json
{
  "success": {
    "pattern": "代休.*アイコン|代休.*コーヒー",
    "path": "docs/detailed-design/ui/attendance-table-screen.md",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "733:  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;勤務状況アイコン | 日次勤務データの状態に応じてアイコンを表示 | 通常勤務時はNIKKORIアイコン（青色の丸の中に白い笑顔）、打刻時刻と入力時刻が異なる場合は黄色の丸の中に「!」マーク（警告アイコン）、注意が必要な場合は青色の丸の中に「!」マーク、有給休暇は水色の丸の中に白いコーヒーカップアイコン、代休はオレンジ色の丸の中に白い下向きの笑顔アイコン、その他の休暇・休日は休暇種別に応じたアイコン。マウスホバーでツールチップ表示（通常勤務の場合は「通常勤務日」と表示、打刻時刻と入力時刻が異なる場合は「通常勤務日　打刻時刻と入力時刻が異なる理由を備考に入力してください」と表示）。表示条件：通常勤務日に出社と退社ボタンが押された際に表示。打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）と入力時刻が一致し、かつ打刻種別がSTAMPまたはSCHEDULEDの場合はNIKKORIアイコン、打刻時刻と入力時刻が異なる場合（打刻種別がMANUALで時刻が変更されている場合）は警告アイコン（黄色の丸の中に「!」マーク）。勤怠情報入力画面で打刻時刻と同じ時刻に変更し、打刻種別をSTAMPまたはSCHEDULEDに戻した場合、NIKKORIアイコンに戻る |",
              "matches": [
                {
                  "lineNumber": 1283,
                  "content": "5. **代休**: オレンジ色の背景に白い下向きの笑顔アイコン"
                }
              ]
            }
          ],
          "totalLines": 1,
          "totalMatchedLines": 1
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "635bff6f-9cf5-488e-b00a-9846370a7d6c"
}
```
Status: **completed**


</details>
</tool-use>

---



---


設計書の表の部分も修正中です。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "b18a5ccb-af10-4831-bae5-1589d3ece397"
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正を完了しました。変更点は以下の通りです。

## 実装内容

### 1. 代休のアイコン
- 有給休暇と同じコーヒーマーク（水色の円の中に白いコーヒーカップ）に変更

### 2. 代休のグラフ表示
- グラフの長方形全体を#1A69ABに統一
  - 所定内労働時間帯（9:00-17:30）: #1A69AB
  - 休憩時間（12:00-13:00）: #1A69AB（同じ色）
  - 細い白線（1px）を表示

### 3. 設計書の修正
- 代休のグラフ表示の説明を更新
- 代休のアイコンの説明を更新（有給休暇と同じコーヒーマーク）

代休の申請時は、グラフの長方形全体が#1A69ABで表示され、アイコンは有給休暇と同じコーヒーマークが表示されます。

---

_**User**_

色が違う気がします。

---

_**Agent (model composer-1, mode Agent)**_



---


代休のグラフの色設定を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "compensatory|SUBSTITUTE_HOLIDAY",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "compensatory|SUBSTITUTE_HOLIDAY",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "274:          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
              "matches": [
                {
                  "lineNumber": 528,
                  "content": "          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" "
                },
                {
                  "lineNumber": 546,
                  "content": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\""
                },
                {
                  "lineNumber": 561,
                  "content": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\""
                },
                {
                  "lineNumber": 585,
                  "content": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\""
                },
                {
                  "lineNumber": 586,
                  "content": "          class=\"scheduled-break-time-bar compensatory-break-time-bar\" "
                },
                {
                  "lineNumber": 4221,
                  "content": ".compensatory-work-time-bar {"
                },
                {
                  "lineNumber": 4256,
                  "content": ".compensatory-break-time-bar {"
                }
              ]
            }
          ],
          "totalLines": 7,
          "totalMatchedLines": 7
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


代休の所定内労働時間帯のクラスが誤っています。`vacation-work-time-bar`（#4B9EE4）ではなく、`compensatory-work-time-bar`（#1A69AB）に変更します。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "90a2c482-fd3c-48b0-b0fe-3aca3842ff9b"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "frontend/src/views/TimesheetScreen.vue"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "frontend/src/views/TimesheetScreen.vue"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正しました。代休の所定内労働時間帯のクラスを`vacation-work-time-bar`（#4B9EE4）から`compensatory-work-time-bar`（#1A69AB）に変更しました。

これで代休のグラフは、所定内労働時間帯と休憩時間の両方が#1A69ABで表示されます。

表示を確認してください。まだ色が違う場合は、他のスタイルが上書きしている可能性があるため、お知らせください。

---

_**User**_

また代休に関しては休憩の長方形はいらないので消してください。

---

_**Agent (model composer-1, mode Agent)**_



---


代休の休憩時間の長方形を削除します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "3c0137b1-d8e8-4acd-8a31-d99b21a740aa"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: docs/detailed-design/ui/attendance-table-screen.md</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "b79d868e-bfb5-41c0-8b1f-e600d41b6555"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "003d2a0c-3a39-4623-85b3-ec7679952e2f"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "cb755c01-107c-4b17-98bf-0bf60d1800f7"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "frontend/src/views/TimesheetScreen.vue"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "frontend/src/views/TimesheetScreen.vue"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


代休の休憩時間の長方形を削除しました。

## 変更内容

1. **TimesheetScreen.vue**: 代休の休憩時間の長方形要素を削除
2. **設計書**: 代休のグラフ表示の説明を更新
   - 休憩時間の長方形は表示しない
   - 所定内労働時間帯（9:00-17:30）の長方形のみ#1A69ABで表示

代休のグラフは、所定内労働時間帯（9:00-17:30）の長方形のみが#1A69ABで表示され、休憩時間の長方形は表示されません。

---

_**User**_

まだあります。このグレーの長方形が。これが休憩時間のところです。

---

_**Agent (model composer-1, mode Agent)**_



---


代休の場合は、休憩時間の長方形を表示しないように条件を追加します。コードを確認します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "scheduled-break-time-bar|break-time-bar",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "scheduled-break-time-bar|break-time-bar",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "568:          class=\"scheduled-break-time-bar\" ",
              "matches": [
                {
                  "lineNumber": 577,
                  "content": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" "
                },
                {
                  "lineNumber": 617,
                  "content": "            class=\"break-time-bar\" "
                },
                {
                  "lineNumber": 4229,
                  "content": ".scheduled-break-time-bar {"
                },
                {
                  "lineNumber": 4241,
                  "content": ".vacation-break-time-bar {"
                },
                {
                  "lineNumber": 4247,
                  "content": ".compensatory-break-time-bar {"
                },
                {
                  "lineNumber": 4253,
                  "content": ".break-time-bar {"
                }
              ]
            }
          ],
          "totalLines": 6,
          "totalMatchedLines": 6
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


休日出勤申請の休憩時間の長方形が代休でも表示されています。代休の場合は表示しないように条件を追加します。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "3dbc5138-e031-4da7-ab9d-59edcc639e2a"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "break-time-bar.*v-for|breakTimes.*break-time-bar",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "break-time-bar.*v-for|breakTimes.*break-time-bar",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {}
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---


`shouldShowBreakTime`関数を確認し、代休の場合は休憩時間を表示しないようにします。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "shouldShowBreakTime",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "shouldShowBreakTime",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "616:            v-if=\"shouldShowBreakTime(breakTime, day)\"",
              "matches": [
                {
                  "lineNumber": 2048,
                  "content": "    shouldShowBreakTime(breakTime, day) {"
                }
              ]
            }
          ],
          "totalLines": 1,
          "totalMatchedLines": 1
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "shouldShowBreakTime関数の実装と休憩時間の表示条件",
  "includePattern": "frontend/src/views",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2035
          },
          "endPosition": {
            "line": 2078
          }
        },
        "contents": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない（nullを返す）\n      if (clockInMinutes &gt; breakStartMinutes) {\n        return null\n      }\n      \n      // 出勤時刻が休憩時間より前の場合：青色（#1A69AB）\n      return '#1A69AB'\n    },\n    \n    // 休憩時間を表示するかどうかを判定\n    shouldShowBreakTime(breakTime, day) {\n      // 有給休暇または夏季休暇の取得日の場合、通常の休憩時間の長方形を表示しない\n      if (day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE') {\n        return false\n      }\n      \n      // 出勤していない場合：表示する（グレー）\n      if (!day.clockIn) {\n        return true\n      }\n      \n      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const clockInMinutes = inHour * 60 + inMin\n      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない\n      return clockInMinutes &lt;= breakStartMinutes\n    },\n    \n      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）\n      openApplicationDialog(day) {\n        this.selectedDayForApplication = day\n        this.selectedApplicationType = null\n        this.showApplicationDialog = true\n      },\n      \n      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）\n      openApplicationDialogWithType(day) {\n        this.selectedDayForApplication = day\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 2036
          },
          {
            "text": "      ",
            "lineNumber": 2037
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない（nullを返す）",
            "lineNumber": 2038
          },
          {
            "text": "      if (clockInMinutes &gt; breakStartMinutes) {",
            "lineNumber": 2039
          },
          {
            "text": "        return null",
            "lineNumber": 2040
          },
          {
            "text": "      }",
            "lineNumber": 2041
          },
          {
            "text": "      ",
            "lineNumber": 2042
          },
          {
            "text": "      // 出勤時刻が休憩時間より前の場合：青色（#1A69AB）",
            "lineNumber": 2043
          },
          {
            "text": "      return '#1A69AB'",
            "lineNumber": 2044
          },
          {
            "text": "    },",
            "lineNumber": 2045
          },
          {
            "text": "    ",
            "lineNumber": 2046
          },
          {
            "text": "    // 休憩時間を表示するかどうかを判定",
            "lineNumber": 2047
          },
          {
            "text": "    shouldShowBreakTime(breakTime, day) {",
            "lineNumber": 2048
          },
          {
            "text": "      // 有給休暇または夏季休暇の取得日の場合、通常の休憩時間の長方形を表示しない",
            "lineNumber": 2049
          },
          {
            "text": "      if (day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 2050
          },
          {
            "text": "        return false",
            "lineNumber": 2051
          },
          {
            "text": "      }",
            "lineNumber": 2052
          },
          {
            "text": "      ",
            "lineNumber": 2053
          },
          {
            "text": "      // 出勤していない場合：表示する（グレー）",
            "lineNumber": 2054
          },
          {
            "text": "      if (!day.clockIn) {",
            "lineNumber": 2055
          },
          {
            "text": "        return true",
            "lineNumber": 2056
          },
          {
            "text": "      }",
            "lineNumber": 2057
          },
          {
            "text": "      ",
            "lineNumber": 2058
          },
          {
            "text": "      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック",
            "lineNumber": 2059
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 2060
          },
          {
            "text": "      const clockInMinutes = inHour * 60 + inMin",
            "lineNumber": 2061
          },
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 2062
          },
          {
            "text": "      ",
            "lineNumber": 2063
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない",
            "lineNumber": 2064
          },
          {
            "text": "      return clockInMinutes &lt;= breakStartMinutes",
            "lineNumber": 2065
          },
          {
            "text": "    },",
            "lineNumber": 2066
          },
          {
            "text": "    ",
            "lineNumber": 2067
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請欄の+アイコン押下時）",
            "lineNumber": 2068
          },
          {
            "text": "      openApplicationDialog(day) {",
            "lineNumber": 2069
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 2070
          },
          {
            "text": "        this.selectedApplicationType = null",
            "lineNumber": 2071
          },
          {
            "text": "        this.showApplicationDialog = true",
            "lineNumber": 2072
          },
          {
            "text": "      },",
            "lineNumber": 2073
          },
          {
            "text": "      ",
            "lineNumber": 2074
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）",
            "lineNumber": 2075
          },
          {
            "text": "      openApplicationDialogWithType(day) {",
            "lineNumber": 2076
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 2077
          },
          {
            "text": "        ",
            "lineNumber": 2078
          }
        ]
      },
      "score": 0.46173688769340515
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 591
          },
          "endPosition": {
            "line": 635
          }
        },
        "contents": "            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'withinLegal') &gt; 0\"\n            class=\"graph-bar graph-bar-within-legal\" \n            :style=\"getGraphSegmentStyle(day, 'withinLegal')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間外残業セグメント（オレンジ色） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'overLegal') &gt; 0\"\n            class=\"graph-bar graph-bar-over-legal\" \n            :style=\"getGraphSegmentStyle(day, 'overLegal')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 休憩時間の四角形（複数対応） --&gt;\n        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;\n          &lt;div \n            v-if=\"shouldShowBreakTime(breakTime, day)\"\n            class=\"break-time-bar\" \n            :style=\"{ ...getBreakTimeStyle(breakTime, day), backgroundColor: getBreakTimeColor(breakTime, day) }\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n        &lt;/template&gt;\n        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;\n        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;\n        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 592
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 593
          },
          {
            "text": "          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;",
            "lineNumber": 594
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 595
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'withinLegal') &gt; 0\"",
            "lineNumber": 596
          },
          {
            "text": "            class=\"graph-bar graph-bar-within-legal\" ",
            "lineNumber": 597
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'withinLegal')\"",
            "lineNumber": 598
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 599
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 600
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 601
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 602
          },
          {
            "text": "          &lt;!-- 法定時間外残業セグメント（オレンジ色） --&gt;",
            "lineNumber": 603
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 604
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'overLegal') &gt; 0\"",
            "lineNumber": 605
          },
          {
            "text": "            class=\"graph-bar graph-bar-over-legal\" ",
            "lineNumber": 606
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'overLegal')\"",
            "lineNumber": 607
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 608
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 609
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 610
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 611
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 612
          },
          {
            "text": "        &lt;!-- 休憩時間の四角形（複数対応） --&gt;",
            "lineNumber": 613
          },
          {
            "text": "        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;",
            "lineNumber": 614
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 615
          },
          {
            "text": "            v-if=\"shouldShowBreakTime(breakTime, day)\"",
            "lineNumber": 616
          },
          {
            "text": "            class=\"break-time-bar\" ",
            "lineNumber": 617
          },
          {
            "text": "            :style=\"{ ...getBreakTimeStyle(breakTime, day), backgroundColor: getBreakTimeColor(breakTime, day) }\"",
            "lineNumber": 618
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 619
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 620
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 621
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 622
          },
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 623
          },
          {
            "text": "        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;",
            "lineNumber": 624
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;",
            "lineNumber": 625
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 626
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 627
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 628
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 629
          },
          {
            "text": "        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;",
            "lineNumber": 630
          },
          {
            "text": "        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;",
            "lineNumber": 631
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 632
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 633
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 634
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 635
          }
        ]
      },
      "score": 0.32451653480529785
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1524
          },
          "endPosition": {
            "line": 1569
          }
        },
        "contents": "        const vacationTypeCode = vacation?.VACATION_TYPE_CODE || null\n        const vacationApplicationStatus = vacation?.APPROVAL_STATUS || null\n        \n        displayData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          hasStampManualMismatch: hasStampManualMismatch,\n          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',\n          clockIn: clockIn,\n          clockOut: clockOut,\n          clockInType: clockInType,\n          clockOutType: clockOutType,\n          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',\n          workHours: formatWorkHours(totalWorkHours),\n          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,\n          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,\n          isHoliday: holiday,\n          hasVacation: hasVacation,\n          vacationTypeCode: vacationTypeCode,\n          vacationApplicationStatus: vacationApplicationStatus,\n          attendanceId: apiRecord?.ATTENDANCE_ID,\n          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,\n          breakTimes: breakTimes,\n          hasHolidayWorkApplication: hasHolidayWorkApplication,\n          holidayWorkApplicationStatus: holidayWorkApplicationStatus,\n          holidayWorkStartTime: holidayWorkStartTime,\n          holidayWorkEndTime: holidayWorkEndTime,\n          holidayWorkBreakHours: holidayWorkBreakHours,\n          remarkText: (() =&gt; {\n            if (apiRecord?.REMARK_TEXT !== null &amp;&amp; apiRecord?.REMARK_TEXT !== undefined) {\n              return String(apiRecord.REMARK_TEXT)\n            }\n\n            return ''\n          })()\n        })\n      }\n\n      return displayData\n    },",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        const vacationTypeCode = vacation?.VACATION_TYPE_CODE || null",
            "lineNumber": 1525
          },
          {
            "text": "        const vacationApplicationStatus = vacation?.APPROVAL_STATUS || null",
            "lineNumber": 1526
          },
          {
            "text": "        ",
            "lineNumber": 1527
          },
          {
            "text": "        displayData.push({",
            "lineNumber": 1528
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1529
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1530
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1531
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1532
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1533
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1534
          },
          {
            "text": "          hasStampManualMismatch: hasStampManualMismatch,",
            "lineNumber": 1535
          },
          {
            "text": "          approvalStatus: apiRecord?.APPROVAL_STATUS || 'NOT_SUBMITTED',",
            "lineNumber": 1536
          },
          {
            "text": "          clockIn: clockIn,",
            "lineNumber": 1537
          },
          {
            "text": "          clockOut: clockOut,",
            "lineNumber": 1538
          },
          {
            "text": "          clockInType: clockInType,",
            "lineNumber": 1539
          },
          {
            "text": "          clockOutType: clockOutType,",
            "lineNumber": 1540
          },
          {
            "text": "          location: apiRecord?.WORK_LOCATION_NAME || apiRecord?.WORK_LOCATION_CODE || '',",
            "lineNumber": 1541
          },
          {
            "text": "          workHours: formatWorkHours(totalWorkHours),",
            "lineNumber": 1542
          },
          {
            "text": "          hasWorkHoursError: apiRecord?.ACTUAL_WORK_HOURS &amp;&amp; Math.abs((apiRecord.ACTUAL_WORK_HOURS - totalWorkHours)) &gt; 0.01,",
            "lineNumber": 1543
          },
          {
            "text": "          canEdit: !apiRecord?.IS_DAILY_CONFIRMED,",
            "lineNumber": 1544
          },
          {
            "text": "          isHoliday: holiday,",
            "lineNumber": 1545
          },
          {
            "text": "          hasVacation: hasVacation,",
            "lineNumber": 1546
          },
          {
            "text": "          vacationTypeCode: vacationTypeCode,",
            "lineNumber": 1547
          },
          {
            "text": "          vacationApplicationStatus: vacationApplicationStatus,",
            "lineNumber": 1548
          },
          {
            "text": "          attendanceId: apiRecord?.ATTENDANCE_ID,",
            "lineNumber": 1549
          },
          {
            "text": "          actualWorkHours: apiRecord?.ACTUAL_WORK_HOURS || 0,",
            "lineNumber": 1550
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1551
          },
          {
            "text": "          hasHolidayWorkApplication: hasHolidayWorkApplication,",
            "lineNumber": 1552
          },
          {
            "text": "          holidayWorkApplicationStatus: holidayWorkApplicationStatus,",
            "lineNumber": 1553
          },
          {
            "text": "          holidayWorkStartTime: holidayWorkStartTime,",
            "lineNumber": 1554
          },
          {
            "text": "          holidayWorkEndTime: holidayWorkEndTime,",
            "lineNumber": 1555
          },
          {
            "text": "          holidayWorkBreakHours: holidayWorkBreakHours,",
            "lineNumber": 1556
          },
          {
            "text": "          remarkText: (() =&gt; {",
            "lineNumber": 1557
          },
          {
            "text": "            if (apiRecord?.REMARK_TEXT !== null &amp;&amp; apiRecord?.REMARK_TEXT !== undefined) {",
            "lineNumber": 1558
          },
          {
            "text": "              return String(apiRecord.REMARK_TEXT)",
            "lineNumber": 1559
          },
          {
            "text": "            }",
            "lineNumber": 1560
          },
          {
            "lineNumber": 1561
          },
          {
            "text": "            return ''",
            "lineNumber": 1562
          },
          {
            "text": "          })()",
            "lineNumber": 1563
          },
          {
            "text": "        })",
            "lineNumber": 1564
          },
          {
            "text": "      }",
            "lineNumber": 1565
          },
          {
            "lineNumber": 1566
          },
          {
            "text": "      return displayData",
            "lineNumber": 1567
          },
          {
            "text": "    },",
            "lineNumber": 1568
          }
        ]
      },
      "score": 0.29788243770599365
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2908
          },
          "endPosition": {
            "line": 2958
          }
        },
        "contents": "      // その日付までの実労働時間の合計を計算\n      let totalWorkHours = 0\n      for (const day of this.attendanceData) {\n        if (day.date &gt; cutoffDateStr) break\n        if (day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.actualWorkHours) {\n          totalWorkHours += parseFloat(day.actualWorkHours) || 0\n        }\n      }\n      \n      // その日付までの所定出勤日数を計算\n      const scheduledWorkDaysUntilCutoff = this.getScheduledWorkDaysUntilDate(year, month, cutoffDateStr)\n      \n      // 所定労働時間（7.5時間/日 × 所定出勤日数）\n      const scheduledWorkHoursUntilCutoff = scheduledWorkDaysUntilCutoff * 7.5\n      \n      return { totalWorkHours, scheduledWorkHoursUntilCutoff }\n    },\n    \n    // ツールチップ: 法定時間内残業を表示するかどうか\n    shouldShowMonthlyWithinLegalOvertime(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return false\n      }\n      \n      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return withinLegalOvertime &gt; 0\n    },\n    \n    // ツールチップ: 法定時間外残業を表示するかどうか\n    shouldShowMonthlyOverLegalOvertime(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return false\n      }\n      \n      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return overLegalOvertime &gt; 0\n    },\n    \n    // ツールチップ: 法定時間内残業を取得\n    getMonthlyWithinLegalOvertime(day) {\n      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return this.formatHoursToHMM(withinLegalOvertime)\n    },\n    \n    // ツールチップ: 法定時間外残業を取得\n    getMonthlyOverLegalOvertime(day) {\n      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return this.formatHoursToHMM(overLegalOvertime)\n    },\n    ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      // その日付までの実労働時間の合計を計算",
            "lineNumber": 2909
          },
          {
            "text": "      let totalWorkHours = 0",
            "lineNumber": 2910
          },
          {
            "text": "      for (const day of this.attendanceData) {",
            "lineNumber": 2911
          },
          {
            "text": "        if (day.date &gt; cutoffDateStr) break",
            "lineNumber": 2912
          },
          {
            "text": "        if (day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.actualWorkHours) {",
            "lineNumber": 2913
          },
          {
            "text": "          totalWorkHours += parseFloat(day.actualWorkHours) || 0",
            "lineNumber": 2914
          },
          {
            "text": "        }",
            "lineNumber": 2915
          },
          {
            "text": "      }",
            "lineNumber": 2916
          },
          {
            "text": "      ",
            "lineNumber": 2917
          },
          {
            "text": "      // その日付までの所定出勤日数を計算",
            "lineNumber": 2918
          },
          {
            "text": "      const scheduledWorkDaysUntilCutoff = this.getScheduledWorkDaysUntilDate(year, month, cutoffDateStr)",
            "lineNumber": 2919
          },
          {
            "text": "      ",
            "lineNumber": 2920
          },
          {
            "text": "      // 所定労働時間（7.5時間/日 × 所定出勤日数）",
            "lineNumber": 2921
          },
          {
            "text": "      const scheduledWorkHoursUntilCutoff = scheduledWorkDaysUntilCutoff * 7.5",
            "lineNumber": 2922
          },
          {
            "text": "      ",
            "lineNumber": 2923
          },
          {
            "text": "      return { totalWorkHours, scheduledWorkHoursUntilCutoff }",
            "lineNumber": 2924
          },
          {
            "text": "    },",
            "lineNumber": 2925
          },
          {
            "text": "    ",
            "lineNumber": 2926
          },
          {
            "text": "    // ツールチップ: 法定時間内残業を表示するかどうか",
            "lineNumber": 2927
          },
          {
            "text": "    shouldShowMonthlyWithinLegalOvertime(day) {",
            "lineNumber": 2928
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2929
          },
          {
            "text": "        return false",
            "lineNumber": 2930
          },
          {
            "text": "      }",
            "lineNumber": 2931
          },
          {
            "text": "      ",
            "lineNumber": 2932
          },
          {
            "text": "      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2933
          },
          {
            "text": "      return withinLegalOvertime &gt; 0",
            "lineNumber": 2934
          },
          {
            "text": "    },",
            "lineNumber": 2935
          },
          {
            "text": "    ",
            "lineNumber": 2936
          },
          {
            "text": "    // ツールチップ: 法定時間外残業を表示するかどうか",
            "lineNumber": 2937
          },
          {
            "text": "    shouldShowMonthlyOverLegalOvertime(day) {",
            "lineNumber": 2938
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2939
          },
          {
            "text": "        return false",
            "lineNumber": 2940
          },
          {
            "text": "      }",
            "lineNumber": 2941
          },
          {
            "text": "      ",
            "lineNumber": 2942
          },
          {
            "text": "      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2943
          },
          {
            "text": "      return overLegalOvertime &gt; 0",
            "lineNumber": 2944
          },
          {
            "text": "    },",
            "lineNumber": 2945
          },
          {
            "text": "    ",
            "lineNumber": 2946
          },
          {
            "text": "    // ツールチップ: 法定時間内残業を取得",
            "lineNumber": 2947
          },
          {
            "text": "    getMonthlyWithinLegalOvertime(day) {",
            "lineNumber": 2948
          },
          {
            "text": "      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2949
          },
          {
            "text": "      return this.formatHoursToHMM(withinLegalOvertime)",
            "lineNumber": 2950
          },
          {
            "text": "    },",
            "lineNumber": 2951
          },
          {
            "text": "    ",
            "lineNumber": 2952
          },
          {
            "text": "    // ツールチップ: 法定時間外残業を取得",
            "lineNumber": 2953
          },
          {
            "text": "    getMonthlyOverLegalOvertime(day) {",
            "lineNumber": 2954
          },
          {
            "text": "      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2955
          },
          {
            "text": "      return this.formatHoursToHMM(overLegalOvertime)",
            "lineNumber": 2956
          },
          {
            "text": "    },",
            "lineNumber": 2957
          },
          {
            "text": "    ",
            "lineNumber": 2958
          }
        ]
      },
      "score": 0.28490614891052246
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2860
          },
          "endPosition": {
            "line": 2911,
            "column": 8
          }
        },
        "contents": "          \n          // 法定時間外残業: それ以上\n          overLegalOvertime = dailyActualWorkHours - withinLegalOvertime\n        } else {\n          // 前日までの累積が月の法定労働時間を超えている場合\n          // 法定時間内残業は表示しない\n          // 法定時間外残業: その日の実労働時間すべて\n          overLegalOvertime = dailyActualWorkHours\n        }\n      }\n      \n      return {\n        scheduledWorkHours,\n        withinLegalOvertime,\n        overLegalOvertime\n      }\n    },\n    \n    // ツールチップ: 所定内労働時間を取得\n    getTooltipScheduledWorkHours(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return '-'\n      }\n      \n      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)\n      return this.formatHoursToHMM(scheduledWorkHours)\n    },\n    \n    // ツールチップ: 所定内労働を表示するかどうか\n    shouldShowScheduledWorkHours(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return false\n      }\n      \n      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)\n      return scheduledWorkHours &gt; 0\n    },\n    \n    // その日付までの累積労働時間を計算\n    calculateCumulativeWorkHours(cutoffDateStr) {\n      if (!this.attendanceData || this.attendanceData.length === 0) {\n        return { totalWorkHours: 0, scheduledWorkHoursUntilCutoff: 0 }\n      }\n      \n      // 年月を取得（最初の日付から）\n      const firstDate = this.attendanceData[0].date\n      const [year, month] = firstDate.split('-').map(Number)\n      \n      // その日付までの実労働時間の合計を計算\n      let totalWorkHours = 0\n      for (const day of this.attendanceData) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          ",
            "lineNumber": 2861
          },
          {
            "text": "          // 法定時間外残業: それ以上",
            "lineNumber": 2862
          },
          {
            "text": "          overLegalOvertime = dailyActualWorkHours - withinLegalOvertime",
            "lineNumber": 2863
          },
          {
            "text": "        } else {",
            "lineNumber": 2864
          },
          {
            "text": "          // 前日までの累積が月の法定労働時間を超えている場合",
            "lineNumber": 2865
          },
          {
            "text": "          // 法定時間内残業は表示しない",
            "lineNumber": 2866
          },
          {
            "text": "          // 法定時間外残業: その日の実労働時間すべて",
            "lineNumber": 2867
          },
          {
            "text": "          overLegalOvertime = dailyActualWorkHours",
            "lineNumber": 2868
          },
          {
            "text": "        }",
            "lineNumber": 2869
          },
          {
            "text": "      }",
            "lineNumber": 2870
          },
          {
            "text": "      ",
            "lineNumber": 2871
          },
          {
            "text": "      return {",
            "lineNumber": 2872
          },
          {
            "text": "        scheduledWorkHours,",
            "lineNumber": 2873
          },
          {
            "text": "        withinLegalOvertime,",
            "lineNumber": 2874
          },
          {
            "text": "        overLegalOvertime",
            "lineNumber": 2875
          },
          {
            "text": "      }",
            "lineNumber": 2876
          },
          {
            "text": "    },",
            "lineNumber": 2877
          },
          {
            "text": "    ",
            "lineNumber": 2878
          },
          {
            "text": "    // ツールチップ: 所定内労働時間を取得",
            "lineNumber": 2879
          },
          {
            "text": "    getTooltipScheduledWorkHours(day) {",
            "lineNumber": 2880
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2881
          },
          {
            "text": "        return '-'",
            "lineNumber": 2882
          },
          {
            "text": "      }",
            "lineNumber": 2883
          },
          {
            "text": "      ",
            "lineNumber": 2884
          },
          {
            "text": "      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2885
          },
          {
            "text": "      return this.formatHoursToHMM(scheduledWorkHours)",
            "lineNumber": 2886
          },
          {
            "text": "    },",
            "lineNumber": 2887
          },
          {
            "text": "    ",
            "lineNumber": 2888
          },
          {
            "text": "    // ツールチップ: 所定内労働を表示するかどうか",
            "lineNumber": 2889
          },
          {
            "text": "    shouldShowScheduledWorkHours(day) {",
            "lineNumber": 2890
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2891
          },
          {
            "text": "        return false",
            "lineNumber": 2892
          },
          {
            "text": "      }",
            "lineNumber": 2893
          },
          {
            "text": "      ",
            "lineNumber": 2894
          },
          {
            "text": "      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2895
          },
          {
            "text": "      return scheduledWorkHours &gt; 0",
            "lineNumber": 2896
          },
          {
            "text": "    },",
            "lineNumber": 2897
          },
          {
            "text": "    ",
            "lineNumber": 2898
          },
          {
            "text": "    // その日付までの累積労働時間を計算",
            "lineNumber": 2899
          },
          {
            "text": "    calculateCumulativeWorkHours(cutoffDateStr) {",
            "lineNumber": 2900
          },
          {
            "text": "      if (!this.attendanceData || this.attendanceData.length === 0) {",
            "lineNumber": 2901
          },
          {
            "text": "        return { totalWorkHours: 0, scheduledWorkHoursUntilCutoff: 0 }",
            "lineNumber": 2902
          },
          {
            "text": "      }",
            "lineNumber": 2903
          },
          {
            "text": "      ",
            "lineNumber": 2904
          },
          {
            "text": "      // 年月を取得（最初の日付から）",
            "lineNumber": 2905
          },
          {
            "text": "      const firstDate = this.attendanceData[0].date",
            "lineNumber": 2906
          },
          {
            "text": "      const [year, month] = firstDate.split('-').map(Number)",
            "lineNumber": 2907
          },
          {
            "text": "      ",
            "lineNumber": 2908
          },
          {
            "text": "      // その日付までの実労働時間の合計を計算",
            "lineNumber": 2909
          },
          {
            "text": "      let totalWorkHours = 0",
            "lineNumber": 2910
          },
          {
            "text": "      for (const day of this.attendanceData) {",
            "lineNumber": 2911
          },
          {
            "text": "        ",
            "lineNumber": 2912
          }
        ]
      },
      "score": 0.28221309185028076
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\HomeScreen.vue",
        "range": {
          "startPosition": {
            "line": 250
          },
          "endPosition": {
            "line": 299
          }
        },
        "contents": "    }\n  },\n  computed: {\n    // 当日が土日祝かどうか\n    isHoliday() {\n      const today = new Date()\n      const dayOfWeek = today.getDay() // 0=日曜日, 6=土曜日\n      \n      // 土日を判定\n      if (dayOfWeek === 0 || dayOfWeek === 6) {\n        return true\n      }\n      \n      // 祝日を判定\n      try {\n        return HolidayJp.isHoliday(today)\n      } catch (error) {\n        console.error('祝日判定エラー:', error)\n        return false\n      }\n    },\n    // 打刻可能かどうか（平日、または土日祝で休日出勤申請が承認済み）\n    canClock() {\n      return !this.isHoliday || this.isHolidayWorkApproved\n    },\n    // 勤務場所選択可能かどうか（常に選択可能）\n    isWorkplaceSelectable() {\n      // いつでも選択可能\n      return true\n    },\n    // 出勤ボタンが有効かどうか（未出勤、または中断中、かつ打刻可能）\n    isClockInEnabled() {\n      return this.canClock &amp;&amp; (!this.isClockInDone || this.isOnBreak)\n    },\n    // 定時出勤ボタンが有効かどうか（未出勤、かつ現在時刻が9:00以前、かつ打刻可能）\n    isScheduledClockInEnabled() {\n      if (!this.canClock || this.isClockInDone) return false\n      const now = new Date()\n      const hours = now.getHours()\n      const minutes = now.getMinutes()\n      return hours &lt; 9 || (hours === 9 &amp;&amp; minutes === 0)\n    },\n    // 退勤ボタンが有効かどうか（出勤済み、かつ未退勤、かつ中断中でない、かつ打刻可能）\n    isClockOutEnabled() {\n      return this.canClock &amp;&amp; this.isClockInDone &amp;&amp; !this.isClockOutDone &amp;&amp; !this.isOnBreak\n    },\n    // 定時退勤ボタンが有効かどうか（出勤済み、かつ未退勤、かつ中断中でない、かつ現在時刻が17:30以降、かつ打刻可能）\n    isScheduledClockOutEnabled() {\n      if (!this.canClock || !this.isClockInDone || this.isClockOutDone || this.isOnBreak) return false",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    }",
            "lineNumber": 251
          },
          {
            "text": "  },",
            "lineNumber": 252
          },
          {
            "text": "  computed: {",
            "lineNumber": 253
          },
          {
            "text": "    // 当日が土日祝かどうか",
            "lineNumber": 254
          },
          {
            "text": "    isHoliday() {",
            "lineNumber": 255
          },
          {
            "text": "      const today = new Date()",
            "lineNumber": 256
          },
          {
            "text": "      const dayOfWeek = today.getDay() // 0=日曜日, 6=土曜日",
            "lineNumber": 257
          },
          {
            "text": "      ",
            "lineNumber": 258
          },
          {
            "text": "      // 土日を判定",
            "lineNumber": 259
          },
          {
            "text": "      if (dayOfWeek === 0 || dayOfWeek === 6) {",
            "lineNumber": 260
          },
          {
            "text": "        return true",
            "lineNumber": 261
          },
          {
            "text": "      }",
            "lineNumber": 262
          },
          {
            "text": "      ",
            "lineNumber": 263
          },
          {
            "text": "      // 祝日を判定",
            "lineNumber": 264
          },
          {
            "text": "      try {",
            "lineNumber": 265
          },
          {
            "text": "        return HolidayJp.isHoliday(today)",
            "lineNumber": 266
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 267
          },
          {
            "text": "        console.error('祝日判定エラー:', error)",
            "lineNumber": 268
          },
          {
            "text": "        return false",
            "lineNumber": 269
          },
          {
            "text": "      }",
            "lineNumber": 270
          },
          {
            "text": "    },",
            "lineNumber": 271
          },
          {
            "text": "    // 打刻可能かどうか（平日、または土日祝で休日出勤申請が承認済み）",
            "lineNumber": 272
          },
          {
            "text": "    canClock() {",
            "lineNumber": 273
          },
          {
            "text": "      return !this.isHoliday || this.isHolidayWorkApproved",
            "lineNumber": 274
          },
          {
            "text": "    },",
            "lineNumber": 275
          },
          {
            "text": "    // 勤務場所選択可能かどうか（常に選択可能）",
            "lineNumber": 276
          },
          {
            "text": "    isWorkplaceSelectable() {",
            "lineNumber": 277
          },
          {
            "text": "      // いつでも選択可能",
            "lineNumber": 278
          },
          {
            "text": "      return true",
            "lineNumber": 279
          },
          {
            "text": "    },",
            "lineNumber": 280
          },
          {
            "text": "    // 出勤ボタンが有効かどうか（未出勤、または中断中、かつ打刻可能）",
            "lineNumber": 281
          },
          {
            "text": "    isClockInEnabled() {",
            "lineNumber": 282
          },
          {
            "text": "      return this.canClock &amp;&amp; (!this.isClockInDone || this.isOnBreak)",
            "lineNumber": 283
          },
          {
            "text": "    },",
            "lineNumber": 284
          },
          {
            "text": "    // 定時出勤ボタンが有効かどうか（未出勤、かつ現在時刻が9:00以前、かつ打刻可能）",
            "lineNumber": 285
          },
          {
            "text": "    isScheduledClockInEnabled() {",
            "lineNumber": 286
          },
          {
            "text": "      if (!this.canClock || this.isClockInDone) return false",
            "lineNumber": 287
          },
          {
            "text": "      const now = new Date()",
            "lineNumber": 288
          },
          {
            "text": "      const hours = now.getHours()",
            "lineNumber": 289
          },
          {
            "text": "      const minutes = now.getMinutes()",
            "lineNumber": 290
          },
          {
            "text": "      return hours &lt; 9 || (hours === 9 &amp;&amp; minutes === 0)",
            "lineNumber": 291
          },
          {
            "text": "    },",
            "lineNumber": 292
          },
          {
            "text": "    // 退勤ボタンが有効かどうか（出勤済み、かつ未退勤、かつ中断中でない、かつ打刻可能）",
            "lineNumber": 293
          },
          {
            "text": "    isClockOutEnabled() {",
            "lineNumber": 294
          },
          {
            "text": "      return this.canClock &amp;&amp; this.isClockInDone &amp;&amp; !this.isClockOutDone &amp;&amp; !this.isOnBreak",
            "lineNumber": 295
          },
          {
            "text": "    },",
            "lineNumber": 296
          },
          {
            "text": "    // 定時退勤ボタンが有効かどうか（出勤済み、かつ未退勤、かつ中断中でない、かつ現在時刻が17:30以降、かつ打刻可能）",
            "lineNumber": 297
          },
          {
            "text": "    isScheduledClockOutEnabled() {",
            "lineNumber": 298
          },
          {
            "text": "      if (!this.canClock || !this.isClockInDone || this.isClockOutDone || this.isOnBreak) return false",
            "lineNumber": 299
          }
        ]
      },
      "score": 0.2648822069168091
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2684,
            "column": 6
          },
          "endPosition": {
            "line": 2746,
            "column": 8
          }
        },
        "contents": "// 常に所定休憩時間を表示\n      return '12:00-13:00'\n    },\n    \n    // ツールチップ: 休憩時間を取得（複数対応）\n    getTooltipBreakTimes(day) {\n      if (!day.breakTimes || day.breakTimes.length === 0) {\n        return '-'\n      }\n      return day.breakTimes\n        .map(bt =&gt; &#96;${bt.startTime}-${bt.endTime}&#96;)\n        .join(', ')\n    },\n    \n    // ツールチップ: 総労働時間を取得（出勤から退勤までの時間）\n    getTooltipTotalWorkTime(day) {\n      if (!day.clockIn || !day.clockOut) {\n        return '-'\n      }\n      \n      // 時刻文字列を分割（H:MM形式またはHH:MM形式に対応）\n      const parseTime = (timeStr) =&gt; {\n        if (!timeStr || typeof timeStr !== 'string') return null\n        const parts = timeStr.split(':')\n        if (parts.length !== 2) return null\n        const hour = parseInt(parts[0], 10)\n        const minute = parseInt(parts[1], 10)\n        if (isNaN(hour) || isNaN(minute)) return null\n        return { hour, minute }\n      }\n      \n      const clockIn = parseTime(day.clockIn)\n      const clockOut = parseTime(day.clockOut)\n      \n      if (!clockIn || !clockOut) {\n        return '-'\n      }\n      \n      const clockInMinutes = clockIn.hour * 60 + clockIn.minute\n      const clockOutMinutes = clockOut.hour * 60 + clockOut.minute\n      \n      // 24時間を超える場合の処理（日をまたぐ場合）\n      let totalMinutes = clockOutMinutes - clockInMinutes\n      if (totalMinutes &lt; 0) {\n        // 日をまたぐ場合（例: 22:00出勤、翌日2:00退勤）\n        totalMinutes = (24 * 60 - clockInMinutes) + clockOutMinutes\n      }\n      \n      const hours = Math.floor(totalMinutes / 60)\n      const minutes = totalMinutes % 60\n      \n      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;\n    },\n    \n    // ツールチップ: 休憩時間合計を取得\n    getTooltipTotalBreakTime(day) {\n      if (!day.breakTimes || day.breakTimes.length === 0) {\n        return '0:00'\n      }\n      \n      let totalMinutes = 0\n      for (const bt of day.breakTimes) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "// 常に所定休憩時間を表示",
            "lineNumber": 2685
          },
          {
            "text": "      return '12:00-13:00'",
            "lineNumber": 2686
          },
          {
            "text": "    },",
            "lineNumber": 2687
          },
          {
            "text": "    ",
            "lineNumber": 2688
          },
          {
            "text": "    // ツールチップ: 休憩時間を取得（複数対応）",
            "lineNumber": 2689
          },
          {
            "text": "    getTooltipBreakTimes(day) {",
            "lineNumber": 2690
          },
          {
            "text": "      if (!day.breakTimes || day.breakTimes.length === 0) {",
            "lineNumber": 2691
          },
          {
            "text": "        return '-'",
            "lineNumber": 2692
          },
          {
            "text": "      }",
            "lineNumber": 2693
          },
          {
            "text": "      return day.breakTimes",
            "lineNumber": 2694
          },
          {
            "text": "        .map(bt =&gt; &#96;${bt.startTime}-${bt.endTime}&#96;)",
            "lineNumber": 2695
          },
          {
            "text": "        .join(', ')",
            "lineNumber": 2696
          },
          {
            "text": "    },",
            "lineNumber": 2697
          },
          {
            "text": "    ",
            "lineNumber": 2698
          },
          {
            "text": "    // ツールチップ: 総労働時間を取得（出勤から退勤までの時間）",
            "lineNumber": 2699
          },
          {
            "text": "    getTooltipTotalWorkTime(day) {",
            "lineNumber": 2700
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut) {",
            "lineNumber": 2701
          },
          {
            "text": "        return '-'",
            "lineNumber": 2702
          },
          {
            "text": "      }",
            "lineNumber": 2703
          },
          {
            "text": "      ",
            "lineNumber": 2704
          },
          {
            "text": "      // 時刻文字列を分割（H:MM形式またはHH:MM形式に対応）",
            "lineNumber": 2705
          },
          {
            "text": "      const parseTime = (timeStr) =&gt; {",
            "lineNumber": 2706
          },
          {
            "text": "        if (!timeStr || typeof timeStr !== 'string') return null",
            "lineNumber": 2707
          },
          {
            "text": "        const parts = timeStr.split(':')",
            "lineNumber": 2708
          },
          {
            "text": "        if (parts.length !== 2) return null",
            "lineNumber": 2709
          },
          {
            "text": "        const hour = parseInt(parts[0], 10)",
            "lineNumber": 2710
          },
          {
            "text": "        const minute = parseInt(parts[1], 10)",
            "lineNumber": 2711
          },
          {
            "text": "        if (isNaN(hour) || isNaN(minute)) return null",
            "lineNumber": 2712
          },
          {
            "text": "        return { hour, minute }",
            "lineNumber": 2713
          },
          {
            "text": "      }",
            "lineNumber": 2714
          },
          {
            "text": "      ",
            "lineNumber": 2715
          },
          {
            "text": "      const clockIn = parseTime(day.clockIn)",
            "lineNumber": 2716
          },
          {
            "text": "      const clockOut = parseTime(day.clockOut)",
            "lineNumber": 2717
          },
          {
            "text": "      ",
            "lineNumber": 2718
          },
          {
            "text": "      if (!clockIn || !clockOut) {",
            "lineNumber": 2719
          },
          {
            "text": "        return '-'",
            "lineNumber": 2720
          },
          {
            "text": "      }",
            "lineNumber": 2721
          },
          {
            "text": "      ",
            "lineNumber": 2722
          },
          {
            "text": "      const clockInMinutes = clockIn.hour * 60 + clockIn.minute",
            "lineNumber": 2723
          },
          {
            "text": "      const clockOutMinutes = clockOut.hour * 60 + clockOut.minute",
            "lineNumber": 2724
          },
          {
            "text": "      ",
            "lineNumber": 2725
          },
          {
            "text": "      // 24時間を超える場合の処理（日をまたぐ場合）",
            "lineNumber": 2726
          },
          {
            "text": "      let totalMinutes = clockOutMinutes - clockInMinutes",
            "lineNumber": 2727
          },
          {
            "text": "      if (totalMinutes &lt; 0) {",
            "lineNumber": 2728
          },
          {
            "text": "        // 日をまたぐ場合（例: 22:00出勤、翌日2:00退勤）",
            "lineNumber": 2729
          },
          {
            "text": "        totalMinutes = (24 * 60 - clockInMinutes) + clockOutMinutes",
            "lineNumber": 2730
          },
          {
            "text": "      }",
            "lineNumber": 2731
          },
          {
            "text": "      ",
            "lineNumber": 2732
          },
          {
            "text": "      const hours = Math.floor(totalMinutes / 60)",
            "lineNumber": 2733
          },
          {
            "text": "      const minutes = totalMinutes % 60",
            "lineNumber": 2734
          },
          {
            "text": "      ",
            "lineNumber": 2735
          },
          {
            "text": "      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;",
            "lineNumber": 2736
          },
          {
            "text": "    },",
            "lineNumber": 2737
          },
          {
            "text": "    ",
            "lineNumber": 2738
          },
          {
            "text": "    // ツールチップ: 休憩時間合計を取得",
            "lineNumber": 2739
          },
          {
            "text": "    getTooltipTotalBreakTime(day) {",
            "lineNumber": 2740
          },
          {
            "text": "      if (!day.breakTimes || day.breakTimes.length === 0) {",
            "lineNumber": 2741
          },
          {
            "text": "        return '0:00'",
            "lineNumber": 2742
          },
          {
            "text": "      }",
            "lineNumber": 2743
          },
          {
            "text": "      ",
            "lineNumber": 2744
          },
          {
            "text": "      let totalMinutes = 0",
            "lineNumber": 2745
          },
          {
            "text": "      for (const bt of day.breakTimes) {",
            "lineNumber": 2746
          },
          {
            "text": "        ",
            "lineNumber": 2747
          }
        ]
      },
      "score": 0.2604233920574188
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 703
          },
          "endPosition": {
            "line": 742
          }
        },
        "contents": "            &lt;/div&gt;\n            \n            &lt;!-- 休憩時間 --&gt;\n            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;休憩時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipBreakTimes(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 総労働時間 --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 実労働時間 --&gt;\n            &lt;div v-if=\"day.actualWorkHours\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;実労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ formatHoursToHMM(day.actualWorkHours) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 休憩時間合計 --&gt;\n            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-blue\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;休憩時間合計&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalBreakTime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 所定内労働（月の所定労働時間の残りまで） --&gt;\n            &lt;div v-if=\"shouldShowScheduledWorkHours(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-light-blue\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;所定内労働&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkHours(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 法定時間内残業（月次累積） --&gt;\n            &lt;div v-if=\"shouldShowMonthlyWithinLegalOvertime(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-yellow\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyWithinLegalOvertime(day) }}&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 704
          },
          {
            "text": "            ",
            "lineNumber": 705
          },
          {
            "text": "            &lt;!-- 休憩時間 --&gt;",
            "lineNumber": 706
          },
          {
            "text": "            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;",
            "lineNumber": 707
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;休憩時間&lt;/span&gt;",
            "lineNumber": 708
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipBreakTimes(day) }}&lt;/span&gt;",
            "lineNumber": 709
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 710
          },
          {
            "text": "            ",
            "lineNumber": 711
          },
          {
            "text": "            &lt;!-- 総労働時間 --&gt;",
            "lineNumber": 712
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 713
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;",
            "lineNumber": 714
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTime(day) }}&lt;/span&gt;",
            "lineNumber": 715
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 716
          },
          {
            "text": "            ",
            "lineNumber": 717
          },
          {
            "text": "            &lt;!-- 実労働時間 --&gt;",
            "lineNumber": 718
          },
          {
            "text": "            &lt;div v-if=\"day.actualWorkHours\" class=\"tooltip-row\"&gt;",
            "lineNumber": 719
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;実労働時間&lt;/span&gt;",
            "lineNumber": 720
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ formatHoursToHMM(day.actualWorkHours) }}&lt;/span&gt;",
            "lineNumber": 721
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 722
          },
          {
            "text": "            ",
            "lineNumber": 723
          },
          {
            "text": "            &lt;!-- 休憩時間合計 --&gt;",
            "lineNumber": 724
          },
          {
            "text": "            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;",
            "lineNumber": 725
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-blue\"&gt;■&lt;/span&gt;",
            "lineNumber": 726
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;休憩時間合計&lt;/span&gt;",
            "lineNumber": 727
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalBreakTime(day) }}&lt;/span&gt;",
            "lineNumber": 728
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 729
          },
          {
            "text": "            ",
            "lineNumber": 730
          },
          {
            "text": "            &lt;!-- 所定内労働（月の所定労働時間の残りまで） --&gt;",
            "lineNumber": 731
          },
          {
            "text": "            &lt;div v-if=\"shouldShowScheduledWorkHours(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 732
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-light-blue\"&gt;■&lt;/span&gt;",
            "lineNumber": 733
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;所定内労働&lt;/span&gt;",
            "lineNumber": 734
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkHours(day) }}&lt;/span&gt;",
            "lineNumber": 735
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 736
          },
          {
            "text": "            ",
            "lineNumber": 737
          },
          {
            "text": "            &lt;!-- 法定時間内残業（月次累積） --&gt;",
            "lineNumber": 738
          },
          {
            "text": "            &lt;div v-if=\"shouldShowMonthlyWithinLegalOvertime(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 739
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-yellow\"&gt;■&lt;/span&gt;",
            "lineNumber": 740
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;",
            "lineNumber": 741
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyWithinLegalOvertime(day) }}&lt;/span&gt;",
            "lineNumber": 742
          }
        ]
      },
      "score": 0.24136589467525482
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1441
          },
          "endPosition": {
            "line": 1489,
            "column": 10
          }
        },
        "contents": "                endHour: new Date(bt.BREAK_END_TIME).getHours(),\n                endMinute: new Date(bt.BREAK_END_TIME).getMinutes()\n              })\n            }\n          }\n        } else {\n          // 基本休憩時間（12:00~13:00）をデフォルトで設定（平日の場合）\n          if (dayOfWeek &gt;= 1 &amp;&amp; dayOfWeek &lt;= 5 &amp;&amp; !holiday) {\n            breakTimes.push({\n              startTime: '12:00',\n              endTime: '13:00',\n              startHour: 12,\n              startMinute: 0,\n              endHour: 13,\n              endMinute: 0\n            })\n          }\n        }\n\n        // 出社・退社時刻をフォーマット\n        const clockIn = formatTime(apiRecord?.CLOCK_IN_TIME)\n        const clockOut = formatTime(apiRecord?.CLOCK_OUT_TIME)\n        \n        // 打刻時刻をフォーマット（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）\n        const originalClockIn = formatTime(apiRecord?.ORIGINAL_CLOCK_IN_TIME)\n        const originalClockOut = formatTime(apiRecord?.ORIGINAL_CLOCK_OUT_TIME)\n        \n        // 出社時刻が空欄の場合、clockInTypeも空文字列に設定（背景色を付けないため）\n        let clockInType = ''\n\n        if (clockIn) {\n          clockInType = apiRecord?.CLOCK_IN_TYPE || ''\n        }\n\n        // 退社時刻が空欄の場合、clockOutTypeも空文字列に設定（背景色を付けないため）\n        let clockOutType = ''\n\n        if (clockOut) {\n          clockOutType = apiRecord?.CLOCK_OUT_TYPE || ''\n        }\n        \n        // 打刻時刻と入力時刻が異なる場合の判定\n        // 打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）が存在し、\n        // かつ入力時刻（CLOCK_IN_TIME/CLOCK_OUT_TIME）と異なる場合にtrue\n        // または、打刻種別がMANUALで、かつ打刻時刻が存在する場合\n        const hasClockInMismatch = originalClockIn &amp;&amp; clockIn &amp;&amp; originalClockIn !== clockIn\n        const hasClockOutMismatch = originalClockOut &amp;&amp; clockOut &amp;&amp; originalClockOut !== clockOut\n        const hasStampManualMismatch = hasClockInMismatch || hasClockOutMismatch || \n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                endHour: new Date(bt.BREAK_END_TIME).getHours(),",
            "lineNumber": 1442
          },
          {
            "text": "                endMinute: new Date(bt.BREAK_END_TIME).getMinutes()",
            "lineNumber": 1443
          },
          {
            "text": "              })",
            "lineNumber": 1444
          },
          {
            "text": "            }",
            "lineNumber": 1445
          },
          {
            "text": "          }",
            "lineNumber": 1446
          },
          {
            "text": "        } else {",
            "lineNumber": 1447
          },
          {
            "text": "          // 基本休憩時間（12:00~13:00）をデフォルトで設定（平日の場合）",
            "lineNumber": 1448
          },
          {
            "text": "          if (dayOfWeek &gt;= 1 &amp;&amp; dayOfWeek &lt;= 5 &amp;&amp; !holiday) {",
            "lineNumber": 1449
          },
          {
            "text": "            breakTimes.push({",
            "lineNumber": 1450
          },
          {
            "text": "              startTime: '12:00',",
            "lineNumber": 1451
          },
          {
            "text": "              endTime: '13:00',",
            "lineNumber": 1452
          },
          {
            "text": "              startHour: 12,",
            "lineNumber": 1453
          },
          {
            "text": "              startMinute: 0,",
            "lineNumber": 1454
          },
          {
            "text": "              endHour: 13,",
            "lineNumber": 1455
          },
          {
            "text": "              endMinute: 0",
            "lineNumber": 1456
          },
          {
            "text": "            })",
            "lineNumber": 1457
          },
          {
            "text": "          }",
            "lineNumber": 1458
          },
          {
            "text": "        }",
            "lineNumber": 1459
          },
          {
            "lineNumber": 1460
          },
          {
            "text": "        // 出社・退社時刻をフォーマット",
            "lineNumber": 1461
          },
          {
            "text": "        const clockIn = formatTime(apiRecord?.CLOCK_IN_TIME)",
            "lineNumber": 1462
          },
          {
            "text": "        const clockOut = formatTime(apiRecord?.CLOCK_OUT_TIME)",
            "lineNumber": 1463
          },
          {
            "text": "        ",
            "lineNumber": 1464
          },
          {
            "text": "        // 打刻時刻をフォーマット（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）",
            "lineNumber": 1465
          },
          {
            "text": "        const originalClockIn = formatTime(apiRecord?.ORIGINAL_CLOCK_IN_TIME)",
            "lineNumber": 1466
          },
          {
            "text": "        const originalClockOut = formatTime(apiRecord?.ORIGINAL_CLOCK_OUT_TIME)",
            "lineNumber": 1467
          },
          {
            "text": "        ",
            "lineNumber": 1468
          },
          {
            "text": "        // 出社時刻が空欄の場合、clockInTypeも空文字列に設定（背景色を付けないため）",
            "lineNumber": 1469
          },
          {
            "text": "        let clockInType = ''",
            "lineNumber": 1470
          },
          {
            "lineNumber": 1471
          },
          {
            "text": "        if (clockIn) {",
            "lineNumber": 1472
          },
          {
            "text": "          clockInType = apiRecord?.CLOCK_IN_TYPE || ''",
            "lineNumber": 1473
          },
          {
            "text": "        }",
            "lineNumber": 1474
          },
          {
            "lineNumber": 1475
          },
          {
            "text": "        // 退社時刻が空欄の場合、clockOutTypeも空文字列に設定（背景色を付けないため）",
            "lineNumber": 1476
          },
          {
            "text": "        let clockOutType = ''",
            "lineNumber": 1477
          },
          {
            "lineNumber": 1478
          },
          {
            "text": "        if (clockOut) {",
            "lineNumber": 1479
          },
          {
            "text": "          clockOutType = apiRecord?.CLOCK_OUT_TYPE || ''",
            "lineNumber": 1480
          },
          {
            "text": "        }",
            "lineNumber": 1481
          },
          {
            "text": "        ",
            "lineNumber": 1482
          },
          {
            "text": "        // 打刻時刻と入力時刻が異なる場合の判定",
            "lineNumber": 1483
          },
          {
            "text": "        // 打刻時刻（ORIGINAL_CLOCK_IN_TIME/ORIGINAL_CLOCK_OUT_TIME）が存在し、",
            "lineNumber": 1484
          },
          {
            "text": "        // かつ入力時刻（CLOCK_IN_TIME/CLOCK_OUT_TIME）と異なる場合にtrue",
            "lineNumber": 1485
          },
          {
            "text": "        // または、打刻種別がMANUALで、かつ打刻時刻が存在する場合",
            "lineNumber": 1486
          },
          {
            "text": "        const hasClockInMismatch = originalClockIn &amp;&amp; clockIn &amp;&amp; originalClockIn !== clockIn",
            "lineNumber": 1487
          },
          {
            "text": "        const hasClockOutMismatch = originalClockOut &amp;&amp; clockOut &amp;&amp; originalClockOut !== clockOut",
            "lineNumber": 1488
          },
          {
            "text": "        const hasStampManualMismatch = hasClockInMismatch || hasClockOutMismatch || ",
            "lineNumber": 1489
          },
          {
            "text": "          ",
            "lineNumber": 1490
          }
        ]
      },
      "score": 0.24033546447753906
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 535
          },
          "endPosition": {
            "line": 576
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-work-time-bar vacation-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の所定内労働時間帯（#1A69AB） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"scheduled-work-time-bar compensatory-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合、代休の場合は表示しない） --&gt;\n        &lt;div \n          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours &amp;&amp; !(day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY')\"\n          class=\"scheduled-break-time-bar\" \n          :style=\"getScheduledBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 536
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 537
          },
          {
            "text": "          class=\"scheduled-work-time-bar vacation-work-time-bar\" ",
            "lineNumber": 538
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 539
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 540
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 541
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 542
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 543
          },
          {
            "text": "        &lt;!-- 代休の所定内労働時間帯（#1A69AB） --&gt;",
            "lineNumber": 544
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 545
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 546
          },
          {
            "text": "          class=\"scheduled-work-time-bar compensatory-work-time-bar\" ",
            "lineNumber": 547
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 548
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 549
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 550
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 551
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 552
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;",
            "lineNumber": 553
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 554
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 555
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 556
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 557
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 558
          },
          {
            "text": "        &lt;!-- 代休の細い白線 --&gt;",
            "lineNumber": 559
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 560
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 561
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 562
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 563
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 564
          },
          {
            "text": "        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合、代休の場合は表示しない） --&gt;",
            "lineNumber": 565
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 566
          },
          {
            "text": "          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours &amp;&amp; !(day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY')\"",
            "lineNumber": 567
          },
          {
            "text": "          class=\"scheduled-break-time-bar\" ",
            "lineNumber": 568
          },
          {
            "text": "          :style=\"getScheduledBreakTimeStyle(day)\"",
            "lineNumber": 569
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 570
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 571
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 572
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 573
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;",
            "lineNumber": 574
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 575
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 576
          }
        ]
      },
      "score": 0.23934930562973022
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1387,
            "column": 14
          },
          "endPosition": {
            "line": 1443
          }
        },
        "contents": "recordDateStr = dateStr.substring(0, 10);\n            }\n          }\n          \n          return recordDateStr === dateStr;\n        })\n\n        // 祝日判定\n        const holiday = HolidayJp.isHoliday(date)\n\n        // 日付表示を数字部分と曜日部分に分ける\n        let dateNumber = ''\n        let dateDayOfWeek = ''\n\n        if (day === 1) {\n          dateNumber = &#96;${Number(month)}/${day}&#96;\n          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;\n        } else {\n          const dayStr = String(day).padStart(2, ' ')\n          dateNumber = dayStr\n          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;\n        }\n\n        // 出社・退社時刻をH:MM形式に変換（時の先頭0を削除）\n        const formatTime = (datetime) =&gt; {\n          if (!datetime) return ''\n          const date = new Date(datetime)\n          const hours = String(date.getHours()) // 先頭0なし\n          const minutes = String(date.getMinutes()).padStart(2, '0')\n          return &#96;${hours}:${minutes}&#96;\n        }\n\n        // 工数を時間:分形式に変換（例: 7.5 → 7:30, 7.75 → 7:45）\n        const formatWorkHours = (hours) =&gt; {\n          if (!hours || hours === 0) return ''\n          const wholeHours = Math.floor(hours)\n          const minutes = Math.round((hours - wholeHours) * 60)\n          return &#96;${wholeHours}:${String(minutes).padStart(2, '0')}&#96;\n        }\n\n        // 工数合計を計算\n        const totalWorkHours = apiRecord?.workHours?.reduce((sum, wh) =&gt; sum + (parseFloat(wh.WORK_HOURS_VALUE) || 0), 0) || 0\n\n        // 休憩時間データを取得・変換\n        const breakTimes = []\n        if (apiRecord?.breakTimes &amp;&amp; apiRecord.breakTimes.length &gt; 0) {\n          // APIから取得した休憩時間を変換\n          for (const bt of apiRecord.breakTimes) {\n            if (bt.BREAK_START_TIME &amp;&amp; bt.BREAK_END_TIME) {\n              breakTimes.push({\n                startTime: formatTime(bt.BREAK_START_TIME),\n                endTime: formatTime(bt.BREAK_END_TIME),\n                startHour: new Date(bt.BREAK_START_TIME).getHours(),\n                startMinute: new Date(bt.BREAK_START_TIME).getMinutes(),\n                endHour: new Date(bt.BREAK_END_TIME).getHours(),\n                endMinute: new Date(bt.BREAK_END_TIME).getMinutes()",
        "signatures": {},
        "detailedLines": [
          {
            "text": "recordDateStr = dateStr.substring(0, 10);",
            "lineNumber": 1388
          },
          {
            "text": "            }",
            "lineNumber": 1389
          },
          {
            "text": "          }",
            "lineNumber": 1390
          },
          {
            "text": "          ",
            "lineNumber": 1391
          },
          {
            "text": "          return recordDateStr === dateStr;",
            "lineNumber": 1392
          },
          {
            "text": "        })",
            "lineNumber": 1393
          },
          {
            "lineNumber": 1394
          },
          {
            "text": "        // 祝日判定",
            "lineNumber": 1395
          },
          {
            "text": "        const holiday = HolidayJp.isHoliday(date)",
            "lineNumber": 1396
          },
          {
            "lineNumber": 1397
          },
          {
            "text": "        // 日付表示を数字部分と曜日部分に分ける",
            "lineNumber": 1398
          },
          {
            "text": "        let dateNumber = ''",
            "lineNumber": 1399
          },
          {
            "text": "        let dateDayOfWeek = ''",
            "lineNumber": 1400
          },
          {
            "lineNumber": 1401
          },
          {
            "text": "        if (day === 1) {",
            "lineNumber": 1402
          },
          {
            "text": "          dateNumber = &#96;${Number(month)}/${day}&#96;",
            "lineNumber": 1403
          },
          {
            "text": "          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;",
            "lineNumber": 1404
          },
          {
            "text": "        } else {",
            "lineNumber": 1405
          },
          {
            "text": "          const dayStr = String(day).padStart(2, ' ')",
            "lineNumber": 1406
          },
          {
            "text": "          dateNumber = dayStr",
            "lineNumber": 1407
          },
          {
            "text": "          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;",
            "lineNumber": 1408
          },
          {
            "text": "        }",
            "lineNumber": 1409
          },
          {
            "lineNumber": 1410
          },
          {
            "text": "        // 出社・退社時刻をH:MM形式に変換（時の先頭0を削除）",
            "lineNumber": 1411
          },
          {
            "text": "        const formatTime = (datetime) =&gt; {",
            "lineNumber": 1412
          },
          {
            "text": "          if (!datetime) return ''",
            "lineNumber": 1413
          },
          {
            "text": "          const date = new Date(datetime)",
            "lineNumber": 1414
          },
          {
            "text": "          const hours = String(date.getHours()) // 先頭0なし",
            "lineNumber": 1415
          },
          {
            "text": "          const minutes = String(date.getMinutes()).padStart(2, '0')",
            "lineNumber": 1416
          },
          {
            "text": "          return &#96;${hours}:${minutes}&#96;",
            "lineNumber": 1417
          },
          {
            "text": "        }",
            "lineNumber": 1418
          },
          {
            "lineNumber": 1419
          },
          {
            "text": "        // 工数を時間:分形式に変換（例: 7.5 → 7:30, 7.75 → 7:45）",
            "lineNumber": 1420
          },
          {
            "text": "        const formatWorkHours = (hours) =&gt; {",
            "lineNumber": 1421
          },
          {
            "text": "          if (!hours || hours === 0) return ''",
            "lineNumber": 1422
          },
          {
            "text": "          const wholeHours = Math.floor(hours)",
            "lineNumber": 1423
          },
          {
            "text": "          const minutes = Math.round((hours - wholeHours) * 60)",
            "lineNumber": 1424
          },
          {
            "text": "          return &#96;${wholeHours}:${String(minutes).padStart(2, '0')}&#96;",
            "lineNumber": 1425
          },
          {
            "text": "        }",
            "lineNumber": 1426
          },
          {
            "lineNumber": 1427
          },
          {
            "text": "        // 工数合計を計算",
            "lineNumber": 1428
          },
          {
            "text": "        const totalWorkHours = apiRecord?.workHours?.reduce((sum, wh) =&gt; sum + (parseFloat(wh.WORK_HOURS_VALUE) || 0), 0) || 0",
            "lineNumber": 1429
          },
          {
            "lineNumber": 1430
          },
          {
            "text": "        // 休憩時間データを取得・変換",
            "lineNumber": 1431
          },
          {
            "text": "        const breakTimes = []",
            "lineNumber": 1432
          },
          {
            "text": "        if (apiRecord?.breakTimes &amp;&amp; apiRecord.breakTimes.length &gt; 0) {",
            "lineNumber": 1433
          },
          {
            "text": "          // APIから取得した休憩時間を変換",
            "lineNumber": 1434
          },
          {
            "text": "          for (const bt of apiRecord.breakTimes) {",
            "lineNumber": 1435
          },
          {
            "text": "            if (bt.BREAK_START_TIME &amp;&amp; bt.BREAK_END_TIME) {",
            "lineNumber": 1436
          },
          {
            "text": "              breakTimes.push({",
            "lineNumber": 1437
          },
          {
            "text": "                startTime: formatTime(bt.BREAK_START_TIME),",
            "lineNumber": 1438
          },
          {
            "text": "                endTime: formatTime(bt.BREAK_END_TIME),",
            "lineNumber": 1439
          },
          {
            "text": "                startHour: new Date(bt.BREAK_START_TIME).getHours(),",
            "lineNumber": 1440
          },
          {
            "text": "                startMinute: new Date(bt.BREAK_START_TIME).getMinutes(),",
            "lineNumber": 1441
          },
          {
            "text": "                endHour: new Date(bt.BREAK_END_TIME).getHours(),",
            "lineNumber": 1442
          },
          {
            "text": "                endMinute: new Date(bt.BREAK_END_TIME).getMinutes()",
            "lineNumber": 1443
          }
        ]
      },
      "score": 0.2391190528869629
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 574
          },
          "endPosition": {
            "line": 594
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-break-time-bar vacation-break-time-bar\" \n          :style=\"getVacationBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;\n        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;\n          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'scheduled') &gt; 0\"\n            class=\"graph-bar graph-bar-scheduled\" \n            :style=\"getGraphSegmentStyle(day, 'scheduled')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 575
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 576
          },
          {
            "text": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" ",
            "lineNumber": 577
          },
          {
            "text": "          :style=\"getVacationBreakTimeStyle(day)\"",
            "lineNumber": 578
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 579
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 580
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 581
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 582
          },
          {
            "text": "        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;",
            "lineNumber": 583
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;",
            "lineNumber": 584
          },
          {
            "text": "          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
            "lineNumber": 585
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 586
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'scheduled') &gt; 0\"",
            "lineNumber": 587
          },
          {
            "text": "            class=\"graph-bar graph-bar-scheduled\" ",
            "lineNumber": 588
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'scheduled')\"",
            "lineNumber": 589
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 590
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 591
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 592
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 593
          },
          {
            "text": "          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;",
            "lineNumber": 594
          }
        ]
      },
      "score": 0.23730254173278809
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1995
          },
          "endPosition": {
            "line": 2038
          }
        },
        "contents": "      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // 有給休暇または夏季休暇の休憩時間のスタイルを取得（12:00-13:00）\n    getVacationBreakTimeStyle(day) {\n      // 常に12:00-13:00の時間軸に合わせる\n      const startPosition = this.calculateTimePosition(12, 0)\n      const endPosition = this.calculateTimePosition(13, 0)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;,\n        backgroundColor: '#1A69AB' // 青色をインラインスタイルで指定\n      }\n    },\n    \n    // 休憩時間のスタイルを取得\n    getBreakTimeStyle(breakTime, day) {\n      const startPosition = this.calculateTimePosition(breakTime.startHour, breakTime.startMinute)\n      const endPosition = this.calculateTimePosition(breakTime.endHour, breakTime.endMinute)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // 休憩時間の色を取得\n    getBreakTimeColor(breakTime, day) {\n      // 出勤していない場合（勤務予定日）：グレー（#BBBBBB）\n      if (!day.clockIn) {\n        return '#BBBBBB'\n      }\n      \n      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック\n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const clockInMinutes = inHour * 60 + inMin\n      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute\n      \n      // 出勤時刻が休憩時間より後の場合：表示しない（nullを返す）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      return {",
            "lineNumber": 1996
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1997
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1998
          },
          {
            "text": "      }",
            "lineNumber": 1999
          },
          {
            "text": "    },",
            "lineNumber": 2000
          },
          {
            "text": "    ",
            "lineNumber": 2001
          },
          {
            "text": "    // 有給休暇または夏季休暇の休憩時間のスタイルを取得（12:00-13:00）",
            "lineNumber": 2002
          },
          {
            "text": "    getVacationBreakTimeStyle(day) {",
            "lineNumber": 2003
          },
          {
            "text": "      // 常に12:00-13:00の時間軸に合わせる",
            "lineNumber": 2004
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(12, 0)",
            "lineNumber": 2005
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(13, 0)",
            "lineNumber": 2006
          },
          {
            "text": "      ",
            "lineNumber": 2007
          },
          {
            "text": "      return {",
            "lineNumber": 2008
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 2009
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;,",
            "lineNumber": 2010
          },
          {
            "text": "        backgroundColor: '#1A69AB' // 青色をインラインスタイルで指定",
            "lineNumber": 2011
          },
          {
            "text": "      }",
            "lineNumber": 2012
          },
          {
            "text": "    },",
            "lineNumber": 2013
          },
          {
            "text": "    ",
            "lineNumber": 2014
          },
          {
            "text": "    // 休憩時間のスタイルを取得",
            "lineNumber": 2015
          },
          {
            "text": "    getBreakTimeStyle(breakTime, day) {",
            "lineNumber": 2016
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(breakTime.startHour, breakTime.startMinute)",
            "lineNumber": 2017
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(breakTime.endHour, breakTime.endMinute)",
            "lineNumber": 2018
          },
          {
            "text": "      ",
            "lineNumber": 2019
          },
          {
            "text": "      return {",
            "lineNumber": 2020
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 2021
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 2022
          },
          {
            "text": "      }",
            "lineNumber": 2023
          },
          {
            "text": "    },",
            "lineNumber": 2024
          },
          {
            "text": "    ",
            "lineNumber": 2025
          },
          {
            "text": "    // 休憩時間の色を取得",
            "lineNumber": 2026
          },
          {
            "text": "    getBreakTimeColor(breakTime, day) {",
            "lineNumber": 2027
          },
          {
            "text": "      // 出勤していない場合（勤務予定日）：グレー（#BBBBBB）",
            "lineNumber": 2028
          },
          {
            "text": "      if (!day.clockIn) {",
            "lineNumber": 2029
          },
          {
            "text": "        return '#BBBBBB'",
            "lineNumber": 2030
          },
          {
            "text": "      }",
            "lineNumber": 2031
          },
          {
            "text": "      ",
            "lineNumber": 2032
          },
          {
            "text": "      // 出勤している場合：出勤時刻が休憩時間より前かどうかをチェック",
            "lineNumber": 2033
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 2034
          },
          {
            "text": "      const clockInMinutes = inHour * 60 + inMin",
            "lineNumber": 2035
          },
          {
            "text": "      const breakStartMinutes = breakTime.startHour * 60 + breakTime.startMinute",
            "lineNumber": 2036
          },
          {
            "text": "      ",
            "lineNumber": 2037
          },
          {
            "text": "      // 出勤時刻が休憩時間より後の場合：表示しない（nullを返す）",
            "lineNumber": 2038
          }
        ]
      },
      "score": 0.23616109788417816
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\HomeScreen.vue",
        "range": {
          "startPosition": {
            "line": 297
          },
          "endPosition": {
            "line": 339
          }
        },
        "contents": "    isScheduledClockOutEnabled() {\n      if (!this.canClock || !this.isClockInDone || this.isClockOutDone || this.isOnBreak) return false\n      const now = new Date()\n      const hours = now.getHours()\n      const minutes = now.getMinutes()\n      return hours &gt; 17 || (hours === 17 &amp;&amp; minutes &gt;= 30)\n    }\n  },\n  mounted() {\n    this.initializeHomeScreen()\n  },\n  beforeUnmount() {\n    // 時計更新のインターバルをクリア\n    if (this.clockInterval) {\n      clearInterval(this.clockInterval)\n    }\n  },\n  methods: {\n    // 初期表示処理\n    async initializeHomeScreen() {\n      // 1. ログイン情報の確認\n      // TODO: セッションストレージまたはVuexストアからログイン情報を取得\n      \n      // 2. お知らせ情報の取得\n      await this.fetchNotifications()\n      \n      // 3. 当日の勤怠情報の取得\n      await this.fetchTodayAttendance()\n      \n      // 4. 休日出勤申請の確認（当日が土日祝の場合のみ）\n      await this.fetchHolidayWorkStatus()\n      \n      // 5. ボタンの活性/非活性制御はcomputedプロパティで自動制御\n      \n      // 6. 時計表示の開始\n      this.startClock()\n    },\n    \n    // お知らせ情報の取得\n    async fetchNotifications() {\n      try {\n        const employeeId = localStorage.getItem('employeeId') || '000001'",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    isScheduledClockOutEnabled() {",
            "lineNumber": 298
          },
          {
            "text": "      if (!this.canClock || !this.isClockInDone || this.isClockOutDone || this.isOnBreak) return false",
            "lineNumber": 299
          },
          {
            "text": "      const now = new Date()",
            "lineNumber": 300
          },
          {
            "text": "      const hours = now.getHours()",
            "lineNumber": 301
          },
          {
            "text": "      const minutes = now.getMinutes()",
            "lineNumber": 302
          },
          {
            "text": "      return hours &gt; 17 || (hours === 17 &amp;&amp; minutes &gt;= 30)",
            "lineNumber": 303
          },
          {
            "text": "    }",
            "lineNumber": 304
          },
          {
            "text": "  },",
            "lineNumber": 305
          },
          {
            "text": "  mounted() {",
            "lineNumber": 306
          },
          {
            "text": "    this.initializeHomeScreen()",
            "lineNumber": 307
          },
          {
            "text": "  },",
            "lineNumber": 308
          },
          {
            "text": "  beforeUnmount() {",
            "lineNumber": 309
          },
          {
            "text": "    // 時計更新のインターバルをクリア",
            "lineNumber": 310
          },
          {
            "text": "    if (this.clockInterval) {",
            "lineNumber": 311
          },
          {
            "text": "      clearInterval(this.clockInterval)",
            "lineNumber": 312
          },
          {
            "text": "    }",
            "lineNumber": 313
          },
          {
            "text": "  },",
            "lineNumber": 314
          },
          {
            "text": "  methods: {",
            "lineNumber": 315
          },
          {
            "text": "    // 初期表示処理",
            "lineNumber": 316
          },
          {
            "text": "    async initializeHomeScreen() {",
            "lineNumber": 317
          },
          {
            "text": "      // 1. ログイン情報の確認",
            "lineNumber": 318
          },
          {
            "text": "      // TODO: セッションストレージまたはVuexストアからログイン情報を取得",
            "lineNumber": 319
          },
          {
            "text": "      ",
            "lineNumber": 320
          },
          {
            "text": "      // 2. お知らせ情報の取得",
            "lineNumber": 321
          },
          {
            "text": "      await this.fetchNotifications()",
            "lineNumber": 322
          },
          {
            "text": "      ",
            "lineNumber": 323
          },
          {
            "text": "      // 3. 当日の勤怠情報の取得",
            "lineNumber": 324
          },
          {
            "text": "      await this.fetchTodayAttendance()",
            "lineNumber": 325
          },
          {
            "text": "      ",
            "lineNumber": 326
          },
          {
            "text": "      // 4. 休日出勤申請の確認（当日が土日祝の場合のみ）",
            "lineNumber": 327
          },
          {
            "text": "      await this.fetchHolidayWorkStatus()",
            "lineNumber": 328
          },
          {
            "text": "      ",
            "lineNumber": 329
          },
          {
            "text": "      // 5. ボタンの活性/非活性制御はcomputedプロパティで自動制御",
            "lineNumber": 330
          },
          {
            "text": "      ",
            "lineNumber": 331
          },
          {
            "text": "      // 6. 時計表示の開始",
            "lineNumber": 332
          },
          {
            "text": "      this.startClock()",
            "lineNumber": 333
          },
          {
            "text": "    },",
            "lineNumber": 334
          },
          {
            "text": "    ",
            "lineNumber": 335
          },
          {
            "text": "    // お知らせ情報の取得",
            "lineNumber": 336
          },
          {
            "text": "    async fetchNotifications() {",
            "lineNumber": 337
          },
          {
            "text": "      try {",
            "lineNumber": 338
          },
          {
            "text": "        const employeeId = localStorage.getItem('employeeId') || '000001'",
            "lineNumber": 339
          }
        ]
      },
      "score": 0.22847169637680054
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\HomeScreen.vue",
        "range": {
          "startPosition": {
            "line": 220
          },
          "endPosition": {
            "line": 254
          }
        },
        "contents": "export default {\n  name: 'HomeScreen',\n  components: {\n    AppHeader\n  },\n  data() {\n    return {\n      // 勤務場所関連\n      selectedWorkplace: null, // 初期状態は未選択\n      \n      // 日時表示\n      currentDate: '',\n      currentTime: '',\n      currentDay: '',\n      clockInterval: null, // 時計更新用のインターバル\n      \n      // ナビゲーション\n      currentPage: 'home', // 現在のページ\n      \n      // 勤怠情報\n      attendanceRecordId: null, // 当日の勤怠記録ID\n      isClockInDone: false, // 出勤打刻済みフラグ\n      isClockOutDone: false, // 退勤打刻済みフラグ\n      isOnBreak: false, // 中断中フラグ\n      \n      // お知らせ\n      notifications: [], // お知らせリスト\n      \n      // 休日出勤申請\n      isHolidayWorkApproved: false // 休日出勤申請承認済みフラグ\n    }\n  },\n  computed: {\n    // 当日が土日祝かどうか",
        "signatures": {},
        "detailedLines": [
          {
            "text": "export default {",
            "lineNumber": 221
          },
          {
            "text": "  name: 'HomeScreen',",
            "lineNumber": 222
          },
          {
            "text": "  components: {",
            "lineNumber": 223
          },
          {
            "text": "    AppHeader",
            "lineNumber": 224
          },
          {
            "text": "  },",
            "lineNumber": 225
          },
          {
            "text": "  data() {",
            "lineNumber": 226
          },
          {
            "text": "    return {",
            "lineNumber": 227
          },
          {
            "text": "      // 勤務場所関連",
            "lineNumber": 228
          },
          {
            "text": "      selectedWorkplace: null, // 初期状態は未選択",
            "lineNumber": 229
          },
          {
            "text": "      ",
            "lineNumber": 230
          },
          {
            "text": "      // 日時表示",
            "lineNumber": 231
          },
          {
            "text": "      currentDate: '',",
            "lineNumber": 232
          },
          {
            "text": "      currentTime: '',",
            "lineNumber": 233
          },
          {
            "text": "      currentDay: '',",
            "lineNumber": 234
          },
          {
            "text": "      clockInterval: null, // 時計更新用のインターバル",
            "lineNumber": 235
          },
          {
            "text": "      ",
            "lineNumber": 236
          },
          {
            "text": "      // ナビゲーション",
            "lineNumber": 237
          },
          {
            "text": "      currentPage: 'home', // 現在のページ",
            "lineNumber": 238
          },
          {
            "text": "      ",
            "lineNumber": 239
          },
          {
            "text": "      // 勤怠情報",
            "lineNumber": 240
          },
          {
            "text": "      attendanceRecordId: null, // 当日の勤怠記録ID",
            "lineNumber": 241
          },
          {
            "text": "      isClockInDone: false, // 出勤打刻済みフラグ",
            "lineNumber": 242
          },
          {
            "text": "      isClockOutDone: false, // 退勤打刻済みフラグ",
            "lineNumber": 243
          },
          {
            "text": "      isOnBreak: false, // 中断中フラグ",
            "lineNumber": 244
          },
          {
            "text": "      ",
            "lineNumber": 245
          },
          {
            "text": "      // お知らせ",
            "lineNumber": 246
          },
          {
            "text": "      notifications: [], // お知らせリスト",
            "lineNumber": 247
          },
          {
            "text": "      ",
            "lineNumber": 248
          },
          {
            "text": "      // 休日出勤申請",
            "lineNumber": 249
          },
          {
            "text": "      isHolidayWorkApproved: false // 休日出勤申請承認済みフラグ",
            "lineNumber": 250
          },
          {
            "text": "    }",
            "lineNumber": 251
          },
          {
            "text": "  },",
            "lineNumber": 252
          },
          {
            "text": "  computed: {",
            "lineNumber": 253
          },
          {
            "text": "    // 当日が土日祝かどうか",
            "lineNumber": 254
          }
        ]
      },
      "score": 0.22362680733203888
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 740
          },
          "endPosition": {
            "line": 781
          }
        },
        "contents": "              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyWithinLegalOvertime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 法定時間外残業（月次累積） --&gt;\n            &lt;div v-if=\"shouldShowMonthlyOverLegalOvertime(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-orange\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;法定時間外残業&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyOverLegalOvertime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n          &lt;/template&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 備考 --&gt;\n      &lt;div class=\"cell-remarks\"&gt;\n        &lt;button class=\"plus-button\" @click=\"openRemarks(day)\" title=\"備考入力\"&gt;\n          &lt;div class=\"plus-icon-circle\"&gt;\n            &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;\n            &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/button&gt;\n        &lt;div v-if=\"day.remarkText &amp;&amp; day.remarkText.trim() !== ''\" class=\"remarks-text\" @click=\"openRemarks(day)\" :title=\"day.remarkText\"&gt;\n          {{ day.remarkText.length &gt; 20 ? day.remarkText.substring(0, 20) + '...' : day.remarkText }}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    \n    &lt;!-- 時間軸行（下） --&gt;\n    &lt;div class=\"table-header time-axis-bottom\"&gt;\n      &lt;div class=\"header-graph\"&gt;\n        &lt;span class=\"time-label\" style=\"left: 0.4%;\"&gt;0&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 2.065%;\"&gt;1&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 3.73%;\"&gt;2&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 5.395%;\"&gt;3&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 7.06%;\"&gt;4&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 8.725%;\"&gt;5&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 10.39%;\"&gt;6&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 12.055%;\"&gt;7&lt;/span&gt;\n        &lt;span class=\"time-label\" style=\"left: 13.72%;\"&gt;8&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;",
            "lineNumber": 741
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyWithinLegalOvertime(day) }}&lt;/span&gt;",
            "lineNumber": 742
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 743
          },
          {
            "text": "            ",
            "lineNumber": 744
          },
          {
            "text": "            &lt;!-- 法定時間外残業（月次累積） --&gt;",
            "lineNumber": 745
          },
          {
            "text": "            &lt;div v-if=\"shouldShowMonthlyOverLegalOvertime(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 746
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-orange\"&gt;■&lt;/span&gt;",
            "lineNumber": 747
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;法定時間外残業&lt;/span&gt;",
            "lineNumber": 748
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyOverLegalOvertime(day) }}&lt;/span&gt;",
            "lineNumber": 749
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 750
          },
          {
            "text": "            ",
            "lineNumber": 751
          },
          {
            "text": "          &lt;/template&gt;",
            "lineNumber": 752
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 753
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 754
          },
          {
            "text": "      ",
            "lineNumber": 755
          },
          {
            "text": "      &lt;!-- 備考 --&gt;",
            "lineNumber": 756
          },
          {
            "text": "      &lt;div class=\"cell-remarks\"&gt;",
            "lineNumber": 757
          },
          {
            "text": "        &lt;button class=\"plus-button\" @click=\"openRemarks(day)\" title=\"備考入力\"&gt;",
            "lineNumber": 758
          },
          {
            "text": "          &lt;div class=\"plus-icon-circle\"&gt;",
            "lineNumber": 759
          },
          {
            "text": "            &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;",
            "lineNumber": 760
          },
          {
            "text": "            &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;",
            "lineNumber": 761
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 762
          },
          {
            "text": "        &lt;/button&gt;",
            "lineNumber": 763
          },
          {
            "text": "        &lt;div v-if=\"day.remarkText &amp;&amp; day.remarkText.trim() !== ''\" class=\"remarks-text\" @click=\"openRemarks(day)\" :title=\"day.remarkText\"&gt;",
            "lineNumber": 764
          },
          {
            "text": "          {{ day.remarkText.length &gt; 20 ? day.remarkText.substring(0, 20) + '...' : day.remarkText }}",
            "lineNumber": 765
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 766
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 767
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 768
          },
          {
            "text": "    ",
            "lineNumber": 769
          },
          {
            "text": "    &lt;!-- 時間軸行（下） --&gt;",
            "lineNumber": 770
          },
          {
            "text": "    &lt;div class=\"table-header time-axis-bottom\"&gt;",
            "lineNumber": 771
          },
          {
            "text": "      &lt;div class=\"header-graph\"&gt;",
            "lineNumber": 772
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 0.4%;\"&gt;0&lt;/span&gt;",
            "lineNumber": 773
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 2.065%;\"&gt;1&lt;/span&gt;",
            "lineNumber": 774
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 3.73%;\"&gt;2&lt;/span&gt;",
            "lineNumber": 775
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 5.395%;\"&gt;3&lt;/span&gt;",
            "lineNumber": 776
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 7.06%;\"&gt;4&lt;/span&gt;",
            "lineNumber": 777
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 8.725%;\"&gt;5&lt;/span&gt;",
            "lineNumber": 778
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 10.39%;\"&gt;6&lt;/span&gt;",
            "lineNumber": 779
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 12.055%;\"&gt;7&lt;/span&gt;",
            "lineNumber": 780
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 13.72%;\"&gt;8&lt;/span&gt;",
            "lineNumber": 781
          }
        ]
      },
      "score": 0.2172614336013794
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 671
          },
          "endPosition": {
            "line": 706
          }
        },
        "contents": "          &lt;div class=\"tooltip-row\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-label\"&gt;標準勤務時間&lt;/span&gt;\n            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkTime(day) }}&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 所定休憩時間 --&gt;\n          &lt;div class=\"tooltip-row\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-label\"&gt;所定休憩時間&lt;/span&gt;\n            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledBreakTime(day) }}&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇の場合の表示 --&gt;\n          &lt;template v-if=\"day.hasVacation\"&gt;\n            &lt;!-- 総労働時間（休暇時のみ） --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTimeForVacation(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/template&gt;\n          \n          &lt;!-- 通常勤務の場合の表示 --&gt;\n          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;\n            &lt;!-- 区切り線 --&gt;\n            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;\n            \n            &lt;!-- 出退社時刻 --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;出退社時刻&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ day.clockIn }}-{{ day.clockOut }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 休憩時間 --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 672
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 673
          },
          {
            "text": "            &lt;span class=\"tooltip-label\"&gt;標準勤務時間&lt;/span&gt;",
            "lineNumber": 674
          },
          {
            "text": "            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkTime(day) }}&lt;/span&gt;",
            "lineNumber": 675
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 676
          },
          {
            "text": "          ",
            "lineNumber": 677
          },
          {
            "text": "          &lt;!-- 所定休憩時間 --&gt;",
            "lineNumber": 678
          },
          {
            "text": "          &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 679
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 680
          },
          {
            "text": "            &lt;span class=\"tooltip-label\"&gt;所定休憩時間&lt;/span&gt;",
            "lineNumber": 681
          },
          {
            "text": "            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledBreakTime(day) }}&lt;/span&gt;",
            "lineNumber": 682
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 683
          },
          {
            "text": "          ",
            "lineNumber": 684
          },
          {
            "text": "          &lt;!-- 休暇の場合の表示 --&gt;",
            "lineNumber": 685
          },
          {
            "text": "          &lt;template v-if=\"day.hasVacation\"&gt;",
            "lineNumber": 686
          },
          {
            "text": "            &lt;!-- 総労働時間（休暇時のみ） --&gt;",
            "lineNumber": 687
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 688
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 689
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;",
            "lineNumber": 690
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTimeForVacation(day) }}&lt;/span&gt;",
            "lineNumber": 691
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 692
          },
          {
            "text": "          &lt;/template&gt;",
            "lineNumber": 693
          },
          {
            "text": "          ",
            "lineNumber": 694
          },
          {
            "text": "          &lt;!-- 通常勤務の場合の表示 --&gt;",
            "lineNumber": 695
          },
          {
            "text": "          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;",
            "lineNumber": 696
          },
          {
            "text": "            &lt;!-- 区切り線 --&gt;",
            "lineNumber": 697
          },
          {
            "text": "            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;",
            "lineNumber": 698
          },
          {
            "text": "            ",
            "lineNumber": 699
          },
          {
            "text": "            &lt;!-- 出退社時刻 --&gt;",
            "lineNumber": 700
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 701
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;出退社時刻&lt;/span&gt;",
            "lineNumber": 702
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ day.clockIn }}-{{ day.clockOut }}&lt;/span&gt;",
            "lineNumber": 703
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 704
          },
          {
            "text": "            ",
            "lineNumber": 705
          },
          {
            "text": "            &lt;!-- 休憩時間 --&gt;",
            "lineNumber": 706
          }
        ]
      },
      "score": 0.21632403135299683
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2742
          },
          "endPosition": {
            "line": 2778,
            "column": 8
          }
        },
        "contents": "      }\n      \n      let totalMinutes = 0\n      for (const bt of day.breakTimes) {\n        const [startHour, startMin] = bt.startTime.split(':').map(Number)\n        const [endHour, endMin] = bt.endTime.split(':').map(Number)\n        \n        const startMinutes = startHour * 60 + startMin\n        const endMinutes = endHour * 60 + endMin\n        totalMinutes += (endMinutes - startMinutes)\n      }\n      \n      const hours = Math.floor(totalMinutes / 60)\n      const minutes = totalMinutes % 60\n      \n      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;\n    },\n    \n    // ツールチップ: 休暇時の総労働時間を取得（7:30固定）\n    getTooltipTotalWorkTimeForVacation(day) {\n      return '7:30'\n    },\n    \n    // 前日までの累積実労働時間を計算（浮動小数点数の誤差を避けるため分単位で計算）\n    getPreviousDayCumulativeWorkHours(day) {\n      if (!this.attendanceData || this.attendanceData.length === 0) {\n        return 0\n      }\n      \n      // 年月を取得（最初の日付から）\n      const firstDate = this.attendanceData[0].date\n      const [year, month] = firstDate.split('-').map(Number)\n      \n      // 前日までの実労働時間の合計を分単位で計算（浮動小数点数の誤差を避けるため）\n      let totalMinutes = 0\n      for (const d of this.attendanceData) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      }",
            "lineNumber": 2743
          },
          {
            "text": "      ",
            "lineNumber": 2744
          },
          {
            "text": "      let totalMinutes = 0",
            "lineNumber": 2745
          },
          {
            "text": "      for (const bt of day.breakTimes) {",
            "lineNumber": 2746
          },
          {
            "text": "        const [startHour, startMin] = bt.startTime.split(':').map(Number)",
            "lineNumber": 2747
          },
          {
            "text": "        const [endHour, endMin] = bt.endTime.split(':').map(Number)",
            "lineNumber": 2748
          },
          {
            "text": "        ",
            "lineNumber": 2749
          },
          {
            "text": "        const startMinutes = startHour * 60 + startMin",
            "lineNumber": 2750
          },
          {
            "text": "        const endMinutes = endHour * 60 + endMin",
            "lineNumber": 2751
          },
          {
            "text": "        totalMinutes += (endMinutes - startMinutes)",
            "lineNumber": 2752
          },
          {
            "text": "      }",
            "lineNumber": 2753
          },
          {
            "text": "      ",
            "lineNumber": 2754
          },
          {
            "text": "      const hours = Math.floor(totalMinutes / 60)",
            "lineNumber": 2755
          },
          {
            "text": "      const minutes = totalMinutes % 60",
            "lineNumber": 2756
          },
          {
            "text": "      ",
            "lineNumber": 2757
          },
          {
            "text": "      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;",
            "lineNumber": 2758
          },
          {
            "text": "    },",
            "lineNumber": 2759
          },
          {
            "text": "    ",
            "lineNumber": 2760
          },
          {
            "text": "    // ツールチップ: 休暇時の総労働時間を取得（7:30固定）",
            "lineNumber": 2761
          },
          {
            "text": "    getTooltipTotalWorkTimeForVacation(day) {",
            "lineNumber": 2762
          },
          {
            "text": "      return '7:30'",
            "lineNumber": 2763
          },
          {
            "text": "    },",
            "lineNumber": 2764
          },
          {
            "text": "    ",
            "lineNumber": 2765
          },
          {
            "text": "    // 前日までの累積実労働時間を計算（浮動小数点数の誤差を避けるため分単位で計算）",
            "lineNumber": 2766
          },
          {
            "text": "    getPreviousDayCumulativeWorkHours(day) {",
            "lineNumber": 2767
          },
          {
            "text": "      if (!this.attendanceData || this.attendanceData.length === 0) {",
            "lineNumber": 2768
          },
          {
            "text": "        return 0",
            "lineNumber": 2769
          },
          {
            "text": "      }",
            "lineNumber": 2770
          },
          {
            "text": "      ",
            "lineNumber": 2771
          },
          {
            "text": "      // 年月を取得（最初の日付から）",
            "lineNumber": 2772
          },
          {
            "text": "      const firstDate = this.attendanceData[0].date",
            "lineNumber": 2773
          },
          {
            "text": "      const [year, month] = firstDate.split('-').map(Number)",
            "lineNumber": 2774
          },
          {
            "text": "      ",
            "lineNumber": 2775
          },
          {
            "text": "      // 前日までの実労働時間の合計を分単位で計算（浮動小数点数の誤差を避けるため）",
            "lineNumber": 2776
          },
          {
            "text": "      let totalMinutes = 0",
            "lineNumber": 2777
          },
          {
            "text": "      for (const d of this.attendanceData) {",
            "lineNumber": 2778
          },
          {
            "text": "        ",
            "lineNumber": 2779
          }
        ]
      },
      "score": 0.21366506814956665
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1649
          },
          "endPosition": {
            "line": 1693
          }
        },
        "contents": "        \n        // 祝日判定\n        const dateStr = &#96;${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}&#96;\n        const holiday = HolidayJp.isHoliday(date)\n        \n        // 日付表示を数字部分と曜日部分に分ける\n        let dateNumber = ''\n        let dateDayOfWeek = ''\n        \n        if (day === 1) {\n          // 月初めの日のみMM/DD形式\n          dateNumber = &#96;${Number(month)}/${day}&#96;\n          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;\n        } else {\n          // 2日以降は日付のみ（土日も含む）、右揃えで「/1」の「1」の位置に合わせる\n          const dayStr = String(day).padStart(2, ' ')\n          dateNumber = dayStr\n          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;\n        }\n        \n        // 基本休憩時間（12:00~13:00）をデフォルトで設定（平日の場合）\n        const breakTimes = []\n        if (dayOfWeek &gt;= 1 &amp;&amp; dayOfWeek &lt;= 5 &amp;&amp; !holiday) {\n          breakTimes.push({\n            startTime: '12:00',\n            endTime: '13:00',\n            startHour: 12,\n            startMinute: 0,\n            endHour: 13,\n            endMinute: 0\n          })\n        }\n\n        sampleData.push({\n          date: dateStr,\n          dateNumber: dateNumber,\n          dateDayOfWeek: dateDayOfWeek,\n          dayOfWeek: dayNames[dayOfWeek],\n          dayOfWeekNum: dayOfWeek,\n          hasWarning: false,\n          approvalStatus: 'NOT_SUBMITTED',\n          clockIn: '',\n          clockOut: '',\n          clockInType: '',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        ",
            "lineNumber": 1650
          },
          {
            "text": "        // 祝日判定",
            "lineNumber": 1651
          },
          {
            "text": "        const dateStr = &#96;${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}&#96;",
            "lineNumber": 1652
          },
          {
            "text": "        const holiday = HolidayJp.isHoliday(date)",
            "lineNumber": 1653
          },
          {
            "text": "        ",
            "lineNumber": 1654
          },
          {
            "text": "        // 日付表示を数字部分と曜日部分に分ける",
            "lineNumber": 1655
          },
          {
            "text": "        let dateNumber = ''",
            "lineNumber": 1656
          },
          {
            "text": "        let dateDayOfWeek = ''",
            "lineNumber": 1657
          },
          {
            "text": "        ",
            "lineNumber": 1658
          },
          {
            "text": "        if (day === 1) {",
            "lineNumber": 1659
          },
          {
            "text": "          // 月初めの日のみMM/DD形式",
            "lineNumber": 1660
          },
          {
            "text": "          dateNumber = &#96;${Number(month)}/${day}&#96;",
            "lineNumber": 1661
          },
          {
            "text": "          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;",
            "lineNumber": 1662
          },
          {
            "text": "        } else {",
            "lineNumber": 1663
          },
          {
            "text": "          // 2日以降は日付のみ（土日も含む）、右揃えで「/1」の「1」の位置に合わせる",
            "lineNumber": 1664
          },
          {
            "text": "          const dayStr = String(day).padStart(2, ' ')",
            "lineNumber": 1665
          },
          {
            "text": "          dateNumber = dayStr",
            "lineNumber": 1666
          },
          {
            "text": "          dateDayOfWeek = &#96; ${dayNames[dayOfWeek]}&#96;",
            "lineNumber": 1667
          },
          {
            "text": "        }",
            "lineNumber": 1668
          },
          {
            "text": "        ",
            "lineNumber": 1669
          },
          {
            "text": "        // 基本休憩時間（12:00~13:00）をデフォルトで設定（平日の場合）",
            "lineNumber": 1670
          },
          {
            "text": "        const breakTimes = []",
            "lineNumber": 1671
          },
          {
            "text": "        if (dayOfWeek &gt;= 1 &amp;&amp; dayOfWeek &lt;= 5 &amp;&amp; !holiday) {",
            "lineNumber": 1672
          },
          {
            "text": "          breakTimes.push({",
            "lineNumber": 1673
          },
          {
            "text": "            startTime: '12:00',",
            "lineNumber": 1674
          },
          {
            "text": "            endTime: '13:00',",
            "lineNumber": 1675
          },
          {
            "text": "            startHour: 12,",
            "lineNumber": 1676
          },
          {
            "text": "            startMinute: 0,",
            "lineNumber": 1677
          },
          {
            "text": "            endHour: 13,",
            "lineNumber": 1678
          },
          {
            "text": "            endMinute: 0",
            "lineNumber": 1679
          },
          {
            "text": "          })",
            "lineNumber": 1680
          },
          {
            "text": "        }",
            "lineNumber": 1681
          },
          {
            "lineNumber": 1682
          },
          {
            "text": "        sampleData.push({",
            "lineNumber": 1683
          },
          {
            "text": "          date: dateStr,",
            "lineNumber": 1684
          },
          {
            "text": "          dateNumber: dateNumber,",
            "lineNumber": 1685
          },
          {
            "text": "          dateDayOfWeek: dateDayOfWeek,",
            "lineNumber": 1686
          },
          {
            "text": "          dayOfWeek: dayNames[dayOfWeek],",
            "lineNumber": 1687
          },
          {
            "text": "          dayOfWeekNum: dayOfWeek,",
            "lineNumber": 1688
          },
          {
            "text": "          hasWarning: false,",
            "lineNumber": 1689
          },
          {
            "text": "          approvalStatus: 'NOT_SUBMITTED',",
            "lineNumber": 1690
          },
          {
            "text": "          clockIn: '',",
            "lineNumber": 1691
          },
          {
            "text": "          clockOut: '',",
            "lineNumber": 1692
          },
          {
            "text": "          clockInType: '',",
            "lineNumber": 1693
          }
        ]
      },
      "score": 0.2056082934141159
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\HomeScreen.vue",
        "range": {
          "startPosition": {
            "line": 375
          },
          "endPosition": {
            "line": 420
          }
        },
        "contents": "    async fetchTodayAttendance() {\n      try {\n        const employeeId = localStorage.getItem('employeeId') || '000001'\n        const response = await fetch(&#96;http://localhost:3000/api/clock/today?employeeId=${employeeId}&#96;)\n        const data = await response.json()\n        \n        if (data.success &amp;&amp; data.attendance) {\n          const attendance = data.attendance\n          this.attendanceRecordId = attendance.attendanceId\n          this.isClockInDone = attendance.clockInTime !== null\n          this.isClockOutDone = attendance.clockOutTime !== null\n          this.isOnBreak = attendance.isOnBreak || false\n          // 勤務場所は初回表示時のみ設定（ユーザーの選択を上書きしない）\n          // バックエンドのコードをフロントエンド形式に変換\n          if (!this.selectedWorkplace &amp;&amp; attendance.workLocationCode) {\n            const codeMap = {\n              'COMMUTE': 'commute',\n              'REMOTE': 'home',\n              'DIRECT': 'direct',\n              'BUSINESS_TRIP': 'business'\n            }\n            this.selectedWorkplace = codeMap[attendance.workLocationCode] || null\n          }\n        } else {\n          // 当日の勤怠記録がない場合は初期状態\n          this.attendanceRecordId = null\n          this.isClockInDone = false\n          this.isClockOutDone = false\n          this.isOnBreak = false\n          // 勤務場所はユーザーの選択を維持\n        }\n      } catch (error) {\n        console.error('当日の勤怠情報の取得に失敗しました:', error)\n        // エラー時は初期状態を設定\n        this.attendanceRecordId = null\n        this.isClockInDone = false\n        this.isClockOutDone = false\n        this.isOnBreak = false\n        // 勤務場所はユーザーの選択を維持\n      }\n    },\n    \n    // 休日出勤申請状態の取得\n    async fetchHolidayWorkStatus() {\n      // 当日が土日祝の場合のみ取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async fetchTodayAttendance() {",
            "lineNumber": 376
          },
          {
            "text": "      try {",
            "lineNumber": 377
          },
          {
            "text": "        const employeeId = localStorage.getItem('employeeId') || '000001'",
            "lineNumber": 378
          },
          {
            "text": "        const response = await fetch(&#96;http://localhost:3000/api/clock/today?employeeId=${employeeId}&#96;)",
            "lineNumber": 379
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 380
          },
          {
            "text": "        ",
            "lineNumber": 381
          },
          {
            "text": "        if (data.success &amp;&amp; data.attendance) {",
            "lineNumber": 382
          },
          {
            "text": "          const attendance = data.attendance",
            "lineNumber": 383
          },
          {
            "text": "          this.attendanceRecordId = attendance.attendanceId",
            "lineNumber": 384
          },
          {
            "text": "          this.isClockInDone = attendance.clockInTime !== null",
            "lineNumber": 385
          },
          {
            "text": "          this.isClockOutDone = attendance.clockOutTime !== null",
            "lineNumber": 386
          },
          {
            "text": "          this.isOnBreak = attendance.isOnBreak || false",
            "lineNumber": 387
          },
          {
            "text": "          // 勤務場所は初回表示時のみ設定（ユーザーの選択を上書きしない）",
            "lineNumber": 388
          },
          {
            "text": "          // バックエンドのコードをフロントエンド形式に変換",
            "lineNumber": 389
          },
          {
            "text": "          if (!this.selectedWorkplace &amp;&amp; attendance.workLocationCode) {",
            "lineNumber": 390
          },
          {
            "text": "            const codeMap = {",
            "lineNumber": 391
          },
          {
            "text": "              'COMMUTE': 'commute',",
            "lineNumber": 392
          },
          {
            "text": "              'REMOTE': 'home',",
            "lineNumber": 393
          },
          {
            "text": "              'DIRECT': 'direct',",
            "lineNumber": 394
          },
          {
            "text": "              'BUSINESS_TRIP': 'business'",
            "lineNumber": 395
          },
          {
            "text": "            }",
            "lineNumber": 396
          },
          {
            "text": "            this.selectedWorkplace = codeMap[attendance.workLocationCode] || null",
            "lineNumber": 397
          },
          {
            "text": "          }",
            "lineNumber": 398
          },
          {
            "text": "        } else {",
            "lineNumber": 399
          },
          {
            "text": "          // 当日の勤怠記録がない場合は初期状態",
            "lineNumber": 400
          },
          {
            "text": "          this.attendanceRecordId = null",
            "lineNumber": 401
          },
          {
            "text": "          this.isClockInDone = false",
            "lineNumber": 402
          },
          {
            "text": "          this.isClockOutDone = false",
            "lineNumber": 403
          },
          {
            "text": "          this.isOnBreak = false",
            "lineNumber": 404
          },
          {
            "text": "          // 勤務場所はユーザーの選択を維持",
            "lineNumber": 405
          },
          {
            "text": "        }",
            "lineNumber": 406
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 407
          },
          {
            "text": "        console.error('当日の勤怠情報の取得に失敗しました:', error)",
            "lineNumber": 408
          },
          {
            "text": "        // エラー時は初期状態を設定",
            "lineNumber": 409
          },
          {
            "text": "        this.attendanceRecordId = null",
            "lineNumber": 410
          },
          {
            "text": "        this.isClockInDone = false",
            "lineNumber": 411
          },
          {
            "text": "        this.isClockOutDone = false",
            "lineNumber": 412
          },
          {
            "text": "        this.isOnBreak = false",
            "lineNumber": 413
          },
          {
            "text": "        // 勤務場所はユーザーの選択を維持",
            "lineNumber": 414
          },
          {
            "text": "      }",
            "lineNumber": 415
          },
          {
            "text": "    },",
            "lineNumber": 416
          },
          {
            "text": "    ",
            "lineNumber": 417
          },
          {
            "text": "    // 休日出勤申請状態の取得",
            "lineNumber": 418
          },
          {
            "text": "    async fetchHolidayWorkStatus() {",
            "lineNumber": 419
          },
          {
            "text": "      // 当日が土日祝の場合のみ取得",
            "lineNumber": 420
          }
        ]
      },
      "score": 0.20131899416446686
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\MonthlySummaryScreen.vue",
        "range": {
          "startPosition": {
            "line": 107
          },
          "endPosition": {
            "line": 134
          }
        },
        "contents": "        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;\n        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;\n        &lt;span v-if=\"day.actualWorkHours\" class=\"row-actual-work\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.actualWorkHours) }}&lt;/span&gt;\n        &lt;span v-if=\"day.overtimeHours !== undefined &amp;&amp; day.overtimeHours !== null &amp;&amp; day.overtimeHours &gt; 0\" class=\"row-overtime\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.overtimeHours) }}&lt;/span&gt;\n        &lt;span v-if=\"day.holidayWorkHours\" class=\"row-holiday\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.holidayWorkHours) }}&lt;/span&gt;\n        &lt;span v-if=\"day.nightWorkHours\" class=\"row-night\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.nightWorkHours) }}&lt;/span&gt;\n        &lt;template v-if=\"getRemarkText(day)\"&gt;\n          &lt;span v-for=\"(remark, remarkIndex) in getRemarkTextArray(day)\" :key=\"remarkIndex\" \n                class=\"row-remark\" \n                :style=\"{ \n                  top: getRowContentTop(index) + 'px',\n                  left: remark.left ? remark.left + 'px' : (remarkIndex === 0 ? '1474px' : (1474 + remarkIndex * 72) + 'px'),\n                  color: remark.color || 'rgb(0, 0, 0)'\n                }\"&gt;\n            {{ remark.text || remark }}\n          &lt;/span&gt;\n        &lt;/template&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Total Row --&gt;\n    &lt;svg class=\"total-row-background\" :style=\"{ top: getTotalRowTop() + 'px' }\" viewBox=\"0 0 1873 20\" preserveAspectRatio=\"none\"&gt;\n      &lt;rect width=\"1873\" height=\"20\" fill=\"#E8F4F8\" stroke=\"#5A8AAC\" stroke-width=\"1\" /&gt;\n    &lt;/svg&gt;\n    &lt;span class=\"total-label\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;合計&lt;/span&gt;\n    &lt;span class=\"total-break\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHours(monthlySummary?.totalBreakHours || 0) }}&lt;/span&gt;\n    &lt;span class=\"total-actual-work\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHoursLong(monthlySummary?.totalWorkHours || 0) }}&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;span v-if=\"day.clockOutTime\" class=\"row-clock-out\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatTime(day.clockOutTime) }}&lt;/span&gt;",
            "lineNumber": 108
          },
          {
            "text": "        &lt;span v-if=\"day.breakTimeTotal\" class=\"row-break\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.breakTimeTotal) }}&lt;/span&gt;",
            "lineNumber": 109
          },
          {
            "text": "        &lt;span v-if=\"day.actualWorkHours\" class=\"row-actual-work\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.actualWorkHours) }}&lt;/span&gt;",
            "lineNumber": 110
          },
          {
            "text": "        &lt;span v-if=\"day.overtimeHours !== undefined &amp;&amp; day.overtimeHours !== null &amp;&amp; day.overtimeHours &gt; 0\" class=\"row-overtime\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.overtimeHours) }}&lt;/span&gt;",
            "lineNumber": 111
          },
          {
            "text": "        &lt;span v-if=\"day.holidayWorkHours\" class=\"row-holiday\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.holidayWorkHours) }}&lt;/span&gt;",
            "lineNumber": 112
          },
          {
            "text": "        &lt;span v-if=\"day.nightWorkHours\" class=\"row-night\" :style=\"{ top: getRowContentTop(index) + 'px' }\"&gt;{{ formatHours(day.nightWorkHours) }}&lt;/span&gt;",
            "lineNumber": 113
          },
          {
            "text": "        &lt;template v-if=\"getRemarkText(day)\"&gt;",
            "lineNumber": 114
          },
          {
            "text": "          &lt;span v-for=\"(remark, remarkIndex) in getRemarkTextArray(day)\" :key=\"remarkIndex\" ",
            "lineNumber": 115
          },
          {
            "text": "                class=\"row-remark\" ",
            "lineNumber": 116
          },
          {
            "text": "                :style=\"{ ",
            "lineNumber": 117
          },
          {
            "text": "                  top: getRowContentTop(index) + 'px',",
            "lineNumber": 118
          },
          {
            "text": "                  left: remark.left ? remark.left + 'px' : (remarkIndex === 0 ? '1474px' : (1474 + remarkIndex * 72) + 'px'),",
            "lineNumber": 119
          },
          {
            "text": "                  color: remark.color || 'rgb(0, 0, 0)'",
            "lineNumber": 120
          },
          {
            "text": "                }\"&gt;",
            "lineNumber": 121
          },
          {
            "text": "            {{ remark.text || remark }}",
            "lineNumber": 122
          },
          {
            "text": "          &lt;/span&gt;",
            "lineNumber": 123
          },
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 124
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 125
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 126
          },
          {
            "lineNumber": 127
          },
          {
            "text": "    &lt;!-- Total Row --&gt;",
            "lineNumber": 128
          },
          {
            "text": "    &lt;svg class=\"total-row-background\" :style=\"{ top: getTotalRowTop() + 'px' }\" viewBox=\"0 0 1873 20\" preserveAspectRatio=\"none\"&gt;",
            "lineNumber": 129
          },
          {
            "text": "      &lt;rect width=\"1873\" height=\"20\" fill=\"#E8F4F8\" stroke=\"#5A8AAC\" stroke-width=\"1\" /&gt;",
            "lineNumber": 130
          },
          {
            "text": "    &lt;/svg&gt;",
            "lineNumber": 131
          },
          {
            "text": "    &lt;span class=\"total-label\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;合計&lt;/span&gt;",
            "lineNumber": 132
          },
          {
            "text": "    &lt;span class=\"total-break\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHours(monthlySummary?.totalBreakHours || 0) }}&lt;/span&gt;",
            "lineNumber": 133
          },
          {
            "text": "    &lt;span class=\"total-actual-work\" :style=\"{ top: getTotalRowTop() + 5 + 'px' }\"&gt;{{ formatHoursLong(monthlySummary?.totalWorkHours || 0) }}&lt;/span&gt;",
            "lineNumber": 134
          }
        ]
      },
      "score": 0.19853079319000244
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 506
          },
          "endPosition": {
            "line": 537
          }
        },
        "contents": "          &lt;!-- 32時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;\n          &lt;!-- 34時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;\n          &lt;!-- 36時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;\n          &lt;!-- 38時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 40時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 42時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;\n          &lt;!-- 44時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;\n          &lt;!-- 46時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;\n          &lt;!-- 48時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;\n        &lt;div \n          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" \n          class=\"scheduled-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;!-- 32時の罫線 --&gt;",
            "lineNumber": 507
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;",
            "lineNumber": 508
          },
          {
            "text": "          &lt;!-- 34時の罫線 --&gt;",
            "lineNumber": 509
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;",
            "lineNumber": 510
          },
          {
            "text": "          &lt;!-- 36時の罫線 --&gt;",
            "lineNumber": 511
          },
          {
            "text": "          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;",
            "lineNumber": 512
          },
          {
            "text": "          &lt;!-- 38時の罫線 --&gt;",
            "lineNumber": 513
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 514
          },
          {
            "text": "          &lt;!-- 40時の罫線 --&gt;",
            "lineNumber": 515
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 516
          },
          {
            "text": "          &lt;!-- 42時の罫線 --&gt;",
            "lineNumber": 517
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;",
            "lineNumber": 518
          },
          {
            "text": "          &lt;!-- 44時の罫線 --&gt;",
            "lineNumber": 519
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;",
            "lineNumber": 520
          },
          {
            "text": "          &lt;!-- 46時の罫線 --&gt;",
            "lineNumber": 521
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;",
            "lineNumber": 522
          },
          {
            "text": "          &lt;!-- 48時の罫線 --&gt;",
            "lineNumber": 523
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;",
            "lineNumber": 524
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 525
          },
          {
            "text": "        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;",
            "lineNumber": 526
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 527
          },
          {
            "text": "          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" ",
            "lineNumber": 528
          },
          {
            "text": "          class=\"scheduled-work-time-bar\" ",
            "lineNumber": 529
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 530
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 531
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 532
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 533
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 534
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;",
            "lineNumber": 535
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 536
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 537
          }
        ]
      },
      "score": 0.19824844598770142
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\HomeScreen.vue",
        "range": {
          "startPosition": {
            "line": 418
          },
          "endPosition": {
            "line": 460
          }
        },
        "contents": "    async fetchHolidayWorkStatus() {\n      // 当日が土日祝の場合のみ取得\n      if (!this.isHoliday) {\n        this.isHolidayWorkApproved = false\n        return\n      }\n      \n      try {\n        const employeeId = localStorage.getItem('employeeId') || '000001'\n        const today = new Date()\n        const year = today.getFullYear()\n        const month = String(today.getMonth() + 1).padStart(2, '0')\n        const date = String(today.getDate()).padStart(2, '0')\n        const targetDate = &#96;${year}-${month}-${date}&#96;\n        \n        const response = await getHolidayWorkStatus(employeeId, targetDate)\n        \n        if (response.success) {\n          // 申請が存在し、申請中（PENDING）または承認済み（APPROVED）の場合にtrue\n          this.isHolidayWorkApproved = response.hasHolidayWorkApplication &amp;&amp; \n            (response.applicationStatus === 'PENDING' || response.applicationStatus === 'APPROVED')\n        } else {\n          this.isHolidayWorkApproved = false\n        }\n      } catch (error) {\n        console.error('休日出勤申請状態の取得に失敗しました:', error)\n        // エラー時はfalseとして扱う（打刻不可）\n        this.isHolidayWorkApproved = false\n      }\n    },\n    \n    // 時計表示の開始（1秒ごとに更新）\n    startClock() {\n      this.updateClock()\n      this.clockInterval = setInterval(() =&gt; {\n        this.updateClock()\n      }, 1000)\n    },\n    \n    // 時計の更新\n    updateClock() {\n      const now = new Date()",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async fetchHolidayWorkStatus() {",
            "lineNumber": 419
          },
          {
            "text": "      // 当日が土日祝の場合のみ取得",
            "lineNumber": 420
          },
          {
            "text": "      if (!this.isHoliday) {",
            "lineNumber": 421
          },
          {
            "text": "        this.isHolidayWorkApproved = false",
            "lineNumber": 422
          },
          {
            "text": "        return",
            "lineNumber": 423
          },
          {
            "text": "      }",
            "lineNumber": 424
          },
          {
            "text": "      ",
            "lineNumber": 425
          },
          {
            "text": "      try {",
            "lineNumber": 426
          },
          {
            "text": "        const employeeId = localStorage.getItem('employeeId') || '000001'",
            "lineNumber": 427
          },
          {
            "text": "        const today = new Date()",
            "lineNumber": 428
          },
          {
            "text": "        const year = today.getFullYear()",
            "lineNumber": 429
          },
          {
            "text": "        const month = String(today.getMonth() + 1).padStart(2, '0')",
            "lineNumber": 430
          },
          {
            "text": "        const date = String(today.getDate()).padStart(2, '0')",
            "lineNumber": 431
          },
          {
            "text": "        const targetDate = &#96;${year}-${month}-${date}&#96;",
            "lineNumber": 432
          },
          {
            "text": "        ",
            "lineNumber": 433
          },
          {
            "text": "        const response = await getHolidayWorkStatus(employeeId, targetDate)",
            "lineNumber": 434
          },
          {
            "text": "        ",
            "lineNumber": 435
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 436
          },
          {
            "text": "          // 申請が存在し、申請中（PENDING）または承認済み（APPROVED）の場合にtrue",
            "lineNumber": 437
          },
          {
            "text": "          this.isHolidayWorkApproved = response.hasHolidayWorkApplication &amp;&amp; ",
            "lineNumber": 438
          },
          {
            "text": "            (response.applicationStatus === 'PENDING' || response.applicationStatus === 'APPROVED')",
            "lineNumber": 439
          },
          {
            "text": "        } else {",
            "lineNumber": 440
          },
          {
            "text": "          this.isHolidayWorkApproved = false",
            "lineNumber": 441
          },
          {
            "text": "        }",
            "lineNumber": 442
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 443
          },
          {
            "text": "        console.error('休日出勤申請状態の取得に失敗しました:', error)",
            "lineNumber": 444
          },
          {
            "text": "        // エラー時はfalseとして扱う（打刻不可）",
            "lineNumber": 445
          },
          {
            "text": "        this.isHolidayWorkApproved = false",
            "lineNumber": 446
          },
          {
            "text": "      }",
            "lineNumber": 447
          },
          {
            "text": "    },",
            "lineNumber": 448
          },
          {
            "text": "    ",
            "lineNumber": 449
          },
          {
            "text": "    // 時計表示の開始（1秒ごとに更新）",
            "lineNumber": 450
          },
          {
            "text": "    startClock() {",
            "lineNumber": 451
          },
          {
            "text": "      this.updateClock()",
            "lineNumber": 452
          },
          {
            "text": "      this.clockInterval = setInterval(() =&gt; {",
            "lineNumber": 453
          },
          {
            "text": "        this.updateClock()",
            "lineNumber": 454
          },
          {
            "text": "      }, 1000)",
            "lineNumber": 455
          },
          {
            "text": "    },",
            "lineNumber": 456
          },
          {
            "text": "    ",
            "lineNumber": 457
          },
          {
            "text": "    // 時計の更新",
            "lineNumber": 458
          },
          {
            "text": "    updateClock() {",
            "lineNumber": 459
          },
          {
            "text": "      const now = new Date()",
            "lineNumber": 460
          }
        ]
      },
      "score": 0.19273370504379272
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1690
          },
          "endPosition": {
            "line": 1743
          }
        },
        "contents": "          clockIn: '',\n          clockOut: '',\n          clockInType: '',\n          clockOutType: '',\n          location: '',\n          workHours: '',\n          hasWorkHoursError: false,\n          canEdit: true,\n          isHoliday: holiday, // 祝日判定\n          hasVacation: false,\n          vacationTypeCode: null,\n          vacationApplicationStatus: null,\n          attendanceId: null,\n          actualWorkHours: 0,\n          breakTimes: breakTimes,\n          remarkText: ''\n        })\n      }\n      \n      this.attendanceData = sampleData\n    },\n    \n    // 行のクラスを取得\n    getRowClass(day) {\n      // 優先順位: 休暇申請済み &gt; 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日\n      // 日曜日に祝日イベントがあっても日曜日と同じ扱いにする\n      if (day.hasVacation) {\n        return 'vacation-row'\n      } else if (day.dayOfWeekNum === 0) {\n        return 'sunday-row' // 日曜日（祝日より優先）\n      } else if (day.isHoliday) {\n        return 'saturday-row' // 祝日は土曜日と同じ背景色（ただし日曜日でない場合のみ）\n      } else if (day.dayOfWeekNum === 6) {\n        return 'saturday-row'\n      }\n      return ''\n    },\n    \n    // 曜日の色クラスを取得\n    getDayOfWeekClass(day) {\n      // 優先順位: 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日\n      // 日曜日に祝日イベントがあっても日曜日と同じ扱いにする\n      if (day.dayOfWeekNum === 0) {\n        return 'sunday-text' // 日曜日（祝日より優先）\n      } else if (day.isHoliday) {\n        return 'saturday-text' // 祝日は土曜日と同じ青色（ただし日曜日でない場合のみ）\n      } else if (day.dayOfWeekNum === 6) {\n        return 'saturday-text'\n      }\n      return ''\n    },\n    \n    // 編集可能な承認状態かどうかを判定（テキストボックス表示の条件）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          clockIn: '',",
            "lineNumber": 1691
          },
          {
            "text": "          clockOut: '',",
            "lineNumber": 1692
          },
          {
            "text": "          clockInType: '',",
            "lineNumber": 1693
          },
          {
            "text": "          clockOutType: '',",
            "lineNumber": 1694
          },
          {
            "text": "          location: '',",
            "lineNumber": 1695
          },
          {
            "text": "          workHours: '',",
            "lineNumber": 1696
          },
          {
            "text": "          hasWorkHoursError: false,",
            "lineNumber": 1697
          },
          {
            "text": "          canEdit: true,",
            "lineNumber": 1698
          },
          {
            "text": "          isHoliday: holiday, // 祝日判定",
            "lineNumber": 1699
          },
          {
            "text": "          hasVacation: false,",
            "lineNumber": 1700
          },
          {
            "text": "          vacationTypeCode: null,",
            "lineNumber": 1701
          },
          {
            "text": "          vacationApplicationStatus: null,",
            "lineNumber": 1702
          },
          {
            "text": "          attendanceId: null,",
            "lineNumber": 1703
          },
          {
            "text": "          actualWorkHours: 0,",
            "lineNumber": 1704
          },
          {
            "text": "          breakTimes: breakTimes,",
            "lineNumber": 1705
          },
          {
            "text": "          remarkText: ''",
            "lineNumber": 1706
          },
          {
            "text": "        })",
            "lineNumber": 1707
          },
          {
            "text": "      }",
            "lineNumber": 1708
          },
          {
            "text": "      ",
            "lineNumber": 1709
          },
          {
            "text": "      this.attendanceData = sampleData",
            "lineNumber": 1710
          },
          {
            "text": "    },",
            "lineNumber": 1711
          },
          {
            "text": "    ",
            "lineNumber": 1712
          },
          {
            "text": "    // 行のクラスを取得",
            "lineNumber": 1713
          },
          {
            "text": "    getRowClass(day) {",
            "lineNumber": 1714
          },
          {
            "text": "      // 優先順位: 休暇申請済み &gt; 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日",
            "lineNumber": 1715
          },
          {
            "text": "      // 日曜日に祝日イベントがあっても日曜日と同じ扱いにする",
            "lineNumber": 1716
          },
          {
            "text": "      if (day.hasVacation) {",
            "lineNumber": 1717
          },
          {
            "text": "        return 'vacation-row'",
            "lineNumber": 1718
          },
          {
            "text": "      } else if (day.dayOfWeekNum === 0) {",
            "lineNumber": 1719
          },
          {
            "text": "        return 'sunday-row' // 日曜日（祝日より優先）",
            "lineNumber": 1720
          },
          {
            "text": "      } else if (day.isHoliday) {",
            "lineNumber": 1721
          },
          {
            "text": "        return 'saturday-row' // 祝日は土曜日と同じ背景色（ただし日曜日でない場合のみ）",
            "lineNumber": 1722
          },
          {
            "text": "      } else if (day.dayOfWeekNum === 6) {",
            "lineNumber": 1723
          },
          {
            "text": "        return 'saturday-row'",
            "lineNumber": 1724
          },
          {
            "text": "      }",
            "lineNumber": 1725
          },
          {
            "text": "      return ''",
            "lineNumber": 1726
          },
          {
            "text": "    },",
            "lineNumber": 1727
          },
          {
            "text": "    ",
            "lineNumber": 1728
          },
          {
            "text": "    // 曜日の色クラスを取得",
            "lineNumber": 1729
          },
          {
            "text": "    getDayOfWeekClass(day) {",
            "lineNumber": 1730
          },
          {
            "text": "      // 優先順位: 日曜日 &gt; 祝日 &gt; 土曜日 &gt; 平日",
            "lineNumber": 1731
          },
          {
            "text": "      // 日曜日に祝日イベントがあっても日曜日と同じ扱いにする",
            "lineNumber": 1732
          },
          {
            "text": "      if (day.dayOfWeekNum === 0) {",
            "lineNumber": 1733
          },
          {
            "text": "        return 'sunday-text' // 日曜日（祝日より優先）",
            "lineNumber": 1734
          },
          {
            "text": "      } else if (day.isHoliday) {",
            "lineNumber": 1735
          },
          {
            "text": "        return 'saturday-text' // 祝日は土曜日と同じ青色（ただし日曜日でない場合のみ）",
            "lineNumber": 1736
          },
          {
            "text": "      } else if (day.dayOfWeekNum === 6) {",
            "lineNumber": 1737
          },
          {
            "text": "        return 'saturday-text'",
            "lineNumber": 1738
          },
          {
            "text": "      }",
            "lineNumber": 1739
          },
          {
            "text": "      return ''",
            "lineNumber": 1740
          },
          {
            "text": "    },",
            "lineNumber": 1741
          },
          {
            "text": "    ",
            "lineNumber": 1742
          },
          {
            "text": "    // 編集可能な承認状態かどうかを判定（テキストボックス表示の条件）",
            "lineNumber": 1743
          }
        ]
      },
      "score": 0.19240759313106537
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1738,
            "column": 6
          },
          "endPosition": {
            "line": 1779
          }
        },
        "contents": "}\n      return ''\n    },\n    \n    // 編集可能な承認状態かどうかを判定（テキストボックス表示の条件）\n    isEditableStatus(day) {\n      // 休暇申請がある場合はテキストボックスを表示しない\n      if (day.hasVacation) {\n        return false\n      }\n      // 土日祝の場合、休日出勤申請が承認されている場合はテキストボックスを表示\n      if (day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) {\n        return day.hasHolidayWorkApplication\n      }\n      // 平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示\n      return day.approvalStatus === 'NOT_SUBMITTED' || day.approvalStatus === 'REJECTED'\n    },\n    \n    // 土日祝かどうかを判定（休日出勤申請が承認されている場合はクリック可能）\n    isHolidayOrWeekend(day) {\n      const isHoliday = day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6\n      // 休日出勤申請が承認されている場合はクリック可能\n      if (isHoliday &amp;&amp; day.hasHolidayWorkApplication) {\n        return false\n      }\n      return isHoliday\n    },\n    \n    // 時間軸の位置を計算（0-48時を0.4%から80.3%の範囲にマッピング）\n    calculateTimePosition(hour, minute = 0) {\n      const totalMinutes = hour * 60 + minute\n      const totalHours = totalMinutes / 60\n      // 時間軸の開始位置: 0.4%, 終了位置: 80.3%, 幅: 79.9%\n      const timeAxisStart = 0.4\n      const timeAxisEnd = 80.3\n      const timeAxisWidth = timeAxisEnd - timeAxisStart\n      const position = timeAxisStart + (totalHours / 48) * timeAxisWidth\n      return position\n    },\n    \n    // グラフスタイルを取得（全体のバー）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "}",
            "lineNumber": 1739
          },
          {
            "text": "      return ''",
            "lineNumber": 1740
          },
          {
            "text": "    },",
            "lineNumber": 1741
          },
          {
            "text": "    ",
            "lineNumber": 1742
          },
          {
            "text": "    // 編集可能な承認状態かどうかを判定（テキストボックス表示の条件）",
            "lineNumber": 1743
          },
          {
            "text": "    isEditableStatus(day) {",
            "lineNumber": 1744
          },
          {
            "text": "      // 休暇申請がある場合はテキストボックスを表示しない",
            "lineNumber": 1745
          },
          {
            "text": "      if (day.hasVacation) {",
            "lineNumber": 1746
          },
          {
            "text": "        return false",
            "lineNumber": 1747
          },
          {
            "text": "      }",
            "lineNumber": 1748
          },
          {
            "text": "      // 土日祝の場合、休日出勤申請が承認されている場合はテキストボックスを表示",
            "lineNumber": 1749
          },
          {
            "text": "      if (day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6) {",
            "lineNumber": 1750
          },
          {
            "text": "        return day.hasHolidayWorkApplication",
            "lineNumber": 1751
          },
          {
            "text": "      }",
            "lineNumber": 1752
          },
          {
            "text": "      // 平日の場合、未申請（NOT_SUBMITTED）または却下（REJECTED）の場合はテキストボックス表示",
            "lineNumber": 1753
          },
          {
            "text": "      return day.approvalStatus === 'NOT_SUBMITTED' || day.approvalStatus === 'REJECTED'",
            "lineNumber": 1754
          },
          {
            "text": "    },",
            "lineNumber": 1755
          },
          {
            "text": "    ",
            "lineNumber": 1756
          },
          {
            "text": "    // 土日祝かどうかを判定（休日出勤申請が承認されている場合はクリック可能）",
            "lineNumber": 1757
          },
          {
            "text": "    isHolidayOrWeekend(day) {",
            "lineNumber": 1758
          },
          {
            "text": "      const isHoliday = day.isHoliday || day.dayOfWeekNum === 0 || day.dayOfWeekNum === 6",
            "lineNumber": 1759
          },
          {
            "text": "      // 休日出勤申請が承認されている場合はクリック可能",
            "lineNumber": 1760
          },
          {
            "text": "      if (isHoliday &amp;&amp; day.hasHolidayWorkApplication) {",
            "lineNumber": 1761
          },
          {
            "text": "        return false",
            "lineNumber": 1762
          },
          {
            "text": "      }",
            "lineNumber": 1763
          },
          {
            "text": "      return isHoliday",
            "lineNumber": 1764
          },
          {
            "text": "    },",
            "lineNumber": 1765
          },
          {
            "text": "    ",
            "lineNumber": 1766
          },
          {
            "text": "    // 時間軸の位置を計算（0-48時を0.4%から80.3%の範囲にマッピング）",
            "lineNumber": 1767
          },
          {
            "text": "    calculateTimePosition(hour, minute = 0) {",
            "lineNumber": 1768
          },
          {
            "text": "      const totalMinutes = hour * 60 + minute",
            "lineNumber": 1769
          },
          {
            "text": "      const totalHours = totalMinutes / 60",
            "lineNumber": 1770
          },
          {
            "text": "      // 時間軸の開始位置: 0.4%, 終了位置: 80.3%, 幅: 79.9%",
            "lineNumber": 1771
          },
          {
            "text": "      const timeAxisStart = 0.4",
            "lineNumber": 1772
          },
          {
            "text": "      const timeAxisEnd = 80.3",
            "lineNumber": 1773
          },
          {
            "text": "      const timeAxisWidth = timeAxisEnd - timeAxisStart",
            "lineNumber": 1774
          },
          {
            "text": "      const position = timeAxisStart + (totalHours / 48) * timeAxisWidth",
            "lineNumber": 1775
          },
          {
            "text": "      return position",
            "lineNumber": 1776
          },
          {
            "text": "    },",
            "lineNumber": 1777
          },
          {
            "text": "    ",
            "lineNumber": 1778
          },
          {
            "text": "    // グラフスタイルを取得（全体のバー）",
            "lineNumber": 1779
          }
        ]
      },
      "score": 0.18944954872131348
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


`shouldShowBreakTime`関数を修正し、代休の場合も休憩時間を表示しないようにします。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "6355ae16-ca6d-47a8-a4eb-fd432f857a34"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "frontend/src/views/TimesheetScreen.vue"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "frontend/src/views/TimesheetScreen.vue"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正しました。代休の場合、休憩時間の長方形が表示されないようにしました。

## 変更内容

1. **休日出勤申請の休憩時間の長方形**: 代休の場合は表示しないように条件を追加
2. **通常の休憩時間の長方形**: `shouldShowBreakTime`関数で代休（`SUBSTITUTE_HOLIDAY`）の場合は`false`を返すように修正

代休のグラフは、所定内労働時間帯（9:00-17:30）の#1A69ABの長方形のみが表示され、休憩時間の長方形は表示されません。

---

_**User**_

12/24の休暇種類は代休のはずなのに有給休暇になっている。

---

_**Agent (model composer-1, mode Agent)**_



---


12/24の休暇種類が「代休」なのに「有給休暇」と表示される原因を確認中です。休暇申請ダイアログの表示ロジックを確認します。


---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "休暇申請ダイアログで休暇種類を表示する処理",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 321
          },
          "endPosition": {
            "line": 343
          }
        },
        "contents": "              &lt;template v-else&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;select \n                    v-model=\"vacationForm.vacationType\" \n                    @change=\"onVacationTypeChange\"\n                    class=\"select-inline\"\n                  &gt;\n                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;\n                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;\n                      {{ type.name }}\n                    &lt;/option&gt;\n                  &lt;/select&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "              &lt;template v-else&gt;",
            "lineNumber": 322
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 323
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 324
          },
          {
            "text": "                  &lt;select ",
            "lineNumber": 325
          },
          {
            "text": "                    v-model=\"vacationForm.vacationType\" ",
            "lineNumber": 326
          },
          {
            "text": "                    @change=\"onVacationTypeChange\"",
            "lineNumber": 327
          },
          {
            "text": "                    class=\"select-inline\"",
            "lineNumber": 328
          },
          {
            "text": "                  &gt;",
            "lineNumber": 329
          },
          {
            "text": "                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;",
            "lineNumber": 330
          },
          {
            "text": "                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;",
            "lineNumber": 331
          },
          {
            "text": "                      {{ type.name }}",
            "lineNumber": 332
          },
          {
            "text": "                    &lt;/option&gt;",
            "lineNumber": 333
          },
          {
            "text": "                  &lt;/select&gt;",
            "lineNumber": 334
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 335
          },
          {
            "text": "                ",
            "lineNumber": 336
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 337
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 338
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 339
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 340
          },
          {
            "text": "                ",
            "lineNumber": 341
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 343
          }
        ]
      },
      "score": 0.5402897596359253
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 223
          },
          "endPosition": {
            "line": 263
          }
        },
        "contents": "      &lt;!-- 休暇申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;\n            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"tab active\"&gt;\n            &lt;span class=\"tab-title\"&gt;{{ getTabName('vacation') }}&lt;/span&gt;\n            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=\"form-container\"&gt;\n          &lt;div class=\"form-content-wrapper\"&gt;\n            &lt;div class=\"form-content-left\"&gt;\n              &lt;!-- 申請中または承認済みの場合：読み取り専用の詳細表示 --&gt;\n              &lt;template v-if=\"isPendingOrApproved('vacation')\"&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;\n                    {{ formatDate(vacationForm.startDate) }}\n                    &lt;span v-if=\"vacationForm.enableEndDate &amp;&amp; vacationForm.endDate &amp;&amp; vacationForm.endDate !== vacationForm.startDate\"&gt;\n                      ～ {{ formatDate(vacationForm.endDate) }}\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;!-- 休暇申請フォーム --&gt;",
            "lineNumber": 224
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;",
            "lineNumber": 225
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 226
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 227
          },
          {
            "text": "          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;",
            "lineNumber": 228
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;",
            "lineNumber": 229
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 230
          },
          {
            "text": "          &lt;div class=\"tab active\"&gt;",
            "lineNumber": 231
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;{{ getTabName('vacation') }}&lt;/span&gt;",
            "lineNumber": 232
          },
          {
            "text": "            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;",
            "lineNumber": 233
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 234
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 235
          },
          {
            "text": "        ",
            "lineNumber": 236
          },
          {
            "text": "        &lt;div class=\"form-container\"&gt;",
            "lineNumber": 237
          },
          {
            "text": "          &lt;div class=\"form-content-wrapper\"&gt;",
            "lineNumber": 238
          },
          {
            "text": "            &lt;div class=\"form-content-left\"&gt;",
            "lineNumber": 239
          },
          {
            "text": "              &lt;!-- 申請中または承認済みの場合：読み取り専用の詳細表示 --&gt;",
            "lineNumber": 240
          },
          {
            "text": "              &lt;template v-if=\"isPendingOrApproved('vacation')\"&gt;",
            "lineNumber": 241
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 242
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 243
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;",
            "lineNumber": 244
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 245
          },
          {
            "text": "                ",
            "lineNumber": 246
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 247
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 248
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 249
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 250
          },
          {
            "text": "                ",
            "lineNumber": 251
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 252
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 253
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;",
            "lineNumber": 254
          },
          {
            "text": "                    {{ formatDate(vacationForm.startDate) }}",
            "lineNumber": 255
          },
          {
            "text": "                    &lt;span v-if=\"vacationForm.enableEndDate &amp;&amp; vacationForm.endDate &amp;&amp; vacationForm.endDate !== vacationForm.startDate\"&gt;",
            "lineNumber": 256
          },
          {
            "text": "                      ～ {{ formatDate(vacationForm.endDate) }}",
            "lineNumber": 257
          },
          {
            "text": "                    &lt;/span&gt;",
            "lineNumber": 258
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 259
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 260
          },
          {
            "text": "                ",
            "lineNumber": 261
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 262
          },
          {
            "text": "                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
            "lineNumber": 263
          }
        ]
      },
      "score": 0.4603160619735718
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 117
          },
          "endPosition": {
            "line": 164,
            "column": 18
          }
        },
        "contents": "        &lt;div class=\"form-container daily-confirmation-container\"&gt;\n          &lt;div class=\"daily-confirmation-content\"&gt;\n            &lt;div class=\"daily-confirmation-fields\"&gt;\n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;出退社時刻&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.clockInOut }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;休憩時間&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.breakTime }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;総労働時間&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.totalWorkHours }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row\"&gt;\n                &lt;label class=\"form-label\"&gt;実労働時間&lt;/label&gt;\n                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.actualWorkHours }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;div class=\"form-row form-row-textarea\"&gt;\n                &lt;label class=\"form-label\"&gt;備考&lt;/label&gt;\n                &lt;textarea \n                  v-model=\"dailyConfirmationForm.remark\"\n                  class=\"textarea-input daily-confirmation-textarea\"\n                  rows=\"1\"\n                  :disabled=\"!isEditable('dailyConfirmation')\"\n                  :readonly=\"!isEditable('dailyConfirmation')\"\n                &gt;&lt;/textarea&gt;\n              &lt;/div&gt;\n              \n              &lt;!-- エラーメッセージ表示 --&gt;\n              &lt;div v-if=\"dailyConfirmationError\" class=\"form-row\"&gt;\n                &lt;div class=\"daily-confirmation-error-message\"&gt;{{ dailyConfirmationError }}&lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;\n              &lt;div v-if=\"isPendingOrApproved('dailyConfirmation')\" class=\"application-info-section\"&gt;\n                &lt;div class=\"form-row\"&gt;\n                  &lt;label class=\"form-label form-label-inline\"&gt;申請日時&lt;/label&gt;\n                  &lt;div class=\"daily-confirmation-value daily-confirmation-value-inline\"&gt;{{ formatApplicationDate('dailyConfirmation') }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-row\"&gt;\n                  ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div class=\"form-container daily-confirmation-container\"&gt;",
            "lineNumber": 118
          },
          {
            "text": "          &lt;div class=\"daily-confirmation-content\"&gt;",
            "lineNumber": 119
          },
          {
            "text": "            &lt;div class=\"daily-confirmation-fields\"&gt;",
            "lineNumber": 120
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 121
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;出退社時刻&lt;/label&gt;",
            "lineNumber": 122
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.clockInOut }}&lt;/div&gt;",
            "lineNumber": 123
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 124
          },
          {
            "text": "              ",
            "lineNumber": 125
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 126
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;休憩時間&lt;/label&gt;",
            "lineNumber": 127
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.breakTime }}&lt;/div&gt;",
            "lineNumber": 128
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 129
          },
          {
            "text": "              ",
            "lineNumber": 130
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 131
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;総労働時間&lt;/label&gt;",
            "lineNumber": 132
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.totalWorkHours }}&lt;/div&gt;",
            "lineNumber": 133
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 134
          },
          {
            "text": "              ",
            "lineNumber": 135
          },
          {
            "text": "              &lt;div class=\"form-row\"&gt;",
            "lineNumber": 136
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;実労働時間&lt;/label&gt;",
            "lineNumber": 137
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-value\"&gt;{{ dailyConfirmationForm.actualWorkHours }}&lt;/div&gt;",
            "lineNumber": 138
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 139
          },
          {
            "text": "              ",
            "lineNumber": 140
          },
          {
            "text": "              &lt;div class=\"form-row form-row-textarea\"&gt;",
            "lineNumber": 141
          },
          {
            "text": "                &lt;label class=\"form-label\"&gt;備考&lt;/label&gt;",
            "lineNumber": 142
          },
          {
            "text": "                &lt;textarea ",
            "lineNumber": 143
          },
          {
            "text": "                  v-model=\"dailyConfirmationForm.remark\"",
            "lineNumber": 144
          },
          {
            "text": "                  class=\"textarea-input daily-confirmation-textarea\"",
            "lineNumber": 145
          },
          {
            "text": "                  rows=\"1\"",
            "lineNumber": 146
          },
          {
            "text": "                  :disabled=\"!isEditable('dailyConfirmation')\"",
            "lineNumber": 147
          },
          {
            "text": "                  :readonly=\"!isEditable('dailyConfirmation')\"",
            "lineNumber": 148
          },
          {
            "text": "                &gt;&lt;/textarea&gt;",
            "lineNumber": 149
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 150
          },
          {
            "text": "              ",
            "lineNumber": 151
          },
          {
            "text": "              &lt;!-- エラーメッセージ表示 --&gt;",
            "lineNumber": 152
          },
          {
            "text": "              &lt;div v-if=\"dailyConfirmationError\" class=\"form-row\"&gt;",
            "lineNumber": 153
          },
          {
            "text": "                &lt;div class=\"daily-confirmation-error-message\"&gt;{{ dailyConfirmationError }}&lt;/div&gt;",
            "lineNumber": 154
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 155
          },
          {
            "text": "              ",
            "lineNumber": 156
          },
          {
            "text": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
            "lineNumber": 157
          },
          {
            "text": "              &lt;div v-if=\"isPendingOrApproved('dailyConfirmation')\" class=\"application-info-section\"&gt;",
            "lineNumber": 158
          },
          {
            "text": "                &lt;div class=\"form-row\"&gt;",
            "lineNumber": 159
          },
          {
            "text": "                  &lt;label class=\"form-label form-label-inline\"&gt;申請日時&lt;/label&gt;",
            "lineNumber": 160
          },
          {
            "text": "                  &lt;div class=\"daily-confirmation-value daily-confirmation-value-inline\"&gt;{{ formatApplicationDate('dailyConfirmation') }}&lt;/div&gt;",
            "lineNumber": 161
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 162
          },
          {
            "text": "                ",
            "lineNumber": 163
          },
          {
            "text": "                &lt;div class=\"form-row\"&gt;",
            "lineNumber": 164
          },
          {
            "text": "                  ",
            "lineNumber": 165
          }
        ]
      },
      "score": 0.45768100023269653
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 1459
          },
          "endPosition": {
            "line": 1487
          }
        },
        "contents": "### 休暇申請\n休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。\n\n#### 申請内容\n- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択\n- **期間**: 開始日と終了日を指定\n  - **開始日**: その日の勤怠申請のため、常に無効化（グレーアウト）され、操作不可。対象日付が初期値として設定される\n  - **終了日入力可否チェックボックス**: 開始日と終了日の間に配置されるチェックボックス。「～」ラベルが表示される。チェックが入っている場合、終了日が入力可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される（1日のみの申請となる）\n  - **終了日**: チェックボックスがチェックされている場合のみ入力可能。カレンダーで開始日より前の日付は選択不可（グレーアウト表示）。チェックが外れている場合、無効化され、開始日と同じ日付に設定される\n- **備考**: 休暇取得の理由や備考を入力\n- **連絡先**: 連絡先を入力（任意）\n\n#### 有給残日数の表示\n- 年次有給休暇を選択した場合のみ、「有休残日数」が表示されます\n- 有給残日数は、V_VACATION_BALANCE_SUMMARYビューから取得した残日数を表示します\n\n#### 代休申請\n代休は、休日出勤後に取得できる休暇です。\n\n##### 代休の表示条件\n- **休暇種類のプルダウンに「代休」が表示される条件**: 休日出勤申請を行っている場合のみ、「代休」が休暇種類のプルダウンに表示されます\n- 休日出勤申請を行っていない場合、「代休」は休暇種類のプルダウンに表示されません\n\n##### 代休取得可能日数の表示\n- 代休を選択した場合のみ、「代休取得可能日数」が表示されます\n- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます\n- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "### 休暇申請",
            "lineNumber": 1461
          },
          {
            "text": "休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。",
            "lineNumber": 1462
          },
          {
            "lineNumber": 1463
          },
          {
            "text": "#### 申請内容",
            "lineNumber": 1464
          },
          {
            "text": "- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択",
            "lineNumber": 1465
          },
          {
            "text": "- **期間**: 開始日と終了日を指定",
            "lineNumber": 1466
          },
          {
            "text": "  - **開始日**: その日の勤怠申請のため、常に無効化（グレーアウト）され、操作不可。対象日付が初期値として設定される",
            "lineNumber": 1467
          },
          {
            "text": "  - **終了日入力可否チェックボックス**: 開始日と終了日の間に配置されるチェックボックス。「～」ラベルが表示される。チェックが入っている場合、終了日が入力可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される（1日のみの申請となる）",
            "lineNumber": 1468
          },
          {
            "text": "  - **終了日**: チェックボックスがチェックされている場合のみ入力可能。カレンダーで開始日より前の日付は選択不可（グレーアウト表示）。チェックが外れている場合、無効化され、開始日と同じ日付に設定される",
            "lineNumber": 1469
          },
          {
            "text": "- **備考**: 休暇取得の理由や備考を入力",
            "lineNumber": 1470
          },
          {
            "text": "- **連絡先**: 連絡先を入力（任意）",
            "lineNumber": 1471
          },
          {
            "lineNumber": 1472
          },
          {
            "text": "#### 有給残日数の表示",
            "lineNumber": 1473
          },
          {
            "text": "- 年次有給休暇を選択した場合のみ、「有休残日数」が表示されます",
            "lineNumber": 1474
          },
          {
            "text": "- 有給残日数は、V_VACATION_BALANCE_SUMMARYビューから取得した残日数を表示します",
            "lineNumber": 1475
          },
          {
            "lineNumber": 1476
          },
          {
            "text": "#### 代休申請",
            "lineNumber": 1477
          },
          {
            "text": "代休は、休日出勤後に取得できる休暇です。",
            "lineNumber": 1478
          },
          {
            "lineNumber": 1479
          },
          {
            "text": "##### 代休の表示条件",
            "lineNumber": 1480
          },
          {
            "text": "- **休暇種類のプルダウンに「代休」が表示される条件**: 休日出勤申請を行っている場合のみ、「代休」が休暇種類のプルダウンに表示されます",
            "lineNumber": 1481
          },
          {
            "text": "- 休日出勤申請を行っていない場合、「代休」は休暇種類のプルダウンに表示されません",
            "lineNumber": 1482
          },
          {
            "lineNumber": 1483
          },
          {
            "text": "##### 代休取得可能日数の表示",
            "lineNumber": 1484
          },
          {
            "text": "- 代休を選択した場合のみ、「代休取得可能日数」が表示されます",
            "lineNumber": 1485
          },
          {
            "text": "- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます",
            "lineNumber": 1486
          },
          {
            "text": "- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）",
            "lineNumber": 1487
          }
        ]
      },
      "score": 0.4266141951084137
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2074,
            "column": 8
          },
          "endPosition": {
            "line": 2118
          }
        },
        "contents": "this.selectedDayForApplication = day\n        this.selectedApplicationType = null\n        this.showApplicationDialog = true\n      },\n      \n      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）\n      openApplicationDialogWithType(day) {\n        this.selectedDayForApplication = day\n        \n        // どの申請タイプが申請中または承認済みかを判定\n        // 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 &gt; 残業 &gt; 早朝勤務 &gt; 振替\n        if (day.approvalStatus === 'PENDING' || day.approvalStatus === 'APPROVED') {\n          this.selectedApplicationType = 'dailyConfirmation'\n          this.selectedApplicationStatus = day.approvalStatus\n        } else if (day.holidayWorkApplicationStatus === 'PENDING' || day.holidayWorkApplicationStatus === 'APPROVED') {\n          this.selectedApplicationType = 'holidayWork'\n          this.selectedApplicationStatus = day.holidayWorkApplicationStatus\n        } else if (day.vacationApplicationStatus === 'PENDING' || day.vacationApplicationStatus === 'APPROVED') {\n          this.selectedApplicationType = 'vacation'\n          this.selectedApplicationStatus = day.vacationApplicationStatus\n        } else {\n          // その他の申請タイプはAPIで取得する必要があるが、とりあえずnull\n          this.selectedApplicationType = null\n          this.selectedApplicationStatus = null\n        }\n        \n        this.showApplicationDialog = true\n      },\n      \n      // 勤怠関連申請ダイアログを閉じる\n      closeApplicationDialog() {\n        this.showApplicationDialog = false\n        this.selectedDayForApplication = null\n        this.selectedApplicationType = null\n        this.selectedApplicationStatus = null\n      },\n      \n      // 申請完了時の処理\n      async handleApplicationSubmitted() {\n        // データを再読み込み\n        await this.loadAttendanceData()\n      },\n      \n      // 日次確定ボタン押下（日付欄の+アイコン用）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "this.selectedDayForApplication = day",
            "lineNumber": 2075
          },
          {
            "text": "        this.selectedApplicationType = null",
            "lineNumber": 2076
          },
          {
            "text": "        this.showApplicationDialog = true",
            "lineNumber": 2077
          },
          {
            "text": "      },",
            "lineNumber": 2078
          },
          {
            "text": "      ",
            "lineNumber": 2079
          },
          {
            "text": "      // 勤怠関連申請ダイアログを開く（申請中または承認済みのアイコン押下時）",
            "lineNumber": 2080
          },
          {
            "text": "      openApplicationDialogWithType(day) {",
            "lineNumber": 2081
          },
          {
            "text": "        this.selectedDayForApplication = day",
            "lineNumber": 2082
          },
          {
            "text": "        ",
            "lineNumber": 2083
          },
          {
            "text": "        // どの申請タイプが申請中または承認済みかを判定",
            "lineNumber": 2084
          },
          {
            "text": "        // 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 &gt; 残業 &gt; 早朝勤務 &gt; 振替",
            "lineNumber": 2085
          },
          {
            "text": "        if (day.approvalStatus === 'PENDING' || day.approvalStatus === 'APPROVED') {",
            "lineNumber": 2086
          },
          {
            "text": "          this.selectedApplicationType = 'dailyConfirmation'",
            "lineNumber": 2087
          },
          {
            "text": "          this.selectedApplicationStatus = day.approvalStatus",
            "lineNumber": 2088
          },
          {
            "text": "        } else if (day.holidayWorkApplicationStatus === 'PENDING' || day.holidayWorkApplicationStatus === 'APPROVED') {",
            "lineNumber": 2089
          },
          {
            "text": "          this.selectedApplicationType = 'holidayWork'",
            "lineNumber": 2090
          },
          {
            "text": "          this.selectedApplicationStatus = day.holidayWorkApplicationStatus",
            "lineNumber": 2091
          },
          {
            "text": "        } else if (day.vacationApplicationStatus === 'PENDING' || day.vacationApplicationStatus === 'APPROVED') {",
            "lineNumber": 2092
          },
          {
            "text": "          this.selectedApplicationType = 'vacation'",
            "lineNumber": 2093
          },
          {
            "text": "          this.selectedApplicationStatus = day.vacationApplicationStatus",
            "lineNumber": 2094
          },
          {
            "text": "        } else {",
            "lineNumber": 2095
          },
          {
            "text": "          // その他の申請タイプはAPIで取得する必要があるが、とりあえずnull",
            "lineNumber": 2096
          },
          {
            "text": "          this.selectedApplicationType = null",
            "lineNumber": 2097
          },
          {
            "text": "          this.selectedApplicationStatus = null",
            "lineNumber": 2098
          },
          {
            "text": "        }",
            "lineNumber": 2099
          },
          {
            "text": "        ",
            "lineNumber": 2100
          },
          {
            "text": "        this.showApplicationDialog = true",
            "lineNumber": 2101
          },
          {
            "text": "      },",
            "lineNumber": 2102
          },
          {
            "text": "      ",
            "lineNumber": 2103
          },
          {
            "text": "      // 勤怠関連申請ダイアログを閉じる",
            "lineNumber": 2104
          },
          {
            "text": "      closeApplicationDialog() {",
            "lineNumber": 2105
          },
          {
            "text": "        this.showApplicationDialog = false",
            "lineNumber": 2106
          },
          {
            "text": "        this.selectedDayForApplication = null",
            "lineNumber": 2107
          },
          {
            "text": "        this.selectedApplicationType = null",
            "lineNumber": 2108
          },
          {
            "text": "        this.selectedApplicationStatus = null",
            "lineNumber": 2109
          },
          {
            "text": "      },",
            "lineNumber": 2110
          },
          {
            "text": "      ",
            "lineNumber": 2111
          },
          {
            "text": "      // 申請完了時の処理",
            "lineNumber": 2112
          },
          {
            "text": "      async handleApplicationSubmitted() {",
            "lineNumber": 2113
          },
          {
            "text": "        // データを再読み込み",
            "lineNumber": 2114
          },
          {
            "text": "        await this.loadAttendanceData()",
            "lineNumber": 2115
          },
          {
            "text": "      },",
            "lineNumber": 2116
          },
          {
            "text": "      ",
            "lineNumber": 2117
          },
          {
            "text": "      // 日次確定ボタン押下（日付欄の+アイコン用）",
            "lineNumber": 2118
          }
        ]
      },
      "score": 0.4164992570877075
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 993
          },
          "endPosition": {
            "line": 1077
          }
        },
        "contents": "export default {\n  name: 'AttendanceApplicationDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    targetDate: {\n      type: String,\n      required: true\n    },\n    employeeId: {\n      type: String,\n      required: true\n    },\n    initialApplicationType: {\n      type: String,\n      default: null\n    },\n    initialApplicationStatus: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      currentTab: 'menu',\n      activeApplicationTab: null,\n      loading: false,\n      showErrorDialog: false,\n      errorMessage: '',\n      \n      // 休暇種別マスタ\n      vacationTypes: [],\n      paidLeaveBalance: 0,\n      // 休日出勤申請状態\n      hasHolidayWorkApplication: false,\n      // 代休取得可能日数\n      compensatoryLeaveBalance: 0,\n      \n      // 勤怠データ（打刻時刻の状態確認用）\n      attendanceData: null,\n      \n      // 打刻時刻の状態\n      hasClockIn: false,\n      hasClockOut: false,\n      \n      // 選択中のメニュー項目\n      selectedMenuItem: 'dailyConfirmation',\n      \n      // 日次確定申請フォーム\n      dailyConfirmationForm: {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      },\n      // 日次確定申請のエラーメッセージ\n      dailyConfirmationError: '',\n      \n      // 休暇申請フォーム\n      vacationForm: {\n        vacationType: '',\n        startDate: '',\n        endDate: '',\n        enableEndDate: false, // 終了日を有効にするかどうか（初期値はfalse）\n        reason: '',\n        contact: ''\n      },\n      \n      // 休日出勤申請フォーム\n      holidayWorkForm: {\n        startTime: '09:00',\n        endTime: '17:30',\n        breakHours: 1.0, // 時間単位（小数）\n        reason: ''\n      },\n      \n      // 残業申請フォーム\n      overtimeForm: {\n        startDate: '',\n        endDate: '',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "export default {",
            "lineNumber": 995
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 996
          },
          {
            "text": "  props: {",
            "lineNumber": 997
          },
          {
            "text": "    visible: {",
            "lineNumber": 998
          },
          {
            "text": "      type: Boolean,",
            "lineNumber": 999
          },
          {
            "text": "      default: false",
            "lineNumber": 1000
          },
          {
            "text": "    },",
            "lineNumber": 1001
          },
          {
            "text": "    targetDate: {",
            "lineNumber": 1002
          },
          {
            "text": "      type: String,",
            "lineNumber": 1003
          },
          {
            "text": "      required: true",
            "lineNumber": 1004
          },
          {
            "text": "    },",
            "lineNumber": 1005
          },
          {
            "text": "    employeeId: {",
            "lineNumber": 1006
          },
          {
            "text": "      type: String,",
            "lineNumber": 1007
          },
          {
            "text": "      required: true",
            "lineNumber": 1008
          },
          {
            "text": "    },",
            "lineNumber": 1009
          },
          {
            "text": "    initialApplicationType: {",
            "lineNumber": 1010
          },
          {
            "text": "      type: String,",
            "lineNumber": 1011
          },
          {
            "text": "      default: null",
            "lineNumber": 1012
          },
          {
            "text": "    },",
            "lineNumber": 1013
          },
          {
            "text": "    initialApplicationStatus: {",
            "lineNumber": 1014
          },
          {
            "text": "      type: String,",
            "lineNumber": 1015
          },
          {
            "text": "      default: null",
            "lineNumber": 1016
          },
          {
            "text": "    }",
            "lineNumber": 1017
          },
          {
            "text": "  },",
            "lineNumber": 1018
          },
          {
            "text": "  data() {",
            "lineNumber": 1019
          },
          {
            "text": "    return {",
            "lineNumber": 1020
          },
          {
            "text": "      currentTab: 'menu',",
            "lineNumber": 1021
          },
          {
            "text": "      activeApplicationTab: null,",
            "lineNumber": 1022
          },
          {
            "text": "      loading: false,",
            "lineNumber": 1023
          },
          {
            "text": "      showErrorDialog: false,",
            "lineNumber": 1024
          },
          {
            "text": "      errorMessage: '',",
            "lineNumber": 1025
          },
          {
            "text": "      ",
            "lineNumber": 1026
          },
          {
            "text": "      // 休暇種別マスタ",
            "lineNumber": 1027
          },
          {
            "text": "      vacationTypes: [],",
            "lineNumber": 1028
          },
          {
            "text": "      paidLeaveBalance: 0,",
            "lineNumber": 1029
          },
          {
            "text": "      // 休日出勤申請状態",
            "lineNumber": 1030
          },
          {
            "text": "      hasHolidayWorkApplication: false,",
            "lineNumber": 1031
          },
          {
            "text": "      // 代休取得可能日数",
            "lineNumber": 1032
          },
          {
            "text": "      compensatoryLeaveBalance: 0,",
            "lineNumber": 1033
          },
          {
            "text": "      ",
            "lineNumber": 1034
          },
          {
            "text": "      // 勤怠データ（打刻時刻の状態確認用）",
            "lineNumber": 1035
          },
          {
            "text": "      attendanceData: null,",
            "lineNumber": 1036
          },
          {
            "text": "      ",
            "lineNumber": 1037
          },
          {
            "text": "      // 打刻時刻の状態",
            "lineNumber": 1038
          },
          {
            "text": "      hasClockIn: false,",
            "lineNumber": 1039
          },
          {
            "text": "      hasClockOut: false,",
            "lineNumber": 1040
          },
          {
            "text": "      ",
            "lineNumber": 1041
          },
          {
            "text": "      // 選択中のメニュー項目",
            "lineNumber": 1042
          },
          {
            "text": "      selectedMenuItem: 'dailyConfirmation',",
            "lineNumber": 1043
          },
          {
            "text": "      ",
            "lineNumber": 1044
          },
          {
            "text": "      // 日次確定申請フォーム",
            "lineNumber": 1045
          },
          {
            "text": "      dailyConfirmationForm: {",
            "lineNumber": 1046
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1047
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1048
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1049
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1050
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1051
          },
          {
            "text": "      },",
            "lineNumber": 1052
          },
          {
            "text": "      // 日次確定申請のエラーメッセージ",
            "lineNumber": 1053
          },
          {
            "text": "      dailyConfirmationError: '',",
            "lineNumber": 1054
          },
          {
            "text": "      ",
            "lineNumber": 1055
          },
          {
            "text": "      // 休暇申請フォーム",
            "lineNumber": 1056
          },
          {
            "text": "      vacationForm: {",
            "lineNumber": 1057
          },
          {
            "text": "        vacationType: '',",
            "lineNumber": 1058
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1059
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1060
          },
          {
            "text": "        enableEndDate: false, // 終了日を有効にするかどうか（初期値はfalse）",
            "lineNumber": 1061
          },
          {
            "text": "        reason: '',",
            "lineNumber": 1062
          },
          {
            "text": "        contact: ''",
            "lineNumber": 1063
          },
          {
            "text": "      },",
            "lineNumber": 1064
          },
          {
            "text": "      ",
            "lineNumber": 1065
          },
          {
            "text": "      // 休日出勤申請フォーム",
            "lineNumber": 1066
          },
          {
            "text": "      holidayWorkForm: {",
            "lineNumber": 1067
          },
          {
            "text": "        startTime: '09:00',",
            "lineNumber": 1068
          },
          {
            "text": "        endTime: '17:30',",
            "lineNumber": 1069
          },
          {
            "text": "        breakHours: 1.0, // 時間単位（小数）",
            "lineNumber": 1070
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1071
          },
          {
            "text": "      },",
            "lineNumber": 1072
          },
          {
            "text": "      ",
            "lineNumber": 1073
          },
          {
            "text": "      // 残業申請フォーム",
            "lineNumber": 1074
          },
          {
            "text": "      overtimeForm: {",
            "lineNumber": 1075
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1076
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1077
          }
        ]
      },
      "score": 0.41531193256378174
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1203
          },
          "endPosition": {
            "line": 1261
          }
        },
        "contents": "    filteredVacationTypes() {\n      return this.vacationTypes.filter(type =&gt; {\n        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示\n        if (type.code === 'SUBSTITUTE_HOLIDAY') {\n          return this.hasHolidayWorkApplication\n        }\n        // その他の休暇種別は常に表示\n        return true\n      })\n    },\n    // 全メニュー項目の説明文\n    menuDescriptions() {\n      return {\n        dailyConfirmation: '日次確定を申請します。',\n        vacation: '休暇、代休、時間単位休暇を申請します。',\n        holidayWork: '休日出勤を申請します。',\n        overtime: '残業を申請します。',\n        earlyWork: '早朝勤務を申請します。',\n        transfer: '振替を申請します。'\n      }\n    },\n    // 申請中または承認済みかどうかを判定（各申請タイプごと）\n    isPendingOrApproved() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status === 'PENDING' || status === 'APPROVED'\n      }\n    },\n    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）\n    isEditable() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'\n      }\n    },\n    // 対象日が休日かどうかを判定\n    isHoliday() {\n      if (!this.targetDate) return false\n      const date = new Date(this.targetDate)\n      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日\n      \n      // 土曜日または日曜日の場合\n      if (dayOfWeek === 0 || dayOfWeek === 6) {\n        return true\n      }\n      \n      // 祝日判定（HolidayJpライブラリを使用）\n      try {\n        return HolidayJp.isHoliday(date)\n      } catch (error) {\n        console.error('祝日判定エラー:', error)\n        return false\n      }\n    },\n    // 対象日が平日かどうかを判定\n    isWeekday() {\n      return !this.isHoliday\n    },",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    filteredVacationTypes() {",
            "lineNumber": 1204
          },
          {
            "text": "      return this.vacationTypes.filter(type =&gt; {",
            "lineNumber": 1205
          },
          {
            "text": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示",
            "lineNumber": 1206
          },
          {
            "text": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 1207
          },
          {
            "text": "          return this.hasHolidayWorkApplication",
            "lineNumber": 1208
          },
          {
            "text": "        }",
            "lineNumber": 1209
          },
          {
            "text": "        // その他の休暇種別は常に表示",
            "lineNumber": 1210
          },
          {
            "text": "        return true",
            "lineNumber": 1211
          },
          {
            "text": "      })",
            "lineNumber": 1212
          },
          {
            "text": "    },",
            "lineNumber": 1213
          },
          {
            "text": "    // 全メニュー項目の説明文",
            "lineNumber": 1214
          },
          {
            "text": "    menuDescriptions() {",
            "lineNumber": 1215
          },
          {
            "text": "      return {",
            "lineNumber": 1216
          },
          {
            "text": "        dailyConfirmation: '日次確定を申請します。',",
            "lineNumber": 1217
          },
          {
            "text": "        vacation: '休暇、代休、時間単位休暇を申請します。',",
            "lineNumber": 1218
          },
          {
            "text": "        holidayWork: '休日出勤を申請します。',",
            "lineNumber": 1219
          },
          {
            "text": "        overtime: '残業を申請します。',",
            "lineNumber": 1220
          },
          {
            "text": "        earlyWork: '早朝勤務を申請します。',",
            "lineNumber": 1221
          },
          {
            "text": "        transfer: '振替を申請します。'",
            "lineNumber": 1222
          },
          {
            "text": "      }",
            "lineNumber": 1223
          },
          {
            "text": "    },",
            "lineNumber": 1224
          },
          {
            "text": "    // 申請中または承認済みかどうかを判定（各申請タイプごと）",
            "lineNumber": 1225
          },
          {
            "text": "    isPendingOrApproved() {",
            "lineNumber": 1226
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1227
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1228
          },
          {
            "text": "        return status === 'PENDING' || status === 'APPROVED'",
            "lineNumber": 1229
          },
          {
            "text": "      }",
            "lineNumber": 1230
          },
          {
            "text": "    },",
            "lineNumber": 1231
          },
          {
            "text": "    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1232
          },
          {
            "text": "    isEditable() {",
            "lineNumber": 1233
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1234
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1235
          },
          {
            "text": "        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'",
            "lineNumber": 1236
          },
          {
            "text": "      }",
            "lineNumber": 1237
          },
          {
            "text": "    },",
            "lineNumber": 1238
          },
          {
            "text": "    // 対象日が休日かどうかを判定",
            "lineNumber": 1239
          },
          {
            "text": "    isHoliday() {",
            "lineNumber": 1240
          },
          {
            "text": "      if (!this.targetDate) return false",
            "lineNumber": 1241
          },
          {
            "text": "      const date = new Date(this.targetDate)",
            "lineNumber": 1242
          },
          {
            "text": "      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日",
            "lineNumber": 1243
          },
          {
            "text": "      ",
            "lineNumber": 1244
          },
          {
            "text": "      // 土曜日または日曜日の場合",
            "lineNumber": 1245
          },
          {
            "text": "      if (dayOfWeek === 0 || dayOfWeek === 6) {",
            "lineNumber": 1246
          },
          {
            "text": "        return true",
            "lineNumber": 1247
          },
          {
            "text": "      }",
            "lineNumber": 1248
          },
          {
            "text": "      ",
            "lineNumber": 1249
          },
          {
            "text": "      // 祝日判定（HolidayJpライブラリを使用）",
            "lineNumber": 1250
          },
          {
            "text": "      try {",
            "lineNumber": 1251
          },
          {
            "text": "        return HolidayJp.isHoliday(date)",
            "lineNumber": 1252
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1253
          },
          {
            "text": "        console.error('祝日判定エラー:', error)",
            "lineNumber": 1254
          },
          {
            "text": "        return false",
            "lineNumber": 1255
          },
          {
            "text": "      }",
            "lineNumber": 1256
          },
          {
            "text": "    },",
            "lineNumber": 1257
          },
          {
            "text": "    // 対象日が平日かどうかを判定",
            "lineNumber": 1258
          },
          {
            "text": "    isWeekday() {",
            "lineNumber": 1259
          },
          {
            "text": "      return !this.isHoliday",
            "lineNumber": 1260
          },
          {
            "text": "    },",
            "lineNumber": 1261
          }
        ]
      },
      "score": 0.4099849462509155
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1156
          },
          "endPosition": {
            "line": 1205,
            "column": 8
          }
        },
        "contents": "      },\n      \n    }\n  },\n  computed: {\n    formattedDate() {\n      if (!this.targetDate) return ''\n      const date = new Date(this.targetDate)\n      const year = date.getFullYear()\n      const month = date.getMonth() + 1\n      const day = date.getDate()\n      const dayNames = ['日', '月', '火', '水', '木', '金', '土']\n      const dayOfWeek = dayNames[date.getDay()]\n      return &#96;${year}年${month}月${day}日${dayOfWeek}曜日&#96;\n    },\n    formattedMonthlyOvertime() {\n      if (!this.monthlyOvertime || isNaN(this.monthlyOvertime)) {\n        return '0:00'\n      }\n      const hours = Math.floor(this.monthlyOvertime)\n      const minutes = Math.floor((this.monthlyOvertime - hours) * 60)\n      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;\n    },\n    formattedBreakTime() {\n      const hours = Math.floor(this.holidayWorkForm.breakHours)\n      const minutes = Math.floor((this.holidayWorkForm.breakHours - hours) * 60)\n      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;\n    },\n    currentDescription() {\n      if (this.currentTab === 'menu') {\n        return '申請タイプを選択してください。'\n      }\n      return ''\n    },\n    // 選択中のメニュー項目の説明文\n    currentMenuDescription() {\n      const descriptions = {\n        dailyConfirmation: '日次確定を申請します。',\n        vacation: '休暇、代休、時間単位休暇を申請します。',\n        holidayWork: '休日出勤を申請します。',\n        overtime: '残業を申請します。',\n        earlyWork: '早朝勤務を申請します。',\n        transfer: '振替を申請します。'\n      }\n      return descriptions[this.selectedMenuItem] || '日次確定を申請します。'\n    },\n    // フィルタ済み休暇種別リスト（代休は条件付きで表示）\n    filteredVacationTypes() {\n      return this.vacationTypes.filter(type =&gt; {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      },",
            "lineNumber": 1157
          },
          {
            "text": "      ",
            "lineNumber": 1158
          },
          {
            "text": "    }",
            "lineNumber": 1159
          },
          {
            "text": "  },",
            "lineNumber": 1160
          },
          {
            "text": "  computed: {",
            "lineNumber": 1161
          },
          {
            "text": "    formattedDate() {",
            "lineNumber": 1162
          },
          {
            "text": "      if (!this.targetDate) return ''",
            "lineNumber": 1163
          },
          {
            "text": "      const date = new Date(this.targetDate)",
            "lineNumber": 1164
          },
          {
            "text": "      const year = date.getFullYear()",
            "lineNumber": 1165
          },
          {
            "text": "      const month = date.getMonth() + 1",
            "lineNumber": 1166
          },
          {
            "text": "      const day = date.getDate()",
            "lineNumber": 1167
          },
          {
            "text": "      const dayNames = ['日', '月', '火', '水', '木', '金', '土']",
            "lineNumber": 1168
          },
          {
            "text": "      const dayOfWeek = dayNames[date.getDay()]",
            "lineNumber": 1169
          },
          {
            "text": "      return &#96;${year}年${month}月${day}日${dayOfWeek}曜日&#96;",
            "lineNumber": 1170
          },
          {
            "text": "    },",
            "lineNumber": 1171
          },
          {
            "text": "    formattedMonthlyOvertime() {",
            "lineNumber": 1172
          },
          {
            "text": "      if (!this.monthlyOvertime || isNaN(this.monthlyOvertime)) {",
            "lineNumber": 1173
          },
          {
            "text": "        return '0:00'",
            "lineNumber": 1174
          },
          {
            "text": "      }",
            "lineNumber": 1175
          },
          {
            "text": "      const hours = Math.floor(this.monthlyOvertime)",
            "lineNumber": 1176
          },
          {
            "text": "      const minutes = Math.floor((this.monthlyOvertime - hours) * 60)",
            "lineNumber": 1177
          },
          {
            "text": "      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;",
            "lineNumber": 1178
          },
          {
            "text": "    },",
            "lineNumber": 1179
          },
          {
            "text": "    formattedBreakTime() {",
            "lineNumber": 1180
          },
          {
            "text": "      const hours = Math.floor(this.holidayWorkForm.breakHours)",
            "lineNumber": 1181
          },
          {
            "text": "      const minutes = Math.floor((this.holidayWorkForm.breakHours - hours) * 60)",
            "lineNumber": 1182
          },
          {
            "text": "      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;",
            "lineNumber": 1183
          },
          {
            "text": "    },",
            "lineNumber": 1184
          },
          {
            "text": "    currentDescription() {",
            "lineNumber": 1185
          },
          {
            "text": "      if (this.currentTab === 'menu') {",
            "lineNumber": 1186
          },
          {
            "text": "        return '申請タイプを選択してください。'",
            "lineNumber": 1187
          },
          {
            "text": "      }",
            "lineNumber": 1188
          },
          {
            "text": "      return ''",
            "lineNumber": 1189
          },
          {
            "text": "    },",
            "lineNumber": 1190
          },
          {
            "text": "    // 選択中のメニュー項目の説明文",
            "lineNumber": 1191
          },
          {
            "text": "    currentMenuDescription() {",
            "lineNumber": 1192
          },
          {
            "text": "      const descriptions = {",
            "lineNumber": 1193
          },
          {
            "text": "        dailyConfirmation: '日次確定を申請します。',",
            "lineNumber": 1194
          },
          {
            "text": "        vacation: '休暇、代休、時間単位休暇を申請します。',",
            "lineNumber": 1195
          },
          {
            "text": "        holidayWork: '休日出勤を申請します。',",
            "lineNumber": 1196
          },
          {
            "text": "        overtime: '残業を申請します。',",
            "lineNumber": 1197
          },
          {
            "text": "        earlyWork: '早朝勤務を申請します。',",
            "lineNumber": 1198
          },
          {
            "text": "        transfer: '振替を申請します。'",
            "lineNumber": 1199
          },
          {
            "text": "      }",
            "lineNumber": 1200
          },
          {
            "text": "      return descriptions[this.selectedMenuItem] || '日次確定を申請します。'",
            "lineNumber": 1201
          },
          {
            "text": "    },",
            "lineNumber": 1202
          },
          {
            "text": "    // フィルタ済み休暇種別リスト（代休は条件付きで表示）",
            "lineNumber": 1203
          },
          {
            "text": "    filteredVacationTypes() {",
            "lineNumber": 1204
          },
          {
            "text": "      return this.vacationTypes.filter(type =&gt; {",
            "lineNumber": 1205
          },
          {
            "text": "        ",
            "lineNumber": 1206
          }
        ]
      },
      "score": 0.4053286910057068
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 450
          },
          "endPosition": {
            "line": 538
          }
        },
        "contents": "                      :readonly=\"!isEditable('holidayWork')\"\n                    /&gt;\n                    &lt;span class=\"time-separator\"&gt;～&lt;/span&gt;\n                    &lt;input \n                      type=\"time\" \n                      v-model=\"holidayWorkForm.endTime\"\n                      class=\"time-input-narrow\"\n                      :disabled=\"!isEditable('holidayWork')\"\n                      :readonly=\"!isEditable('holidayWork')\"\n                    /&gt;\n                  &lt;/div&gt;\n                  &lt;div class=\"break-time-container\"&gt;\n                    &lt;span class=\"break-time-label\"&gt;休憩時間&lt;/span&gt;\n                    &lt;span class=\"break-time-display\"&gt;{{ formattedBreakTime }}&lt;/span&gt;\n                    &lt;a v-if=\"isEditable('holidayWork')\" href=\"#\" class=\"change-link\" @click.prevent=\"openBreakTimeDialog\"&gt;変更&lt;/a&gt;\n                    &lt;span v-if=\"isPastHolidayWorkApplication\" class=\"post-application-label\"&gt;(事後申請)&lt;/span&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;!-- 備考 --&gt;\n              &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;\n                &lt;textarea \n                  v-model=\"holidayWorkForm.reason\"\n                  class=\"textarea-input textarea-input-large textarea-inline\"\n                  rows=\"1\"\n                  :disabled=\"!isEditable('holidayWork')\"\n                  :readonly=\"!isEditable('holidayWork')\"\n                &gt;&lt;/textarea&gt;\n              &lt;/div&gt;\n              \n              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;\n              &lt;div v-if=\"isPendingOrApproved('holidayWork')\" class=\"application-info-section\"&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;\n                  &lt;div class=\"holiday-work-info-text info-text-inline\"&gt;{{ formatApplicationDate('holidayWork') }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;\n                  &lt;div class=\"holiday-work-info-text info-text-inline\"&gt;{{ formatStatus('holidayWork') }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;!-- 承認履歴テーブル --&gt;\n                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;\n                  &lt;label class=\"label-inline\"&gt;承認履歴&lt;/label&gt;\n                  &lt;div class=\"approval-history-container\"&gt;\n                    &lt;table class=\"approval-history-table\"&gt;\n                      &lt;thead&gt;\n                        &lt;tr&gt;\n                          &lt;th&gt;#&lt;/th&gt;\n                          &lt;th&gt;日時&lt;/th&gt;\n                          &lt;th&gt;状況&lt;/th&gt;\n                          &lt;th&gt;実行者&lt;/th&gt;\n                          &lt;th&gt;コメント&lt;/th&gt;\n                        &lt;/tr&gt;\n                      &lt;/thead&gt;\n                      &lt;tbody&gt;\n                        &lt;tr v-for=\"(history, index) in applicationInfo.holidayWork.approvalHistory\" :key=\"index\"&gt;\n                          &lt;td&gt;{{ history.seqNo }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.actionDateTime }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.status }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.actorName }}&lt;/td&gt;\n                          &lt;td&gt;{{ history.comment || '' }}&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr v-if=\"applicationInfo.holidayWork.approvalHistory.length === 0\"&gt;\n                          &lt;td colspan=\"5\" class=\"no-history\"&gt;承認履歴はありません&lt;/td&gt;\n                        &lt;/tr&gt;\n                      &lt;/tbody&gt;\n                    &lt;/table&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- ボタンを下部に配置 --&gt;\n            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('holidayWork')\" \n                class=\"submit-button\" \n                @click=\"submitHolidayWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('holidayWork')\" ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                      :readonly=\"!isEditable('holidayWork')\"",
            "lineNumber": 451
          },
          {
            "text": "                    /&gt;",
            "lineNumber": 452
          },
          {
            "text": "                    &lt;span class=\"time-separator\"&gt;～&lt;/span&gt;",
            "lineNumber": 453
          },
          {
            "text": "                    &lt;input ",
            "lineNumber": 454
          },
          {
            "text": "                      type=\"time\" ",
            "lineNumber": 455
          },
          {
            "text": "                      v-model=\"holidayWorkForm.endTime\"",
            "lineNumber": 456
          },
          {
            "text": "                      class=\"time-input-narrow\"",
            "lineNumber": 457
          },
          {
            "text": "                      :disabled=\"!isEditable('holidayWork')\"",
            "lineNumber": 458
          },
          {
            "text": "                      :readonly=\"!isEditable('holidayWork')\"",
            "lineNumber": 459
          },
          {
            "text": "                    /&gt;",
            "lineNumber": 460
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 461
          },
          {
            "text": "                  &lt;div class=\"break-time-container\"&gt;",
            "lineNumber": 462
          },
          {
            "text": "                    &lt;span class=\"break-time-label\"&gt;休憩時間&lt;/span&gt;",
            "lineNumber": 463
          },
          {
            "text": "                    &lt;span class=\"break-time-display\"&gt;{{ formattedBreakTime }}&lt;/span&gt;",
            "lineNumber": 464
          },
          {
            "text": "                    &lt;a v-if=\"isEditable('holidayWork')\" href=\"#\" class=\"change-link\" @click.prevent=\"openBreakTimeDialog\"&gt;変更&lt;/a&gt;",
            "lineNumber": 465
          },
          {
            "text": "                    &lt;span v-if=\"isPastHolidayWorkApplication\" class=\"post-application-label\"&gt;(事後申請)&lt;/span&gt;",
            "lineNumber": 466
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 467
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 468
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 469
          },
          {
            "text": "              ",
            "lineNumber": 470
          },
          {
            "text": "              &lt;!-- 備考 --&gt;",
            "lineNumber": 471
          },
          {
            "text": "              &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 472
          },
          {
            "text": "                &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
            "lineNumber": 473
          },
          {
            "text": "                &lt;textarea ",
            "lineNumber": 474
          },
          {
            "text": "                  v-model=\"holidayWorkForm.reason\"",
            "lineNumber": 475
          },
          {
            "text": "                  class=\"textarea-input textarea-input-large textarea-inline\"",
            "lineNumber": 476
          },
          {
            "text": "                  rows=\"1\"",
            "lineNumber": 477
          },
          {
            "text": "                  :disabled=\"!isEditable('holidayWork')\"",
            "lineNumber": 478
          },
          {
            "text": "                  :readonly=\"!isEditable('holidayWork')\"",
            "lineNumber": 479
          },
          {
            "text": "                &gt;&lt;/textarea&gt;",
            "lineNumber": 480
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 481
          },
          {
            "text": "              ",
            "lineNumber": 482
          },
          {
            "text": "              &lt;!-- 申請情報セクション（申請中または承認済みの場合のみ表示） --&gt;",
            "lineNumber": 483
          },
          {
            "text": "              &lt;div v-if=\"isPendingOrApproved('holidayWork')\" class=\"application-info-section\"&gt;",
            "lineNumber": 484
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 485
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;",
            "lineNumber": 486
          },
          {
            "text": "                  &lt;div class=\"holiday-work-info-text info-text-inline\"&gt;{{ formatApplicationDate('holidayWork') }}&lt;/div&gt;",
            "lineNumber": 487
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 488
          },
          {
            "text": "                ",
            "lineNumber": 489
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 490
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
            "lineNumber": 491
          },
          {
            "text": "                  &lt;div class=\"holiday-work-info-text info-text-inline\"&gt;{{ formatStatus('holidayWork') }}&lt;/div&gt;",
            "lineNumber": 492
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 493
          },
          {
            "text": "                ",
            "lineNumber": 494
          },
          {
            "text": "                &lt;!-- 承認履歴テーブル --&gt;",
            "lineNumber": 495
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
            "lineNumber": 496
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;承認履歴&lt;/label&gt;",
            "lineNumber": 497
          },
          {
            "text": "                  &lt;div class=\"approval-history-container\"&gt;",
            "lineNumber": 498
          },
          {
            "text": "                    &lt;table class=\"approval-history-table\"&gt;",
            "lineNumber": 499
          },
          {
            "text": "                      &lt;thead&gt;",
            "lineNumber": 500
          },
          {
            "text": "                        &lt;tr&gt;",
            "lineNumber": 501
          },
          {
            "text": "                          &lt;th&gt;#&lt;/th&gt;",
            "lineNumber": 502
          },
          {
            "text": "                          &lt;th&gt;日時&lt;/th&gt;",
            "lineNumber": 503
          },
          {
            "text": "                          &lt;th&gt;状況&lt;/th&gt;",
            "lineNumber": 504
          },
          {
            "text": "                          &lt;th&gt;実行者&lt;/th&gt;",
            "lineNumber": 505
          },
          {
            "text": "                          &lt;th&gt;コメント&lt;/th&gt;",
            "lineNumber": 506
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 507
          },
          {
            "text": "                      &lt;/thead&gt;",
            "lineNumber": 508
          },
          {
            "text": "                      &lt;tbody&gt;",
            "lineNumber": 509
          },
          {
            "text": "                        &lt;tr v-for=\"(history, index) in applicationInfo.holidayWork.approvalHistory\" :key=\"index\"&gt;",
            "lineNumber": 510
          },
          {
            "text": "                          &lt;td&gt;{{ history.seqNo }}&lt;/td&gt;",
            "lineNumber": 511
          },
          {
            "text": "                          &lt;td&gt;{{ history.actionDateTime }}&lt;/td&gt;",
            "lineNumber": 512
          },
          {
            "text": "                          &lt;td&gt;{{ history.status }}&lt;/td&gt;",
            "lineNumber": 513
          },
          {
            "text": "                          &lt;td&gt;{{ history.actorName }}&lt;/td&gt;",
            "lineNumber": 514
          },
          {
            "text": "                          &lt;td&gt;{{ history.comment || '' }}&lt;/td&gt;",
            "lineNumber": 515
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 516
          },
          {
            "text": "                        &lt;tr v-if=\"applicationInfo.holidayWork.approvalHistory.length === 0\"&gt;",
            "lineNumber": 517
          },
          {
            "text": "                          &lt;td colspan=\"5\" class=\"no-history\"&gt;承認履歴はありません&lt;/td&gt;",
            "lineNumber": 518
          },
          {
            "text": "                        &lt;/tr&gt;",
            "lineNumber": 519
          },
          {
            "text": "                      &lt;/tbody&gt;",
            "lineNumber": 520
          },
          {
            "text": "                    &lt;/table&gt;",
            "lineNumber": 521
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 522
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 523
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 524
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 525
          },
          {
            "text": "            ",
            "lineNumber": 526
          },
          {
            "text": "            &lt;!-- ボタンを下部に配置 --&gt;",
            "lineNumber": 527
          },
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 528
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 529
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('holidayWork')\" ",
            "lineNumber": 530
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 531
          },
          {
            "text": "                @click=\"submitHolidayWorkApplication\"",
            "lineNumber": 532
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 533
          },
          {
            "text": "              &gt;",
            "lineNumber": 534
          },
          {
            "text": "                承認申請",
            "lineNumber": 535
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 536
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 537
          },
          {
            "text": "                v-if=\"isPendingOrApproved('holidayWork')\" ",
            "lineNumber": 538
          }
        ]
      },
      "score": 0.40090590715408325
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1438
          },
          "endPosition": {
            "line": 1486,
            "column": 10
          }
        },
        "contents": "    initializeForms() {\n      // 日次確定申請フォームの初期化\n      this.dailyConfirmationForm = {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      }\n      // エラーメッセージをクリア\n      this.dailyConfirmationError = ''\n      \n      // 休暇申請フォームの初期化（年次有給休暇を選択）\n      this.vacationForm.vacationType = 'PAID_LEAVE'\n      this.vacationForm.startDate = this.targetDate\n      this.vacationForm.endDate = this.targetDate\n      this.vacationForm.enableEndDate = false\n      this.vacationForm.reason = ''\n      this.vacationForm.contact = ''\n      \n      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）\n      this.overtimeForm.startDate = this.targetDate\n      this.overtimeForm.endDate = this.targetDate\n      this.earlyWorkForm.startDate = this.targetDate\n      this.earlyWorkForm.endDate = this.targetDate\n      this.transferForm.fromDate = this.targetDate\n      this.transferForm.toDate = this.targetDate\n    },\n    \n    async loadVacationTypes() {\n      try {\n        const response = await fetch('http://localhost:3000/api/master/vacation-types')\n        const data = await response.json()\n        if (data.success) {\n          this.vacationTypes = data.vacationTypes.map(type =&gt; ({\n            code: type.VACATION_TYPE_CODE,\n            name: type.VACATION_TYPE_NAME,\n            isPaid: type.IS_PAID\n          }))\n        }\n      } catch (error) {\n        console.error('休暇種別マスタ取得エラー:', error)\n      }\n    },\n    \n    async loadPaidLeaveBalance() {\n      try {\n        const response = await fetch(\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    initializeForms() {",
            "lineNumber": 1439
          },
          {
            "text": "      // 日次確定申請フォームの初期化",
            "lineNumber": 1440
          },
          {
            "text": "      this.dailyConfirmationForm = {",
            "lineNumber": 1441
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1442
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1443
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1444
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1445
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1446
          },
          {
            "text": "      }",
            "lineNumber": 1447
          },
          {
            "text": "      // エラーメッセージをクリア",
            "lineNumber": 1448
          },
          {
            "text": "      this.dailyConfirmationError = ''",
            "lineNumber": 1449
          },
          {
            "text": "      ",
            "lineNumber": 1450
          },
          {
            "text": "      // 休暇申請フォームの初期化（年次有給休暇を選択）",
            "lineNumber": 1451
          },
          {
            "text": "      this.vacationForm.vacationType = 'PAID_LEAVE'",
            "lineNumber": 1452
          },
          {
            "text": "      this.vacationForm.startDate = this.targetDate",
            "lineNumber": 1453
          },
          {
            "text": "      this.vacationForm.endDate = this.targetDate",
            "lineNumber": 1454
          },
          {
            "text": "      this.vacationForm.enableEndDate = false",
            "lineNumber": 1455
          },
          {
            "text": "      this.vacationForm.reason = ''",
            "lineNumber": 1456
          },
          {
            "text": "      this.vacationForm.contact = ''",
            "lineNumber": 1457
          },
          {
            "text": "      ",
            "lineNumber": 1458
          },
          {
            "text": "      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）",
            "lineNumber": 1459
          },
          {
            "text": "      this.overtimeForm.startDate = this.targetDate",
            "lineNumber": 1460
          },
          {
            "text": "      this.overtimeForm.endDate = this.targetDate",
            "lineNumber": 1461
          },
          {
            "text": "      this.earlyWorkForm.startDate = this.targetDate",
            "lineNumber": 1462
          },
          {
            "text": "      this.earlyWorkForm.endDate = this.targetDate",
            "lineNumber": 1463
          },
          {
            "text": "      this.transferForm.fromDate = this.targetDate",
            "lineNumber": 1464
          },
          {
            "text": "      this.transferForm.toDate = this.targetDate",
            "lineNumber": 1465
          },
          {
            "text": "    },",
            "lineNumber": 1466
          },
          {
            "text": "    ",
            "lineNumber": 1467
          },
          {
            "text": "    async loadVacationTypes() {",
            "lineNumber": 1468
          },
          {
            "text": "      try {",
            "lineNumber": 1469
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/master/vacation-types')",
            "lineNumber": 1470
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 1471
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 1472
          },
          {
            "text": "          this.vacationTypes = data.vacationTypes.map(type =&gt; ({",
            "lineNumber": 1473
          },
          {
            "text": "            code: type.VACATION_TYPE_CODE,",
            "lineNumber": 1474
          },
          {
            "text": "            name: type.VACATION_TYPE_NAME,",
            "lineNumber": 1475
          },
          {
            "text": "            isPaid: type.IS_PAID",
            "lineNumber": 1476
          },
          {
            "text": "          }))",
            "lineNumber": 1477
          },
          {
            "text": "        }",
            "lineNumber": 1478
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1479
          },
          {
            "text": "        console.error('休暇種別マスタ取得エラー:', error)",
            "lineNumber": 1480
          },
          {
            "text": "      }",
            "lineNumber": 1481
          },
          {
            "text": "    },",
            "lineNumber": 1482
          },
          {
            "text": "    ",
            "lineNumber": 1483
          },
          {
            "text": "    async loadPaidLeaveBalance() {",
            "lineNumber": 1484
          },
          {
            "text": "      try {",
            "lineNumber": 1485
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1486
          },
          {
            "text": "          ",
            "lineNumber": 1487
          }
        ]
      },
      "score": 0.3997159004211426
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1793
          },
          "endPosition": {
            "line": 1824
          }
        },
        "contents": "    formatDateTime(dateTimeString) {\n      if (!dateTimeString) return '---'\n      const date = new Date(dateTimeString)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      return &#96;${year}/${month}/${day} ${hours}:${minutes}&#96;\n    },\n    \n    // 日付をフォーマット（YYYY/MM/DD形式）\n    formatDate(dateString) {\n      if (!dateString) return '---'\n      const date = new Date(dateString)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      return &#96;${year}/${month}/${day}&#96;\n    },\n    \n    // 休暇種類の表示名を取得\n    getVacationTypeName(vacationTypeCode) {\n      if (!vacationTypeCode) return '---'\n      const type = this.vacationTypes.find(t =&gt; t.code === vacationTypeCode)\n      return type ? type.name : '---'\n    },\n    \n    // メニュー項目をクリックしたときの処理（タブを開く）\n    selectMenuItem(applicationType) {\n      // 選択中のメニュー項目を更新（説明文表示用）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    formatDateTime(dateTimeString) {",
            "lineNumber": 1794
          },
          {
            "text": "      if (!dateTimeString) return '---'",
            "lineNumber": 1795
          },
          {
            "text": "      const date = new Date(dateTimeString)",
            "lineNumber": 1796
          },
          {
            "text": "      const year = date.getFullYear()",
            "lineNumber": 1797
          },
          {
            "text": "      const month = String(date.getMonth() + 1).padStart(2, '0')",
            "lineNumber": 1798
          },
          {
            "text": "      const day = String(date.getDate()).padStart(2, '0')",
            "lineNumber": 1799
          },
          {
            "text": "      const hours = String(date.getHours()).padStart(2, '0')",
            "lineNumber": 1800
          },
          {
            "text": "      const minutes = String(date.getMinutes()).padStart(2, '0')",
            "lineNumber": 1801
          },
          {
            "text": "      return &#96;${year}/${month}/${day} ${hours}:${minutes}&#96;",
            "lineNumber": 1802
          },
          {
            "text": "    },",
            "lineNumber": 1803
          },
          {
            "text": "    ",
            "lineNumber": 1804
          },
          {
            "text": "    // 日付をフォーマット（YYYY/MM/DD形式）",
            "lineNumber": 1805
          },
          {
            "text": "    formatDate(dateString) {",
            "lineNumber": 1806
          },
          {
            "text": "      if (!dateString) return '---'",
            "lineNumber": 1807
          },
          {
            "text": "      const date = new Date(dateString)",
            "lineNumber": 1808
          },
          {
            "text": "      const year = date.getFullYear()",
            "lineNumber": 1809
          },
          {
            "text": "      const month = String(date.getMonth() + 1).padStart(2, '0')",
            "lineNumber": 1810
          },
          {
            "text": "      const day = String(date.getDate()).padStart(2, '0')",
            "lineNumber": 1811
          },
          {
            "text": "      return &#96;${year}/${month}/${day}&#96;",
            "lineNumber": 1812
          },
          {
            "text": "    },",
            "lineNumber": 1813
          },
          {
            "text": "    ",
            "lineNumber": 1814
          },
          {
            "text": "    // 休暇種類の表示名を取得",
            "lineNumber": 1815
          },
          {
            "text": "    getVacationTypeName(vacationTypeCode) {",
            "lineNumber": 1816
          },
          {
            "text": "      if (!vacationTypeCode) return '---'",
            "lineNumber": 1817
          },
          {
            "text": "      const type = this.vacationTypes.find(t =&gt; t.code === vacationTypeCode)",
            "lineNumber": 1818
          },
          {
            "text": "      return type ? type.name : '---'",
            "lineNumber": 1819
          },
          {
            "text": "    },",
            "lineNumber": 1820
          },
          {
            "text": "    ",
            "lineNumber": 1821
          },
          {
            "text": "    // メニュー項目をクリックしたときの処理（タブを開く）",
            "lineNumber": 1822
          },
          {
            "text": "    selectMenuItem(applicationType) {",
            "lineNumber": 1823
          },
          {
            "text": "      // 選択中のメニュー項目を更新（説明文表示用）",
            "lineNumber": 1824
          }
        ]
      },
      "score": 0.3922899067401886
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 26
          },
          "endPosition": {
            "line": 71
          }
        },
        "contents": "        &lt;div class=\"main-content-area\"&gt;\n          &lt;!-- 左側のメニューリスト--&gt;\n          &lt;div class=\"menu-list\"&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')\n              }\"\n              :disabled=\"isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')\"\n              @click=\"selectMenuItem('dailyConfirmation')\"\n            &gt;\n              日次確定\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isVacationDisabled || isPendingOrApproved('vacation')\n              }\"\n              :disabled=\"isVacationDisabled || isPendingOrApproved('vacation')\"\n              @click=\"selectMenuItem('vacation')\"\n            &gt;\n              休暇申請\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\n              }\"\n              :disabled=\"isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\"\n              @click=\"selectMenuItem('holidayWork')\"\n            &gt;\n              休日出勤申請\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isOvertimeDisabled || isPendingOrApproved('overtime')\n              }\"\n              :disabled=\"isOvertimeDisabled || isPendingOrApproved('overtime')\"\n              @click=\"selectMenuItem('overtime')\"\n            &gt;\n              残業申請\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div class=\"main-content-area\"&gt;",
            "lineNumber": 27
          },
          {
            "text": "          &lt;!-- 左側のメニューリスト--&gt;",
            "lineNumber": 28
          },
          {
            "text": "          &lt;div class=\"menu-list\"&gt;",
            "lineNumber": 29
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 30
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 31
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 32
          },
          {
            "text": "                'menu-item-disabled': isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')",
            "lineNumber": 33
          },
          {
            "text": "              }\"",
            "lineNumber": 34
          },
          {
            "text": "              :disabled=\"isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')\"",
            "lineNumber": 35
          },
          {
            "text": "              @click=\"selectMenuItem('dailyConfirmation')\"",
            "lineNumber": 36
          },
          {
            "text": "            &gt;",
            "lineNumber": 37
          },
          {
            "text": "              日次確定",
            "lineNumber": 38
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 39
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 40
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 41
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 42
          },
          {
            "text": "                'menu-item-disabled': isVacationDisabled || isPendingOrApproved('vacation')",
            "lineNumber": 43
          },
          {
            "text": "              }\"",
            "lineNumber": 44
          },
          {
            "text": "              :disabled=\"isVacationDisabled || isPendingOrApproved('vacation')\"",
            "lineNumber": 45
          },
          {
            "text": "              @click=\"selectMenuItem('vacation')\"",
            "lineNumber": 46
          },
          {
            "text": "            &gt;",
            "lineNumber": 47
          },
          {
            "text": "              休暇申請",
            "lineNumber": 48
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 49
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 50
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 51
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 52
          },
          {
            "text": "                'menu-item-disabled': isHolidayWorkDisabled || isPendingOrApproved('holidayWork')",
            "lineNumber": 53
          },
          {
            "text": "              }\"",
            "lineNumber": 54
          },
          {
            "text": "              :disabled=\"isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\"",
            "lineNumber": 55
          },
          {
            "text": "              @click=\"selectMenuItem('holidayWork')\"",
            "lineNumber": 56
          },
          {
            "text": "            &gt;",
            "lineNumber": 57
          },
          {
            "text": "              休日出勤申請",
            "lineNumber": 58
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 59
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 60
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 61
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 62
          },
          {
            "text": "                'menu-item-disabled': isOvertimeDisabled || isPendingOrApproved('overtime')",
            "lineNumber": 63
          },
          {
            "text": "              }\"",
            "lineNumber": 64
          },
          {
            "text": "              :disabled=\"isOvertimeDisabled || isPendingOrApproved('overtime')\"",
            "lineNumber": 65
          },
          {
            "text": "              @click=\"selectMenuItem('overtime')\"",
            "lineNumber": 66
          },
          {
            "text": "            &gt;",
            "lineNumber": 67
          },
          {
            "text": "              残業申請",
            "lineNumber": 68
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 69
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 70
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 71
          }
        ]
      },
      "score": 0.38923776149749756
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 26
          },
          "endPosition": {
            "line": 65
          }
        },
        "contents": "        &lt;div class=\"main-content-area\"&gt;\n          &lt;!-- 左側のメニューリスト--&gt;\n          &lt;div class=\"menu-list\"&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')\n              }\"\n              :disabled=\"isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')\"\n              @click=\"selectMenuItem('dailyConfirmation')\"\n            &gt;\n              日次確定\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isVacationDisabled || isPendingOrApproved('vacation')\n              }\"\n              :disabled=\"isVacationDisabled || isPendingOrApproved('vacation')\"\n              @click=\"selectMenuItem('vacation')\"\n            &gt;\n              休暇申請\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\n              }\"\n              :disabled=\"isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\"\n              @click=\"selectMenuItem('holidayWork')\"\n            &gt;\n              休日出勤申請\n            &lt;/button&gt;\n            &lt;button \n              class=\"menu-item\" \n              :class=\"{ \n                'menu-item-disabled': isOvertimeDisabled || isPendingOrApproved('overtime')\n              }\"\n              :disabled=\"isOvertimeDisabled || isPendingOrApproved('overtime')\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div class=\"main-content-area\"&gt;",
            "lineNumber": 27
          },
          {
            "text": "          &lt;!-- 左側のメニューリスト--&gt;",
            "lineNumber": 28
          },
          {
            "text": "          &lt;div class=\"menu-list\"&gt;",
            "lineNumber": 29
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 30
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 31
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 32
          },
          {
            "text": "                'menu-item-disabled': isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')",
            "lineNumber": 33
          },
          {
            "text": "              }\"",
            "lineNumber": 34
          },
          {
            "text": "              :disabled=\"isDailyConfirmationDisabled || isPendingOrApproved('dailyConfirmation')\"",
            "lineNumber": 35
          },
          {
            "text": "              @click=\"selectMenuItem('dailyConfirmation')\"",
            "lineNumber": 36
          },
          {
            "text": "            &gt;",
            "lineNumber": 37
          },
          {
            "text": "              日次確定",
            "lineNumber": 38
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 39
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 40
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 41
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 42
          },
          {
            "text": "                'menu-item-disabled': isVacationDisabled || isPendingOrApproved('vacation')",
            "lineNumber": 43
          },
          {
            "text": "              }\"",
            "lineNumber": 44
          },
          {
            "text": "              :disabled=\"isVacationDisabled || isPendingOrApproved('vacation')\"",
            "lineNumber": 45
          },
          {
            "text": "              @click=\"selectMenuItem('vacation')\"",
            "lineNumber": 46
          },
          {
            "text": "            &gt;",
            "lineNumber": 47
          },
          {
            "text": "              休暇申請",
            "lineNumber": 48
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 49
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 50
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 51
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 52
          },
          {
            "text": "                'menu-item-disabled': isHolidayWorkDisabled || isPendingOrApproved('holidayWork')",
            "lineNumber": 53
          },
          {
            "text": "              }\"",
            "lineNumber": 54
          },
          {
            "text": "              :disabled=\"isHolidayWorkDisabled || isPendingOrApproved('holidayWork')\"",
            "lineNumber": 55
          },
          {
            "text": "              @click=\"selectMenuItem('holidayWork')\"",
            "lineNumber": 56
          },
          {
            "text": "            &gt;",
            "lineNumber": 57
          },
          {
            "text": "              休日出勤申請",
            "lineNumber": 58
          },
          {
            "text": "            &lt;/button&gt;",
            "lineNumber": 59
          },
          {
            "text": "            &lt;button ",
            "lineNumber": 60
          },
          {
            "text": "              class=\"menu-item\" ",
            "lineNumber": 61
          },
          {
            "text": "              :class=\"{ ",
            "lineNumber": 62
          },
          {
            "text": "                'menu-item-disabled': isOvertimeDisabled || isPendingOrApproved('overtime')",
            "lineNumber": 63
          },
          {
            "text": "              }\"",
            "lineNumber": 64
          },
          {
            "text": "              :disabled=\"isOvertimeDisabled || isPendingOrApproved('overtime')\"",
            "lineNumber": 65
          }
        ]
      },
      "score": 0.38227030634880066
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 261
          },
          "endPosition": {
            "line": 279,
            "column": 20
          }
        },
        "contents": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline info-text-multiline\"&gt;{{ vacationForm.reason || '' }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline\"&gt;連絡先&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ vacationForm.contact || '' }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;代休取得可能日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ compensatoryLeaveBalance }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;!-- 申請情報セクション --&gt;\n                &lt;div class=\"application-info-section\"&gt;\n                  &lt;div class=\"form-group form-group-inline\"&gt;\n                    ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 262
          },
          {
            "text": "                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
            "lineNumber": 263
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline info-text-multiline\"&gt;{{ vacationForm.reason || '' }}&lt;/div&gt;",
            "lineNumber": 264
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 265
          },
          {
            "text": "                ",
            "lineNumber": 266
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 267
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;連絡先&lt;/label&gt;",
            "lineNumber": 268
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ vacationForm.contact || '' }}&lt;/div&gt;",
            "lineNumber": 269
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 270
          },
          {
            "text": "                ",
            "lineNumber": 271
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 272
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;代休取得可能日数&lt;/label&gt;",
            "lineNumber": 273
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ compensatoryLeaveBalance }}日&lt;/div&gt;",
            "lineNumber": 274
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 275
          },
          {
            "text": "                ",
            "lineNumber": 276
          },
          {
            "text": "                &lt;!-- 申請情報セクション --&gt;",
            "lineNumber": 277
          },
          {
            "text": "                &lt;div class=\"application-info-section\"&gt;",
            "lineNumber": 278
          },
          {
            "text": "                  &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 279
          },
          {
            "text": "                    ",
            "lineNumber": 280
          }
        ]
      },
      "score": 0.3804962635040283
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1952
          },
          "endPosition": {
            "line": 2000
          }
        },
        "contents": "    async loadHolidayWorkApplicationData() {\n      // 休日出勤申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success &amp;&amp; response.applicationStatus) {\n          // 申請データを取得してフォームに設定\n          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n        }\n      } catch (error) {\n        console.error('休日出勤申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadVacationApplicationData() {\n      // 休暇申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)\n        if (response.success &amp;&amp; response.applicationData) {\n          const data = response.applicationData\n          // フォームに申請データを設定\n          if (data.VACATION_TYPE_CODE) {\n            this.vacationForm.vacationType = data.VACATION_TYPE_CODE\n          }\n          if (data.START_DATE) {\n            this.vacationForm.startDate = data.START_DATE\n          }\n          if (data.END_DATE) {\n            this.vacationForm.endDate = data.END_DATE\n            this.vacationForm.enableEndDate = true\n          } else if (data.START_DATE) {\n            // 終了日がない場合は開始日と同じにする\n            this.vacationForm.endDate = data.START_DATE\n            this.vacationForm.enableEndDate = false\n          }\n          if (data.REASON) {\n            this.vacationForm.reason = data.REASON\n          }\n          if (data.CONTACT_INFO) {\n            this.vacationForm.contact = data.CONTACT_INFO\n          }\n        }\n      } catch (error) {\n        console.error('休暇申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadOvertimeApplicationData() {\n      // 残業申請データを読み込む（申請中または承認済みの場合）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadHolidayWorkApplicationData() {",
            "lineNumber": 1953
          },
          {
            "text": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1954
          },
          {
            "text": "      try {",
            "lineNumber": 1955
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1956
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationStatus) {",
            "lineNumber": 1957
          },
          {
            "text": "          // 申請データを取得してフォームに設定",
            "lineNumber": 1958
          },
          {
            "text": "          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 1959
          },
          {
            "text": "        }",
            "lineNumber": 1960
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1961
          },
          {
            "text": "        console.error('休日出勤申請データ取得エラー:', error)",
            "lineNumber": 1962
          },
          {
            "text": "      }",
            "lineNumber": 1963
          },
          {
            "text": "    },",
            "lineNumber": 1964
          },
          {
            "text": "    ",
            "lineNumber": 1965
          },
          {
            "text": "    async loadVacationApplicationData() {",
            "lineNumber": 1966
          },
          {
            "text": "      // 休暇申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1967
          },
          {
            "text": "      try {",
            "lineNumber": 1968
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)",
            "lineNumber": 1969
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationData) {",
            "lineNumber": 1970
          },
          {
            "text": "          const data = response.applicationData",
            "lineNumber": 1971
          },
          {
            "text": "          // フォームに申請データを設定",
            "lineNumber": 1972
          },
          {
            "text": "          if (data.VACATION_TYPE_CODE) {",
            "lineNumber": 1973
          },
          {
            "text": "            this.vacationForm.vacationType = data.VACATION_TYPE_CODE",
            "lineNumber": 1974
          },
          {
            "text": "          }",
            "lineNumber": 1975
          },
          {
            "text": "          if (data.START_DATE) {",
            "lineNumber": 1976
          },
          {
            "text": "            this.vacationForm.startDate = data.START_DATE",
            "lineNumber": 1977
          },
          {
            "text": "          }",
            "lineNumber": 1978
          },
          {
            "text": "          if (data.END_DATE) {",
            "lineNumber": 1979
          },
          {
            "text": "            this.vacationForm.endDate = data.END_DATE",
            "lineNumber": 1980
          },
          {
            "text": "            this.vacationForm.enableEndDate = true",
            "lineNumber": 1981
          },
          {
            "text": "          } else if (data.START_DATE) {",
            "lineNumber": 1982
          },
          {
            "text": "            // 終了日がない場合は開始日と同じにする",
            "lineNumber": 1983
          },
          {
            "text": "            this.vacationForm.endDate = data.START_DATE",
            "lineNumber": 1984
          },
          {
            "text": "            this.vacationForm.enableEndDate = false",
            "lineNumber": 1985
          },
          {
            "text": "          }",
            "lineNumber": 1986
          },
          {
            "text": "          if (data.REASON) {",
            "lineNumber": 1987
          },
          {
            "text": "            this.vacationForm.reason = data.REASON",
            "lineNumber": 1988
          },
          {
            "text": "          }",
            "lineNumber": 1989
          },
          {
            "text": "          if (data.CONTACT_INFO) {",
            "lineNumber": 1990
          },
          {
            "text": "            this.vacationForm.contact = data.CONTACT_INFO",
            "lineNumber": 1991
          },
          {
            "text": "          }",
            "lineNumber": 1992
          },
          {
            "text": "        }",
            "lineNumber": 1993
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1994
          },
          {
            "text": "        console.error('休暇申請データ取得エラー:', error)",
            "lineNumber": 1995
          },
          {
            "text": "      }",
            "lineNumber": 1996
          },
          {
            "text": "    },",
            "lineNumber": 1997
          },
          {
            "text": "    ",
            "lineNumber": 1998
          },
          {
            "text": "    async loadOvertimeApplicationData() {",
            "lineNumber": 1999
          },
          {
            "text": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2000
          }
        ]
      },
      "score": 0.3719871938228607
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1392
          },
          "endPosition": {
            "line": 1440
          }
        },
        "contents": "  methods: {\n    async initialize() {\n      this.loading = true\n      try {\n        // 初期申請状態が指定されている場合、先に設定（loadApplicationStatusesより前）\n        if (this.initialApplicationType &amp;&amp; this.initialApplicationStatus) {\n          this.applicationStatuses[this.initialApplicationType] = this.initialApplicationStatus\n        }\n        \n        // 休暇種別マスタ取得\n        await this.loadVacationTypes()\n        \n        // 有給残日数取得\n        await this.loadPaidLeaveBalance()\n        \n        // 休日出勤申請状態取得\n        await this.loadHolidayWorkStatus()\n        \n        // 申請状態取得（各申請タイプごと）\n        // 注意: initialApplicationStatusが既に設定されている場合は、loadApplicationStatuses内でスキップされる\n        await this.loadApplicationStatuses()\n        \n        // 勤怠データ取得（打刻時刻の状態確認用）\n        await this.loadAttendanceDataForButtonControl()\n        \n        // 打刻時刻の状態を取得\n        await this.loadClockStatus()\n        \n        // フォームの初期値設定\n        this.initializeForms()\n        \n        // 初期申請タイプがある場合、そのタブを開く\n        if (this.initialApplicationType) {\n          this.openApplicationTab(this.initialApplicationType)\n        } else {\n          this.currentTab = 'menu'\n          this.activeApplicationTab = null\n        }\n      } catch (error) {\n        console.error('初期化エラー:', error)\n        this.showError('初期化に失敗しました。')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    initializeForms() {\n      // 日次確定申請フォームの初期化",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  methods: {",
            "lineNumber": 1393
          },
          {
            "text": "    async initialize() {",
            "lineNumber": 1394
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 1395
          },
          {
            "text": "      try {",
            "lineNumber": 1396
          },
          {
            "text": "        // 初期申請状態が指定されている場合、先に設定（loadApplicationStatusesより前）",
            "lineNumber": 1397
          },
          {
            "text": "        if (this.initialApplicationType &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1398
          },
          {
            "text": "          this.applicationStatuses[this.initialApplicationType] = this.initialApplicationStatus",
            "lineNumber": 1399
          },
          {
            "text": "        }",
            "lineNumber": 1400
          },
          {
            "text": "        ",
            "lineNumber": 1401
          },
          {
            "text": "        // 休暇種別マスタ取得",
            "lineNumber": 1402
          },
          {
            "text": "        await this.loadVacationTypes()",
            "lineNumber": 1403
          },
          {
            "text": "        ",
            "lineNumber": 1404
          },
          {
            "text": "        // 有給残日数取得",
            "lineNumber": 1405
          },
          {
            "text": "        await this.loadPaidLeaveBalance()",
            "lineNumber": 1406
          },
          {
            "text": "        ",
            "lineNumber": 1407
          },
          {
            "text": "        // 休日出勤申請状態取得",
            "lineNumber": 1408
          },
          {
            "text": "        await this.loadHolidayWorkStatus()",
            "lineNumber": 1409
          },
          {
            "text": "        ",
            "lineNumber": 1410
          },
          {
            "text": "        // 申請状態取得（各申請タイプごと）",
            "lineNumber": 1411
          },
          {
            "text": "        // 注意: initialApplicationStatusが既に設定されている場合は、loadApplicationStatuses内でスキップされる",
            "lineNumber": 1412
          },
          {
            "text": "        await this.loadApplicationStatuses()",
            "lineNumber": 1413
          },
          {
            "text": "        ",
            "lineNumber": 1414
          },
          {
            "text": "        // 勤怠データ取得（打刻時刻の状態確認用）",
            "lineNumber": 1415
          },
          {
            "text": "        await this.loadAttendanceDataForButtonControl()",
            "lineNumber": 1416
          },
          {
            "text": "        ",
            "lineNumber": 1417
          },
          {
            "text": "        // 打刻時刻の状態を取得",
            "lineNumber": 1418
          },
          {
            "text": "        await this.loadClockStatus()",
            "lineNumber": 1419
          },
          {
            "text": "        ",
            "lineNumber": 1420
          },
          {
            "text": "        // フォームの初期値設定",
            "lineNumber": 1421
          },
          {
            "text": "        this.initializeForms()",
            "lineNumber": 1422
          },
          {
            "text": "        ",
            "lineNumber": 1423
          },
          {
            "text": "        // 初期申請タイプがある場合、そのタブを開く",
            "lineNumber": 1424
          },
          {
            "text": "        if (this.initialApplicationType) {",
            "lineNumber": 1425
          },
          {
            "text": "          this.openApplicationTab(this.initialApplicationType)",
            "lineNumber": 1426
          },
          {
            "text": "        } else {",
            "lineNumber": 1427
          },
          {
            "text": "          this.currentTab = 'menu'",
            "lineNumber": 1428
          },
          {
            "text": "          this.activeApplicationTab = null",
            "lineNumber": 1429
          },
          {
            "text": "        }",
            "lineNumber": 1430
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1431
          },
          {
            "text": "        console.error('初期化エラー:', error)",
            "lineNumber": 1432
          },
          {
            "text": "        this.showError('初期化に失敗しました。')",
            "lineNumber": 1433
          },
          {
            "text": "      } finally {",
            "lineNumber": 1434
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 1435
          },
          {
            "text": "      }",
            "lineNumber": 1436
          },
          {
            "text": "    },",
            "lineNumber": 1437
          },
          {
            "text": "    ",
            "lineNumber": 1438
          },
          {
            "text": "    initializeForms() {",
            "lineNumber": 1439
          },
          {
            "text": "      // 日次確定申請フォームの初期化",
            "lineNumber": 1440
          }
        ]
      },
      "score": 0.36078310012817383
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\Dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 533
          },
          "endPosition": {
            "line": 589,
            "column": 14
          }
        },
        "contents": "              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('holidayWork')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelHolidayWorkApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('holidayWork') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        \n        &lt;!-- 休憩時間設定ダイアログ --&gt;\n        &lt;div v-if=\"showBreakTimeDialog\" class=\"dialog-overlay-break-time\" @click.self=\"closeBreakTimeDialog\"&gt;\n          &lt;div class=\"break-time-dialog\"&gt;\n            &lt;div class=\"break-time-dialog-header\"&gt;\n              &lt;span class=\"break-time-dialog-title\"&gt;休憩時間の設定&lt;/span&gt;\n              &lt;button class=\"break-time-dialog-close\" @click=\"closeBreakTimeDialog\"&gt;×&lt;/button&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=\"break-time-dialog-content\"&gt;\n              &lt;div class=\"break-time-list\"&gt;\n                &lt;div \n                  v-for=\"(breakTime, index) in breakTimeList\" \n                  :key=\"index\"\n                  class=\"break-time-row\"\n                &gt;\n                  &lt;input \n                    type=\"time\" \n                    v-model=\"breakTime.startTime\"\n                    class=\"break-time-input\"\n                  /&gt;\n                  &lt;span class=\"break-time-separator\"&gt;～&lt;/span&gt;\n                  &lt;input \n                    type=\"time\" \n                    v-model=\"breakTime.endTime\"\n                    class=\"break-time-input\"\n                  /&gt;\n                  &lt;button \n                    class=\"break-time-delete\"\n                    @click=\"removeBreakTime(index)\"\n                    :disabled=\"breakTimeList.length === 1\"\n                  &gt;\n                    🗑️\n                  &lt;/button&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              \n              &lt;button class=\"break-time-add\" @click=\"addBreakTime\"&gt;+&lt;/button&gt;\n            &lt;/div&gt;\n            \n            &lt;div class=\"break-time-dialog-buttons\"&gt;\n              ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "              &gt;",
            "lineNumber": 534
          },
          {
            "text": "                承認申請",
            "lineNumber": 535
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 536
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 537
          },
          {
            "text": "                v-if=\"isPendingOrApproved('holidayWork')\" ",
            "lineNumber": 538
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 539
          },
          {
            "text": "                @click=\"cancelHolidayWorkApplication\"",
            "lineNumber": 540
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 541
          },
          {
            "text": "              &gt;",
            "lineNumber": 542
          },
          {
            "text": "                {{ getCancelButtonLabel('holidayWork') }}",
            "lineNumber": 543
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 544
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 545
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 546
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 547
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 548
          },
          {
            "text": "        ",
            "lineNumber": 549
          },
          {
            "text": "        &lt;!-- 休憩時間設定ダイアログ --&gt;",
            "lineNumber": 550
          },
          {
            "text": "        &lt;div v-if=\"showBreakTimeDialog\" class=\"dialog-overlay-break-time\" @click.self=\"closeBreakTimeDialog\"&gt;",
            "lineNumber": 551
          },
          {
            "text": "          &lt;div class=\"break-time-dialog\"&gt;",
            "lineNumber": 552
          },
          {
            "text": "            &lt;div class=\"break-time-dialog-header\"&gt;",
            "lineNumber": 553
          },
          {
            "text": "              &lt;span class=\"break-time-dialog-title\"&gt;休憩時間の設定&lt;/span&gt;",
            "lineNumber": 554
          },
          {
            "text": "              &lt;button class=\"break-time-dialog-close\" @click=\"closeBreakTimeDialog\"&gt;×&lt;/button&gt;",
            "lineNumber": 555
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 556
          },
          {
            "text": "            ",
            "lineNumber": 557
          },
          {
            "text": "            &lt;div class=\"break-time-dialog-content\"&gt;",
            "lineNumber": 558
          },
          {
            "text": "              &lt;div class=\"break-time-list\"&gt;",
            "lineNumber": 559
          },
          {
            "text": "                &lt;div ",
            "lineNumber": 560
          },
          {
            "text": "                  v-for=\"(breakTime, index) in breakTimeList\" ",
            "lineNumber": 561
          },
          {
            "text": "                  :key=\"index\"",
            "lineNumber": 562
          },
          {
            "text": "                  class=\"break-time-row\"",
            "lineNumber": 563
          },
          {
            "text": "                &gt;",
            "lineNumber": 564
          },
          {
            "text": "                  &lt;input ",
            "lineNumber": 565
          },
          {
            "text": "                    type=\"time\" ",
            "lineNumber": 566
          },
          {
            "text": "                    v-model=\"breakTime.startTime\"",
            "lineNumber": 567
          },
          {
            "text": "                    class=\"break-time-input\"",
            "lineNumber": 568
          },
          {
            "text": "                  /&gt;",
            "lineNumber": 569
          },
          {
            "text": "                  &lt;span class=\"break-time-separator\"&gt;～&lt;/span&gt;",
            "lineNumber": 570
          },
          {
            "text": "                  &lt;input ",
            "lineNumber": 571
          },
          {
            "text": "                    type=\"time\" ",
            "lineNumber": 572
          },
          {
            "text": "                    v-model=\"breakTime.endTime\"",
            "lineNumber": 573
          },
          {
            "text": "                    class=\"break-time-input\"",
            "lineNumber": 574
          },
          {
            "text": "                  /&gt;",
            "lineNumber": 575
          },
          {
            "text": "                  &lt;button ",
            "lineNumber": 576
          },
          {
            "text": "                    class=\"break-time-delete\"",
            "lineNumber": 577
          },
          {
            "text": "                    @click=\"removeBreakTime(index)\"",
            "lineNumber": 578
          },
          {
            "text": "                    :disabled=\"breakTimeList.length === 1\"",
            "lineNumber": 579
          },
          {
            "text": "                  &gt;",
            "lineNumber": 580
          },
          {
            "text": "                    🗑️",
            "lineNumber": 581
          },
          {
            "text": "                  &lt;/button&gt;",
            "lineNumber": 582
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 583
          },
          {
            "text": "              &lt;/div&gt;",
            "lineNumber": 584
          },
          {
            "text": "              ",
            "lineNumber": 585
          },
          {
            "text": "              &lt;button class=\"break-time-add\" @click=\"addBreakTime\"&gt;+&lt;/button&gt;",
            "lineNumber": 586
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 587
          },
          {
            "text": "            ",
            "lineNumber": 588
          },
          {
            "text": "            &lt;div class=\"break-time-dialog-buttons\"&gt;",
            "lineNumber": 589
          },
          {
            "text": "              ",
            "lineNumber": 590
          }
        ]
      },
      "score": 0.35794371366500854
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1995
          },
          "endPosition": {
            "line": 2053
          }
        },
        "contents": "      }\n    },\n    \n    async loadOvertimeApplicationData() {\n      // 残業申請データを読み込む（申請中または承認済みの場合）\n      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n    },\n    \n    async loadEarlyWorkApplicationData() {\n      // 早朝勤務申請データを読み込む（申請中または承認済みの場合）\n      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n    },\n    \n    async loadTransferApplicationData() {\n      // 振替申請データを読み込む（申請中または承認済みの場合）\n      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n    },\n    \n    closeApplicationTab() {\n      this.activeApplicationTab = null\n      this.currentTab = 'menu'\n    },\n    \n    switchToMenu() {\n      // activeApplicationTabは保持したまま、表示だけメニューに切り替える\n      this.currentTab = 'menu'\n    },\n    \n    switchTab(tabName) {\n      this.currentTab = tabName\n    },\n    \n    getTabName(applicationType) {\n      const names = {\n        dailyConfirmation: '日次確定',\n        vacation: '休暇申請',\n        holidayWork: '休日出勤申請',\n        overtime: '残業申請',\n        earlyWork: '早朝勤務申請',\n        transfer: '振替申請'\n      }\n      return names[applicationType] || ''\n    },\n    \n    onVacationTypeChange() {\n      // 有給休暇が選択された場合のみ残日数を再取得\n      if (this.vacationForm.vacationType === 'PAID_LEAVE') {\n        this.loadPaidLeaveBalance()\n      }\n      // 代休が選択された場合、代休取得可能日数を取得\n      if (this.vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY') {\n        this.loadCompensatoryLeaveBalance()\n      }\n    },\n    \n    async submitDailyConfirmation() {\n      // エラーメッセージをクリア\n      this.dailyConfirmationError = ''",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      }",
            "lineNumber": 1996
          },
          {
            "text": "    },",
            "lineNumber": 1997
          },
          {
            "text": "    ",
            "lineNumber": 1998
          },
          {
            "text": "    async loadOvertimeApplicationData() {",
            "lineNumber": 1999
          },
          {
            "text": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2000
          },
          {
            "text": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 2001
          },
          {
            "text": "    },",
            "lineNumber": 2002
          },
          {
            "text": "    ",
            "lineNumber": 2003
          },
          {
            "text": "    async loadEarlyWorkApplicationData() {",
            "lineNumber": 2004
          },
          {
            "text": "      // 早朝勤務申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2005
          },
          {
            "text": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 2006
          },
          {
            "text": "    },",
            "lineNumber": 2007
          },
          {
            "text": "    ",
            "lineNumber": 2008
          },
          {
            "text": "    async loadTransferApplicationData() {",
            "lineNumber": 2009
          },
          {
            "text": "      // 振替申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2010
          },
          {
            "text": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 2011
          },
          {
            "text": "    },",
            "lineNumber": 2012
          },
          {
            "text": "    ",
            "lineNumber": 2013
          },
          {
            "text": "    closeApplicationTab() {",
            "lineNumber": 2014
          },
          {
            "text": "      this.activeApplicationTab = null",
            "lineNumber": 2015
          },
          {
            "text": "      this.currentTab = 'menu'",
            "lineNumber": 2016
          },
          {
            "text": "    },",
            "lineNumber": 2017
          },
          {
            "text": "    ",
            "lineNumber": 2018
          },
          {
            "text": "    switchToMenu() {",
            "lineNumber": 2019
          },
          {
            "text": "      // activeApplicationTabは保持したまま、表示だけメニューに切り替える",
            "lineNumber": 2020
          },
          {
            "text": "      this.currentTab = 'menu'",
            "lineNumber": 2021
          },
          {
            "text": "    },",
            "lineNumber": 2022
          },
          {
            "text": "    ",
            "lineNumber": 2023
          },
          {
            "text": "    switchTab(tabName) {",
            "lineNumber": 2024
          },
          {
            "text": "      this.currentTab = tabName",
            "lineNumber": 2025
          },
          {
            "text": "    },",
            "lineNumber": 2026
          },
          {
            "text": "    ",
            "lineNumber": 2027
          },
          {
            "text": "    getTabName(applicationType) {",
            "lineNumber": 2028
          },
          {
            "text": "      const names = {",
            "lineNumber": 2029
          },
          {
            "text": "        dailyConfirmation: '日次確定',",
            "lineNumber": 2030
          },
          {
            "text": "        vacation: '休暇申請',",
            "lineNumber": 2031
          },
          {
            "text": "        holidayWork: '休日出勤申請',",
            "lineNumber": 2032
          },
          {
            "text": "        overtime: '残業申請',",
            "lineNumber": 2033
          },
          {
            "text": "        earlyWork: '早朝勤務申請',",
            "lineNumber": 2034
          },
          {
            "text": "        transfer: '振替申請'",
            "lineNumber": 2035
          },
          {
            "text": "      }",
            "lineNumber": 2036
          },
          {
            "text": "      return names[applicationType] || ''",
            "lineNumber": 2037
          },
          {
            "text": "    },",
            "lineNumber": 2038
          },
          {
            "text": "    ",
            "lineNumber": 2039
          },
          {
            "text": "    onVacationTypeChange() {",
            "lineNumber": 2040
          },
          {
            "text": "      // 有給休暇が選択された場合のみ残日数を再取得",
            "lineNumber": 2041
          },
          {
            "text": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {",
            "lineNumber": 2042
          },
          {
            "text": "        this.loadPaidLeaveBalance()",
            "lineNumber": 2043
          },
          {
            "text": "      }",
            "lineNumber": 2044
          },
          {
            "text": "      // 代休が選択された場合、代休取得可能日数を取得",
            "lineNumber": 2045
          },
          {
            "text": "      if (this.vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 2046
          },
          {
            "text": "        this.loadCompensatoryLeaveBalance()",
            "lineNumber": 2047
          },
          {
            "text": "      }",
            "lineNumber": 2048
          },
          {
            "text": "    },",
            "lineNumber": 2049
          },
          {
            "text": "    ",
            "lineNumber": 2050
          },
          {
            "text": "    async submitDailyConfirmation() {",
            "lineNumber": 2051
          },
          {
            "text": "      // エラーメッセージをクリア",
            "lineNumber": 2052
          },
          {
            "text": "      this.dailyConfirmationError = ''",
            "lineNumber": 2053
          }
        ]
      },
      "score": 0.3522951900959015
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 328
          },
          "endPosition": {
            "line": 361,
            "column": 14
          }
        },
        "contents": "      \n      \n        &lt;!-- 申請状況 --&gt;\n        &lt;div class=\"cell-approval\"&gt;\n          &lt;!-- 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 --&gt;\n          \n          &lt;!-- 日次確定申請: 申請中 --&gt;\n          &lt;div v-if=\"day.approvalStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 日次確定申請: 承認済み --&gt;\n          &lt;div v-else-if=\"day.approvalStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休日出勤申請: 申請中 --&gt;\n          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休日出勤申請: 承認済み --&gt;\n          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      ",
            "lineNumber": 329
          },
          {
            "text": "      ",
            "lineNumber": 330
          },
          {
            "text": "        &lt;!-- 申請状況 --&gt;",
            "lineNumber": 331
          },
          {
            "text": "        &lt;div class=\"cell-approval\"&gt;",
            "lineNumber": 332
          },
          {
            "text": "          &lt;!-- 優先順位: 日次確定 &gt; 休日出勤 &gt; 休暇 --&gt;",
            "lineNumber": 333
          },
          {
            "text": "          ",
            "lineNumber": 334
          },
          {
            "text": "          &lt;!-- 日次確定申請: 申請中 --&gt;",
            "lineNumber": 335
          },
          {
            "text": "          &lt;div v-if=\"day.approvalStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;",
            "lineNumber": 336
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 337
          },
          {
            "text": "              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 338
          },
          {
            "text": "              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 339
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 340
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 341
          },
          {
            "text": "          ",
            "lineNumber": 342
          },
          {
            "text": "          &lt;!-- 日次確定申請: 承認済み --&gt;",
            "lineNumber": 343
          },
          {
            "text": "          &lt;div v-else-if=\"day.approvalStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 344
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 345
          },
          {
            "text": "              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 346
          },
          {
            "text": "              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 347
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 348
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 349
          },
          {
            "text": "          ",
            "lineNumber": 350
          },
          {
            "text": "          &lt;!-- 休日出勤申請: 申請中 --&gt;",
            "lineNumber": 351
          },
          {
            "text": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;",
            "lineNumber": 352
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 353
          },
          {
            "text": "              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 354
          },
          {
            "text": "              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 355
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 356
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 357
          },
          {
            "text": "          ",
            "lineNumber": 358
          },
          {
            "text": "          &lt;!-- 休日出勤申請: 承認済み --&gt;",
            "lineNumber": 359
          },
          {
            "text": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 360
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 361
          },
          {
            "text": "              ",
            "lineNumber": 362
          }
        ]
      },
      "score": 0.35210859775543213
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 59
          },
          "endPosition": {
            "line": 69
          }
        },
        "contents": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |\n| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |\n| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |\n| 24-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |\n| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |\n| | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |\n| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |\n| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |\n| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |\n| 28-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 22 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |",
            "lineNumber": 60
          },
          {
            "text": "| 23 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |",
            "lineNumber": 61
          },
          {
            "text": "| 24 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |",
            "lineNumber": 62
          },
          {
            "text": "| 24-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |",
            "lineNumber": 63
          },
          {
            "text": "| 25 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |",
            "lineNumber": 64
          },
          {
            "text": "| | &lt;休暇申請フォーム&gt; | | | | | | | | | | | | |",
            "lineNumber": 65
          },
          {
            "text": "| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |",
            "lineNumber": 66
          },
          {
            "text": "| 27 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |",
            "lineNumber": 67
          },
          {
            "text": "| 28 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |",
            "lineNumber": 68
          },
          {
            "text": "| 28-1 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |",
            "lineNumber": 69
          }
        ]
      },
      "score": 0.34787464141845703
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 359
          },
          "endPosition": {
            "line": 394
          }
        },
        "contents": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇申請: 申請中 --&gt;\n          &lt;div v-else-if=\"day.vacationApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;\n              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇申請: 承認済み --&gt;\n          &lt;div v-else-if=\"day.vacationApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;\n            &lt;svg style=\"width: 17px; height: 17px;\"&gt;\n              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;\n            &lt;/svg&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 未申請: +マーク --&gt;\n          &lt;button v-else class=\"plus-button\" @click=\"openApplicationDialog(day)\" title=\"勤怠関連申請\"&gt;\n            &lt;div class=\"plus-icon-circle\"&gt;\n              &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;\n              &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/button&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 出社時刻 --&gt;\n      &lt;div v-if=\"!day.hasVacation\" class=\"cell-clock-in\" :class=\"{ 'no-interaction': isHolidayOrWeekend(day), 'no-highlight': day.approvalStatus === 'PENDING' }\"&gt;\n        &lt;!-- テキストボックス表示（未申請または却下の場合） --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;div v-else-if=\"day.holidayWorkApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 360
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 361
          },
          {
            "text": "              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 362
          },
          {
            "text": "              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 363
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 364
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 365
          },
          {
            "text": "          ",
            "lineNumber": 366
          },
          {
            "text": "          &lt;!-- 休暇申請: 申請中 --&gt;",
            "lineNumber": 367
          },
          {
            "text": "          &lt;div v-else-if=\"day.vacationApplicationStatus === 'PENDING'\" class=\"pending-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認待ち\"&gt;",
            "lineNumber": 368
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\" viewBox=\"0 0 17 17\"&gt;",
            "lineNumber": 369
          },
          {
            "text": "              &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 370
          },
          {
            "text": "              &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"none\" stroke=\"rgb(25, 158, 214)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 371
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 372
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 373
          },
          {
            "text": "          ",
            "lineNumber": 374
          },
          {
            "text": "          &lt;!-- 休暇申請: 承認済み --&gt;",
            "lineNumber": 375
          },
          {
            "text": "          &lt;div v-else-if=\"day.vacationApplicationStatus === 'APPROVED'\" class=\"check-icon clickable-icon\" @click=\"openApplicationDialogWithType(day)\" title=\"承認済み\"&gt;",
            "lineNumber": 376
          },
          {
            "text": "            &lt;svg style=\"width: 17px; height: 17px;\"&gt;",
            "lineNumber": 377
          },
          {
            "text": "              &lt;line x1=\"2\" y1=\"8\" x2=\"7\" y2=\"13\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 378
          },
          {
            "text": "              &lt;line x1=\"7\" y1=\"13\" x2=\"15\" y2=\"4\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" /&gt;",
            "lineNumber": 379
          },
          {
            "text": "            &lt;/svg&gt;",
            "lineNumber": 380
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 381
          },
          {
            "text": "          ",
            "lineNumber": 382
          },
          {
            "text": "          &lt;!-- 未申請: +マーク --&gt;",
            "lineNumber": 383
          },
          {
            "text": "          &lt;button v-else class=\"plus-button\" @click=\"openApplicationDialog(day)\" title=\"勤怠関連申請\"&gt;",
            "lineNumber": 384
          },
          {
            "text": "            &lt;div class=\"plus-icon-circle\"&gt;",
            "lineNumber": 385
          },
          {
            "text": "              &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;",
            "lineNumber": 386
          },
          {
            "text": "              &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;",
            "lineNumber": 387
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 388
          },
          {
            "text": "          &lt;/button&gt;",
            "lineNumber": 389
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 390
          },
          {
            "text": "      ",
            "lineNumber": 391
          },
          {
            "text": "      &lt;!-- 出社時刻 --&gt;",
            "lineNumber": 392
          },
          {
            "text": "      &lt;div v-if=\"!day.hasVacation\" class=\"cell-clock-in\" :class=\"{ 'no-interaction': isHolidayOrWeekend(day), 'no-highlight': day.approvalStatus === 'PENDING' }\"&gt;",
            "lineNumber": 393
          },
          {
            "text": "        &lt;!-- テキストボックス表示（未申請または却下の場合） --&gt;",
            "lineNumber": 394
          }
        ]
      },
      "score": 0.3416129946708679
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 35
          },
          "endPosition": {
            "line": 44
          }
        },
        "contents": "| 1 | タイトル | 出力 | | 文字 | | | | | 表示 | 活性 | 勤怠関連申請 | ダイアログのタイトル「勤怠関連申請」を表示 |\n| 2 | 閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる。「X」アイコン |\n| 3 | 日付表示 | 出力 | | 文字 | | | | YYYY年MM月DD日X曜日 | 表示 | 活性 | | 対象日の日付を表示（例: 2025年12月8日月曜日） |\n| | &lt;メニュー画面&gt; | | | | | | | | | | | |\n| 4 | メニューリスト | リスト | | | | | | | 表示 | 活性 | | 申請タイプのメニューリスト |\n| 5 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | ボタン | | | | | | | 表示 | 条件付き活性 | | 日次確定申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |\n| 6 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 休暇申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |\n| 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 休日出勤申請を行うメニュー項目。対象日が平日の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、常に非活性（押せない状態）。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |\n| 8 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 残業申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "| 1 | タイトル | 出力 | | 文字 | | | | | 表示 | 活性 | 勤怠関連申請 | ダイアログのタイトル「勤怠関連申請」を表示 |",
            "lineNumber": 36
          },
          {
            "text": "| 2 | 閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる。「X」アイコン |",
            "lineNumber": 37
          },
          {
            "text": "| 3 | 日付表示 | 出力 | | 文字 | | | | YYYY年MM月DD日X曜日 | 表示 | 活性 | | 対象日の日付を表示（例: 2025年12月8日月曜日） |",
            "lineNumber": 38
          },
          {
            "text": "| | &lt;メニュー画面&gt; | | | | | | | | | | | |",
            "lineNumber": 39
          },
          {
            "text": "| 4 | メニューリスト | リスト | | | | | | | 表示 | 活性 | | 申請タイプのメニューリスト |",
            "lineNumber": 40
          },
          {
            "text": "| 5 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;日次確定 | ボタン | | | | | | | 表示 | 条件付き活性 | | 日次確定申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |",
            "lineNumber": 41
          },
          {
            "text": "| 6 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 休暇申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |",
            "lineNumber": 42
          },
          {
            "text": "| 7 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休日出勤申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 休日出勤申請を行うメニュー項目。対象日が平日の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、常に非活性（押せない状態）。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |",
            "lineNumber": 43
          },
          {
            "text": "| 8 | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;残業申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 残業申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |",
            "lineNumber": 44
          }
        ]
      },
      "score": 0.33684590458869934
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1772
          },
          "endPosition": {
            "line": 1810
          }
        },
        "contents": "- **申請情報セクション**（申請中または承認済みの場合のみ表示）:\n  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示\n  - **状況**: 申請中/承認済みを表示\n  - **承認履歴**: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）\n- **取消ボタン**: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示\n- **キャンセルリンク**: ダイアログを閉じる\n\n#### 申請タイプによる表示内容の違い\n\n##### 1. 日次確定申請の場合\n- **申請フォーム**: 出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n##### 2. 休日出勤申請の場合\n- **申請フォーム**: 開始時刻、終了時刻、休憩時間、備考を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n##### 3. 休暇申請の場合\n- **申請フォーム**: 休暇種類、期間（開始日、終了日）、備考、連絡先を表示\n- **申請情報セクション**: 申請日時、状況、承認履歴を表示\n- **取消ボタン**: 申請中または承認済みの場合に表示\n\n#### 申請状態による表示内容の違い\n\n##### 1. 申請中（PENDING）の場合\n- **申請状態**: 「申請中」と表示\n- **申請日時**: 申請を行った日時を表示\n- **承認履歴**: 申請時の履歴を表示\n- **取消ボタン**: 「申請取消」と表示\n\n##### 2. 承認済み（APPROVED）の場合\n- **申請状態**: 「承認済み」と表示\n- **申請日時**: 申請を行った日時を表示\n- **承認履歴**: 申請時から承認時までの履歴を表示\n- **取消ボタン**: 「承認取消」と表示",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **申請情報セクション**（申請中または承認済みの場合のみ表示）:",
            "lineNumber": 1773
          },
          {
            "text": "  - **申請日時**: 申請を行った日時をYYYY-MM-DD HH:MM形式で表示",
            "lineNumber": 1774
          },
          {
            "text": "  - **状況**: 申請中/承認済みを表示",
            "lineNumber": 1775
          },
          {
            "text": "  - **承認履歴**: 承認履歴テーブルを表示（#、日時、状況、実行者、コメント）",
            "lineNumber": 1776
          },
          {
            "text": "- **取消ボタン**: 申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」を表示",
            "lineNumber": 1777
          },
          {
            "text": "- **キャンセルリンク**: ダイアログを閉じる",
            "lineNumber": 1778
          },
          {
            "lineNumber": 1779
          },
          {
            "text": "#### 申請タイプによる表示内容の違い",
            "lineNumber": 1780
          },
          {
            "lineNumber": 1781
          },
          {
            "text": "##### 1. 日次確定申請の場合",
            "lineNumber": 1782
          },
          {
            "text": "- **申請フォーム**: 出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示",
            "lineNumber": 1783
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1784
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1785
          },
          {
            "lineNumber": 1786
          },
          {
            "text": "##### 2. 休日出勤申請の場合",
            "lineNumber": 1787
          },
          {
            "text": "- **申請フォーム**: 開始時刻、終了時刻、休憩時間、備考を表示",
            "lineNumber": 1788
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1789
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1790
          },
          {
            "lineNumber": 1791
          },
          {
            "text": "##### 3. 休暇申請の場合",
            "lineNumber": 1792
          },
          {
            "text": "- **申請フォーム**: 休暇種類、期間（開始日、終了日）、備考、連絡先を表示",
            "lineNumber": 1793
          },
          {
            "text": "- **申請情報セクション**: 申請日時、状況、承認履歴を表示",
            "lineNumber": 1794
          },
          {
            "text": "- **取消ボタン**: 申請中または承認済みの場合に表示",
            "lineNumber": 1795
          },
          {
            "lineNumber": 1796
          },
          {
            "text": "#### 申請状態による表示内容の違い",
            "lineNumber": 1797
          },
          {
            "lineNumber": 1798
          },
          {
            "text": "##### 1. 申請中（PENDING）の場合",
            "lineNumber": 1799
          },
          {
            "text": "- **申請状態**: 「申請中」と表示",
            "lineNumber": 1800
          },
          {
            "text": "- **申請日時**: 申請を行った日時を表示",
            "lineNumber": 1801
          },
          {
            "text": "- **承認履歴**: 申請時の履歴を表示",
            "lineNumber": 1802
          },
          {
            "text": "- **取消ボタン**: 「申請取消」と表示",
            "lineNumber": 1803
          },
          {
            "lineNumber": 1804
          },
          {
            "text": "##### 2. 承認済み（APPROVED）の場合",
            "lineNumber": 1805
          },
          {
            "text": "- **申請状態**: 「承認済み」と表示",
            "lineNumber": 1806
          },
          {
            "text": "- **申請日時**: 申請を行った日時を表示",
            "lineNumber": 1807
          },
          {
            "text": "- **承認履歴**: 申請時から承認時までの履歴を表示",
            "lineNumber": 1808
          },
          {
            "text": "- **取消ボタン**: 「承認取消」と表示",
            "lineNumber": 1809
          }
        ]
      },
      "score": 0.3347834348678589
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1822
          },
          "endPosition": {
            "line": 1854
          }
        },
        "contents": "    selectMenuItem(applicationType) {\n      // 選択中のメニュー項目を更新（説明文表示用）\n      this.selectedMenuItem = applicationType\n      \n      // 申請中または承認済みの場合はタブを開かない\n      if (this.isPendingOrApproved(applicationType)) {\n        return\n      }\n      \n      // 非活性の場合は説明文のみ更新し、タブは開かない\n      if (applicationType === 'dailyConfirmation' &amp;&amp; this.isDailyConfirmationDisabled) {\n        return\n      }\n      if (applicationType === 'vacation' &amp;&amp; this.isVacationDisabled) {\n        return\n      }\n      if (applicationType === 'holidayWork' &amp;&amp; this.isHolidayWorkDisabled) {\n        return\n      }\n      if (applicationType === 'overtime' &amp;&amp; this.isOvertimeDisabled) {\n        return\n      }\n      if (applicationType === 'earlyWork' &amp;&amp; this.isEarlyWorkDisabled) {\n        return\n      }\n      \n      // 非活性でない場合のみタブを開く\n      this.openApplicationTab(applicationType)\n    },\n    \n    async openApplicationTab(applicationType) {\n      // 既存のタブを閉じて新しいタブを開く",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    selectMenuItem(applicationType) {",
            "lineNumber": 1823
          },
          {
            "text": "      // 選択中のメニュー項目を更新（説明文表示用）",
            "lineNumber": 1824
          },
          {
            "text": "      this.selectedMenuItem = applicationType",
            "lineNumber": 1825
          },
          {
            "text": "      ",
            "lineNumber": 1826
          },
          {
            "text": "      // 申請中または承認済みの場合はタブを開かない",
            "lineNumber": 1827
          },
          {
            "text": "      if (this.isPendingOrApproved(applicationType)) {",
            "lineNumber": 1828
          },
          {
            "text": "        return",
            "lineNumber": 1829
          },
          {
            "text": "      }",
            "lineNumber": 1830
          },
          {
            "text": "      ",
            "lineNumber": 1831
          },
          {
            "text": "      // 非活性の場合は説明文のみ更新し、タブは開かない",
            "lineNumber": 1832
          },
          {
            "text": "      if (applicationType === 'dailyConfirmation' &amp;&amp; this.isDailyConfirmationDisabled) {",
            "lineNumber": 1833
          },
          {
            "text": "        return",
            "lineNumber": 1834
          },
          {
            "text": "      }",
            "lineNumber": 1835
          },
          {
            "text": "      if (applicationType === 'vacation' &amp;&amp; this.isVacationDisabled) {",
            "lineNumber": 1836
          },
          {
            "text": "        return",
            "lineNumber": 1837
          },
          {
            "text": "      }",
            "lineNumber": 1838
          },
          {
            "text": "      if (applicationType === 'holidayWork' &amp;&amp; this.isHolidayWorkDisabled) {",
            "lineNumber": 1839
          },
          {
            "text": "        return",
            "lineNumber": 1840
          },
          {
            "text": "      }",
            "lineNumber": 1841
          },
          {
            "text": "      if (applicationType === 'overtime' &amp;&amp; this.isOvertimeDisabled) {",
            "lineNumber": 1842
          },
          {
            "text": "        return",
            "lineNumber": 1843
          },
          {
            "text": "      }",
            "lineNumber": 1844
          },
          {
            "text": "      if (applicationType === 'earlyWork' &amp;&amp; this.isEarlyWorkDisabled) {",
            "lineNumber": 1845
          },
          {
            "text": "        return",
            "lineNumber": 1846
          },
          {
            "text": "      }",
            "lineNumber": 1847
          },
          {
            "text": "      ",
            "lineNumber": 1848
          },
          {
            "text": "      // 非活性でない場合のみタブを開く",
            "lineNumber": 1849
          },
          {
            "text": "      this.openApplicationTab(applicationType)",
            "lineNumber": 1850
          },
          {
            "text": "    },",
            "lineNumber": 1851
          },
          {
            "text": "    ",
            "lineNumber": 1852
          },
          {
            "text": "    async openApplicationTab(applicationType) {",
            "lineNumber": 1853
          },
          {
            "text": "      // 既存のタブを閉じて新しいタブを開く",
            "lineNumber": 1854
          }
        ]
      },
      "score": 0.3331502676010132
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 755
          },
          "endPosition": {
            "line": 766
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |\n| 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定。常に無効化（disabled/readonly）され、操作不可。その日の勤怠申請のため、開始日は固定 | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日入力可否チェックボックス | 初期値はtrue（チェック済み）。申請が編集可能な場合のみ操作可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される | |\n| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定。チェックボックスがチェックされている場合のみ入力可能。チェックが外れている場合、無効化され、開始日と同じ日付に設定される。カレンダーで開始日より前の日付は選択不可（min属性で開始日を設定） | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |",
            "lineNumber": 756
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |",
            "lineNumber": 757
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |",
            "lineNumber": 758
          },
          {
            "text": "| 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |",
            "lineNumber": 759
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |",
            "lineNumber": 760
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |",
            "lineNumber": 761
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |",
            "lineNumber": 762
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定。常に無効化（disabled/readonly）され、操作不可。その日の勤怠申請のため、開始日は固定 | |",
            "lineNumber": 763
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日入力可否チェックボックス | 初期値はtrue（チェック済み）。申請が編集可能な場合のみ操作可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される | |",
            "lineNumber": 764
          },
          {
            "text": "| &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定。チェックボックスがチェックされている場合のみ入力可能。チェックが外れている場合、無効化され、開始日と同じ日付に設定される。カレンダーで開始日より前の日付は選択不可（min属性で開始日を設定） | |",
            "lineNumber": 765
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |",
            "lineNumber": 766
          }
        ]
      },
      "score": 0.3257623016834259
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "getVacationTypeName|休暇種類|vacationType",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "getVacationTypeName|休暇種類|vacationType",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "243:                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
              "matches": [
                {
                  "lineNumber": 244,
                  "content": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;"
                },
                {
                  "lineNumber": 247,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 252,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 272,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 324,
                  "content": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;"
                },
                {
                  "lineNumber": 326,
                  "content": "                    v-model=\"vacationForm.vacationType\" "
                },
                {
                  "lineNumber": 337,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 342,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 388,
                  "content": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;"
                },
                {
                  "lineNumber": 1028,
                  "content": "      vacationTypes: [],"
                },
                {
                  "lineNumber": 1058,
                  "content": "        vacationType: '',"
                },
                {
                  "lineNumber": 1205,
                  "content": "      return this.vacationTypes.filter(type =&gt; {"
                },
                {
                  "lineNumber": 1452,
                  "content": "      this.vacationForm.vacationType = 'PAID_LEAVE'"
                },
                {
                  "lineNumber": 1473,
                  "content": "          this.vacationTypes = data.vacationTypes.map(type =&gt; ({"
                },
                {
                  "lineNumber": 1487,
                  "content": "          &#96;http://localhost:3000/api/application/vacation/balance?employeeId=${this.employeeId}&amp;vacationTypeCode=PAID_LEAVE&#96;"
                },
                {
                  "lineNumber": 1815,
                  "content": "    // 休暇種類の表示名を取得"
                },
                {
                  "lineNumber": 1816,
                  "content": "    getVacationTypeName(vacationTypeCode) {"
                },
                {
                  "lineNumber": 1817,
                  "content": "      if (!vacationTypeCode) return '---'"
                },
                {
                  "lineNumber": 1818,
                  "content": "      const type = this.vacationTypes.find(t =&gt; t.code === vacationTypeCode)"
                },
                {
                  "lineNumber": 1974,
                  "content": "            this.vacationForm.vacationType = data.VACATION_TYPE_CODE"
                },
                {
                  "lineNumber": 2042,
                  "content": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {"
                },
                {
                  "lineNumber": 2046,
                  "content": "      if (this.vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY') {"
                },
                {
                  "lineNumber": 2180,
                  "content": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {"
                },
                {
                  "lineNumber": 2200,
                  "content": "            vacationTypeCode: this.vacationForm.vacationType,"
                }
              ]
            }
          ],
          "totalLines": 24,
          "totalMatchedLines": 24
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


申請情報の読み込み処理を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "loadApplicationInfo.*vacation|VACATION_TYPE_CODE",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "loadApplicationInfo.*vacation|VACATION_TYPE_CODE",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "1474:            code: type.VACATION_TYPE_CODE,",
              "matches": [
                {
                  "lineNumber": 1878,
                  "content": "        await this.loadApplicationInfo('vacation')"
                },
                {
                  "lineNumber": 1973,
                  "content": "          if (data.VACATION_TYPE_CODE) {"
                },
                {
                  "lineNumber": 1974,
                  "content": "            this.vacationForm.vacationType = data.VACATION_TYPE_CODE"
                },
                {
                  "lineNumber": 2548,
                  "content": "      await this.loadApplicationInfo('vacation')"
                }
              ]
            }
          ],
          "totalLines": 4,
          "totalMatchedLines": 4
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "休暇申請情報を取得してvacationFormに設定する処理",
  "includePattern": "frontend/src/components/dialog",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1952
          },
          "endPosition": {
            "line": 2000
          }
        },
        "contents": "    async loadHolidayWorkApplicationData() {\n      // 休日出勤申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success &amp;&amp; response.applicationStatus) {\n          // 申請データを取得してフォームに設定\n          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n        }\n      } catch (error) {\n        console.error('休日出勤申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadVacationApplicationData() {\n      // 休暇申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)\n        if (response.success &amp;&amp; response.applicationData) {\n          const data = response.applicationData\n          // フォームに申請データを設定\n          if (data.VACATION_TYPE_CODE) {\n            this.vacationForm.vacationType = data.VACATION_TYPE_CODE\n          }\n          if (data.START_DATE) {\n            this.vacationForm.startDate = data.START_DATE\n          }\n          if (data.END_DATE) {\n            this.vacationForm.endDate = data.END_DATE\n            this.vacationForm.enableEndDate = true\n          } else if (data.START_DATE) {\n            // 終了日がない場合は開始日と同じにする\n            this.vacationForm.endDate = data.START_DATE\n            this.vacationForm.enableEndDate = false\n          }\n          if (data.REASON) {\n            this.vacationForm.reason = data.REASON\n          }\n          if (data.CONTACT_INFO) {\n            this.vacationForm.contact = data.CONTACT_INFO\n          }\n        }\n      } catch (error) {\n        console.error('休暇申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadOvertimeApplicationData() {\n      // 残業申請データを読み込む（申請中または承認済みの場合）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadHolidayWorkApplicationData() {",
            "lineNumber": 1953
          },
          {
            "text": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1954
          },
          {
            "text": "      try {",
            "lineNumber": 1955
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1956
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationStatus) {",
            "lineNumber": 1957
          },
          {
            "text": "          // 申請データを取得してフォームに設定",
            "lineNumber": 1958
          },
          {
            "text": "          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 1959
          },
          {
            "text": "        }",
            "lineNumber": 1960
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1961
          },
          {
            "text": "        console.error('休日出勤申請データ取得エラー:', error)",
            "lineNumber": 1962
          },
          {
            "text": "      }",
            "lineNumber": 1963
          },
          {
            "text": "    },",
            "lineNumber": 1964
          },
          {
            "text": "    ",
            "lineNumber": 1965
          },
          {
            "text": "    async loadVacationApplicationData() {",
            "lineNumber": 1966
          },
          {
            "text": "      // 休暇申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1967
          },
          {
            "text": "      try {",
            "lineNumber": 1968
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)",
            "lineNumber": 1969
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationData) {",
            "lineNumber": 1970
          },
          {
            "text": "          const data = response.applicationData",
            "lineNumber": 1971
          },
          {
            "text": "          // フォームに申請データを設定",
            "lineNumber": 1972
          },
          {
            "text": "          if (data.VACATION_TYPE_CODE) {",
            "lineNumber": 1973
          },
          {
            "text": "            this.vacationForm.vacationType = data.VACATION_TYPE_CODE",
            "lineNumber": 1974
          },
          {
            "text": "          }",
            "lineNumber": 1975
          },
          {
            "text": "          if (data.START_DATE) {",
            "lineNumber": 1976
          },
          {
            "text": "            this.vacationForm.startDate = data.START_DATE",
            "lineNumber": 1977
          },
          {
            "text": "          }",
            "lineNumber": 1978
          },
          {
            "text": "          if (data.END_DATE) {",
            "lineNumber": 1979
          },
          {
            "text": "            this.vacationForm.endDate = data.END_DATE",
            "lineNumber": 1980
          },
          {
            "text": "            this.vacationForm.enableEndDate = true",
            "lineNumber": 1981
          },
          {
            "text": "          } else if (data.START_DATE) {",
            "lineNumber": 1982
          },
          {
            "text": "            // 終了日がない場合は開始日と同じにする",
            "lineNumber": 1983
          },
          {
            "text": "            this.vacationForm.endDate = data.START_DATE",
            "lineNumber": 1984
          },
          {
            "text": "            this.vacationForm.enableEndDate = false",
            "lineNumber": 1985
          },
          {
            "text": "          }",
            "lineNumber": 1986
          },
          {
            "text": "          if (data.REASON) {",
            "lineNumber": 1987
          },
          {
            "text": "            this.vacationForm.reason = data.REASON",
            "lineNumber": 1988
          },
          {
            "text": "          }",
            "lineNumber": 1989
          },
          {
            "text": "          if (data.CONTACT_INFO) {",
            "lineNumber": 1990
          },
          {
            "text": "            this.vacationForm.contact = data.CONTACT_INFO",
            "lineNumber": 1991
          },
          {
            "text": "          }",
            "lineNumber": 1992
          },
          {
            "text": "        }",
            "lineNumber": 1993
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1994
          },
          {
            "text": "        console.error('休暇申請データ取得エラー:', error)",
            "lineNumber": 1995
          },
          {
            "text": "      }",
            "lineNumber": 1996
          },
          {
            "text": "    },",
            "lineNumber": 1997
          },
          {
            "text": "    ",
            "lineNumber": 1998
          },
          {
            "text": "    async loadOvertimeApplicationData() {",
            "lineNumber": 1999
          },
          {
            "text": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2000
          }
        ]
      },
      "score": 0.5591912865638733
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1438
          },
          "endPosition": {
            "line": 1486,
            "column": 10
          }
        },
        "contents": "    initializeForms() {\n      // 日次確定申請フォームの初期化\n      this.dailyConfirmationForm = {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      }\n      // エラーメッセージをクリア\n      this.dailyConfirmationError = ''\n      \n      // 休暇申請フォームの初期化（年次有給休暇を選択）\n      this.vacationForm.vacationType = 'PAID_LEAVE'\n      this.vacationForm.startDate = this.targetDate\n      this.vacationForm.endDate = this.targetDate\n      this.vacationForm.enableEndDate = false\n      this.vacationForm.reason = ''\n      this.vacationForm.contact = ''\n      \n      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）\n      this.overtimeForm.startDate = this.targetDate\n      this.overtimeForm.endDate = this.targetDate\n      this.earlyWorkForm.startDate = this.targetDate\n      this.earlyWorkForm.endDate = this.targetDate\n      this.transferForm.fromDate = this.targetDate\n      this.transferForm.toDate = this.targetDate\n    },\n    \n    async loadVacationTypes() {\n      try {\n        const response = await fetch('http://localhost:3000/api/master/vacation-types')\n        const data = await response.json()\n        if (data.success) {\n          this.vacationTypes = data.vacationTypes.map(type =&gt; ({\n            code: type.VACATION_TYPE_CODE,\n            name: type.VACATION_TYPE_NAME,\n            isPaid: type.IS_PAID\n          }))\n        }\n      } catch (error) {\n        console.error('休暇種別マスタ取得エラー:', error)\n      }\n    },\n    \n    async loadPaidLeaveBalance() {\n      try {\n        const response = await fetch(\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    initializeForms() {",
            "lineNumber": 1439
          },
          {
            "text": "      // 日次確定申請フォームの初期化",
            "lineNumber": 1440
          },
          {
            "text": "      this.dailyConfirmationForm = {",
            "lineNumber": 1441
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1442
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1443
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1444
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1445
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1446
          },
          {
            "text": "      }",
            "lineNumber": 1447
          },
          {
            "text": "      // エラーメッセージをクリア",
            "lineNumber": 1448
          },
          {
            "text": "      this.dailyConfirmationError = ''",
            "lineNumber": 1449
          },
          {
            "text": "      ",
            "lineNumber": 1450
          },
          {
            "text": "      // 休暇申請フォームの初期化（年次有給休暇を選択）",
            "lineNumber": 1451
          },
          {
            "text": "      this.vacationForm.vacationType = 'PAID_LEAVE'",
            "lineNumber": 1452
          },
          {
            "text": "      this.vacationForm.startDate = this.targetDate",
            "lineNumber": 1453
          },
          {
            "text": "      this.vacationForm.endDate = this.targetDate",
            "lineNumber": 1454
          },
          {
            "text": "      this.vacationForm.enableEndDate = false",
            "lineNumber": 1455
          },
          {
            "text": "      this.vacationForm.reason = ''",
            "lineNumber": 1456
          },
          {
            "text": "      this.vacationForm.contact = ''",
            "lineNumber": 1457
          },
          {
            "text": "      ",
            "lineNumber": 1458
          },
          {
            "text": "      // 休日出勤申請フォームの初期値は既に設定済み（startTime: '09:00', endTime: '17:30'）",
            "lineNumber": 1459
          },
          {
            "text": "      this.overtimeForm.startDate = this.targetDate",
            "lineNumber": 1460
          },
          {
            "text": "      this.overtimeForm.endDate = this.targetDate",
            "lineNumber": 1461
          },
          {
            "text": "      this.earlyWorkForm.startDate = this.targetDate",
            "lineNumber": 1462
          },
          {
            "text": "      this.earlyWorkForm.endDate = this.targetDate",
            "lineNumber": 1463
          },
          {
            "text": "      this.transferForm.fromDate = this.targetDate",
            "lineNumber": 1464
          },
          {
            "text": "      this.transferForm.toDate = this.targetDate",
            "lineNumber": 1465
          },
          {
            "text": "    },",
            "lineNumber": 1466
          },
          {
            "text": "    ",
            "lineNumber": 1467
          },
          {
            "text": "    async loadVacationTypes() {",
            "lineNumber": 1468
          },
          {
            "text": "      try {",
            "lineNumber": 1469
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/master/vacation-types')",
            "lineNumber": 1470
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 1471
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 1472
          },
          {
            "text": "          this.vacationTypes = data.vacationTypes.map(type =&gt; ({",
            "lineNumber": 1473
          },
          {
            "text": "            code: type.VACATION_TYPE_CODE,",
            "lineNumber": 1474
          },
          {
            "text": "            name: type.VACATION_TYPE_NAME,",
            "lineNumber": 1475
          },
          {
            "text": "            isPaid: type.IS_PAID",
            "lineNumber": 1476
          },
          {
            "text": "          }))",
            "lineNumber": 1477
          },
          {
            "text": "        }",
            "lineNumber": 1478
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1479
          },
          {
            "text": "        console.error('休暇種別マスタ取得エラー:', error)",
            "lineNumber": 1480
          },
          {
            "text": "      }",
            "lineNumber": 1481
          },
          {
            "text": "    },",
            "lineNumber": 1482
          },
          {
            "text": "    ",
            "lineNumber": 1483
          },
          {
            "text": "    async loadPaidLeaveBalance() {",
            "lineNumber": 1484
          },
          {
            "text": "      try {",
            "lineNumber": 1485
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1486
          },
          {
            "text": "          ",
            "lineNumber": 1487
          }
        ]
      },
      "score": 0.44825100898742676
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 223
          },
          "endPosition": {
            "line": 263
          }
        },
        "contents": "      &lt;!-- 休暇申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;\n            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div class=\"tab active\"&gt;\n            &lt;span class=\"tab-title\"&gt;{{ getTabName('vacation') }}&lt;/span&gt;\n            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n        \n        &lt;div class=\"form-container\"&gt;\n          &lt;div class=\"form-content-wrapper\"&gt;\n            &lt;div class=\"form-content-left\"&gt;\n              &lt;!-- 申請中または承認済みの場合：読み取り専用の詳細表示 --&gt;\n              &lt;template v-if=\"isPendingOrApproved('vacation')\"&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;\n                    {{ formatDate(vacationForm.startDate) }}\n                    &lt;span v-if=\"vacationForm.enableEndDate &amp;&amp; vacationForm.endDate &amp;&amp; vacationForm.endDate !== vacationForm.startDate\"&gt;\n                      ～ {{ formatDate(vacationForm.endDate) }}\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;!-- 休暇申請フォーム --&gt;",
            "lineNumber": 224
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'vacation'\" class=\"content-area\"&gt;",
            "lineNumber": 225
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 226
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 227
          },
          {
            "text": "          &lt;div class=\"tab active\" @click=\"switchToMenu\"&gt;",
            "lineNumber": 228
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;メニュー&lt;/span&gt;",
            "lineNumber": 229
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 230
          },
          {
            "text": "          &lt;div class=\"tab active\"&gt;",
            "lineNumber": 231
          },
          {
            "text": "            &lt;span class=\"tab-title\"&gt;{{ getTabName('vacation') }}&lt;/span&gt;",
            "lineNumber": 232
          },
          {
            "text": "            &lt;button class=\"tab-close-button\" @click=\"closeApplicationTab\"&gt;×&lt;/button&gt;",
            "lineNumber": 233
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 234
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 235
          },
          {
            "text": "        ",
            "lineNumber": 236
          },
          {
            "text": "        &lt;div class=\"form-container\"&gt;",
            "lineNumber": 237
          },
          {
            "text": "          &lt;div class=\"form-content-wrapper\"&gt;",
            "lineNumber": 238
          },
          {
            "text": "            &lt;div class=\"form-content-left\"&gt;",
            "lineNumber": 239
          },
          {
            "text": "              &lt;!-- 申請中または承認済みの場合：読み取り専用の詳細表示 --&gt;",
            "lineNumber": 240
          },
          {
            "text": "              &lt;template v-if=\"isPendingOrApproved('vacation')\"&gt;",
            "lineNumber": 241
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 242
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 243
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ getVacationTypeName(vacationForm.vacationType) }}&lt;/div&gt;",
            "lineNumber": 244
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 245
          },
          {
            "text": "                ",
            "lineNumber": 246
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 247
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 248
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 249
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 250
          },
          {
            "text": "                ",
            "lineNumber": 251
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 252
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 253
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;",
            "lineNumber": 254
          },
          {
            "text": "                    {{ formatDate(vacationForm.startDate) }}",
            "lineNumber": 255
          },
          {
            "text": "                    &lt;span v-if=\"vacationForm.enableEndDate &amp;&amp; vacationForm.endDate &amp;&amp; vacationForm.endDate !== vacationForm.startDate\"&gt;",
            "lineNumber": 256
          },
          {
            "text": "                      ～ {{ formatDate(vacationForm.endDate) }}",
            "lineNumber": 257
          },
          {
            "text": "                    &lt;/span&gt;",
            "lineNumber": 258
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 259
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 260
          },
          {
            "text": "                ",
            "lineNumber": 261
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 262
          },
          {
            "text": "                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
            "lineNumber": 263
          }
        ]
      },
      "score": 0.42960119247436523
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1392
          },
          "endPosition": {
            "line": 1440
          }
        },
        "contents": "  methods: {\n    async initialize() {\n      this.loading = true\n      try {\n        // 初期申請状態が指定されている場合、先に設定（loadApplicationStatusesより前）\n        if (this.initialApplicationType &amp;&amp; this.initialApplicationStatus) {\n          this.applicationStatuses[this.initialApplicationType] = this.initialApplicationStatus\n        }\n        \n        // 休暇種別マスタ取得\n        await this.loadVacationTypes()\n        \n        // 有給残日数取得\n        await this.loadPaidLeaveBalance()\n        \n        // 休日出勤申請状態取得\n        await this.loadHolidayWorkStatus()\n        \n        // 申請状態取得（各申請タイプごと）\n        // 注意: initialApplicationStatusが既に設定されている場合は、loadApplicationStatuses内でスキップされる\n        await this.loadApplicationStatuses()\n        \n        // 勤怠データ取得（打刻時刻の状態確認用）\n        await this.loadAttendanceDataForButtonControl()\n        \n        // 打刻時刻の状態を取得\n        await this.loadClockStatus()\n        \n        // フォームの初期値設定\n        this.initializeForms()\n        \n        // 初期申請タイプがある場合、そのタブを開く\n        if (this.initialApplicationType) {\n          this.openApplicationTab(this.initialApplicationType)\n        } else {\n          this.currentTab = 'menu'\n          this.activeApplicationTab = null\n        }\n      } catch (error) {\n        console.error('初期化エラー:', error)\n        this.showError('初期化に失敗しました。')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    initializeForms() {\n      // 日次確定申請フォームの初期化",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  methods: {",
            "lineNumber": 1393
          },
          {
            "text": "    async initialize() {",
            "lineNumber": 1394
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 1395
          },
          {
            "text": "      try {",
            "lineNumber": 1396
          },
          {
            "text": "        // 初期申請状態が指定されている場合、先に設定（loadApplicationStatusesより前）",
            "lineNumber": 1397
          },
          {
            "text": "        if (this.initialApplicationType &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1398
          },
          {
            "text": "          this.applicationStatuses[this.initialApplicationType] = this.initialApplicationStatus",
            "lineNumber": 1399
          },
          {
            "text": "        }",
            "lineNumber": 1400
          },
          {
            "text": "        ",
            "lineNumber": 1401
          },
          {
            "text": "        // 休暇種別マスタ取得",
            "lineNumber": 1402
          },
          {
            "text": "        await this.loadVacationTypes()",
            "lineNumber": 1403
          },
          {
            "text": "        ",
            "lineNumber": 1404
          },
          {
            "text": "        // 有給残日数取得",
            "lineNumber": 1405
          },
          {
            "text": "        await this.loadPaidLeaveBalance()",
            "lineNumber": 1406
          },
          {
            "text": "        ",
            "lineNumber": 1407
          },
          {
            "text": "        // 休日出勤申請状態取得",
            "lineNumber": 1408
          },
          {
            "text": "        await this.loadHolidayWorkStatus()",
            "lineNumber": 1409
          },
          {
            "text": "        ",
            "lineNumber": 1410
          },
          {
            "text": "        // 申請状態取得（各申請タイプごと）",
            "lineNumber": 1411
          },
          {
            "text": "        // 注意: initialApplicationStatusが既に設定されている場合は、loadApplicationStatuses内でスキップされる",
            "lineNumber": 1412
          },
          {
            "text": "        await this.loadApplicationStatuses()",
            "lineNumber": 1413
          },
          {
            "text": "        ",
            "lineNumber": 1414
          },
          {
            "text": "        // 勤怠データ取得（打刻時刻の状態確認用）",
            "lineNumber": 1415
          },
          {
            "text": "        await this.loadAttendanceDataForButtonControl()",
            "lineNumber": 1416
          },
          {
            "text": "        ",
            "lineNumber": 1417
          },
          {
            "text": "        // 打刻時刻の状態を取得",
            "lineNumber": 1418
          },
          {
            "text": "        await this.loadClockStatus()",
            "lineNumber": 1419
          },
          {
            "text": "        ",
            "lineNumber": 1420
          },
          {
            "text": "        // フォームの初期値設定",
            "lineNumber": 1421
          },
          {
            "text": "        this.initializeForms()",
            "lineNumber": 1422
          },
          {
            "text": "        ",
            "lineNumber": 1423
          },
          {
            "text": "        // 初期申請タイプがある場合、そのタブを開く",
            "lineNumber": 1424
          },
          {
            "text": "        if (this.initialApplicationType) {",
            "lineNumber": 1425
          },
          {
            "text": "          this.openApplicationTab(this.initialApplicationType)",
            "lineNumber": 1426
          },
          {
            "text": "        } else {",
            "lineNumber": 1427
          },
          {
            "text": "          this.currentTab = 'menu'",
            "lineNumber": 1428
          },
          {
            "text": "          this.activeApplicationTab = null",
            "lineNumber": 1429
          },
          {
            "text": "        }",
            "lineNumber": 1430
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1431
          },
          {
            "text": "        console.error('初期化エラー:', error)",
            "lineNumber": 1432
          },
          {
            "text": "        this.showError('初期化に失敗しました。')",
            "lineNumber": 1433
          },
          {
            "text": "      } finally {",
            "lineNumber": 1434
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 1435
          },
          {
            "text": "      }",
            "lineNumber": 1436
          },
          {
            "text": "    },",
            "lineNumber": 1437
          },
          {
            "text": "    ",
            "lineNumber": 1438
          },
          {
            "text": "    initializeForms() {",
            "lineNumber": 1439
          },
          {
            "text": "      // 日次確定申請フォームの初期化",
            "lineNumber": 1440
          }
        ]
      },
      "score": 0.3983652591705322
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 993
          },
          "endPosition": {
            "line": 1077
          }
        },
        "contents": "export default {\n  name: 'AttendanceApplicationDialog',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    targetDate: {\n      type: String,\n      required: true\n    },\n    employeeId: {\n      type: String,\n      required: true\n    },\n    initialApplicationType: {\n      type: String,\n      default: null\n    },\n    initialApplicationStatus: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      currentTab: 'menu',\n      activeApplicationTab: null,\n      loading: false,\n      showErrorDialog: false,\n      errorMessage: '',\n      \n      // 休暇種別マスタ\n      vacationTypes: [],\n      paidLeaveBalance: 0,\n      // 休日出勤申請状態\n      hasHolidayWorkApplication: false,\n      // 代休取得可能日数\n      compensatoryLeaveBalance: 0,\n      \n      // 勤怠データ（打刻時刻の状態確認用）\n      attendanceData: null,\n      \n      // 打刻時刻の状態\n      hasClockIn: false,\n      hasClockOut: false,\n      \n      // 選択中のメニュー項目\n      selectedMenuItem: 'dailyConfirmation',\n      \n      // 日次確定申請フォーム\n      dailyConfirmationForm: {\n        clockInOut: '',\n        breakTime: '',\n        totalWorkHours: '',\n        actualWorkHours: '',\n        remark: ''\n      },\n      // 日次確定申請のエラーメッセージ\n      dailyConfirmationError: '',\n      \n      // 休暇申請フォーム\n      vacationForm: {\n        vacationType: '',\n        startDate: '',\n        endDate: '',\n        enableEndDate: false, // 終了日を有効にするかどうか（初期値はfalse）\n        reason: '',\n        contact: ''\n      },\n      \n      // 休日出勤申請フォーム\n      holidayWorkForm: {\n        startTime: '09:00',\n        endTime: '17:30',\n        breakHours: 1.0, // 時間単位（小数）\n        reason: ''\n      },\n      \n      // 残業申請フォーム\n      overtimeForm: {\n        startDate: '',\n        endDate: '',",
        "signatures": {},
        "detailedLines": [
          {
            "text": "export default {",
            "lineNumber": 995
          },
          {
            "text": "  name: 'AttendanceApplicationDialog',",
            "lineNumber": 996
          },
          {
            "text": "  props: {",
            "lineNumber": 997
          },
          {
            "text": "    visible: {",
            "lineNumber": 998
          },
          {
            "text": "      type: Boolean,",
            "lineNumber": 999
          },
          {
            "text": "      default: false",
            "lineNumber": 1000
          },
          {
            "text": "    },",
            "lineNumber": 1001
          },
          {
            "text": "    targetDate: {",
            "lineNumber": 1002
          },
          {
            "text": "      type: String,",
            "lineNumber": 1003
          },
          {
            "text": "      required: true",
            "lineNumber": 1004
          },
          {
            "text": "    },",
            "lineNumber": 1005
          },
          {
            "text": "    employeeId: {",
            "lineNumber": 1006
          },
          {
            "text": "      type: String,",
            "lineNumber": 1007
          },
          {
            "text": "      required: true",
            "lineNumber": 1008
          },
          {
            "text": "    },",
            "lineNumber": 1009
          },
          {
            "text": "    initialApplicationType: {",
            "lineNumber": 1010
          },
          {
            "text": "      type: String,",
            "lineNumber": 1011
          },
          {
            "text": "      default: null",
            "lineNumber": 1012
          },
          {
            "text": "    },",
            "lineNumber": 1013
          },
          {
            "text": "    initialApplicationStatus: {",
            "lineNumber": 1014
          },
          {
            "text": "      type: String,",
            "lineNumber": 1015
          },
          {
            "text": "      default: null",
            "lineNumber": 1016
          },
          {
            "text": "    }",
            "lineNumber": 1017
          },
          {
            "text": "  },",
            "lineNumber": 1018
          },
          {
            "text": "  data() {",
            "lineNumber": 1019
          },
          {
            "text": "    return {",
            "lineNumber": 1020
          },
          {
            "text": "      currentTab: 'menu',",
            "lineNumber": 1021
          },
          {
            "text": "      activeApplicationTab: null,",
            "lineNumber": 1022
          },
          {
            "text": "      loading: false,",
            "lineNumber": 1023
          },
          {
            "text": "      showErrorDialog: false,",
            "lineNumber": 1024
          },
          {
            "text": "      errorMessage: '',",
            "lineNumber": 1025
          },
          {
            "text": "      ",
            "lineNumber": 1026
          },
          {
            "text": "      // 休暇種別マスタ",
            "lineNumber": 1027
          },
          {
            "text": "      vacationTypes: [],",
            "lineNumber": 1028
          },
          {
            "text": "      paidLeaveBalance: 0,",
            "lineNumber": 1029
          },
          {
            "text": "      // 休日出勤申請状態",
            "lineNumber": 1030
          },
          {
            "text": "      hasHolidayWorkApplication: false,",
            "lineNumber": 1031
          },
          {
            "text": "      // 代休取得可能日数",
            "lineNumber": 1032
          },
          {
            "text": "      compensatoryLeaveBalance: 0,",
            "lineNumber": 1033
          },
          {
            "text": "      ",
            "lineNumber": 1034
          },
          {
            "text": "      // 勤怠データ（打刻時刻の状態確認用）",
            "lineNumber": 1035
          },
          {
            "text": "      attendanceData: null,",
            "lineNumber": 1036
          },
          {
            "text": "      ",
            "lineNumber": 1037
          },
          {
            "text": "      // 打刻時刻の状態",
            "lineNumber": 1038
          },
          {
            "text": "      hasClockIn: false,",
            "lineNumber": 1039
          },
          {
            "text": "      hasClockOut: false,",
            "lineNumber": 1040
          },
          {
            "text": "      ",
            "lineNumber": 1041
          },
          {
            "text": "      // 選択中のメニュー項目",
            "lineNumber": 1042
          },
          {
            "text": "      selectedMenuItem: 'dailyConfirmation',",
            "lineNumber": 1043
          },
          {
            "text": "      ",
            "lineNumber": 1044
          },
          {
            "text": "      // 日次確定申請フォーム",
            "lineNumber": 1045
          },
          {
            "text": "      dailyConfirmationForm: {",
            "lineNumber": 1046
          },
          {
            "text": "        clockInOut: '',",
            "lineNumber": 1047
          },
          {
            "text": "        breakTime: '',",
            "lineNumber": 1048
          },
          {
            "text": "        totalWorkHours: '',",
            "lineNumber": 1049
          },
          {
            "text": "        actualWorkHours: '',",
            "lineNumber": 1050
          },
          {
            "text": "        remark: ''",
            "lineNumber": 1051
          },
          {
            "text": "      },",
            "lineNumber": 1052
          },
          {
            "text": "      // 日次確定申請のエラーメッセージ",
            "lineNumber": 1053
          },
          {
            "text": "      dailyConfirmationError: '',",
            "lineNumber": 1054
          },
          {
            "text": "      ",
            "lineNumber": 1055
          },
          {
            "text": "      // 休暇申請フォーム",
            "lineNumber": 1056
          },
          {
            "text": "      vacationForm: {",
            "lineNumber": 1057
          },
          {
            "text": "        vacationType: '',",
            "lineNumber": 1058
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1059
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1060
          },
          {
            "text": "        enableEndDate: false, // 終了日を有効にするかどうか（初期値はfalse）",
            "lineNumber": 1061
          },
          {
            "text": "        reason: '',",
            "lineNumber": 1062
          },
          {
            "text": "        contact: ''",
            "lineNumber": 1063
          },
          {
            "text": "      },",
            "lineNumber": 1064
          },
          {
            "text": "      ",
            "lineNumber": 1065
          },
          {
            "text": "      // 休日出勤申請フォーム",
            "lineNumber": 1066
          },
          {
            "text": "      holidayWorkForm: {",
            "lineNumber": 1067
          },
          {
            "text": "        startTime: '09:00',",
            "lineNumber": 1068
          },
          {
            "text": "        endTime: '17:30',",
            "lineNumber": 1069
          },
          {
            "text": "        breakHours: 1.0, // 時間単位（小数）",
            "lineNumber": 1070
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1071
          },
          {
            "text": "      },",
            "lineNumber": 1072
          },
          {
            "text": "      ",
            "lineNumber": 1073
          },
          {
            "text": "      // 残業申請フォーム",
            "lineNumber": 1074
          },
          {
            "text": "      overtimeForm: {",
            "lineNumber": 1075
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1076
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1077
          }
        ]
      },
      "score": 0.3940947949886322
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 2172
          },
          "endPosition": {
            "line": 2225,
            "column": 8
          }
        },
        "contents": "    async submitVacationApplication() {\n      // 終了日が無効な場合、終了日を開始日と同じにする\n      if (!this.vacationForm.enableEndDate) {\n        this.vacationForm.endDate = this.vacationForm.startDate\n      }\n      \n      // 有休残日数チェック（E_APP_015）\n      if (this.vacationForm.vacationType === 'PAID_LEAVE') {\n        const startDate = new Date(this.vacationForm.startDate)\n        const endDate = new Date(this.vacationForm.endDate)\n        const vacationDays = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1\n        \n        if (vacationDays &gt; this.paidLeaveBalance) {\n          this.showError('有給休暇の残日数が不足しています。')\n          return\n        }\n      }\n      \n      this.loading = true\n      try {\n        const response = await fetch('http://localhost:3000/api/application/vacation/apply', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            employeeId: this.employeeId,\n            vacationTypeCode: this.vacationForm.vacationType,\n            startDate: this.vacationForm.startDate,\n            endDate: this.vacationForm.endDate,\n            reason: this.vacationForm.reason,\n            contact: this.vacationForm.contact\n          })\n        })\n        \n        const data = await response.json()\n        \n        if (data.success) {\n          this.$emit('application-submitted')\n          this.closeDialog()\n        } else {\n          this.showError(data.message || '休暇申請に失敗しました')\n        }\n      } catch (error) {\n        console.error('休暇申請エラー:', error)\n        this.showError('休暇申請中にエラーが発生しました')\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    async loadMonthlyOvertime() {\n      try {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async submitVacationApplication() {",
            "lineNumber": 2173
          },
          {
            "text": "      // 終了日が無効な場合、終了日を開始日と同じにする",
            "lineNumber": 2174
          },
          {
            "text": "      if (!this.vacationForm.enableEndDate) {",
            "lineNumber": 2175
          },
          {
            "text": "        this.vacationForm.endDate = this.vacationForm.startDate",
            "lineNumber": 2176
          },
          {
            "text": "      }",
            "lineNumber": 2177
          },
          {
            "text": "      ",
            "lineNumber": 2178
          },
          {
            "text": "      // 有休残日数チェック（E_APP_015）",
            "lineNumber": 2179
          },
          {
            "text": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {",
            "lineNumber": 2180
          },
          {
            "text": "        const startDate = new Date(this.vacationForm.startDate)",
            "lineNumber": 2181
          },
          {
            "text": "        const endDate = new Date(this.vacationForm.endDate)",
            "lineNumber": 2182
          },
          {
            "text": "        const vacationDays = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1",
            "lineNumber": 2183
          },
          {
            "text": "        ",
            "lineNumber": 2184
          },
          {
            "text": "        if (vacationDays &gt; this.paidLeaveBalance) {",
            "lineNumber": 2185
          },
          {
            "text": "          this.showError('有給休暇の残日数が不足しています。')",
            "lineNumber": 2186
          },
          {
            "text": "          return",
            "lineNumber": 2187
          },
          {
            "text": "        }",
            "lineNumber": 2188
          },
          {
            "text": "      }",
            "lineNumber": 2189
          },
          {
            "text": "      ",
            "lineNumber": 2190
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 2191
          },
          {
            "text": "      try {",
            "lineNumber": 2192
          },
          {
            "text": "        const response = await fetch('http://localhost:3000/api/application/vacation/apply', {",
            "lineNumber": 2193
          },
          {
            "text": "          method: 'POST',",
            "lineNumber": 2194
          },
          {
            "text": "          headers: {",
            "lineNumber": 2195
          },
          {
            "text": "            'Content-Type': 'application/json'",
            "lineNumber": 2196
          },
          {
            "text": "          },",
            "lineNumber": 2197
          },
          {
            "text": "          body: JSON.stringify({",
            "lineNumber": 2198
          },
          {
            "text": "            employeeId: this.employeeId,",
            "lineNumber": 2199
          },
          {
            "text": "            vacationTypeCode: this.vacationForm.vacationType,",
            "lineNumber": 2200
          },
          {
            "text": "            startDate: this.vacationForm.startDate,",
            "lineNumber": 2201
          },
          {
            "text": "            endDate: this.vacationForm.endDate,",
            "lineNumber": 2202
          },
          {
            "text": "            reason: this.vacationForm.reason,",
            "lineNumber": 2203
          },
          {
            "text": "            contact: this.vacationForm.contact",
            "lineNumber": 2204
          },
          {
            "text": "          })",
            "lineNumber": 2205
          },
          {
            "text": "        })",
            "lineNumber": 2206
          },
          {
            "text": "        ",
            "lineNumber": 2207
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 2208
          },
          {
            "text": "        ",
            "lineNumber": 2209
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 2210
          },
          {
            "text": "          this.$emit('application-submitted')",
            "lineNumber": 2211
          },
          {
            "text": "          this.closeDialog()",
            "lineNumber": 2212
          },
          {
            "text": "        } else {",
            "lineNumber": 2213
          },
          {
            "text": "          this.showError(data.message || '休暇申請に失敗しました')",
            "lineNumber": 2214
          },
          {
            "text": "        }",
            "lineNumber": 2215
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 2216
          },
          {
            "text": "        console.error('休暇申請エラー:', error)",
            "lineNumber": 2217
          },
          {
            "text": "        this.showError('休暇申請中にエラーが発生しました')",
            "lineNumber": 2218
          },
          {
            "text": "      } finally {",
            "lineNumber": 2219
          },
          {
            "text": "        this.loading = false",
            "lineNumber": 2220
          },
          {
            "text": "      }",
            "lineNumber": 2221
          },
          {
            "text": "    },",
            "lineNumber": 2222
          },
          {
            "text": "    ",
            "lineNumber": 2223
          },
          {
            "text": "    async loadMonthlyOvertime() {",
            "lineNumber": 2224
          },
          {
            "text": "      try {",
            "lineNumber": 2225
          },
          {
            "text": "        ",
            "lineNumber": 2226
          }
        ]
      },
      "score": 0.3911658525466919
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 321
          },
          "endPosition": {
            "line": 343
          }
        },
        "contents": "              &lt;template v-else&gt;\n                &lt;div class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;\n                  &lt;select \n                    v-model=\"vacationForm.vacationType\" \n                    @change=\"onVacationTypeChange\"\n                    class=\"select-inline\"\n                  &gt;\n                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;\n                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;\n                      {{ type.name }}\n                    &lt;/option&gt;\n                  &lt;/select&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "              &lt;template v-else&gt;",
            "lineNumber": 322
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 323
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;休暇種類&lt;/label&gt;",
            "lineNumber": 324
          },
          {
            "text": "                  &lt;select ",
            "lineNumber": 325
          },
          {
            "text": "                    v-model=\"vacationForm.vacationType\" ",
            "lineNumber": 326
          },
          {
            "text": "                    @change=\"onVacationTypeChange\"",
            "lineNumber": 327
          },
          {
            "text": "                    class=\"select-inline\"",
            "lineNumber": 328
          },
          {
            "text": "                  &gt;",
            "lineNumber": 329
          },
          {
            "text": "                    &lt;option value=\"\"&gt;選択してください&lt;/option&gt;",
            "lineNumber": 330
          },
          {
            "text": "                    &lt;option v-for=\"type in filteredVacationTypes\" :key=\"type.code\" :value=\"type.code\"&gt;",
            "lineNumber": 331
          },
          {
            "text": "                      {{ type.name }}",
            "lineNumber": 332
          },
          {
            "text": "                    &lt;/option&gt;",
            "lineNumber": 333
          },
          {
            "text": "                  &lt;/select&gt;",
            "lineNumber": 334
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 335
          },
          {
            "text": "                ",
            "lineNumber": 336
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'PAID_LEAVE'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 337
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;有休残日数&lt;/label&gt;",
            "lineNumber": 338
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ Math.floor(paidLeaveBalance) }}日&lt;/div&gt;",
            "lineNumber": 339
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 340
          },
          {
            "text": "                ",
            "lineNumber": 341
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 343
          }
        ]
      },
      "score": 0.3867272138595581
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 261
          },
          "endPosition": {
            "line": 279,
            "column": 20
          }
        },
        "contents": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline info-text-multiline\"&gt;{{ vacationForm.reason || '' }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline\"&gt;連絡先&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ vacationForm.contact || '' }}&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;代休取得可能日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ compensatoryLeaveBalance }}日&lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;!-- 申請情報セクション --&gt;\n                &lt;div class=\"application-info-section\"&gt;\n                  &lt;div class=\"form-group form-group-inline\"&gt;\n                    ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 262
          },
          {
            "text": "                  &lt;label class=\"label-inline label-top-aligned\"&gt;備考&lt;/label&gt;",
            "lineNumber": 263
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline info-text-multiline\"&gt;{{ vacationForm.reason || '' }}&lt;/div&gt;",
            "lineNumber": 264
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 265
          },
          {
            "text": "                ",
            "lineNumber": 266
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 267
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;連絡先&lt;/label&gt;",
            "lineNumber": 268
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ vacationForm.contact || '' }}&lt;/div&gt;",
            "lineNumber": 269
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 270
          },
          {
            "text": "                ",
            "lineNumber": 271
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 272
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;代休取得可能日数&lt;/label&gt;",
            "lineNumber": 273
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ compensatoryLeaveBalance }}日&lt;/div&gt;",
            "lineNumber": 274
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 275
          },
          {
            "text": "                ",
            "lineNumber": 276
          },
          {
            "text": "                &lt;!-- 申請情報セクション --&gt;",
            "lineNumber": 277
          },
          {
            "text": "                &lt;div class=\"application-info-section\"&gt;",
            "lineNumber": 278
          },
          {
            "text": "                  &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 279
          },
          {
            "text": "                    ",
            "lineNumber": 280
          }
        ]
      },
      "score": 0.37187859416007996
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1889,
            "column": 8
          },
          "endPosition": {
            "line": 1918
          }
        },
        "contents": "await this.loadApplicationInfo('transfer')\n      }\n      \n      // 休日出勤申請タブを開いた場合、当月時間外残業を取得\n      if (applicationType === 'holidayWork') {\n        await this.loadMonthlyOvertime()\n        // 申請中または承認済みの場合、申請データを読み込む\n        if (this.isPendingOrApproved('holidayWork')) {\n          await this.loadHolidayWorkApplicationData()\n        }\n      }\n      \n      // その他の申請タイプで申請中または承認済みの場合、申請データを読み込む\n      if (applicationType === 'vacation' &amp;&amp; this.isPendingOrApproved('vacation')) {\n        await this.loadVacationApplicationData()\n      }\n      if (applicationType === 'overtime' &amp;&amp; this.isPendingOrApproved('overtime')) {\n        await this.loadOvertimeApplicationData()\n      }\n      if (applicationType === 'earlyWork' &amp;&amp; this.isPendingOrApproved('earlyWork')) {\n        await this.loadEarlyWorkApplicationData()\n      }\n      if (applicationType === 'transfer' &amp;&amp; this.isPendingOrApproved('transfer')) {\n        await this.loadTransferApplicationData()\n      }\n    },\n    \n    async loadApplicationStatus(applicationType) {\n      // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用",
        "signatures": {},
        "detailedLines": [
          {
            "text": "await this.loadApplicationInfo('transfer')",
            "lineNumber": 1890
          },
          {
            "text": "      }",
            "lineNumber": 1891
          },
          {
            "text": "      ",
            "lineNumber": 1892
          },
          {
            "text": "      // 休日出勤申請タブを開いた場合、当月時間外残業を取得",
            "lineNumber": 1893
          },
          {
            "text": "      if (applicationType === 'holidayWork') {",
            "lineNumber": 1894
          },
          {
            "text": "        await this.loadMonthlyOvertime()",
            "lineNumber": 1895
          },
          {
            "text": "        // 申請中または承認済みの場合、申請データを読み込む",
            "lineNumber": 1896
          },
          {
            "text": "        if (this.isPendingOrApproved('holidayWork')) {",
            "lineNumber": 1897
          },
          {
            "text": "          await this.loadHolidayWorkApplicationData()",
            "lineNumber": 1898
          },
          {
            "text": "        }",
            "lineNumber": 1899
          },
          {
            "text": "      }",
            "lineNumber": 1900
          },
          {
            "text": "      ",
            "lineNumber": 1901
          },
          {
            "text": "      // その他の申請タイプで申請中または承認済みの場合、申請データを読み込む",
            "lineNumber": 1902
          },
          {
            "text": "      if (applicationType === 'vacation' &amp;&amp; this.isPendingOrApproved('vacation')) {",
            "lineNumber": 1903
          },
          {
            "text": "        await this.loadVacationApplicationData()",
            "lineNumber": 1904
          },
          {
            "text": "      }",
            "lineNumber": 1905
          },
          {
            "text": "      if (applicationType === 'overtime' &amp;&amp; this.isPendingOrApproved('overtime')) {",
            "lineNumber": 1906
          },
          {
            "text": "        await this.loadOvertimeApplicationData()",
            "lineNumber": 1907
          },
          {
            "text": "      }",
            "lineNumber": 1908
          },
          {
            "text": "      if (applicationType === 'earlyWork' &amp;&amp; this.isPendingOrApproved('earlyWork')) {",
            "lineNumber": 1909
          },
          {
            "text": "        await this.loadEarlyWorkApplicationData()",
            "lineNumber": 1910
          },
          {
            "text": "      }",
            "lineNumber": 1911
          },
          {
            "text": "      if (applicationType === 'transfer' &amp;&amp; this.isPendingOrApproved('transfer')) {",
            "lineNumber": 1912
          },
          {
            "text": "        await this.loadTransferApplicationData()",
            "lineNumber": 1913
          },
          {
            "text": "      }",
            "lineNumber": 1914
          },
          {
            "text": "    },",
            "lineNumber": 1915
          },
          {
            "text": "    ",
            "lineNumber": 1916
          },
          {
            "text": "    async loadApplicationStatus(applicationType) {",
            "lineNumber": 1917
          },
          {
            "text": "      // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用",
            "lineNumber": 1918
          }
        ]
      },
      "score": 0.3649221956729889
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1480
          },
          "endPosition": {
            "line": 1517
          }
        },
        "contents": "      }\n    },\n    \n    async loadPaidLeaveBalance() {\n      try {\n        const response = await fetch(\n          &#96;http://localhost:3000/api/application/vacation/balance?employeeId=${this.employeeId}&amp;vacationTypeCode=PAID_LEAVE&#96;\n        )\n        const data = await response.json()\n        if (data.success) {\n          this.paidLeaveBalance = data.balance || 0\n        }\n      } catch (error) {\n        console.error('有給残日数取得エラー:', error)\n      }\n    },\n    \n    async loadHolidayWorkStatus() {\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success) {\n          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能\n          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false\n          // 休日出勤申請がある場合、代休取得可能日数を取得\n          if (this.hasHolidayWorkApplication) {\n            await this.loadCompensatoryLeaveBalance()\n          }\n        }\n      } catch (error) {\n        console.error('休日出勤申請状態取得エラー:', error)\n        // エラー時はfalseとして扱う\n        this.hasHolidayWorkApplication = false\n      }\n    },\n    \n    async loadApplicationStatuses() {\n      // 各申請タイプの申請状態を取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      }",
            "lineNumber": 1481
          },
          {
            "text": "    },",
            "lineNumber": 1482
          },
          {
            "text": "    ",
            "lineNumber": 1483
          },
          {
            "text": "    async loadPaidLeaveBalance() {",
            "lineNumber": 1484
          },
          {
            "text": "      try {",
            "lineNumber": 1485
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1486
          },
          {
            "text": "          &#96;http://localhost:3000/api/application/vacation/balance?employeeId=${this.employeeId}&amp;vacationTypeCode=PAID_LEAVE&#96;",
            "lineNumber": 1487
          },
          {
            "text": "        )",
            "lineNumber": 1488
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 1489
          },
          {
            "text": "        if (data.success) {",
            "lineNumber": 1490
          },
          {
            "text": "          this.paidLeaveBalance = data.balance || 0",
            "lineNumber": 1491
          },
          {
            "text": "        }",
            "lineNumber": 1492
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1493
          },
          {
            "text": "        console.error('有給残日数取得エラー:', error)",
            "lineNumber": 1494
          },
          {
            "text": "      }",
            "lineNumber": 1495
          },
          {
            "text": "    },",
            "lineNumber": 1496
          },
          {
            "text": "    ",
            "lineNumber": 1497
          },
          {
            "text": "    async loadHolidayWorkStatus() {",
            "lineNumber": 1498
          },
          {
            "text": "      try {",
            "lineNumber": 1499
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1500
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1501
          },
          {
            "text": "          // 対象日の休日出勤申請または過去の休日出勤申請がある場合、代休を表示可能",
            "lineNumber": 1502
          },
          {
            "text": "          this.hasHolidayWorkApplication = response.hasHolidayWorkApplication || false",
            "lineNumber": 1503
          },
          {
            "text": "          // 休日出勤申請がある場合、代休取得可能日数を取得",
            "lineNumber": 1504
          },
          {
            "text": "          if (this.hasHolidayWorkApplication) {",
            "lineNumber": 1505
          },
          {
            "text": "            await this.loadCompensatoryLeaveBalance()",
            "lineNumber": 1506
          },
          {
            "text": "          }",
            "lineNumber": 1507
          },
          {
            "text": "        }",
            "lineNumber": 1508
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1509
          },
          {
            "text": "        console.error('休日出勤申請状態取得エラー:', error)",
            "lineNumber": 1510
          },
          {
            "text": "        // エラー時はfalseとして扱う",
            "lineNumber": 1511
          },
          {
            "text": "        this.hasHolidayWorkApplication = false",
            "lineNumber": 1512
          },
          {
            "text": "      }",
            "lineNumber": 1513
          },
          {
            "text": "    },",
            "lineNumber": 1514
          },
          {
            "text": "    ",
            "lineNumber": 1515
          },
          {
            "text": "    async loadApplicationStatuses() {",
            "lineNumber": 1516
          },
          {
            "text": "      // 各申請タイプの申請状態を取得",
            "lineNumber": 1517
          }
        ]
      },
      "score": 0.3636356592178345
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1995
          },
          "endPosition": {
            "line": 2053
          }
        },
        "contents": "      }\n    },\n    \n    async loadOvertimeApplicationData() {\n      // 残業申請データを読み込む（申請中または承認済みの場合）\n      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n    },\n    \n    async loadEarlyWorkApplicationData() {\n      // 早朝勤務申請データを読み込む（申請中または承認済みの場合）\n      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n    },\n    \n    async loadTransferApplicationData() {\n      // 振替申請データを読み込む（申請中または承認済みの場合）\n      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n    },\n    \n    closeApplicationTab() {\n      this.activeApplicationTab = null\n      this.currentTab = 'menu'\n    },\n    \n    switchToMenu() {\n      // activeApplicationTabは保持したまま、表示だけメニューに切り替える\n      this.currentTab = 'menu'\n    },\n    \n    switchTab(tabName) {\n      this.currentTab = tabName\n    },\n    \n    getTabName(applicationType) {\n      const names = {\n        dailyConfirmation: '日次確定',\n        vacation: '休暇申請',\n        holidayWork: '休日出勤申請',\n        overtime: '残業申請',\n        earlyWork: '早朝勤務申請',\n        transfer: '振替申請'\n      }\n      return names[applicationType] || ''\n    },\n    \n    onVacationTypeChange() {\n      // 有給休暇が選択された場合のみ残日数を再取得\n      if (this.vacationForm.vacationType === 'PAID_LEAVE') {\n        this.loadPaidLeaveBalance()\n      }\n      // 代休が選択された場合、代休取得可能日数を取得\n      if (this.vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY') {\n        this.loadCompensatoryLeaveBalance()\n      }\n    },\n    \n    async submitDailyConfirmation() {\n      // エラーメッセージをクリア\n      this.dailyConfirmationError = ''",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      }",
            "lineNumber": 1996
          },
          {
            "text": "    },",
            "lineNumber": 1997
          },
          {
            "text": "    ",
            "lineNumber": 1998
          },
          {
            "text": "    async loadOvertimeApplicationData() {",
            "lineNumber": 1999
          },
          {
            "text": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2000
          },
          {
            "text": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 2001
          },
          {
            "text": "    },",
            "lineNumber": 2002
          },
          {
            "text": "    ",
            "lineNumber": 2003
          },
          {
            "text": "    async loadEarlyWorkApplicationData() {",
            "lineNumber": 2004
          },
          {
            "text": "      // 早朝勤務申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2005
          },
          {
            "text": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 2006
          },
          {
            "text": "    },",
            "lineNumber": 2007
          },
          {
            "text": "    ",
            "lineNumber": 2008
          },
          {
            "text": "    async loadTransferApplicationData() {",
            "lineNumber": 2009
          },
          {
            "text": "      // 振替申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2010
          },
          {
            "text": "      // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 2011
          },
          {
            "text": "    },",
            "lineNumber": 2012
          },
          {
            "text": "    ",
            "lineNumber": 2013
          },
          {
            "text": "    closeApplicationTab() {",
            "lineNumber": 2014
          },
          {
            "text": "      this.activeApplicationTab = null",
            "lineNumber": 2015
          },
          {
            "text": "      this.currentTab = 'menu'",
            "lineNumber": 2016
          },
          {
            "text": "    },",
            "lineNumber": 2017
          },
          {
            "text": "    ",
            "lineNumber": 2018
          },
          {
            "text": "    switchToMenu() {",
            "lineNumber": 2019
          },
          {
            "text": "      // activeApplicationTabは保持したまま、表示だけメニューに切り替える",
            "lineNumber": 2020
          },
          {
            "text": "      this.currentTab = 'menu'",
            "lineNumber": 2021
          },
          {
            "text": "    },",
            "lineNumber": 2022
          },
          {
            "text": "    ",
            "lineNumber": 2023
          },
          {
            "text": "    switchTab(tabName) {",
            "lineNumber": 2024
          },
          {
            "text": "      this.currentTab = tabName",
            "lineNumber": 2025
          },
          {
            "text": "    },",
            "lineNumber": 2026
          },
          {
            "text": "    ",
            "lineNumber": 2027
          },
          {
            "text": "    getTabName(applicationType) {",
            "lineNumber": 2028
          },
          {
            "text": "      const names = {",
            "lineNumber": 2029
          },
          {
            "text": "        dailyConfirmation: '日次確定',",
            "lineNumber": 2030
          },
          {
            "text": "        vacation: '休暇申請',",
            "lineNumber": 2031
          },
          {
            "text": "        holidayWork: '休日出勤申請',",
            "lineNumber": 2032
          },
          {
            "text": "        overtime: '残業申請',",
            "lineNumber": 2033
          },
          {
            "text": "        earlyWork: '早朝勤務申請',",
            "lineNumber": 2034
          },
          {
            "text": "        transfer: '振替申請'",
            "lineNumber": 2035
          },
          {
            "text": "      }",
            "lineNumber": 2036
          },
          {
            "text": "      return names[applicationType] || ''",
            "lineNumber": 2037
          },
          {
            "text": "    },",
            "lineNumber": 2038
          },
          {
            "text": "    ",
            "lineNumber": 2039
          },
          {
            "text": "    onVacationTypeChange() {",
            "lineNumber": 2040
          },
          {
            "text": "      // 有給休暇が選択された場合のみ残日数を再取得",
            "lineNumber": 2041
          },
          {
            "text": "      if (this.vacationForm.vacationType === 'PAID_LEAVE') {",
            "lineNumber": 2042
          },
          {
            "text": "        this.loadPaidLeaveBalance()",
            "lineNumber": 2043
          },
          {
            "text": "      }",
            "lineNumber": 2044
          },
          {
            "text": "      // 代休が選択された場合、代休取得可能日数を取得",
            "lineNumber": 2045
          },
          {
            "text": "      if (this.vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 2046
          },
          {
            "text": "        this.loadCompensatoryLeaveBalance()",
            "lineNumber": 2047
          },
          {
            "text": "      }",
            "lineNumber": 2048
          },
          {
            "text": "    },",
            "lineNumber": 2049
          },
          {
            "text": "    ",
            "lineNumber": 2050
          },
          {
            "text": "    async submitDailyConfirmation() {",
            "lineNumber": 2051
          },
          {
            "text": "      // エラーメッセージをクリア",
            "lineNumber": 2052
          },
          {
            "text": "      this.dailyConfirmationError = ''",
            "lineNumber": 2053
          }
        ]
      },
      "score": 0.3521961569786072
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1729
          },
          "endPosition": {
            "line": 1760,
            "column": 12
          }
        },
        "contents": "    getCancelButtonLabel(applicationType) {\n      const status = this.applicationStatuses[applicationType]\n      if (status === 'PENDING') {\n        return '申請取消'\n      } else if (status === 'APPROVED') {\n        return '承認取消'\n      }\n      return '取消'\n    },\n    \n    \n    // 申請情報を取得\n    async loadApplicationInfo(applicationType) {\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        if (!apiType) return\n        \n        // 申請情報取得APIを呼び出し\n        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)\n        \n        if (response.success) {\n          if (response.applicationDate) {\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getCancelButtonLabel(applicationType) {",
            "lineNumber": 1730
          },
          {
            "text": "      const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1731
          },
          {
            "text": "      if (status === 'PENDING') {",
            "lineNumber": 1732
          },
          {
            "text": "        return '申請取消'",
            "lineNumber": 1733
          },
          {
            "text": "      } else if (status === 'APPROVED') {",
            "lineNumber": 1734
          },
          {
            "text": "        return '承認取消'",
            "lineNumber": 1735
          },
          {
            "text": "      }",
            "lineNumber": 1736
          },
          {
            "text": "      return '取消'",
            "lineNumber": 1737
          },
          {
            "text": "    },",
            "lineNumber": 1738
          },
          {
            "text": "    ",
            "lineNumber": 1739
          },
          {
            "text": "    ",
            "lineNumber": 1740
          },
          {
            "text": "    // 申請情報を取得",
            "lineNumber": 1741
          },
          {
            "text": "    async loadApplicationInfo(applicationType) {",
            "lineNumber": 1742
          },
          {
            "text": "      try {",
            "lineNumber": 1743
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 1744
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 1745
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 1746
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 1747
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 1748
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 1749
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 1750
          },
          {
            "text": "        }",
            "lineNumber": 1751
          },
          {
            "text": "        ",
            "lineNumber": 1752
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 1753
          },
          {
            "text": "        if (!apiType) return",
            "lineNumber": 1754
          },
          {
            "text": "        ",
            "lineNumber": 1755
          },
          {
            "text": "        // 申請情報取得APIを呼び出し",
            "lineNumber": 1756
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)",
            "lineNumber": 1757
          },
          {
            "text": "        ",
            "lineNumber": 1758
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1759
          },
          {
            "text": "          if (response.applicationDate) {",
            "lineNumber": 1760
          },
          {
            "text": "            ",
            "lineNumber": 1761
          }
        ]
      },
      "score": 0.333207368850708
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1852
          },
          "endPosition": {
            "line": 1893
          }
        },
        "contents": "    async openApplicationTab(applicationType) {\n      // 既存のタブを閉じて新しいタブを開く\n      this.activeApplicationTab = applicationType\n      this.currentTab = applicationType\n      \n      // 申請状態を取得（initialApplicationStatusが指定されている場合は優先）\n      // 注意: loadApplicationStatus内でinitialApplicationStatusをチェックしているが、\n      // initializeメソッドで既に設定されているため、ここでも再設定する\n      if (this.initialApplicationType === applicationType &amp;&amp; this.initialApplicationStatus) {\n        this.applicationStatuses[applicationType] = this.initialApplicationStatus\n      } else {\n        await this.loadApplicationStatus(applicationType)\n      }\n      \n      // 日次確定タブを開いた場合、勤怠データを取得\n      if (applicationType === 'dailyConfirmation') {\n        await this.loadDailyAttendanceData()\n        // 申請中または承認済みの場合、申請情報を取得\n        if (this.isPendingOrApproved('dailyConfirmation')) {\n          await this.loadApplicationInfo('dailyConfirmation')\n        }\n      }\n      \n      // その他の申請タイプで申請中または承認済みの場合、申請情報を取得\n      if (applicationType === 'vacation' &amp;&amp; this.isPendingOrApproved('vacation')) {\n        await this.loadApplicationInfo('vacation')\n      }\n      if (applicationType === 'holidayWork' &amp;&amp; this.isPendingOrApproved('holidayWork')) {\n        await this.loadApplicationInfo('holidayWork')\n      }\n      if (applicationType === 'overtime' &amp;&amp; this.isPendingOrApproved('overtime')) {\n        await this.loadApplicationInfo('overtime')\n      }\n      if (applicationType === 'earlyWork' &amp;&amp; this.isPendingOrApproved('earlyWork')) {\n        await this.loadApplicationInfo('earlyWork')\n      }\n      if (applicationType === 'transfer' &amp;&amp; this.isPendingOrApproved('transfer')) {\n        await this.loadApplicationInfo('transfer')\n      }\n      \n      // 休日出勤申請タブを開いた場合、当月時間外残業を取得",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async openApplicationTab(applicationType) {",
            "lineNumber": 1853
          },
          {
            "text": "      // 既存のタブを閉じて新しいタブを開く",
            "lineNumber": 1854
          },
          {
            "text": "      this.activeApplicationTab = applicationType",
            "lineNumber": 1855
          },
          {
            "text": "      this.currentTab = applicationType",
            "lineNumber": 1856
          },
          {
            "text": "      ",
            "lineNumber": 1857
          },
          {
            "text": "      // 申請状態を取得（initialApplicationStatusが指定されている場合は優先）",
            "lineNumber": 1858
          },
          {
            "text": "      // 注意: loadApplicationStatus内でinitialApplicationStatusをチェックしているが、",
            "lineNumber": 1859
          },
          {
            "text": "      // initializeメソッドで既に設定されているため、ここでも再設定する",
            "lineNumber": 1860
          },
          {
            "text": "      if (this.initialApplicationType === applicationType &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1861
          },
          {
            "text": "        this.applicationStatuses[applicationType] = this.initialApplicationStatus",
            "lineNumber": 1862
          },
          {
            "text": "      } else {",
            "lineNumber": 1863
          },
          {
            "text": "        await this.loadApplicationStatus(applicationType)",
            "lineNumber": 1864
          },
          {
            "text": "      }",
            "lineNumber": 1865
          },
          {
            "text": "      ",
            "lineNumber": 1866
          },
          {
            "text": "      // 日次確定タブを開いた場合、勤怠データを取得",
            "lineNumber": 1867
          },
          {
            "text": "      if (applicationType === 'dailyConfirmation') {",
            "lineNumber": 1868
          },
          {
            "text": "        await this.loadDailyAttendanceData()",
            "lineNumber": 1869
          },
          {
            "text": "        // 申請中または承認済みの場合、申請情報を取得",
            "lineNumber": 1870
          },
          {
            "text": "        if (this.isPendingOrApproved('dailyConfirmation')) {",
            "lineNumber": 1871
          },
          {
            "text": "          await this.loadApplicationInfo('dailyConfirmation')",
            "lineNumber": 1872
          },
          {
            "text": "        }",
            "lineNumber": 1873
          },
          {
            "text": "      }",
            "lineNumber": 1874
          },
          {
            "text": "      ",
            "lineNumber": 1875
          },
          {
            "text": "      // その他の申請タイプで申請中または承認済みの場合、申請情報を取得",
            "lineNumber": 1876
          },
          {
            "text": "      if (applicationType === 'vacation' &amp;&amp; this.isPendingOrApproved('vacation')) {",
            "lineNumber": 1877
          },
          {
            "text": "        await this.loadApplicationInfo('vacation')",
            "lineNumber": 1878
          },
          {
            "text": "      }",
            "lineNumber": 1879
          },
          {
            "text": "      if (applicationType === 'holidayWork' &amp;&amp; this.isPendingOrApproved('holidayWork')) {",
            "lineNumber": 1880
          },
          {
            "text": "        await this.loadApplicationInfo('holidayWork')",
            "lineNumber": 1881
          },
          {
            "text": "      }",
            "lineNumber": 1882
          },
          {
            "text": "      if (applicationType === 'overtime' &amp;&amp; this.isPendingOrApproved('overtime')) {",
            "lineNumber": 1883
          },
          {
            "text": "        await this.loadApplicationInfo('overtime')",
            "lineNumber": 1884
          },
          {
            "text": "      }",
            "lineNumber": 1885
          },
          {
            "text": "      if (applicationType === 'earlyWork' &amp;&amp; this.isPendingOrApproved('earlyWork')) {",
            "lineNumber": 1886
          },
          {
            "text": "        await this.loadApplicationInfo('earlyWork')",
            "lineNumber": 1887
          },
          {
            "text": "      }",
            "lineNumber": 1888
          },
          {
            "text": "      if (applicationType === 'transfer' &amp;&amp; this.isPendingOrApproved('transfer')) {",
            "lineNumber": 1889
          },
          {
            "text": "        await this.loadApplicationInfo('transfer')",
            "lineNumber": 1890
          },
          {
            "text": "      }",
            "lineNumber": 1891
          },
          {
            "text": "      ",
            "lineNumber": 1892
          },
          {
            "text": "      // 休日出勤申請タブを開いた場合、当月時間外残業を取得",
            "lineNumber": 1893
          }
        ]
      },
      "score": 0.32396256923675537
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 386
          },
          "endPosition": {
            "line": 422,
            "column": 10
          }
        },
        "contents": "                \n                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;代休取得可能日数&lt;/label&gt;\n                  &lt;div class=\"info-text info-text-inline\"&gt;{{ compensatoryLeaveBalance }}日&lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/template&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- ボタンを下部に配置 --&gt;\n            &lt;div class=\"form-buttons-right\"&gt;\n              &lt;button \n                v-if=\"!isPendingOrApproved('vacation')\" \n                class=\"submit-button\" \n                @click=\"submitVacationApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                承認申請\n              &lt;/button&gt;\n              &lt;button \n                v-if=\"isPendingOrApproved('vacation')\" \n                class=\"cancel-button cancel-application-button\" \n                @click=\"cancelVacationApplication\"\n                :disabled=\"currentTab === 'menu'\"\n              &gt;\n                {{ getCancelButtonLabel('vacation') }}\n              &lt;/button&gt;\n              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 休日出勤申請フォーム --&gt;\n      &lt;div v-if=\"currentTab === 'holidayWork'\" class=\"content-area\"&gt;\n        &lt;!-- タブリスト--&gt;\n        &lt;div class=\"tab-list\"&gt;\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                ",
            "lineNumber": 387
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 388
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;代休取得可能日数&lt;/label&gt;",
            "lineNumber": 389
          },
          {
            "text": "                  &lt;div class=\"info-text info-text-inline\"&gt;{{ compensatoryLeaveBalance }}日&lt;/div&gt;",
            "lineNumber": 390
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 391
          },
          {
            "text": "              &lt;/template&gt;",
            "lineNumber": 392
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 393
          },
          {
            "text": "            ",
            "lineNumber": 394
          },
          {
            "text": "            &lt;!-- ボタンを下部に配置 --&gt;",
            "lineNumber": 395
          },
          {
            "text": "            &lt;div class=\"form-buttons-right\"&gt;",
            "lineNumber": 396
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 397
          },
          {
            "text": "                v-if=\"!isPendingOrApproved('vacation')\" ",
            "lineNumber": 398
          },
          {
            "text": "                class=\"submit-button\" ",
            "lineNumber": 399
          },
          {
            "text": "                @click=\"submitVacationApplication\"",
            "lineNumber": 400
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 401
          },
          {
            "text": "              &gt;",
            "lineNumber": 402
          },
          {
            "text": "                承認申請",
            "lineNumber": 403
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 404
          },
          {
            "text": "              &lt;button ",
            "lineNumber": 405
          },
          {
            "text": "                v-if=\"isPendingOrApproved('vacation')\" ",
            "lineNumber": 406
          },
          {
            "text": "                class=\"cancel-button cancel-application-button\" ",
            "lineNumber": 407
          },
          {
            "text": "                @click=\"cancelVacationApplication\"",
            "lineNumber": 408
          },
          {
            "text": "                :disabled=\"currentTab === 'menu'\"",
            "lineNumber": 409
          },
          {
            "text": "              &gt;",
            "lineNumber": 410
          },
          {
            "text": "                {{ getCancelButtonLabel('vacation') }}",
            "lineNumber": 411
          },
          {
            "text": "              &lt;/button&gt;",
            "lineNumber": 412
          },
          {
            "text": "              &lt;a href=\"#\" class=\"cancel-link\" @click.prevent=\"closeApplicationTab\"&gt;キャンセル&lt;/a&gt;",
            "lineNumber": 413
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 414
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 415
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 416
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 417
          },
          {
            "text": "      ",
            "lineNumber": 418
          },
          {
            "text": "      &lt;!-- 休日出勤申請フォーム --&gt;",
            "lineNumber": 419
          },
          {
            "text": "      &lt;div v-if=\"currentTab === 'holidayWork'\" class=\"content-area\"&gt;",
            "lineNumber": 420
          },
          {
            "text": "        &lt;!-- タブリスト--&gt;",
            "lineNumber": 421
          },
          {
            "text": "        &lt;div class=\"tab-list\"&gt;",
            "lineNumber": 422
          },
          {
            "text": "          ",
            "lineNumber": 423
          }
        ]
      },
      "score": 0.32152634859085083
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 339
          },
          "endPosition": {
            "line": 388,
            "column": 18
          }
        },
        "contents": "                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;\n                  &lt;div class=\"date-range date-range-inline\"&gt;\n                    &lt;input \n                      type=\"date\" \n                      v-model=\"vacationForm.startDate\"\n                      class=\"date-input\"\n                      disabled\n                      readonly\n                    /&gt;\n                    &lt;input \n                      type=\"checkbox\" \n                      v-model=\"vacationForm.enableEndDate\"\n                      class=\"date-range-checkbox\"\n                      id=\"enable-end-date-checkbox\"\n                    /&gt;\n                    &lt;label for=\"enable-end-date-checkbox\" class=\"date-range-checkbox-label\"&gt;～&lt;/label&gt;\n                    &lt;input \n                      type=\"date\" \n                      v-model=\"vacationForm.endDate\"\n                      class=\"date-input\"\n                      :min=\"vacationForm.startDate\"\n                      :disabled=\"!vacationForm.enableEndDate\"\n                      :readonly=\"!vacationForm.enableEndDate\"\n                    /&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline\"&gt;備考&lt;/label&gt;\n                  &lt;textarea \n                    v-model=\"vacationForm.reason\"\n                    class=\"textarea-input textarea-input-large textarea-inline\"\n                    rows=\"1\"\n                  &gt;&lt;/textarea&gt;\n                &lt;/div&gt;\n                \n                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;\n                  &lt;label class=\"label-inline\"&gt;連絡先&lt;/label&gt;\n                  &lt;input \n                    type=\"text\" \n                    v-model=\"vacationForm.contact\"\n                    class=\"text-input\"\n                  /&gt;\n                &lt;/div&gt;\n                \n                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;\n                  ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 340
          },
          {
            "text": "                ",
            "lineNumber": 341
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType !== 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 342
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;期間&lt;/label&gt;",
            "lineNumber": 343
          },
          {
            "text": "                  &lt;div class=\"date-range date-range-inline\"&gt;",
            "lineNumber": 344
          },
          {
            "text": "                    &lt;input ",
            "lineNumber": 345
          },
          {
            "text": "                      type=\"date\" ",
            "lineNumber": 346
          },
          {
            "text": "                      v-model=\"vacationForm.startDate\"",
            "lineNumber": 347
          },
          {
            "text": "                      class=\"date-input\"",
            "lineNumber": 348
          },
          {
            "text": "                      disabled",
            "lineNumber": 349
          },
          {
            "text": "                      readonly",
            "lineNumber": 350
          },
          {
            "text": "                    /&gt;",
            "lineNumber": 351
          },
          {
            "text": "                    &lt;input ",
            "lineNumber": 352
          },
          {
            "text": "                      type=\"checkbox\" ",
            "lineNumber": 353
          },
          {
            "text": "                      v-model=\"vacationForm.enableEndDate\"",
            "lineNumber": 354
          },
          {
            "text": "                      class=\"date-range-checkbox\"",
            "lineNumber": 355
          },
          {
            "text": "                      id=\"enable-end-date-checkbox\"",
            "lineNumber": 356
          },
          {
            "text": "                    /&gt;",
            "lineNumber": 357
          },
          {
            "text": "                    &lt;label for=\"enable-end-date-checkbox\" class=\"date-range-checkbox-label\"&gt;～&lt;/label&gt;",
            "lineNumber": 358
          },
          {
            "text": "                    &lt;input ",
            "lineNumber": 359
          },
          {
            "text": "                      type=\"date\" ",
            "lineNumber": 360
          },
          {
            "text": "                      v-model=\"vacationForm.endDate\"",
            "lineNumber": 361
          },
          {
            "text": "                      class=\"date-input\"",
            "lineNumber": 362
          },
          {
            "text": "                      :min=\"vacationForm.startDate\"",
            "lineNumber": 363
          },
          {
            "text": "                      :disabled=\"!vacationForm.enableEndDate\"",
            "lineNumber": 364
          },
          {
            "text": "                      :readonly=\"!vacationForm.enableEndDate\"",
            "lineNumber": 365
          },
          {
            "text": "                    /&gt;",
            "lineNumber": 366
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 367
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 368
          },
          {
            "text": "                ",
            "lineNumber": 369
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 370
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;備考&lt;/label&gt;",
            "lineNumber": 371
          },
          {
            "text": "                  &lt;textarea ",
            "lineNumber": 372
          },
          {
            "text": "                    v-model=\"vacationForm.reason\"",
            "lineNumber": 373
          },
          {
            "text": "                    class=\"textarea-input textarea-input-large textarea-inline\"",
            "lineNumber": 374
          },
          {
            "text": "                    rows=\"1\"",
            "lineNumber": 375
          },
          {
            "text": "                  &gt;&lt;/textarea&gt;",
            "lineNumber": 376
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 377
          },
          {
            "text": "                ",
            "lineNumber": 378
          },
          {
            "text": "                &lt;div class=\"form-group form-group-inline form-group-compact\"&gt;",
            "lineNumber": 379
          },
          {
            "text": "                  &lt;label class=\"label-inline\"&gt;連絡先&lt;/label&gt;",
            "lineNumber": 380
          },
          {
            "text": "                  &lt;input ",
            "lineNumber": 381
          },
          {
            "text": "                    type=\"text\" ",
            "lineNumber": 382
          },
          {
            "text": "                    v-model=\"vacationForm.contact\"",
            "lineNumber": 383
          },
          {
            "text": "                    class=\"text-input\"",
            "lineNumber": 384
          },
          {
            "text": "                  /&gt;",
            "lineNumber": 385
          },
          {
            "text": "                &lt;/div&gt;",
            "lineNumber": 386
          },
          {
            "text": "                ",
            "lineNumber": 387
          },
          {
            "text": "                &lt;div v-if=\"vacationForm.vacationType === 'SUBSTITUTE_HOLIDAY'\" class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 388
          },
          {
            "text": "                  ",
            "lineNumber": 389
          }
        ]
      },
      "score": 0.3158456087112427
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1345
          },
          "endPosition": {
            "line": 1395
          }
        },
        "contents": "    },\n    // 休日出勤申請ボタンが非活性かどうか\n    isHolidayWorkDisabled() {\n      // 平日の場合は常に非活性（休日出勤申請は休日のみ可能）\n      if (this.isWeekday) {\n        return true\n      }\n      return false\n    }\n  },\n  watch: {\n    visible: {\n      handler(newVal) {\n        if (newVal) {\n          this.initialize()\n          // スクロールをロック\n          document.body.style.overflow = 'hidden'\n        } else {\n          // スクロールをアンロック\n          document.body.style.overflow = ''\n        }\n      },\n      immediate: true\n    },\n    targetDate() {\n      // targetDateが変更された時に勤怠データを再取得\n      if (this.visible) {\n        this.loadAttendanceDataForButtonControl()\n      }\n    },\n    'vacationForm.enableEndDate'(newVal) {\n      // チェックボックスが無効になった場合、終了日を開始日と同じにする\n      if (!newVal &amp;&amp; this.vacationForm.startDate) {\n        this.vacationForm.endDate = this.vacationForm.startDate\n      }\n    },\n    'vacationForm.startDate'(newVal) {\n      // 開始日が変更され、終了日が無効な場合、終了日も同じ日付にする\n      if (!this.vacationForm.enableEndDate &amp;&amp; newVal) {\n        this.vacationForm.endDate = newVal\n      }\n      // 開始日が変更され、終了日が開始日より前の場合は終了日を開始日にリセット\n      if (this.vacationForm.enableEndDate &amp;&amp; newVal &amp;&amp; this.vacationForm.endDate &amp;&amp; newVal &gt; this.vacationForm.endDate) {\n        this.vacationForm.endDate = newVal\n      }\n    }\n  },\n  methods: {\n    async initialize() {\n      this.loading = true",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    },",
            "lineNumber": 1346
          },
          {
            "text": "    // 休日出勤申請ボタンが非活性かどうか",
            "lineNumber": 1347
          },
          {
            "text": "    isHolidayWorkDisabled() {",
            "lineNumber": 1348
          },
          {
            "text": "      // 平日の場合は常に非活性（休日出勤申請は休日のみ可能）",
            "lineNumber": 1349
          },
          {
            "text": "      if (this.isWeekday) {",
            "lineNumber": 1350
          },
          {
            "text": "        return true",
            "lineNumber": 1351
          },
          {
            "text": "      }",
            "lineNumber": 1352
          },
          {
            "text": "      return false",
            "lineNumber": 1353
          },
          {
            "text": "    }",
            "lineNumber": 1354
          },
          {
            "text": "  },",
            "lineNumber": 1355
          },
          {
            "text": "  watch: {",
            "lineNumber": 1356
          },
          {
            "text": "    visible: {",
            "lineNumber": 1357
          },
          {
            "text": "      handler(newVal) {",
            "lineNumber": 1358
          },
          {
            "text": "        if (newVal) {",
            "lineNumber": 1359
          },
          {
            "text": "          this.initialize()",
            "lineNumber": 1360
          },
          {
            "text": "          // スクロールをロック",
            "lineNumber": 1361
          },
          {
            "text": "          document.body.style.overflow = 'hidden'",
            "lineNumber": 1362
          },
          {
            "text": "        } else {",
            "lineNumber": 1363
          },
          {
            "text": "          // スクロールをアンロック",
            "lineNumber": 1364
          },
          {
            "text": "          document.body.style.overflow = ''",
            "lineNumber": 1365
          },
          {
            "text": "        }",
            "lineNumber": 1366
          },
          {
            "text": "      },",
            "lineNumber": 1367
          },
          {
            "text": "      immediate: true",
            "lineNumber": 1368
          },
          {
            "text": "    },",
            "lineNumber": 1369
          },
          {
            "text": "    targetDate() {",
            "lineNumber": 1370
          },
          {
            "text": "      // targetDateが変更された時に勤怠データを再取得",
            "lineNumber": 1371
          },
          {
            "text": "      if (this.visible) {",
            "lineNumber": 1372
          },
          {
            "text": "        this.loadAttendanceDataForButtonControl()",
            "lineNumber": 1373
          },
          {
            "text": "      }",
            "lineNumber": 1374
          },
          {
            "text": "    },",
            "lineNumber": 1375
          },
          {
            "text": "    'vacationForm.enableEndDate'(newVal) {",
            "lineNumber": 1376
          },
          {
            "text": "      // チェックボックスが無効になった場合、終了日を開始日と同じにする",
            "lineNumber": 1377
          },
          {
            "text": "      if (!newVal &amp;&amp; this.vacationForm.startDate) {",
            "lineNumber": 1378
          },
          {
            "text": "        this.vacationForm.endDate = this.vacationForm.startDate",
            "lineNumber": 1379
          },
          {
            "text": "      }",
            "lineNumber": 1380
          },
          {
            "text": "    },",
            "lineNumber": 1381
          },
          {
            "text": "    'vacationForm.startDate'(newVal) {",
            "lineNumber": 1382
          },
          {
            "text": "      // 開始日が変更され、終了日が無効な場合、終了日も同じ日付にする",
            "lineNumber": 1383
          },
          {
            "text": "      if (!this.vacationForm.enableEndDate &amp;&amp; newVal) {",
            "lineNumber": 1384
          },
          {
            "text": "        this.vacationForm.endDate = newVal",
            "lineNumber": 1385
          },
          {
            "text": "      }",
            "lineNumber": 1386
          },
          {
            "text": "      // 開始日が変更され、終了日が開始日より前の場合は終了日を開始日にリセット",
            "lineNumber": 1387
          },
          {
            "text": "      if (this.vacationForm.enableEndDate &amp;&amp; newVal &amp;&amp; this.vacationForm.endDate &amp;&amp; newVal &gt; this.vacationForm.endDate) {",
            "lineNumber": 1388
          },
          {
            "text": "        this.vacationForm.endDate = newVal",
            "lineNumber": 1389
          },
          {
            "text": "      }",
            "lineNumber": 1390
          },
          {
            "text": "    }",
            "lineNumber": 1391
          },
          {
            "text": "  },",
            "lineNumber": 1392
          },
          {
            "text": "  methods: {",
            "lineNumber": 1393
          },
          {
            "text": "    async initialize() {",
            "lineNumber": 1394
          },
          {
            "text": "      this.loading = true",
            "lineNumber": 1395
          }
        ]
      },
      "score": 0.3122391700744629
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1515
          },
          "endPosition": {
            "line": 1551
          }
        },
        "contents": "    async loadApplicationStatuses() {\n      // 各申請タイプの申請状態を取得\n      const applicationTypes = [\n        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },\n        { key: 'vacation', apiType: 'VACATION' },\n        { key: 'holidayWork', apiType: 'HOLIDAY_WORK' },\n        { key: 'overtime', apiType: 'OVERTIME' },\n        { key: 'earlyWork', apiType: 'EARLY_WORK' },\n        { key: 'transfer', apiType: 'TRANSFER' }\n      ]\n      \n      for (const appType of applicationTypes) {\n        // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用\n        if (this.initialApplicationType === appType.key &amp;&amp; this.initialApplicationStatus) {\n          this.applicationStatuses[appType.key] = this.initialApplicationStatus\n          continue\n        }\n        \n        try {\n          const response = await getApplicationStatus(this.employeeId, appType.apiType, this.targetDate)\n          if (response.success) {\n            this.applicationStatuses[appType.key] = response.status || 'NOT_SUBMITTED'\n            this.applicationIds[appType.key] = response.applicationId || null\n          }\n        } catch (error) {\n          console.error(&#96;${appType.key}申請状態取得エラー:&#96;, error)\n          // エラー時はNOT_SUBMITTEDとして扱う\n          this.applicationStatuses[appType.key] = 'NOT_SUBMITTED'\n          this.applicationIds[appType.key] = null\n        }\n      }\n    },\n    \n    async loadCompensatoryLeaveBalance() {\n      try {\n        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadApplicationStatuses() {",
            "lineNumber": 1516
          },
          {
            "text": "      // 各申請タイプの申請状態を取得",
            "lineNumber": 1517
          },
          {
            "text": "      const applicationTypes = [",
            "lineNumber": 1518
          },
          {
            "text": "        { key: 'dailyConfirmation', apiType: 'DAILY_CONFIRMATION' },",
            "lineNumber": 1519
          },
          {
            "text": "        { key: 'vacation', apiType: 'VACATION' },",
            "lineNumber": 1520
          },
          {
            "text": "        { key: 'holidayWork', apiType: 'HOLIDAY_WORK' },",
            "lineNumber": 1521
          },
          {
            "text": "        { key: 'overtime', apiType: 'OVERTIME' },",
            "lineNumber": 1522
          },
          {
            "text": "        { key: 'earlyWork', apiType: 'EARLY_WORK' },",
            "lineNumber": 1523
          },
          {
            "text": "        { key: 'transfer', apiType: 'TRANSFER' }",
            "lineNumber": 1524
          },
          {
            "text": "      ]",
            "lineNumber": 1525
          },
          {
            "text": "      ",
            "lineNumber": 1526
          },
          {
            "text": "      for (const appType of applicationTypes) {",
            "lineNumber": 1527
          },
          {
            "text": "        // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用",
            "lineNumber": 1528
          },
          {
            "text": "        if (this.initialApplicationType === appType.key &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1529
          },
          {
            "text": "          this.applicationStatuses[appType.key] = this.initialApplicationStatus",
            "lineNumber": 1530
          },
          {
            "text": "          continue",
            "lineNumber": 1531
          },
          {
            "text": "        }",
            "lineNumber": 1532
          },
          {
            "text": "        ",
            "lineNumber": 1533
          },
          {
            "text": "        try {",
            "lineNumber": 1534
          },
          {
            "text": "          const response = await getApplicationStatus(this.employeeId, appType.apiType, this.targetDate)",
            "lineNumber": 1535
          },
          {
            "text": "          if (response.success) {",
            "lineNumber": 1536
          },
          {
            "text": "            this.applicationStatuses[appType.key] = response.status || 'NOT_SUBMITTED'",
            "lineNumber": 1537
          },
          {
            "text": "            this.applicationIds[appType.key] = response.applicationId || null",
            "lineNumber": 1538
          },
          {
            "text": "          }",
            "lineNumber": 1539
          },
          {
            "text": "        } catch (error) {",
            "lineNumber": 1540
          },
          {
            "text": "          console.error(&#96;${appType.key}申請状態取得エラー:&#96;, error)",
            "lineNumber": 1541
          },
          {
            "text": "          // エラー時はNOT_SUBMITTEDとして扱う",
            "lineNumber": 1542
          },
          {
            "text": "          this.applicationStatuses[appType.key] = 'NOT_SUBMITTED'",
            "lineNumber": 1543
          },
          {
            "text": "          this.applicationIds[appType.key] = null",
            "lineNumber": 1544
          },
          {
            "text": "        }",
            "lineNumber": 1545
          },
          {
            "text": "      }",
            "lineNumber": 1546
          },
          {
            "text": "    },",
            "lineNumber": 1547
          },
          {
            "text": "    ",
            "lineNumber": 1548
          },
          {
            "text": "    async loadCompensatoryLeaveBalance() {",
            "lineNumber": 1549
          },
          {
            "text": "      try {",
            "lineNumber": 1550
          },
          {
            "text": "        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1551
          }
        ]
      },
      "score": 0.30603134632110596
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1074
          },
          "endPosition": {
            "line": 1127,
            "column": 10
          }
        },
        "contents": "      overtimeForm: {\n        startDate: '',\n        endDate: '',\n        hours: '',\n        reason: ''\n      },\n      \n      // 早朝勤務申請フォーム\n      earlyWorkForm: {\n        startDate: '',\n        endDate: '',\n        reason: ''\n      },\n      \n      // 振替申請フォーム\n      transferForm: {\n        fromDate: '',\n        toDate: '',\n        reason: ''\n      },\n      \n      // 当月時間外残業\n      monthlyOvertime: 0,\n      \n      // 休憩時間設定ダイアログの表示状態\n      showBreakTimeDialog: false,\n      \n      // 休憩時間リスト\n      breakTimeList: [],\n      \n      // 申請状態（各申請タイプごと）\n      applicationStatuses: {\n        dailyConfirmation: 'NOT_SUBMITTED',\n        vacation: 'NOT_SUBMITTED',\n        holidayWork: 'NOT_SUBMITTED',\n        overtime: 'NOT_SUBMITTED',\n        earlyWork: 'NOT_SUBMITTED',\n        transfer: 'NOT_SUBMITTED'\n      },\n      \n      // 申請ID（各申請タイプごと）\n      applicationIds: {\n        dailyConfirmation: null,\n        vacation: null,\n        holidayWork: null,\n        overtime: null,\n        earlyWork: null,\n        transfer: null\n      },\n      \n      // 申請情報（申請日時、状況など）\n      applicationInfo: {\n        dailyConfirmation: {\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      overtimeForm: {",
            "lineNumber": 1075
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1076
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1077
          },
          {
            "text": "        hours: '',",
            "lineNumber": 1078
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1079
          },
          {
            "text": "      },",
            "lineNumber": 1080
          },
          {
            "text": "      ",
            "lineNumber": 1081
          },
          {
            "text": "      // 早朝勤務申請フォーム",
            "lineNumber": 1082
          },
          {
            "text": "      earlyWorkForm: {",
            "lineNumber": 1083
          },
          {
            "text": "        startDate: '',",
            "lineNumber": 1084
          },
          {
            "text": "        endDate: '',",
            "lineNumber": 1085
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1086
          },
          {
            "text": "      },",
            "lineNumber": 1087
          },
          {
            "text": "      ",
            "lineNumber": 1088
          },
          {
            "text": "      // 振替申請フォーム",
            "lineNumber": 1089
          },
          {
            "text": "      transferForm: {",
            "lineNumber": 1090
          },
          {
            "text": "        fromDate: '',",
            "lineNumber": 1091
          },
          {
            "text": "        toDate: '',",
            "lineNumber": 1092
          },
          {
            "text": "        reason: ''",
            "lineNumber": 1093
          },
          {
            "text": "      },",
            "lineNumber": 1094
          },
          {
            "text": "      ",
            "lineNumber": 1095
          },
          {
            "text": "      // 当月時間外残業",
            "lineNumber": 1096
          },
          {
            "text": "      monthlyOvertime: 0,",
            "lineNumber": 1097
          },
          {
            "text": "      ",
            "lineNumber": 1098
          },
          {
            "text": "      // 休憩時間設定ダイアログの表示状態",
            "lineNumber": 1099
          },
          {
            "text": "      showBreakTimeDialog: false,",
            "lineNumber": 1100
          },
          {
            "text": "      ",
            "lineNumber": 1101
          },
          {
            "text": "      // 休憩時間リスト",
            "lineNumber": 1102
          },
          {
            "text": "      breakTimeList: [],",
            "lineNumber": 1103
          },
          {
            "text": "      ",
            "lineNumber": 1104
          },
          {
            "text": "      // 申請状態（各申請タイプごと）",
            "lineNumber": 1105
          },
          {
            "text": "      applicationStatuses: {",
            "lineNumber": 1106
          },
          {
            "text": "        dailyConfirmation: 'NOT_SUBMITTED',",
            "lineNumber": 1107
          },
          {
            "text": "        vacation: 'NOT_SUBMITTED',",
            "lineNumber": 1108
          },
          {
            "text": "        holidayWork: 'NOT_SUBMITTED',",
            "lineNumber": 1109
          },
          {
            "text": "        overtime: 'NOT_SUBMITTED',",
            "lineNumber": 1110
          },
          {
            "text": "        earlyWork: 'NOT_SUBMITTED',",
            "lineNumber": 1111
          },
          {
            "text": "        transfer: 'NOT_SUBMITTED'",
            "lineNumber": 1112
          },
          {
            "text": "      },",
            "lineNumber": 1113
          },
          {
            "text": "      ",
            "lineNumber": 1114
          },
          {
            "text": "      // 申請ID（各申請タイプごと）",
            "lineNumber": 1115
          },
          {
            "text": "      applicationIds: {",
            "lineNumber": 1116
          },
          {
            "text": "        dailyConfirmation: null,",
            "lineNumber": 1117
          },
          {
            "text": "        vacation: null,",
            "lineNumber": 1118
          },
          {
            "text": "        holidayWork: null,",
            "lineNumber": 1119
          },
          {
            "text": "        overtime: null,",
            "lineNumber": 1120
          },
          {
            "text": "        earlyWork: null,",
            "lineNumber": 1121
          },
          {
            "text": "        transfer: null",
            "lineNumber": 1122
          },
          {
            "text": "      },",
            "lineNumber": 1123
          },
          {
            "text": "      ",
            "lineNumber": 1124
          },
          {
            "text": "      // 申請情報（申請日時、状況など）",
            "lineNumber": 1125
          },
          {
            "text": "      applicationInfo: {",
            "lineNumber": 1126
          },
          {
            "text": "        dailyConfirmation: {",
            "lineNumber": 1127
          },
          {
            "text": "          ",
            "lineNumber": 1128
          }
        ]
      },
      "score": 0.3027653694152832
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1629
          },
          "endPosition": {
            "line": 1680,
            "column": 8
          }
        },
        "contents": "    \n    async loadDailyAttendanceData() {\n      try {\n        const response = await fetch(\n          &#96;http://localhost:3000/api/attendance/daily?employeeId=${this.employeeId}&amp;workDate=${this.targetDate}&#96;\n        )\n        const data = await response.json()\n        \n        if (data.success &amp;&amp; data.attendance) {\n          const attendance = data.attendance\n          \n          // 出退社時刻を設定\n          let clockIn = '--:--'\n\n          if (attendance.CLOCK_IN_TIME) {\n            clockIn = this.formatTime(attendance.CLOCK_IN_TIME)\n          }\n\n          let clockOut = '--:--'\n\n          if (attendance.CLOCK_OUT_TIME) {\n            clockOut = this.formatTime(attendance.CLOCK_OUT_TIME)\n          }\n          this.dailyConfirmationForm.clockInOut = &#96;${clockIn}-${clockOut}&#96;\n          \n          // 休憩時間を設定\n          if (attendance.breakTimes &amp;&amp; attendance.breakTimes.length &gt; 0) {\n            this.dailyConfirmationForm.breakTime = attendance.breakTimes\n              .map(bt =&gt; &#96;${this.formatTime(bt.BREAK_START_TIME)}-${this.formatTime(bt.BREAK_END_TIME)}&#96;)\n              .join(', ')\n          } else {\n            this.dailyConfirmationForm.breakTime = '---:---'\n          }\n          \n          // 総労働時間を設定\n          if (attendance.CLOCK_IN_TIME &amp;&amp; attendance.CLOCK_OUT_TIME) {\n            const clockInDate = new Date(attendance.CLOCK_IN_TIME)\n            const clockOutDate = new Date(attendance.CLOCK_OUT_TIME)\n            const totalMinutes = Math.floor((clockOutDate - clockInDate) / 1000 / 60)\n            this.dailyConfirmationForm.totalWorkHours = this.formatHoursMinutes(totalMinutes)\n          } else {\n            this.dailyConfirmationForm.totalWorkHours = '0:00'\n          }\n          \n          // 実労働時間を設定\n          this.dailyConfirmationForm.actualWorkHours = this.formatHoursMinutes(Math.floor((attendance.ACTUAL_WORK_HOURS || 0) * 60))\n          \n          // 備考を設定\n          this.dailyConfirmationForm.remark = attendance.REMARK_TEXT || ''\n        }\n      } catch (error) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    ",
            "lineNumber": 1630
          },
          {
            "text": "    async loadDailyAttendanceData() {",
            "lineNumber": 1631
          },
          {
            "text": "      try {",
            "lineNumber": 1632
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1633
          },
          {
            "text": "          &#96;http://localhost:3000/api/attendance/daily?employeeId=${this.employeeId}&amp;workDate=${this.targetDate}&#96;",
            "lineNumber": 1634
          },
          {
            "text": "        )",
            "lineNumber": 1635
          },
          {
            "text": "        const data = await response.json()",
            "lineNumber": 1636
          },
          {
            "text": "        ",
            "lineNumber": 1637
          },
          {
            "text": "        if (data.success &amp;&amp; data.attendance) {",
            "lineNumber": 1638
          },
          {
            "text": "          const attendance = data.attendance",
            "lineNumber": 1639
          },
          {
            "text": "          ",
            "lineNumber": 1640
          },
          {
            "text": "          // 出退社時刻を設定",
            "lineNumber": 1641
          },
          {
            "text": "          let clockIn = '--:--'",
            "lineNumber": 1642
          },
          {
            "lineNumber": 1643
          },
          {
            "text": "          if (attendance.CLOCK_IN_TIME) {",
            "lineNumber": 1644
          },
          {
            "text": "            clockIn = this.formatTime(attendance.CLOCK_IN_TIME)",
            "lineNumber": 1645
          },
          {
            "text": "          }",
            "lineNumber": 1646
          },
          {
            "lineNumber": 1647
          },
          {
            "text": "          let clockOut = '--:--'",
            "lineNumber": 1648
          },
          {
            "lineNumber": 1649
          },
          {
            "text": "          if (attendance.CLOCK_OUT_TIME) {",
            "lineNumber": 1650
          },
          {
            "text": "            clockOut = this.formatTime(attendance.CLOCK_OUT_TIME)",
            "lineNumber": 1651
          },
          {
            "text": "          }",
            "lineNumber": 1652
          },
          {
            "text": "          this.dailyConfirmationForm.clockInOut = &#96;${clockIn}-${clockOut}&#96;",
            "lineNumber": 1653
          },
          {
            "text": "          ",
            "lineNumber": 1654
          },
          {
            "text": "          // 休憩時間を設定",
            "lineNumber": 1655
          },
          {
            "text": "          if (attendance.breakTimes &amp;&amp; attendance.breakTimes.length &gt; 0) {",
            "lineNumber": 1656
          },
          {
            "text": "            this.dailyConfirmationForm.breakTime = attendance.breakTimes",
            "lineNumber": 1657
          },
          {
            "text": "              .map(bt =&gt; &#96;${this.formatTime(bt.BREAK_START_TIME)}-${this.formatTime(bt.BREAK_END_TIME)}&#96;)",
            "lineNumber": 1658
          },
          {
            "text": "              .join(', ')",
            "lineNumber": 1659
          },
          {
            "text": "          } else {",
            "lineNumber": 1660
          },
          {
            "text": "            this.dailyConfirmationForm.breakTime = '---:---'",
            "lineNumber": 1661
          },
          {
            "text": "          }",
            "lineNumber": 1662
          },
          {
            "text": "          ",
            "lineNumber": 1663
          },
          {
            "text": "          // 総労働時間を設定",
            "lineNumber": 1664
          },
          {
            "text": "          if (attendance.CLOCK_IN_TIME &amp;&amp; attendance.CLOCK_OUT_TIME) {",
            "lineNumber": 1665
          },
          {
            "text": "            const clockInDate = new Date(attendance.CLOCK_IN_TIME)",
            "lineNumber": 1666
          },
          {
            "text": "            const clockOutDate = new Date(attendance.CLOCK_OUT_TIME)",
            "lineNumber": 1667
          },
          {
            "text": "            const totalMinutes = Math.floor((clockOutDate - clockInDate) / 1000 / 60)",
            "lineNumber": 1668
          },
          {
            "text": "            this.dailyConfirmationForm.totalWorkHours = this.formatHoursMinutes(totalMinutes)",
            "lineNumber": 1669
          },
          {
            "text": "          } else {",
            "lineNumber": 1670
          },
          {
            "text": "            this.dailyConfirmationForm.totalWorkHours = '0:00'",
            "lineNumber": 1671
          },
          {
            "text": "          }",
            "lineNumber": 1672
          },
          {
            "text": "          ",
            "lineNumber": 1673
          },
          {
            "text": "          // 実労働時間を設定",
            "lineNumber": 1674
          },
          {
            "text": "          this.dailyConfirmationForm.actualWorkHours = this.formatHoursMinutes(Math.floor((attendance.ACTUAL_WORK_HOURS || 0) * 60))",
            "lineNumber": 1675
          },
          {
            "text": "          ",
            "lineNumber": 1676
          },
          {
            "text": "          // 備考を設定",
            "lineNumber": 1677
          },
          {
            "text": "          this.dailyConfirmationForm.remark = attendance.REMARK_TEXT || ''",
            "lineNumber": 1678
          },
          {
            "text": "        }",
            "lineNumber": 1679
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1680
          },
          {
            "text": "        ",
            "lineNumber": 1681
          }
        ]
      },
      "score": 0.30213773250579834
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 277
          },
          "endPosition": {
            "line": 293,
            "column": 24
          }
        },
        "contents": "                &lt;div class=\"application-info-section\"&gt;\n                  &lt;div class=\"form-group form-group-inline\"&gt;\n                    &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;\n                    &lt;div class=\"info-text info-text-inline\"&gt;{{ formatApplicationDate('vacation') }}&lt;/div&gt;\n                  &lt;/div&gt;\n                  \n                  &lt;div class=\"form-group form-group-inline\"&gt;\n                    &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;\n                    &lt;div class=\"info-text info-text-inline\"&gt;{{ formatStatus('vacation') }}&lt;/div&gt;\n                  &lt;/div&gt;\n                  \n                  &lt;!-- 承認履歴テーブル --&gt;\n                  &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;\n                    &lt;label class=\"label-inline\"&gt;承認履歴&lt;/label&gt;\n                    &lt;div class=\"approval-history-container\"&gt;\n                      &lt;table class=\"approval-history-table\"&gt;\n                        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "                &lt;div class=\"application-info-section\"&gt;",
            "lineNumber": 278
          },
          {
            "text": "                  &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 279
          },
          {
            "text": "                    &lt;label class=\"label-inline\"&gt;申請日時&lt;/label&gt;",
            "lineNumber": 280
          },
          {
            "text": "                    &lt;div class=\"info-text info-text-inline\"&gt;{{ formatApplicationDate('vacation') }}&lt;/div&gt;",
            "lineNumber": 281
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 282
          },
          {
            "text": "                  ",
            "lineNumber": 283
          },
          {
            "text": "                  &lt;div class=\"form-group form-group-inline\"&gt;",
            "lineNumber": 284
          },
          {
            "text": "                    &lt;label class=\"label-inline\"&gt;状況&lt;/label&gt;",
            "lineNumber": 285
          },
          {
            "text": "                    &lt;div class=\"info-text info-text-inline\"&gt;{{ formatStatus('vacation') }}&lt;/div&gt;",
            "lineNumber": 286
          },
          {
            "text": "                  &lt;/div&gt;",
            "lineNumber": 287
          },
          {
            "text": "                  ",
            "lineNumber": 288
          },
          {
            "text": "                  &lt;!-- 承認履歴テーブル --&gt;",
            "lineNumber": 289
          },
          {
            "text": "                  &lt;div class=\"form-group form-group-inline form-group-full-width\"&gt;",
            "lineNumber": 290
          },
          {
            "text": "                    &lt;label class=\"label-inline\"&gt;承認履歴&lt;/label&gt;",
            "lineNumber": 291
          },
          {
            "text": "                    &lt;div class=\"approval-history-container\"&gt;",
            "lineNumber": 292
          },
          {
            "text": "                      &lt;table class=\"approval-history-table\"&gt;",
            "lineNumber": 293
          },
          {
            "text": "                        ",
            "lineNumber": 294
          }
        ]
      },
      "score": 0.2864556908607483
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1916
          },
          "endPosition": {
            "line": 1954
          }
        },
        "contents": "    async loadApplicationStatus(applicationType) {\n      // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用\n      if (this.initialApplicationType === applicationType &amp;&amp; this.initialApplicationStatus) {\n        this.applicationStatuses[applicationType] = this.initialApplicationStatus\n        // applicationIdも設定する必要がある場合は、ここで設定\n        // ただし、initialApplicationStatusからはapplicationIdが取得できないため、\n        // 必要に応じてAPIを呼び出すか、TimesheetScreenから渡す必要がある\n        return\n      }\n      \n      // 申請タイプをAPIタイプに変換\n      const apiTypeMap = {\n        dailyConfirmation: 'DAILY_CONFIRMATION',\n        vacation: 'VACATION',\n        holidayWork: 'HOLIDAY_WORK',\n        overtime: 'OVERTIME',\n        earlyWork: 'EARLY_WORK',\n        transfer: 'TRANSFER'\n      }\n      \n      const apiType = apiTypeMap[applicationType]\n      if (!apiType) return\n      \n      try {\n        const response = await getApplicationStatus(this.employeeId, apiType, this.targetDate)\n        if (response.success) {\n          this.applicationStatuses[applicationType] = response.status || 'NOT_SUBMITTED'\n          this.applicationIds[applicationType] = response.applicationId || null\n        }\n      } catch (error) {\n        console.error(&#96;${applicationType}申請状態取得エラー:&#96;, error)\n        this.applicationStatuses[applicationType] = 'NOT_SUBMITTED'\n        this.applicationIds[applicationType] = null\n      }\n    },\n    \n    async loadHolidayWorkApplicationData() {\n      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadApplicationStatus(applicationType) {",
            "lineNumber": 1917
          },
          {
            "text": "      // 初期申請状態が指定されている場合は、APIを呼び出さずにそれを使用",
            "lineNumber": 1918
          },
          {
            "text": "      if (this.initialApplicationType === applicationType &amp;&amp; this.initialApplicationStatus) {",
            "lineNumber": 1919
          },
          {
            "text": "        this.applicationStatuses[applicationType] = this.initialApplicationStatus",
            "lineNumber": 1920
          },
          {
            "text": "        // applicationIdも設定する必要がある場合は、ここで設定",
            "lineNumber": 1921
          },
          {
            "text": "        // ただし、initialApplicationStatusからはapplicationIdが取得できないため、",
            "lineNumber": 1922
          },
          {
            "text": "        // 必要に応じてAPIを呼び出すか、TimesheetScreenから渡す必要がある",
            "lineNumber": 1923
          },
          {
            "text": "        return",
            "lineNumber": 1924
          },
          {
            "text": "      }",
            "lineNumber": 1925
          },
          {
            "text": "      ",
            "lineNumber": 1926
          },
          {
            "text": "      // 申請タイプをAPIタイプに変換",
            "lineNumber": 1927
          },
          {
            "text": "      const apiTypeMap = {",
            "lineNumber": 1928
          },
          {
            "text": "        dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 1929
          },
          {
            "text": "        vacation: 'VACATION',",
            "lineNumber": 1930
          },
          {
            "text": "        holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 1931
          },
          {
            "text": "        overtime: 'OVERTIME',",
            "lineNumber": 1932
          },
          {
            "text": "        earlyWork: 'EARLY_WORK',",
            "lineNumber": 1933
          },
          {
            "text": "        transfer: 'TRANSFER'",
            "lineNumber": 1934
          },
          {
            "text": "      }",
            "lineNumber": 1935
          },
          {
            "text": "      ",
            "lineNumber": 1936
          },
          {
            "text": "      const apiType = apiTypeMap[applicationType]",
            "lineNumber": 1937
          },
          {
            "text": "      if (!apiType) return",
            "lineNumber": 1938
          },
          {
            "text": "      ",
            "lineNumber": 1939
          },
          {
            "text": "      try {",
            "lineNumber": 1940
          },
          {
            "text": "        const response = await getApplicationStatus(this.employeeId, apiType, this.targetDate)",
            "lineNumber": 1941
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1942
          },
          {
            "text": "          this.applicationStatuses[applicationType] = response.status || 'NOT_SUBMITTED'",
            "lineNumber": 1943
          },
          {
            "text": "          this.applicationIds[applicationType] = response.applicationId || null",
            "lineNumber": 1944
          },
          {
            "text": "        }",
            "lineNumber": 1945
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1946
          },
          {
            "text": "        console.error(&#96;${applicationType}申請状態取得エラー:&#96;, error)",
            "lineNumber": 1947
          },
          {
            "text": "        this.applicationStatuses[applicationType] = 'NOT_SUBMITTED'",
            "lineNumber": 1948
          },
          {
            "text": "        this.applicationIds[applicationType] = null",
            "lineNumber": 1949
          },
          {
            "text": "      }",
            "lineNumber": 1950
          },
          {
            "text": "    },",
            "lineNumber": 1951
          },
          {
            "text": "    ",
            "lineNumber": 1952
          },
          {
            "text": "    async loadHolidayWorkApplicationData() {",
            "lineNumber": 1953
          },
          {
            "text": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1954
          }
        ]
      },
      "score": 0.28526321053504944
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1203
          },
          "endPosition": {
            "line": 1261
          }
        },
        "contents": "    filteredVacationTypes() {\n      return this.vacationTypes.filter(type =&gt; {\n        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示\n        if (type.code === 'SUBSTITUTE_HOLIDAY') {\n          return this.hasHolidayWorkApplication\n        }\n        // その他の休暇種別は常に表示\n        return true\n      })\n    },\n    // 全メニュー項目の説明文\n    menuDescriptions() {\n      return {\n        dailyConfirmation: '日次確定を申請します。',\n        vacation: '休暇、代休、時間単位休暇を申請します。',\n        holidayWork: '休日出勤を申請します。',\n        overtime: '残業を申請します。',\n        earlyWork: '早朝勤務を申請します。',\n        transfer: '振替を申請します。'\n      }\n    },\n    // 申請中または承認済みかどうかを判定（各申請タイプごと）\n    isPendingOrApproved() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status === 'PENDING' || status === 'APPROVED'\n      }\n    },\n    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）\n    isEditable() {\n      return (applicationType) =&gt; {\n        const status = this.applicationStatuses[applicationType]\n        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'\n      }\n    },\n    // 対象日が休日かどうかを判定\n    isHoliday() {\n      if (!this.targetDate) return false\n      const date = new Date(this.targetDate)\n      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日\n      \n      // 土曜日または日曜日の場合\n      if (dayOfWeek === 0 || dayOfWeek === 6) {\n        return true\n      }\n      \n      // 祝日判定（HolidayJpライブラリを使用）\n      try {\n        return HolidayJp.isHoliday(date)\n      } catch (error) {\n        console.error('祝日判定エラー:', error)\n        return false\n      }\n    },\n    // 対象日が平日かどうかを判定\n    isWeekday() {\n      return !this.isHoliday\n    },",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    filteredVacationTypes() {",
            "lineNumber": 1204
          },
          {
            "text": "      return this.vacationTypes.filter(type =&gt; {",
            "lineNumber": 1205
          },
          {
            "text": "        // 代休（SUBSTITUTE_HOLIDAY）は休日出勤申請がある場合のみ表示",
            "lineNumber": 1206
          },
          {
            "text": "        if (type.code === 'SUBSTITUTE_HOLIDAY') {",
            "lineNumber": 1207
          },
          {
            "text": "          return this.hasHolidayWorkApplication",
            "lineNumber": 1208
          },
          {
            "text": "        }",
            "lineNumber": 1209
          },
          {
            "text": "        // その他の休暇種別は常に表示",
            "lineNumber": 1210
          },
          {
            "text": "        return true",
            "lineNumber": 1211
          },
          {
            "text": "      })",
            "lineNumber": 1212
          },
          {
            "text": "    },",
            "lineNumber": 1213
          },
          {
            "text": "    // 全メニュー項目の説明文",
            "lineNumber": 1214
          },
          {
            "text": "    menuDescriptions() {",
            "lineNumber": 1215
          },
          {
            "text": "      return {",
            "lineNumber": 1216
          },
          {
            "text": "        dailyConfirmation: '日次確定を申請します。',",
            "lineNumber": 1217
          },
          {
            "text": "        vacation: '休暇、代休、時間単位休暇を申請します。',",
            "lineNumber": 1218
          },
          {
            "text": "        holidayWork: '休日出勤を申請します。',",
            "lineNumber": 1219
          },
          {
            "text": "        overtime: '残業を申請します。',",
            "lineNumber": 1220
          },
          {
            "text": "        earlyWork: '早朝勤務を申請します。',",
            "lineNumber": 1221
          },
          {
            "text": "        transfer: '振替を申請します。'",
            "lineNumber": 1222
          },
          {
            "text": "      }",
            "lineNumber": 1223
          },
          {
            "text": "    },",
            "lineNumber": 1224
          },
          {
            "text": "    // 申請中または承認済みかどうかを判定（各申請タイプごと）",
            "lineNumber": 1225
          },
          {
            "text": "    isPendingOrApproved() {",
            "lineNumber": 1226
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1227
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1228
          },
          {
            "text": "        return status === 'PENDING' || status === 'APPROVED'",
            "lineNumber": 1229
          },
          {
            "text": "      }",
            "lineNumber": 1230
          },
          {
            "text": "    },",
            "lineNumber": 1231
          },
          {
            "text": "    // 編集可能かどうかを判定（申請中または承認済みの場合は編集不可）",
            "lineNumber": 1232
          },
          {
            "text": "    isEditable() {",
            "lineNumber": 1233
          },
          {
            "text": "      return (applicationType) =&gt; {",
            "lineNumber": 1234
          },
          {
            "text": "        const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1235
          },
          {
            "text": "        return status !== 'PENDING' &amp;&amp; status !== 'APPROVED'",
            "lineNumber": 1236
          },
          {
            "text": "      }",
            "lineNumber": 1237
          },
          {
            "text": "    },",
            "lineNumber": 1238
          },
          {
            "text": "    // 対象日が休日かどうかを判定",
            "lineNumber": 1239
          },
          {
            "text": "    isHoliday() {",
            "lineNumber": 1240
          },
          {
            "text": "      if (!this.targetDate) return false",
            "lineNumber": 1241
          },
          {
            "text": "      const date = new Date(this.targetDate)",
            "lineNumber": 1242
          },
          {
            "text": "      const dayOfWeek = date.getDay() // 0=日曜日, 6=土曜日",
            "lineNumber": 1243
          },
          {
            "text": "      ",
            "lineNumber": 1244
          },
          {
            "text": "      // 土曜日または日曜日の場合",
            "lineNumber": 1245
          },
          {
            "text": "      if (dayOfWeek === 0 || dayOfWeek === 6) {",
            "lineNumber": 1246
          },
          {
            "text": "        return true",
            "lineNumber": 1247
          },
          {
            "text": "      }",
            "lineNumber": 1248
          },
          {
            "text": "      ",
            "lineNumber": 1249
          },
          {
            "text": "      // 祝日判定（HolidayJpライブラリを使用）",
            "lineNumber": 1250
          },
          {
            "text": "      try {",
            "lineNumber": 1251
          },
          {
            "text": "        return HolidayJp.isHoliday(date)",
            "lineNumber": 1252
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1253
          },
          {
            "text": "        console.error('祝日判定エラー:', error)",
            "lineNumber": 1254
          },
          {
            "text": "        return false",
            "lineNumber": 1255
          },
          {
            "text": "      }",
            "lineNumber": 1256
          },
          {
            "text": "    },",
            "lineNumber": 1257
          },
          {
            "text": "    // 対象日が平日かどうかを判定",
            "lineNumber": 1258
          },
          {
            "text": "    isWeekday() {",
            "lineNumber": 1259
          },
          {
            "text": "      return !this.isHoliday",
            "lineNumber": 1260
          },
          {
            "text": "    },",
            "lineNumber": 1261
          }
        ]
      },
      "score": 0.26777830719947815
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1547
          },
          "endPosition": {
            "line": 1584,
            "column": 8
          }
        },
        "contents": "    \n    async loadCompensatoryLeaveBalance() {\n      try {\n        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント\n        // 対象日から過去1年間の休日出勤申請を取得\n        const oneYearAgo = new Date(this.targetDate);\n        oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\n        const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];\n        \n        const response = await fetch(\n          &#96;http://localhost:3000/api/application/holiday-work-list?employeeId=${this.employeeId}&amp;startDate=${oneYearAgoStr}&amp;endDate=${this.targetDate}&#96;\n        );\n        const data = await response.json();\n        \n        if (data.success &amp;&amp; data.applications) {\n          // 承認済みまたは申請中の休日出勤申請の日数をカウント\n          let totalDays = 0;\n          for (const app of data.applications) {\n            if (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED') {\n              const startDate = new Date(app.TARGET_START_DATE);\n              const endDate = new Date(app.TARGET_END_DATE);\n              const days = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;\n              totalDays += days;\n            }\n          }\n          this.compensatoryLeaveBalance = totalDays;\n        } else {\n          this.compensatoryLeaveBalance = 0;\n        }\n      } catch (error) {\n        console.error('代休取得可能日数取得エラー:', error)\n        this.compensatoryLeaveBalance = 0\n      }\n    },\n    \n    async loadClockStatus() {\n      try {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    ",
            "lineNumber": 1548
          },
          {
            "text": "    async loadCompensatoryLeaveBalance() {",
            "lineNumber": 1549
          },
          {
            "text": "      try {",
            "lineNumber": 1550
          },
          {
            "text": "        // 代休取得可能日数は、承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1551
          },
          {
            "text": "        // 対象日から過去1年間の休日出勤申請を取得",
            "lineNumber": 1552
          },
          {
            "text": "        const oneYearAgo = new Date(this.targetDate);",
            "lineNumber": 1553
          },
          {
            "text": "        oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);",
            "lineNumber": 1554
          },
          {
            "text": "        const oneYearAgoStr = oneYearAgo.toISOString().split('T')[0];",
            "lineNumber": 1555
          },
          {
            "text": "        ",
            "lineNumber": 1556
          },
          {
            "text": "        const response = await fetch(",
            "lineNumber": 1557
          },
          {
            "text": "          &#96;http://localhost:3000/api/application/holiday-work-list?employeeId=${this.employeeId}&amp;startDate=${oneYearAgoStr}&amp;endDate=${this.targetDate}&#96;",
            "lineNumber": 1558
          },
          {
            "text": "        );",
            "lineNumber": 1559
          },
          {
            "text": "        const data = await response.json();",
            "lineNumber": 1560
          },
          {
            "text": "        ",
            "lineNumber": 1561
          },
          {
            "text": "        if (data.success &amp;&amp; data.applications) {",
            "lineNumber": 1562
          },
          {
            "text": "          // 承認済みまたは申請中の休日出勤申請の日数をカウント",
            "lineNumber": 1563
          },
          {
            "text": "          let totalDays = 0;",
            "lineNumber": 1564
          },
          {
            "text": "          for (const app of data.applications) {",
            "lineNumber": 1565
          },
          {
            "text": "            if (app.APPROVAL_STATUS === 'PENDING' || app.APPROVAL_STATUS === 'APPROVED') {",
            "lineNumber": 1566
          },
          {
            "text": "              const startDate = new Date(app.TARGET_START_DATE);",
            "lineNumber": 1567
          },
          {
            "text": "              const endDate = new Date(app.TARGET_END_DATE);",
            "lineNumber": 1568
          },
          {
            "text": "              const days = Math.floor((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;",
            "lineNumber": 1569
          },
          {
            "text": "              totalDays += days;",
            "lineNumber": 1570
          },
          {
            "text": "            }",
            "lineNumber": 1571
          },
          {
            "text": "          }",
            "lineNumber": 1572
          },
          {
            "text": "          this.compensatoryLeaveBalance = totalDays;",
            "lineNumber": 1573
          },
          {
            "text": "        } else {",
            "lineNumber": 1574
          },
          {
            "text": "          this.compensatoryLeaveBalance = 0;",
            "lineNumber": 1575
          },
          {
            "text": "        }",
            "lineNumber": 1576
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1577
          },
          {
            "text": "        console.error('代休取得可能日数取得エラー:', error)",
            "lineNumber": 1578
          },
          {
            "text": "        this.compensatoryLeaveBalance = 0",
            "lineNumber": 1579
          },
          {
            "text": "      }",
            "lineNumber": 1580
          },
          {
            "text": "    },",
            "lineNumber": 1581
          },
          {
            "text": "    ",
            "lineNumber": 1582
          },
          {
            "text": "    async loadClockStatus() {",
            "lineNumber": 1583
          },
          {
            "text": "      try {",
            "lineNumber": 1584
          },
          {
            "text": "        ",
            "lineNumber": 1585
          }
        ]
      },
      "score": 0.26666760444641113
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1757
          },
          "endPosition": {
            "line": 1795
          }
        },
        "contents": "        \n        if (response.success) {\n          if (response.applicationDate) {\n            this.applicationInfo[applicationType].applicationDate = response.applicationDate\n            this.applicationInfo[applicationType].status = response.status || 'NOT_SUBMITTED'\n            \n            // applicationIdを設定\n            if (response.applicationId) {\n              this.applicationIds[applicationType] = response.applicationId\n            }\n            \n            // 承認履歴をマッピング\n            this.applicationInfo[applicationType].approvalHistory = (response.history || []).map((h, index) =&gt; ({\n              seqNo: h.SEQ_NO || (index + 1),\n              actionDateTime: h.ACTION_DATETIME || h.actionDateTime || '',\n              status: h.ACTION_TYPE_DISPLAY || h.status || '',\n              actorName: h.ACTOR_NAME || h.actorName || '',\n              comment: h.COMMENT || h.comment || ''\n            }))\n          } else {\n            // 申請情報がない場合\n            this.applicationInfo[applicationType].applicationDate = null\n            this.applicationInfo[applicationType].status = 'NOT_SUBMITTED'\n            this.applicationInfo[applicationType].approvalHistory = []\n            this.applicationIds[applicationType] = null\n          }\n        }\n      } catch (error) {\n        console.error(&#96;${applicationType}申請情報取得エラー:&#96;, error)\n        this.applicationInfo[applicationType].applicationDate = null\n        this.applicationInfo[applicationType].status = 'NOT_SUBMITTED'\n        this.applicationInfo[applicationType].approvalHistory = []\n      }\n    },\n    \n    // 日時をフォーマット（YYYY/MM/DD HH:MM形式）\n    formatDateTime(dateTimeString) {\n      if (!dateTimeString) return '---'",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        ",
            "lineNumber": 1758
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1759
          },
          {
            "text": "          if (response.applicationDate) {",
            "lineNumber": 1760
          },
          {
            "text": "            this.applicationInfo[applicationType].applicationDate = response.applicationDate",
            "lineNumber": 1761
          },
          {
            "text": "            this.applicationInfo[applicationType].status = response.status || 'NOT_SUBMITTED'",
            "lineNumber": 1762
          },
          {
            "text": "            ",
            "lineNumber": 1763
          },
          {
            "text": "            // applicationIdを設定",
            "lineNumber": 1764
          },
          {
            "text": "            if (response.applicationId) {",
            "lineNumber": 1765
          },
          {
            "text": "              this.applicationIds[applicationType] = response.applicationId",
            "lineNumber": 1766
          },
          {
            "text": "            }",
            "lineNumber": 1767
          },
          {
            "text": "            ",
            "lineNumber": 1768
          },
          {
            "text": "            // 承認履歴をマッピング",
            "lineNumber": 1769
          },
          {
            "text": "            this.applicationInfo[applicationType].approvalHistory = (response.history || []).map((h, index) =&gt; ({",
            "lineNumber": 1770
          },
          {
            "text": "              seqNo: h.SEQ_NO || (index + 1),",
            "lineNumber": 1771
          },
          {
            "text": "              actionDateTime: h.ACTION_DATETIME || h.actionDateTime || '',",
            "lineNumber": 1772
          },
          {
            "text": "              status: h.ACTION_TYPE_DISPLAY || h.status || '',",
            "lineNumber": 1773
          },
          {
            "text": "              actorName: h.ACTOR_NAME || h.actorName || '',",
            "lineNumber": 1774
          },
          {
            "text": "              comment: h.COMMENT || h.comment || ''",
            "lineNumber": 1775
          },
          {
            "text": "            }))",
            "lineNumber": 1776
          },
          {
            "text": "          } else {",
            "lineNumber": 1777
          },
          {
            "text": "            // 申請情報がない場合",
            "lineNumber": 1778
          },
          {
            "text": "            this.applicationInfo[applicationType].applicationDate = null",
            "lineNumber": 1779
          },
          {
            "text": "            this.applicationInfo[applicationType].status = 'NOT_SUBMITTED'",
            "lineNumber": 1780
          },
          {
            "text": "            this.applicationInfo[applicationType].approvalHistory = []",
            "lineNumber": 1781
          },
          {
            "text": "            this.applicationIds[applicationType] = null",
            "lineNumber": 1782
          },
          {
            "text": "          }",
            "lineNumber": 1783
          },
          {
            "text": "        }",
            "lineNumber": 1784
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1785
          },
          {
            "text": "        console.error(&#96;${applicationType}申請情報取得エラー:&#96;, error)",
            "lineNumber": 1786
          },
          {
            "text": "        this.applicationInfo[applicationType].applicationDate = null",
            "lineNumber": 1787
          },
          {
            "text": "        this.applicationInfo[applicationType].status = 'NOT_SUBMITTED'",
            "lineNumber": 1788
          },
          {
            "text": "        this.applicationInfo[applicationType].approvalHistory = []",
            "lineNumber": 1789
          },
          {
            "text": "      }",
            "lineNumber": 1790
          },
          {
            "text": "    },",
            "lineNumber": 1791
          },
          {
            "text": "    ",
            "lineNumber": 1792
          },
          {
            "text": "    // 日時をフォーマット（YYYY/MM/DD HH:MM形式）",
            "lineNumber": 1793
          },
          {
            "text": "    formatDateTime(dateTimeString) {",
            "lineNumber": 1794
          },
          {
            "text": "      if (!dateTimeString) return '---'",
            "lineNumber": 1795
          }
        ]
      },
      "score": 0.25324180722236633
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1793
          },
          "endPosition": {
            "line": 1824
          }
        },
        "contents": "    formatDateTime(dateTimeString) {\n      if (!dateTimeString) return '---'\n      const date = new Date(dateTimeString)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      const hours = String(date.getHours()).padStart(2, '0')\n      const minutes = String(date.getMinutes()).padStart(2, '0')\n      return &#96;${year}/${month}/${day} ${hours}:${minutes}&#96;\n    },\n    \n    // 日付をフォーマット（YYYY/MM/DD形式）\n    formatDate(dateString) {\n      if (!dateString) return '---'\n      const date = new Date(dateString)\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      return &#96;${year}/${month}/${day}&#96;\n    },\n    \n    // 休暇種類の表示名を取得\n    getVacationTypeName(vacationTypeCode) {\n      if (!vacationTypeCode) return '---'\n      const type = this.vacationTypes.find(t =&gt; t.code === vacationTypeCode)\n      return type ? type.name : '---'\n    },\n    \n    // メニュー項目をクリックしたときの処理（タブを開く）\n    selectMenuItem(applicationType) {\n      // 選択中のメニュー項目を更新（説明文表示用）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    formatDateTime(dateTimeString) {",
            "lineNumber": 1794
          },
          {
            "text": "      if (!dateTimeString) return '---'",
            "lineNumber": 1795
          },
          {
            "text": "      const date = new Date(dateTimeString)",
            "lineNumber": 1796
          },
          {
            "text": "      const year = date.getFullYear()",
            "lineNumber": 1797
          },
          {
            "text": "      const month = String(date.getMonth() + 1).padStart(2, '0')",
            "lineNumber": 1798
          },
          {
            "text": "      const day = String(date.getDate()).padStart(2, '0')",
            "lineNumber": 1799
          },
          {
            "text": "      const hours = String(date.getHours()).padStart(2, '0')",
            "lineNumber": 1800
          },
          {
            "text": "      const minutes = String(date.getMinutes()).padStart(2, '0')",
            "lineNumber": 1801
          },
          {
            "text": "      return &#96;${year}/${month}/${day} ${hours}:${minutes}&#96;",
            "lineNumber": 1802
          },
          {
            "text": "    },",
            "lineNumber": 1803
          },
          {
            "text": "    ",
            "lineNumber": 1804
          },
          {
            "text": "    // 日付をフォーマット（YYYY/MM/DD形式）",
            "lineNumber": 1805
          },
          {
            "text": "    formatDate(dateString) {",
            "lineNumber": 1806
          },
          {
            "text": "      if (!dateString) return '---'",
            "lineNumber": 1807
          },
          {
            "text": "      const date = new Date(dateString)",
            "lineNumber": 1808
          },
          {
            "text": "      const year = date.getFullYear()",
            "lineNumber": 1809
          },
          {
            "text": "      const month = String(date.getMonth() + 1).padStart(2, '0')",
            "lineNumber": 1810
          },
          {
            "text": "      const day = String(date.getDate()).padStart(2, '0')",
            "lineNumber": 1811
          },
          {
            "text": "      return &#96;${year}/${month}/${day}&#96;",
            "lineNumber": 1812
          },
          {
            "text": "    },",
            "lineNumber": 1813
          },
          {
            "text": "    ",
            "lineNumber": 1814
          },
          {
            "text": "    // 休暇種類の表示名を取得",
            "lineNumber": 1815
          },
          {
            "text": "    getVacationTypeName(vacationTypeCode) {",
            "lineNumber": 1816
          },
          {
            "text": "      if (!vacationTypeCode) return '---'",
            "lineNumber": 1817
          },
          {
            "text": "      const type = this.vacationTypes.find(t =&gt; t.code === vacationTypeCode)",
            "lineNumber": 1818
          },
          {
            "text": "      return type ? type.name : '---'",
            "lineNumber": 1819
          },
          {
            "text": "    },",
            "lineNumber": 1820
          },
          {
            "text": "    ",
            "lineNumber": 1821
          },
          {
            "text": "    // メニュー項目をクリックしたときの処理（タブを開く）",
            "lineNumber": 1822
          },
          {
            "text": "    selectMenuItem(applicationType) {",
            "lineNumber": 1823
          },
          {
            "text": "      // 選択中のメニュー項目を更新（説明文表示用）",
            "lineNumber": 1824
          }
        ]
      },
      "score": 0.2518186569213867
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


`initializeForms()`で`vacationForm.vacationType`が`'PAID_LEAVE'`に初期化されています。申請情報の読み込みタイミングを確認中です。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "loadApplicationInfo|loadVacationApplicationData",
  "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "loadApplicationInfo|loadVacationApplicationData",
    "path": "frontend/src/components/dialog/AttendanceApplicationDialog.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "1742:    async loadApplicationInfo(applicationType) {",
              "matches": [
                {
                  "lineNumber": 1872,
                  "content": "          await this.loadApplicationInfo('dailyConfirmation')"
                },
                {
                  "lineNumber": 1878,
                  "content": "        await this.loadApplicationInfo('vacation')"
                },
                {
                  "lineNumber": 1881,
                  "content": "        await this.loadApplicationInfo('holidayWork')"
                },
                {
                  "lineNumber": 1884,
                  "content": "        await this.loadApplicationInfo('overtime')"
                },
                {
                  "lineNumber": 1887,
                  "content": "        await this.loadApplicationInfo('earlyWork')"
                },
                {
                  "lineNumber": 1890,
                  "content": "        await this.loadApplicationInfo('transfer')"
                },
                {
                  "lineNumber": 1904,
                  "content": "        await this.loadVacationApplicationData()"
                },
                {
                  "lineNumber": 1966,
                  "content": "    async loadVacationApplicationData() {"
                },
                {
                  "lineNumber": 2534,
                  "content": "      await this.loadApplicationInfo('dailyConfirmation')"
                },
                {
                  "lineNumber": 2548,
                  "content": "      await this.loadApplicationInfo('vacation')"
                },
                {
                  "lineNumber": 2562,
                  "content": "      await this.loadApplicationInfo('holidayWork')"
                },
                {
                  "lineNumber": 2576,
                  "content": "      await this.loadApplicationInfo('overtime')"
                },
                {
                  "lineNumber": 2590,
                  "content": "      await this.loadApplicationInfo('earlyWork')"
                },
                {
                  "lineNumber": 2604,
                  "content": "      await this.loadApplicationInfo('transfer')"
                }
              ]
            }
          ],
          "totalLines": 14,
          "totalMatchedLines": 14
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---



---


`loadApplicationInfo`関数の実装を確認中です。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceApplicationDialog.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "getApplicationInfo APIの実装とVACATION_TYPE_CODEの返却",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 460,
            "column": 2
          },
          "endPosition": {
            "line": 488,
            "column": 16
          }
        },
        "contents": "/**\n * 申請情報と承認履歴を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴\n */\nconst getApplicationInfo = async (employeeId, applicationType, targetDate) =&gt; {\n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION':\n      return await applicationModel.getDailyConfirmationApplicationInfo(employeeId, targetDate);\n    case 'VACATION':\n      return await applicationModel.getVacationApplicationInfo(employeeId, targetDate);\n    case 'HOLIDAY_WORK':\n    case 'OVERTIME':\n    case 'EARLY_WORK':\n    case 'TRANSFER':\n      return await applicationModel.getApplicationInfo(employeeId, applicationType, targetDate);\n    default:\n      throw new Error('無効な申請タイプです。');\n  }\n};\n\nmodule.exports = {\n  applyVacation,\n  applyHolidayWork,\n  applyOvertime,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 463
          },
          {
            "text": " * 申請情報と承認履歴を取得",
            "lineNumber": 464
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 465
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 466
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 467
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
            "lineNumber": 468
          },
          {
            "text": " */",
            "lineNumber": 469
          },
          {
            "text": "const getApplicationInfo = async (employeeId, applicationType, targetDate) =&gt; {",
            "lineNumber": 470
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 471
          },
          {
            "text": "    case 'DAILY_CONFIRMATION':",
            "lineNumber": 472
          },
          {
            "text": "      return await applicationModel.getDailyConfirmationApplicationInfo(employeeId, targetDate);",
            "lineNumber": 473
          },
          {
            "text": "    case 'VACATION':",
            "lineNumber": 474
          },
          {
            "text": "      return await applicationModel.getVacationApplicationInfo(employeeId, targetDate);",
            "lineNumber": 475
          },
          {
            "text": "    case 'HOLIDAY_WORK':",
            "lineNumber": 476
          },
          {
            "text": "    case 'OVERTIME':",
            "lineNumber": 477
          },
          {
            "text": "    case 'EARLY_WORK':",
            "lineNumber": 478
          },
          {
            "text": "    case 'TRANSFER':",
            "lineNumber": 479
          },
          {
            "text": "      return await applicationModel.getApplicationInfo(employeeId, applicationType, targetDate);",
            "lineNumber": 480
          },
          {
            "text": "    default:",
            "lineNumber": 481
          },
          {
            "text": "      throw new Error('無効な申請タイプです。');",
            "lineNumber": 482
          },
          {
            "text": "  }",
            "lineNumber": 483
          },
          {
            "text": "};",
            "lineNumber": 484
          },
          {
            "lineNumber": 485
          },
          {
            "text": "module.exports = {",
            "lineNumber": 486
          },
          {
            "text": "  applyVacation,",
            "lineNumber": 487
          },
          {
            "text": "  applyHolidayWork,",
            "lineNumber": 488
          },
          {
            "text": "  applyOvertime,",
            "lineNumber": 489
          }
        ]
      },
      "score": 0.48420730233192444
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 472,
            "column": 2
          },
          "endPosition": {
            "line": 565,
            "column": 1
          }
        },
        "contents": "/**\n * 申請情報と承認履歴を取得（休暇申請）\n * @param {string} employeeId - 従業員ID\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴\n */\nconst getVacationApplicationInfo = async (employeeId, targetDate) =&gt; {\n  // 全ての申請履歴を取得（PENDING, APPROVED, NOT_SUBMITTEDを含む）\n  const query = &#96;\n    SELECT \n      vh.VACATION_ID,\n      DATE_FORMAT(vh.CREATED_AT, '%Y/%m/%d %H:%i') AS APPLICATION_DATE,\n      vh.CREATED_AT,\n      vh.APPROVAL_STATUS,\n      DATE_FORMAT(vh.UPDATED_AT, '%Y/%m/%d %H:%i') AS UPDATED_DATE,\n      e.EMPLOYEE_NAME AS ACTOR_NAME\n    FROM VACATION_HISTORY vh\n    LEFT JOIN EMPLOYEE e ON vh.EMPLOYEE_ID = e.EMPLOYEE_ID\n    WHERE vh.EMPLOYEE_ID = ? \n      AND vh.START_DATE &lt;= ?\n      AND vh.END_DATE &gt;= ?\n      AND vh.APPROVAL_STATUS IN ('PENDING', 'APPROVED', 'NOT_SUBMITTED')\n    ORDER BY vh.CREATED_AT ASC\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, targetDate, targetDate]);\n  if (rows.length === 0) {\n    return null;\n  }\n  \n  // 最新の申請（PENDINGまたはAPPROVED）を取得\n  // PENDINGまたはAPPROVEDの申請をフィルタして、CREATED_ATが最新のものを取得\n  const validApplications = rows.filter(r =&gt; r.APPROVAL_STATUS === 'PENDING' || r.APPROVAL_STATUS === 'APPROVED');\n  if (validApplications.length === 0) {\n    return null;\n  }\n  // CREATED_ATでソートして最新のものを取得\n  const latestApplication = validApplications.sort((a, b) =&gt; new Date(b.CREATED_AT) - new Date(a.CREATED_AT))[0];\n  if (!latestApplication) {\n    return null;\n  }\n  \n  // 承認履歴を構築（時系列順）\n  const history = [];\n  let seqNo = 1;\n  \n  for (let i = 0; i &lt; rows.length; i++) {\n    const app = rows[i];\n  }\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 475
          },
          {
            "text": " * 申請情報と承認履歴を取得（休暇申請）",
            "lineNumber": 476
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 477
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 478
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
            "lineNumber": 479
          },
          {
            "text": " */",
            "lineNumber": 480
          },
          {
            "text": "const getVacationApplicationInfo = async (employeeId, targetDate) =&gt; {",
            "lineNumber": 481
          },
          {
            "text": "  // 全ての申請履歴を取得（PENDING, APPROVED, NOT_SUBMITTEDを含む）",
            "lineNumber": 482
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 483
          },
          {
            "text": "    SELECT ",
            "lineNumber": 484
          },
          {
            "text": "      vh.VACATION_ID,",
            "lineNumber": 485
          },
          {
            "text": "      DATE_FORMAT(vh.CREATED_AT, '%Y/%m/%d %H:%i') AS APPLICATION_DATE,",
            "lineNumber": 486
          },
          {
            "text": "      vh.CREATED_AT,",
            "lineNumber": 487
          },
          {
            "text": "      vh.APPROVAL_STATUS,",
            "lineNumber": 488
          },
          {
            "text": "      DATE_FORMAT(vh.UPDATED_AT, '%Y/%m/%d %H:%i') AS UPDATED_DATE,",
            "lineNumber": 489
          },
          {
            "text": "      e.EMPLOYEE_NAME AS ACTOR_NAME",
            "lineNumber": 490
          },
          {
            "text": "    FROM VACATION_HISTORY vh",
            "lineNumber": 491
          },
          {
            "text": "    LEFT JOIN EMPLOYEE e ON vh.EMPLOYEE_ID = e.EMPLOYEE_ID",
            "lineNumber": 492
          },
          {
            "text": "    WHERE vh.EMPLOYEE_ID = ? ",
            "lineNumber": 493
          },
          {
            "text": "      AND vh.START_DATE &lt;= ?",
            "lineNumber": 494
          },
          {
            "text": "      AND vh.END_DATE &gt;= ?",
            "lineNumber": 495
          },
          {
            "text": "      AND vh.APPROVAL_STATUS IN ('PENDING', 'APPROVED', 'NOT_SUBMITTED')",
            "lineNumber": 496
          },
          {
            "text": "    ORDER BY vh.CREATED_AT ASC",
            "lineNumber": 497
          },
          {
            "text": "  &#96;;",
            "lineNumber": 498
          },
          {
            "text": "  ",
            "lineNumber": 499
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, targetDate, targetDate]);",
            "lineNumber": 500
          },
          {
            "text": "  if (rows.length === 0) {",
            "lineNumber": 501
          },
          {
            "text": "    return null;",
            "lineNumber": 502
          },
          {
            "text": "  }",
            "lineNumber": 503
          },
          {
            "text": "  ",
            "lineNumber": 504
          },
          {
            "text": "  // 最新の申請（PENDINGまたはAPPROVED）を取得",
            "lineNumber": 505
          },
          {
            "text": "  // PENDINGまたはAPPROVEDの申請をフィルタして、CREATED_ATが最新のものを取得",
            "lineNumber": 506
          },
          {
            "text": "  const validApplications = rows.filter(r =&gt; r.APPROVAL_STATUS === 'PENDING' || r.APPROVAL_STATUS === 'APPROVED');",
            "lineNumber": 507
          },
          {
            "text": "  if (validApplications.length === 0) {",
            "lineNumber": 508
          },
          {
            "text": "    return null;",
            "lineNumber": 509
          },
          {
            "text": "  }",
            "lineNumber": 510
          },
          {
            "text": "  // CREATED_ATでソートして最新のものを取得",
            "lineNumber": 511
          },
          {
            "text": "  const latestApplication = validApplications.sort((a, b) =&gt; new Date(b.CREATED_AT) - new Date(a.CREATED_AT))[0];",
            "lineNumber": 512
          },
          {
            "text": "  if (!latestApplication) {",
            "lineNumber": 513
          },
          {
            "text": "    return null;",
            "lineNumber": 514
          },
          {
            "text": "  }",
            "lineNumber": 515
          },
          {
            "text": "  ",
            "lineNumber": 516
          },
          {
            "text": "  // 承認履歴を構築（時系列順）",
            "lineNumber": 517
          },
          {
            "text": "  const history = [];",
            "lineNumber": 518
          },
          {
            "text": "  let seqNo = 1;",
            "lineNumber": 519
          },
          {
            "text": "  ",
            "lineNumber": 520
          },
          {
            "text": "  for (let i = 0; i &lt; rows.length; i++) {",
            "lineNumber": 521
          },
          {
            "text": "    const app = rows[i];",
            "lineNumber": 522
          },
          {
            "text": "  }",
            "lineNumber": 558
          },
          {
            "text": ";",
            "lineNumber": 566
          }
        ]
      },
      "score": 0.4740528464317322
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1952
          },
          "endPosition": {
            "line": 2000
          }
        },
        "contents": "    async loadHolidayWorkApplicationData() {\n      // 休日出勤申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)\n        if (response.success &amp;&amp; response.applicationStatus) {\n          // 申請データを取得してフォームに設定\n          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定\n        }\n      } catch (error) {\n        console.error('休日出勤申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadVacationApplicationData() {\n      // 休暇申請データを読み込む（申請中または承認済みの場合）\n      try {\n        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)\n        if (response.success &amp;&amp; response.applicationData) {\n          const data = response.applicationData\n          // フォームに申請データを設定\n          if (data.VACATION_TYPE_CODE) {\n            this.vacationForm.vacationType = data.VACATION_TYPE_CODE\n          }\n          if (data.START_DATE) {\n            this.vacationForm.startDate = data.START_DATE\n          }\n          if (data.END_DATE) {\n            this.vacationForm.endDate = data.END_DATE\n            this.vacationForm.enableEndDate = true\n          } else if (data.START_DATE) {\n            // 終了日がない場合は開始日と同じにする\n            this.vacationForm.endDate = data.START_DATE\n            this.vacationForm.enableEndDate = false\n          }\n          if (data.REASON) {\n            this.vacationForm.reason = data.REASON\n          }\n          if (data.CONTACT_INFO) {\n            this.vacationForm.contact = data.CONTACT_INFO\n          }\n        }\n      } catch (error) {\n        console.error('休暇申請データ取得エラー:', error)\n      }\n    },\n    \n    async loadOvertimeApplicationData() {\n      // 残業申請データを読み込む（申請中または承認済みの場合）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    async loadHolidayWorkApplicationData() {",
            "lineNumber": 1953
          },
          {
            "text": "      // 休日出勤申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1954
          },
          {
            "text": "      try {",
            "lineNumber": 1955
          },
          {
            "text": "        const response = await getHolidayWorkStatus(this.employeeId, this.targetDate)",
            "lineNumber": 1956
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationStatus) {",
            "lineNumber": 1957
          },
          {
            "text": "          // 申請データを取得してフォームに設定",
            "lineNumber": 1958
          },
          {
            "text": "          // TODO: 申請データ取得APIを実装して、申請時の値をフォームに設定",
            "lineNumber": 1959
          },
          {
            "text": "        }",
            "lineNumber": 1960
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1961
          },
          {
            "text": "        console.error('休日出勤申請データ取得エラー:', error)",
            "lineNumber": 1962
          },
          {
            "text": "      }",
            "lineNumber": 1963
          },
          {
            "text": "    },",
            "lineNumber": 1964
          },
          {
            "text": "    ",
            "lineNumber": 1965
          },
          {
            "text": "    async loadVacationApplicationData() {",
            "lineNumber": 1966
          },
          {
            "text": "      // 休暇申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 1967
          },
          {
            "text": "      try {",
            "lineNumber": 1968
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, 'VACATION', this.targetDate)",
            "lineNumber": 1969
          },
          {
            "text": "        if (response.success &amp;&amp; response.applicationData) {",
            "lineNumber": 1970
          },
          {
            "text": "          const data = response.applicationData",
            "lineNumber": 1971
          },
          {
            "text": "          // フォームに申請データを設定",
            "lineNumber": 1972
          },
          {
            "text": "          if (data.VACATION_TYPE_CODE) {",
            "lineNumber": 1973
          },
          {
            "text": "            this.vacationForm.vacationType = data.VACATION_TYPE_CODE",
            "lineNumber": 1974
          },
          {
            "text": "          }",
            "lineNumber": 1975
          },
          {
            "text": "          if (data.START_DATE) {",
            "lineNumber": 1976
          },
          {
            "text": "            this.vacationForm.startDate = data.START_DATE",
            "lineNumber": 1977
          },
          {
            "text": "          }",
            "lineNumber": 1978
          },
          {
            "text": "          if (data.END_DATE) {",
            "lineNumber": 1979
          },
          {
            "text": "            this.vacationForm.endDate = data.END_DATE",
            "lineNumber": 1980
          },
          {
            "text": "            this.vacationForm.enableEndDate = true",
            "lineNumber": 1981
          },
          {
            "text": "          } else if (data.START_DATE) {",
            "lineNumber": 1982
          },
          {
            "text": "            // 終了日がない場合は開始日と同じにする",
            "lineNumber": 1983
          },
          {
            "text": "            this.vacationForm.endDate = data.START_DATE",
            "lineNumber": 1984
          },
          {
            "text": "            this.vacationForm.enableEndDate = false",
            "lineNumber": 1985
          },
          {
            "text": "          }",
            "lineNumber": 1986
          },
          {
            "text": "          if (data.REASON) {",
            "lineNumber": 1987
          },
          {
            "text": "            this.vacationForm.reason = data.REASON",
            "lineNumber": 1988
          },
          {
            "text": "          }",
            "lineNumber": 1989
          },
          {
            "text": "          if (data.CONTACT_INFO) {",
            "lineNumber": 1990
          },
          {
            "text": "            this.vacationForm.contact = data.CONTACT_INFO",
            "lineNumber": 1991
          },
          {
            "text": "          }",
            "lineNumber": 1992
          },
          {
            "text": "        }",
            "lineNumber": 1993
          },
          {
            "text": "      } catch (error) {",
            "lineNumber": 1994
          },
          {
            "text": "        console.error('休暇申請データ取得エラー:', error)",
            "lineNumber": 1995
          },
          {
            "text": "      }",
            "lineNumber": 1996
          },
          {
            "text": "    },",
            "lineNumber": 1997
          },
          {
            "text": "    ",
            "lineNumber": 1998
          },
          {
            "text": "    async loadOvertimeApplicationData() {",
            "lineNumber": 1999
          },
          {
            "text": "      // 残業申請データを読み込む（申請中または承認済みの場合）",
            "lineNumber": 2000
          }
        ]
      },
      "score": 0.4583168029785156
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\services\\api.js",
        "range": {
          "startPosition": {
            "line": 207,
            "column": 1
          },
          "endPosition": {
            "line": 230,
            "column": 3
          }
        },
        "contents": "/**\n * 申請情報と承認履歴を取得する。\n *\n * @param {string} employeeId 従業員ID\n * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string} targetDate 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請情報データ\n */\nexport async function getApplicationInfo(employeeId, applicationType, targetDate) {\n  const endpoint = &#96;/application/application-info?employeeId=${employeeId}&amp;applicationType=${applicationType}&amp;targetDate=${targetDate}&#96;\n  return await apiRequest(endpoint, { method: 'GET' })\n}\n\n/**\n * 申請を取り消す。\n *\n * @param {string} employeeId 従業員ID\n * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string|number} applicationId 申請ID（日次確定の場合は不要）\n * @param {string} targetDate 対象日（YYYY-MM-DD形式、日次確定の場合のみ必要）\n * @returns {Promise&lt;Object&gt;} レスポンスデータ\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 210
          },
          {
            "text": " * 申請情報と承認履歴を取得する。",
            "lineNumber": 211
          },
          {
            "text": " *",
            "lineNumber": 212
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 213
          },
          {
            "text": " * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 214
          },
          {
            "text": " * @param {string} targetDate 対象日（YYYY-MM-DD形式）",
            "lineNumber": 215
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請情報データ",
            "lineNumber": 216
          },
          {
            "text": " */",
            "lineNumber": 217
          },
          {
            "text": "export async function getApplicationInfo(employeeId, applicationType, targetDate) {",
            "lineNumber": 218,
            "isSignature": true
          },
          {
            "text": "  const endpoint = &#96;/application/application-info?employeeId=${employeeId}&amp;applicationType=${applicationType}&amp;targetDate=${targetDate}&#96;",
            "lineNumber": 219
          },
          {
            "text": "  return await apiRequest(endpoint, { method: 'GET' })",
            "lineNumber": 220
          },
          {
            "text": "}",
            "lineNumber": 221,
            "isSignature": true
          },
          {
            "lineNumber": 222
          },
          {
            "text": "/**",
            "lineNumber": 223
          },
          {
            "text": " * 申請を取り消す。",
            "lineNumber": 224
          },
          {
            "text": " *",
            "lineNumber": 225
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 226
          },
          {
            "text": " * @param {string} applicationType 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 227
          },
          {
            "text": " * @param {string|number} applicationId 申請ID（日次確定の場合は不要）",
            "lineNumber": 228
          },
          {
            "text": " * @param {string} targetDate 対象日（YYYY-MM-DD形式、日次確定の場合のみ必要）",
            "lineNumber": 229
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} レスポンスデータ",
            "lineNumber": 230
          },
          {
            "text": " */",
            "lineNumber": 231
          }
        ]
      },
      "score": 0.45199596881866455
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\routes\\application.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 35
          }
        },
        "contents": "const express = require('express');\nconst router = express.Router();\nconst applicationController = require('../controllers/applicationController');\nconst applicationService = require('../services/applicationService');\n\n/**\n * 休暇情報取得API\n * GET /api/application/vacation-info\n */\nrouter.get('/vacation-info', applicationController.getVacationInfo);\n\n/**\n * 有給残日数取得API\n * GET /api/application/vacation/balance\n */\nrouter.get",
        "signatures": {},
        "detailedLines": [
          {
            "text": "const express = require('express');",
            "lineNumber": 1
          },
          {
            "text": "const router = express.Router();",
            "lineNumber": 2
          },
          {
            "text": "const applicationController = require('../controllers/applicationController');",
            "lineNumber": 3
          },
          {
            "text": "const applicationService = require('../services/applicationService');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇情報取得API",
            "lineNumber": 7
          },
          {
            "text": " * GET /api/application/vacation-info",
            "lineNumber": 8
          },
          {
            "text": " */",
            "lineNumber": 9
          },
          {
            "text": "router.get('/vacation-info', applicationController.getVacationInfo);",
            "lineNumber": 10
          },
          {
            "lineNumber": 11
          },
          {
            "text": "/**",
            "lineNumber": 12
          },
          {
            "text": " * 有給残日数取得API",
            "lineNumber": 13
          },
          {
            "text": " * GET /api/application/vacation/balance",
            "lineNumber": 14
          },
          {
            "text": " */",
            "lineNumber": 15
          },
          {
            "text": "router.get",
            "lineNumber": 16
          }
        ]
      },
      "score": 0.42898380756378174
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 435,
            "column": 2
          },
          "endPosition": {
            "line": 457,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇情報を取得\n * @param {string} employeeId - 従業員ID\n * @returns {Promise&lt;Object&gt;} 休暇情報\n */\nconst getVacationInfo = async (employeeId) =&gt; {\n  const balances = await applicationModel.getVacationBalanceSummary(employeeId);\n  const history = await applicationModel.getVacationHistory(employeeId, 20);\n  \n  return {\n    balances,\n    history\n  };\n};\n\n/**\n * 有給残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 438
          },
          {
            "text": " * 休暇情報を取得",
            "lineNumber": 439
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 440
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 休暇情報",
            "lineNumber": 441
          },
          {
            "text": " */",
            "lineNumber": 442
          },
          {
            "text": "const getVacationInfo = async (employeeId) =&gt; {",
            "lineNumber": 443
          },
          {
            "text": "  const balances = await applicationModel.getVacationBalanceSummary(employeeId);",
            "lineNumber": 444
          },
          {
            "text": "  const history = await applicationModel.getVacationHistory(employeeId, 20);",
            "lineNumber": 445
          },
          {
            "text": "  ",
            "lineNumber": 446
          },
          {
            "text": "  return {",
            "lineNumber": 447
          },
          {
            "text": "    balances,",
            "lineNumber": 448
          },
          {
            "text": "    history",
            "lineNumber": 449
          },
          {
            "text": "  };",
            "lineNumber": 450
          },
          {
            "text": "};",
            "lineNumber": 451
          },
          {
            "lineNumber": 452
          },
          {
            "text": "/**",
            "lineNumber": 453
          },
          {
            "text": " * 有給残日数を取得",
            "lineNumber": 454
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 455
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 456
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 457
          },
          {
            "text": " */",
            "lineNumber": 458
          }
        ]
      },
      "score": 0.42675331234931946
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 255,
            "column": 2
          },
          "endPosition": {
            "line": 306,
            "column": 1
          }
        },
        "contents": "/**\n * 休暇情報取得\n */\nconst getVacationInfo = async (req, res, next) =&gt; {\n  try {\n    const { employeeId } = req.query;\n    \n    if (!employeeId) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員IDが必要です。'\n      });\n    }\n    \n    const result = await applicationService.getVacationInfo(employeeId);\n    \n    res.json({\n      success: true,\n      ...result\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * 申請状態取得\n */\nconst getApplicationStatus = async (req, res, next)\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 258
          },
          {
            "text": " * 休暇情報取得",
            "lineNumber": 259
          },
          {
            "text": " */",
            "lineNumber": 260
          },
          {
            "text": "const getVacationInfo = async (req, res, next) =&gt; {",
            "lineNumber": 261
          },
          {
            "text": "  try {",
            "lineNumber": 262
          },
          {
            "text": "    const { employeeId } = req.query;",
            "lineNumber": 263
          },
          {
            "text": "    ",
            "lineNumber": 264
          },
          {
            "text": "    if (!employeeId) {",
            "lineNumber": 265
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 266
          },
          {
            "text": "        success: false,",
            "lineNumber": 267
          },
          {
            "text": "        message: '従業員IDが必要です。'",
            "lineNumber": 268
          },
          {
            "text": "      });",
            "lineNumber": 269
          },
          {
            "text": "    }",
            "lineNumber": 270
          },
          {
            "text": "    ",
            "lineNumber": 271
          },
          {
            "text": "    const result = await applicationService.getVacationInfo(employeeId);",
            "lineNumber": 272
          },
          {
            "text": "    ",
            "lineNumber": 273
          },
          {
            "text": "    res.json({",
            "lineNumber": 274
          },
          {
            "text": "      success: true,",
            "lineNumber": 275
          },
          {
            "text": "      ...result",
            "lineNumber": 276
          },
          {
            "text": "    });",
            "lineNumber": 277
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 278
          },
          {
            "text": "    next(error);",
            "lineNumber": 279
          },
          {
            "text": "  }",
            "lineNumber": 280
          },
          {
            "text": "};",
            "lineNumber": 281
          },
          {
            "lineNumber": 282
          },
          {
            "text": "/**",
            "lineNumber": 283
          },
          {
            "text": " * 申請状態取得",
            "lineNumber": 284
          },
          {
            "text": " */",
            "lineNumber": 285
          },
          {
            "text": "const getApplicationStatus = async (req, res, next)",
            "lineNumber": 286
          },
          {
            "text": ";",
            "lineNumber": 307
          }
        ]
      },
      "score": 0.42598339915275574
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\components\\dialog\\AttendanceApplicationDialog.vue",
        "range": {
          "startPosition": {
            "line": 1729
          },
          "endPosition": {
            "line": 1760,
            "column": 12
          }
        },
        "contents": "    getCancelButtonLabel(applicationType) {\n      const status = this.applicationStatuses[applicationType]\n      if (status === 'PENDING') {\n        return '申請取消'\n      } else if (status === 'APPROVED') {\n        return '承認取消'\n      }\n      return '取消'\n    },\n    \n    \n    // 申請情報を取得\n    async loadApplicationInfo(applicationType) {\n      try {\n        const apiTypeMap = {\n          dailyConfirmation: 'DAILY_CONFIRMATION',\n          vacation: 'VACATION',\n          holidayWork: 'HOLIDAY_WORK',\n          overtime: 'OVERTIME',\n          earlyWork: 'EARLY_WORK',\n          transfer: 'TRANSFER'\n        }\n        \n        const apiType = apiTypeMap[applicationType]\n        if (!apiType) return\n        \n        // 申請情報取得APIを呼び出し\n        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)\n        \n        if (response.success) {\n          if (response.applicationDate) {\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getCancelButtonLabel(applicationType) {",
            "lineNumber": 1730
          },
          {
            "text": "      const status = this.applicationStatuses[applicationType]",
            "lineNumber": 1731
          },
          {
            "text": "      if (status === 'PENDING') {",
            "lineNumber": 1732
          },
          {
            "text": "        return '申請取消'",
            "lineNumber": 1733
          },
          {
            "text": "      } else if (status === 'APPROVED') {",
            "lineNumber": 1734
          },
          {
            "text": "        return '承認取消'",
            "lineNumber": 1735
          },
          {
            "text": "      }",
            "lineNumber": 1736
          },
          {
            "text": "      return '取消'",
            "lineNumber": 1737
          },
          {
            "text": "    },",
            "lineNumber": 1738
          },
          {
            "text": "    ",
            "lineNumber": 1739
          },
          {
            "text": "    ",
            "lineNumber": 1740
          },
          {
            "text": "    // 申請情報を取得",
            "lineNumber": 1741
          },
          {
            "text": "    async loadApplicationInfo(applicationType) {",
            "lineNumber": 1742
          },
          {
            "text": "      try {",
            "lineNumber": 1743
          },
          {
            "text": "        const apiTypeMap = {",
            "lineNumber": 1744
          },
          {
            "text": "          dailyConfirmation: 'DAILY_CONFIRMATION',",
            "lineNumber": 1745
          },
          {
            "text": "          vacation: 'VACATION',",
            "lineNumber": 1746
          },
          {
            "text": "          holidayWork: 'HOLIDAY_WORK',",
            "lineNumber": 1747
          },
          {
            "text": "          overtime: 'OVERTIME',",
            "lineNumber": 1748
          },
          {
            "text": "          earlyWork: 'EARLY_WORK',",
            "lineNumber": 1749
          },
          {
            "text": "          transfer: 'TRANSFER'",
            "lineNumber": 1750
          },
          {
            "text": "        }",
            "lineNumber": 1751
          },
          {
            "text": "        ",
            "lineNumber": 1752
          },
          {
            "text": "        const apiType = apiTypeMap[applicationType]",
            "lineNumber": 1753
          },
          {
            "text": "        if (!apiType) return",
            "lineNumber": 1754
          },
          {
            "text": "        ",
            "lineNumber": 1755
          },
          {
            "text": "        // 申請情報取得APIを呼び出し",
            "lineNumber": 1756
          },
          {
            "text": "        const response = await getApplicationInfo(this.employeeId, apiType, this.targetDate)",
            "lineNumber": 1757
          },
          {
            "text": "        ",
            "lineNumber": 1758
          },
          {
            "text": "        if (response.success) {",
            "lineNumber": 1759
          },
          {
            "text": "          if (response.applicationDate) {",
            "lineNumber": 1760
          },
          {
            "text": "            ",
            "lineNumber": 1761
          }
        ]
      },
      "score": 0.4183247983455658
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 565,
            "column": 2
          },
          "endPosition": {
            "line": 660,
            "column": 1
          }
        },
        "contents": "/**\n * 申請情報と承認履歴を取得（その他の申請：休日出勤、残業、早朝勤務、振替）\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請種別\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴\n */\nconst getApplicationInfo = async (employeeId, applicationType, targetDate) =&gt; {\n  // 全ての申請履歴を取得（PENDING, APPROVED, NOT_SUBMITTEDを含む）\n  const query = &#96;\n    SELECT \n      ah.APPLICATION_ID,\n      DATE_FORMAT(ah.CREATED_AT, '%Y/%m/%d %H:%i') AS APPLICATION_DATE,\n      ah.CREATED_AT,\n      ah.APPROVAL_STATUS,\n      DATE_FORMAT(ah.UPDATED_AT, '%Y/%m/%d %H:%i') AS UPDATED_DATE,\n      e.EMPLOYEE_NAME AS ACTOR_NAME\n    FROM APPLICATION_HISTORY ah\n    LEFT JOIN EMPLOYEE e ON ah.EMPLOYEE_ID = e.EMPLOYEE_ID\n    WHERE ah.EMPLOYEE_ID = ? \n      AND ah.APPLICATION_TYPE = ?\n      AND ah.TARGET_START_DATE &lt;= ?\n      AND ah.TARGET_END_DATE &gt;= ?\n      AND ah.APPROVAL_STATUS IN ('PENDING', 'APPROVED', 'NOT_SUBMITTED')\n    ORDER BY ah.CREATED_AT ASC\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, applicationType, targetDate, targetDate]);\n  if (rows.length === 0) {\n    return null;\n  }\n  \n  // 最新の申請（PENDINGまたはAPPROVED）を取得\n  // PENDINGまたはAPPROVEDの申請をフィルタして、CREATED_ATが最新のものを取得\n  const validApplications = rows.filter(r =&gt; r.APPROVAL_STATUS === 'PENDING' || r.APPROVAL_STATUS === 'APPROVED');\n  if (validApplications.length === 0) {\n    return null;\n  }\n  // CREATED_ATでソートして最新のものを取得\n  const latestApplication = validApplications.sort((a, b) =&gt; new Date(b.CREATED_AT) - new Date(a.CREATED_AT))[0];\n  if (!latestApplication) {\n    return null;\n  }\n  \n  // 承認履歴を構築（時系列順）\n  const history = [];\n  let seqNo = 1;\n  \n  for (let i = 0; i &lt; rows.length; i++) {\n    const app = rows[i];\n  }\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 568
          },
          {
            "text": " * 申請情報と承認履歴を取得（その他の申請：休日出勤、残業、早朝勤務、振替）",
            "lineNumber": 569
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 570
          },
          {
            "text": " * @param {string} applicationType - 申請種別",
            "lineNumber": 571
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 572
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
            "lineNumber": 573
          },
          {
            "text": " */",
            "lineNumber": 574
          },
          {
            "text": "const getApplicationInfo = async (employeeId, applicationType, targetDate) =&gt; {",
            "lineNumber": 575
          },
          {
            "text": "  // 全ての申請履歴を取得（PENDING, APPROVED, NOT_SUBMITTEDを含む）",
            "lineNumber": 576
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 577
          },
          {
            "text": "    SELECT ",
            "lineNumber": 578
          },
          {
            "text": "      ah.APPLICATION_ID,",
            "lineNumber": 579
          },
          {
            "text": "      DATE_FORMAT(ah.CREATED_AT, '%Y/%m/%d %H:%i') AS APPLICATION_DATE,",
            "lineNumber": 580
          },
          {
            "text": "      ah.CREATED_AT,",
            "lineNumber": 581
          },
          {
            "text": "      ah.APPROVAL_STATUS,",
            "lineNumber": 582
          },
          {
            "text": "      DATE_FORMAT(ah.UPDATED_AT, '%Y/%m/%d %H:%i') AS UPDATED_DATE,",
            "lineNumber": 583
          },
          {
            "text": "      e.EMPLOYEE_NAME AS ACTOR_NAME",
            "lineNumber": 584
          },
          {
            "text": "    FROM APPLICATION_HISTORY ah",
            "lineNumber": 585
          },
          {
            "text": "    LEFT JOIN EMPLOYEE e ON ah.EMPLOYEE_ID = e.EMPLOYEE_ID",
            "lineNumber": 586
          },
          {
            "text": "    WHERE ah.EMPLOYEE_ID = ? ",
            "lineNumber": 587
          },
          {
            "text": "      AND ah.APPLICATION_TYPE = ?",
            "lineNumber": 588
          },
          {
            "text": "      AND ah.TARGET_START_DATE &lt;= ?",
            "lineNumber": 589
          },
          {
            "text": "      AND ah.TARGET_END_DATE &gt;= ?",
            "lineNumber": 590
          },
          {
            "text": "      AND ah.APPROVAL_STATUS IN ('PENDING', 'APPROVED', 'NOT_SUBMITTED')",
            "lineNumber": 591
          },
          {
            "text": "    ORDER BY ah.CREATED_AT ASC",
            "lineNumber": 592
          },
          {
            "text": "  &#96;;",
            "lineNumber": 593
          },
          {
            "text": "  ",
            "lineNumber": 594
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, applicationType, targetDate, targetDate]);",
            "lineNumber": 595
          },
          {
            "text": "  if (rows.length === 0) {",
            "lineNumber": 596
          },
          {
            "text": "    return null;",
            "lineNumber": 597
          },
          {
            "text": "  }",
            "lineNumber": 598
          },
          {
            "text": "  ",
            "lineNumber": 599
          },
          {
            "text": "  // 最新の申請（PENDINGまたはAPPROVED）を取得",
            "lineNumber": 600
          },
          {
            "text": "  // PENDINGまたはAPPROVEDの申請をフィルタして、CREATED_ATが最新のものを取得",
            "lineNumber": 601
          },
          {
            "text": "  const validApplications = rows.filter(r =&gt; r.APPROVAL_STATUS === 'PENDING' || r.APPROVAL_STATUS === 'APPROVED');",
            "lineNumber": 602
          },
          {
            "text": "  if (validApplications.length === 0) {",
            "lineNumber": 603
          },
          {
            "text": "    return null;",
            "lineNumber": 604
          },
          {
            "text": "  }",
            "lineNumber": 605
          },
          {
            "text": "  // CREATED_ATでソートして最新のものを取得",
            "lineNumber": 606
          },
          {
            "text": "  const latestApplication = validApplications.sort((a, b) =&gt; new Date(b.CREATED_AT) - new Date(a.CREATED_AT))[0];",
            "lineNumber": 607
          },
          {
            "text": "  if (!latestApplication) {",
            "lineNumber": 608
          },
          {
            "text": "    return null;",
            "lineNumber": 609
          },
          {
            "text": "  }",
            "lineNumber": 610
          },
          {
            "text": "  ",
            "lineNumber": 611
          },
          {
            "text": "  // 承認履歴を構築（時系列順）",
            "lineNumber": 612
          },
          {
            "text": "  const history = [];",
            "lineNumber": 613
          },
          {
            "text": "  let seqNo = 1;",
            "lineNumber": 614
          },
          {
            "text": "  ",
            "lineNumber": 615
          },
          {
            "text": "  for (let i = 0; i &lt; rows.length; i++) {",
            "lineNumber": 616
          },
          {
            "text": "    const app = rows[i];",
            "lineNumber": 617
          },
          {
            "text": "  }",
            "lineNumber": 653
          },
          {
            "text": ";",
            "lineNumber": 661
          }
        ]
      },
      "score": 0.4173755645751953
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {
            "line": 306,
            "column": 2
          },
          "endPosition": {
            "line": 394,
            "column": 1
          }
        },
        "contents": "/**\n * 申請情報取得\n */\nconst getApplicationInfo = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, applicationType, targetDate } = req.query;\n    \n    if (!employeeId || !applicationType || !targetDate) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員ID、申請タイプ、対象日が必要です。'\n      });\n    }\n    \n    const applicationInfo = await applicationService.getApplicationInfo(\n      employeeId,\n      applicationType,\n      targetDate\n    );\n    \n    if (!applicationInfo) {\n      return res.json({\n        success: true,\n        applicationDate: null,\n        status: null,\n        history: []\n      });\n    }\n    \n    res.json({\n      success: true,\n      applicationId: applicationInfo.applicationId,\n      applicationDate: applicationInfo.applicationDate,\n      status: applicationInfo.status,\n      history: applicationInfo.history\n    });\n  } catch (error) {\n    next(error);\n  }\n};\n\n/**\n * 申請取消\n */\nconst cancelApplication = async (req, res, next) =&gt;\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 309
          },
          {
            "text": " * 申請情報取得",
            "lineNumber": 310
          },
          {
            "text": " */",
            "lineNumber": 311
          },
          {
            "text": "const getApplicationInfo = async (req, res, next) =&gt; {",
            "lineNumber": 312
          },
          {
            "text": "  try {",
            "lineNumber": 313
          },
          {
            "text": "    const { employeeId, applicationType, targetDate } = req.query;",
            "lineNumber": 314
          },
          {
            "text": "    ",
            "lineNumber": 315
          },
          {
            "text": "    if (!employeeId || !applicationType || !targetDate) {",
            "lineNumber": 316
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 317
          },
          {
            "text": "        success: false,",
            "lineNumber": 318
          },
          {
            "text": "        message: '従業員ID、申請タイプ、対象日が必要です。'",
            "lineNumber": 319
          },
          {
            "text": "      });",
            "lineNumber": 320
          },
          {
            "text": "    }",
            "lineNumber": 321
          },
          {
            "text": "    ",
            "lineNumber": 322
          },
          {
            "text": "    const applicationInfo = await applicationService.getApplicationInfo(",
            "lineNumber": 323
          },
          {
            "text": "      employeeId,",
            "lineNumber": 324
          },
          {
            "text": "      applicationType,",
            "lineNumber": 325
          },
          {
            "text": "      targetDate",
            "lineNumber": 326
          },
          {
            "text": "    );",
            "lineNumber": 327
          },
          {
            "text": "    ",
            "lineNumber": 328
          },
          {
            "text": "    if (!applicationInfo) {",
            "lineNumber": 329
          },
          {
            "text": "      return res.json({",
            "lineNumber": 330
          },
          {
            "text": "        success: true,",
            "lineNumber": 331
          },
          {
            "text": "        applicationDate: null,",
            "lineNumber": 332
          },
          {
            "text": "        status: null,",
            "lineNumber": 333
          },
          {
            "text": "        history: []",
            "lineNumber": 334
          },
          {
            "text": "      });",
            "lineNumber": 335
          },
          {
            "text": "    }",
            "lineNumber": 336
          },
          {
            "text": "    ",
            "lineNumber": 337
          },
          {
            "text": "    res.json({",
            "lineNumber": 338
          },
          {
            "text": "      success: true,",
            "lineNumber": 339
          },
          {
            "text": "      applicationId: applicationInfo.applicationId,",
            "lineNumber": 340
          },
          {
            "text": "      applicationDate: applicationInfo.applicationDate,",
            "lineNumber": 341
          },
          {
            "text": "      status: applicationInfo.status,",
            "lineNumber": 342
          },
          {
            "text": "      history: applicationInfo.history",
            "lineNumber": 343
          },
          {
            "text": "    });",
            "lineNumber": 344
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 345
          },
          {
            "text": "    next(error);",
            "lineNumber": 346
          },
          {
            "text": "  }",
            "lineNumber": 347
          },
          {
            "text": "};",
            "lineNumber": 348
          },
          {
            "lineNumber": 349
          },
          {
            "text": "/**",
            "lineNumber": 350
          },
          {
            "text": " * 申請取消",
            "lineNumber": 351
          },
          {
            "text": " */",
            "lineNumber": 352
          },
          {
            "text": "const cancelApplication = async (req, res, next) =&gt;",
            "lineNumber": 353
          },
          {
            "text": ";",
            "lineNumber": 395
          }
        ]
      },
      "score": 0.41088974475860596
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\services\\api.js",
        "range": {
          "startPosition": {
            "line": 137,
            "column": 1
          },
          "endPosition": {
            "line": 155,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇情報を取得する。\n *\n * @param {string} employeeId 従業員ID\n * @returns {Promise&lt;Object&gt;} 休暇情報データ\n */\nexport async function getVacationInfo(employeeId) {\n  const endpoint = &#96;/application/vacation-info?employeeId=${employeeId}&#96;\n  return await apiRequest(endpoint, { method: 'GET' })\n}\n\n/**\n * お知らせを取得する。\n *\n * @param {string} employeeId 従業員ID\n * @returns {Promise&lt;Array&gt;} お知らせデータ\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 140
          },
          {
            "text": " * 休暇情報を取得する。",
            "lineNumber": 141
          },
          {
            "text": " *",
            "lineNumber": 142
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 143
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 休暇情報データ",
            "lineNumber": 144
          },
          {
            "text": " */",
            "lineNumber": 145
          },
          {
            "text": "export async function getVacationInfo(employeeId) {",
            "lineNumber": 146,
            "isSignature": true
          },
          {
            "text": "  const endpoint = &#96;/application/vacation-info?employeeId=${employeeId}&#96;",
            "lineNumber": 147
          },
          {
            "text": "  return await apiRequest(endpoint, { method: 'GET' })",
            "lineNumber": 148
          },
          {
            "text": "}",
            "lineNumber": 149,
            "isSignature": true
          },
          {
            "lineNumber": 150
          },
          {
            "text": "/**",
            "lineNumber": 151
          },
          {
            "text": " * お知らせを取得する。",
            "lineNumber": 152
          },
          {
            "text": " *",
            "lineNumber": 153
          },
          {
            "text": " * @param {string} employeeId 従業員ID",
            "lineNumber": 154
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} お知らせデータ",
            "lineNumber": 155
          },
          {
            "text": " */",
            "lineNumber": 156
          }
        ]
      },
      "score": 0.40339919924736023
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 56,
            "column": 3
          }
        },
        "contents": "/**\n * 申請サービス\n */\nconst applicationModel = require('../models/applicationModel');\nconst { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');\n\n/**\n * 休暇申請\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst applyVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    reason,\n    contact\n  } = vacationData;\n  \n  // 日数を計算\n  const vacationDays = calculateDays(startDate, endDate);\n  \n  // 有給休暇の場合、残日数チェックと残日数の減算\n  if (vacationTypeCode === 'PAID_LEAVE') {\n    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);\n    if (vacationDays &gt; remainingDays) {\n      throw new Error('有給休暇の残日数が不足しています。');\n    }\n    \n    // 申請時に残日数を減らす\n    const fiscalYear = getFiscalYear(startDate);\n    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);\n  }\n  \n  const now = getNow();\n  \n  return await applicationModel.createVacation({\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo: contact,\n    approvalStatus: 'PENDING',\n    createdAt: now,\n    updatedAt: now\n  });\n};\n\n/**\n * 休日出勤申請\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請サービス",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationModel = require('../models/applicationModel');",
            "lineNumber": 4
          },
          {
            "text": "const { getNow, calculateDays, normalizeDate, getFiscalYear } = require('../utils/dateUtils');",
            "lineNumber": 5
          },
          {
            "lineNumber": 6
          },
          {
            "text": "/**",
            "lineNumber": 7
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 8
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 9
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 10
          },
          {
            "text": " */",
            "lineNumber": 11
          },
          {
            "text": "const applyVacation = async (vacationData) =&gt; {",
            "lineNumber": 12
          },
          {
            "text": "  const {",
            "lineNumber": 13
          },
          {
            "text": "    employeeId,",
            "lineNumber": 14
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 15
          },
          {
            "text": "    startDate,",
            "lineNumber": 16
          },
          {
            "text": "    endDate,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contact",
            "lineNumber": 19
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 20
          },
          {
            "text": "  ",
            "lineNumber": 21
          },
          {
            "text": "  // 日数を計算",
            "lineNumber": 22
          },
          {
            "text": "  const vacationDays = calculateDays(startDate, endDate);",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  // 有給休暇の場合、残日数チェックと残日数の減算",
            "lineNumber": 25
          },
          {
            "text": "  if (vacationTypeCode === 'PAID_LEAVE') {",
            "lineNumber": 26
          },
          {
            "text": "    const remainingDays = await applicationModel.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 27
          },
          {
            "text": "    if (vacationDays &gt; remainingDays) {",
            "lineNumber": 28
          },
          {
            "text": "      throw new Error('有給休暇の残日数が不足しています。');",
            "lineNumber": 29
          },
          {
            "text": "    }",
            "lineNumber": 30
          },
          {
            "text": "    ",
            "lineNumber": 31
          },
          {
            "text": "    // 申請時に残日数を減らす",
            "lineNumber": 32
          },
          {
            "text": "    const fiscalYear = getFiscalYear(startDate);",
            "lineNumber": 33
          },
          {
            "text": "    await applicationModel.decreaseVacationBalance(employeeId, vacationTypeCode, vacationDays, fiscalYear);",
            "lineNumber": 34
          },
          {
            "text": "  }",
            "lineNumber": 35
          },
          {
            "text": "  ",
            "lineNumber": 36
          },
          {
            "text": "  const now = getNow();",
            "lineNumber": 37
          },
          {
            "text": "  ",
            "lineNumber": 38
          },
          {
            "text": "  return await applicationModel.createVacation({",
            "lineNumber": 39
          },
          {
            "text": "    employeeId,",
            "lineNumber": 40
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 41
          },
          {
            "text": "    startDate,",
            "lineNumber": 42
          },
          {
            "text": "    endDate,",
            "lineNumber": 43
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 44
          },
          {
            "text": "    reason,",
            "lineNumber": 45
          },
          {
            "text": "    contactInfo: contact,",
            "lineNumber": 46
          },
          {
            "text": "    approvalStatus: 'PENDING',",
            "lineNumber": 47
          },
          {
            "text": "    createdAt: now,",
            "lineNumber": 48
          },
          {
            "text": "    updatedAt: now",
            "lineNumber": 49
          },
          {
            "text": "  });",
            "lineNumber": 50
          },
          {
            "text": "};",
            "lineNumber": 51
          },
          {
            "lineNumber": 52
          },
          {
            "text": "/**",
            "lineNumber": 53
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 54
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 55
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 56
          },
          {
            "text": " */",
            "lineNumber": 57
          }
        ]
      },
      "score": 0.3918550908565521
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 480
          },
          "endPosition": {
            "line": 573,
            "column": 3
          }
        },
        "contents": "const getVacationApplicationInfo = async \n\n  let seqNo = 1;\n  \n  for (let i = 0; i &lt; rows.length; i++) {\n    const app = rows[i];\n    const isLast = i === rows.length - 1;\n    \n    // 申請履歴\n    history.push({\n      SEQ_NO: seqNo++,\n      ACTION_DATETIME: app.APPLICATION_DATE,\n      ACTION_TYPE: 'SUBMIT',\n      ACTION_TYPE_DISPLAY: '申請済み',\n      ACTOR_NAME: app.ACTOR_NAME || '',\n      COMMENT: ''\n    });\n    \n    // 承認済みの場合、承認履歴を追加\n    if (app.APPROVAL_STATUS === 'APPROVED') {\n      history.push({\n        SEQ_NO: seqNo++,\n        ACTION_DATETIME: app.UPDATED_DATE,\n        ACTION_TYPE: 'APPROVE',\n        ACTION_TYPE_DISPLAY: '承認済み',\n        ACTOR_NAME: app.ACTOR_NAME || '',\n        COMMENT: ''\n      });\n    }\n    \n    // 取消された場合（NOT_SUBMITTEDで、次の申請がある場合）、取消履歴を追加\n    if (app.APPROVAL_STATUS === 'NOT_SUBMITTED' &amp;&amp; !isLast) {\n      history.push({\n        SEQ_NO: seqNo++,\n        ACTION_DATETIME: app.UPDATED_DATE,\n        ACTION_TYPE: 'CANCEL',\n        ACTION_TYPE_DISPLAY: '申請取消',\n        ACTOR_NAME: app.ACTOR_NAME || '',\n        COMMENT: ''\n      });\n    }\n  }\n  \n  return {\n    applicationId: latestApplication.VACATION_ID,\n    applicationDate: latestApplication.APPLICATION_DATE,\n    status: latestApplication.APPROVAL_STATUS === 'PENDING' ? '申請済み' : '承認済み',\n    history: history\n  };\n};\n\n/**\n * 申請情報と承認履歴を取得（その他の申請：休日出勤、残業、早朝勤務、振替）\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請種別\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴\n */",
        "signatures": {
          "ranges": [
            {
              "startPosition": {
                "line": 481,
                "column": 1
              },
              "endPosition": {
                "line": 481,
                "column": 7
              }
            },
            {
              "startPosition": {
                "line": 481,
                "column": 7
              },
              "endPosition": {
                "line": 481,
                "column": 42
              }
            }
          ]
        },
        "detailedLines": [
          {
            "text": "const getVacationApplicationInfo = async ",
            "lineNumber": 481
          },
          {
            "lineNumber": 518
          },
          {
            "text": "  let seqNo = 1;",
            "lineNumber": 519
          },
          {
            "text": "  ",
            "lineNumber": 520
          },
          {
            "text": "  for (let i = 0; i &lt; rows.length; i++) {",
            "lineNumber": 521
          },
          {
            "text": "    const app = rows[i];",
            "lineNumber": 522
          },
          {
            "text": "    const isLast = i === rows.length - 1;",
            "lineNumber": 523
          },
          {
            "text": "    ",
            "lineNumber": 524
          },
          {
            "text": "    // 申請履歴",
            "lineNumber": 525
          },
          {
            "text": "    history.push({",
            "lineNumber": 526
          },
          {
            "text": "      SEQ_NO: seqNo++,",
            "lineNumber": 527
          },
          {
            "text": "      ACTION_DATETIME: app.APPLICATION_DATE,",
            "lineNumber": 528
          },
          {
            "text": "      ACTION_TYPE: 'SUBMIT',",
            "lineNumber": 529
          },
          {
            "text": "      ACTION_TYPE_DISPLAY: '申請済み',",
            "lineNumber": 530
          },
          {
            "text": "      ACTOR_NAME: app.ACTOR_NAME || '',",
            "lineNumber": 531
          },
          {
            "text": "      COMMENT: ''",
            "lineNumber": 532
          },
          {
            "text": "    });",
            "lineNumber": 533
          },
          {
            "text": "    ",
            "lineNumber": 534
          },
          {
            "text": "    // 承認済みの場合、承認履歴を追加",
            "lineNumber": 535
          },
          {
            "text": "    if (app.APPROVAL_STATUS === 'APPROVED') {",
            "lineNumber": 536
          },
          {
            "text": "      history.push({",
            "lineNumber": 537
          },
          {
            "text": "        SEQ_NO: seqNo++,",
            "lineNumber": 538
          },
          {
            "text": "        ACTION_DATETIME: app.UPDATED_DATE,",
            "lineNumber": 539
          },
          {
            "text": "        ACTION_TYPE: 'APPROVE',",
            "lineNumber": 540
          },
          {
            "text": "        ACTION_TYPE_DISPLAY: '承認済み',",
            "lineNumber": 541
          },
          {
            "text": "        ACTOR_NAME: app.ACTOR_NAME || '',",
            "lineNumber": 542
          },
          {
            "text": "        COMMENT: ''",
            "lineNumber": 543
          },
          {
            "text": "      });",
            "lineNumber": 544
          },
          {
            "text": "    }",
            "lineNumber": 545
          },
          {
            "text": "    ",
            "lineNumber": 546
          },
          {
            "text": "    // 取消された場合（NOT_SUBMITTEDで、次の申請がある場合）、取消履歴を追加",
            "lineNumber": 547
          },
          {
            "text": "    if (app.APPROVAL_STATUS === 'NOT_SUBMITTED' &amp;&amp; !isLast) {",
            "lineNumber": 548
          },
          {
            "text": "      history.push({",
            "lineNumber": 549
          },
          {
            "text": "        SEQ_NO: seqNo++,",
            "lineNumber": 550
          },
          {
            "text": "        ACTION_DATETIME: app.UPDATED_DATE,",
            "lineNumber": 551
          },
          {
            "text": "        ACTION_TYPE: 'CANCEL',",
            "lineNumber": 552
          },
          {
            "text": "        ACTION_TYPE_DISPLAY: '申請取消',",
            "lineNumber": 553
          },
          {
            "text": "        ACTOR_NAME: app.ACTOR_NAME || '',",
            "lineNumber": 554
          },
          {
            "text": "        COMMENT: ''",
            "lineNumber": 555
          },
          {
            "text": "      });",
            "lineNumber": 556
          },
          {
            "text": "    }",
            "lineNumber": 557
          },
          {
            "text": "  }",
            "lineNumber": 558
          },
          {
            "text": "  ",
            "lineNumber": 559
          },
          {
            "text": "  return {",
            "lineNumber": 560
          },
          {
            "text": "    applicationId: latestApplication.VACATION_ID,",
            "lineNumber": 561
          },
          {
            "text": "    applicationDate: latestApplication.APPLICATION_DATE,",
            "lineNumber": 562
          },
          {
            "text": "    status: latestApplication.APPROVAL_STATUS === 'PENDING' ? '申請済み' : '承認済み',",
            "lineNumber": 563
          },
          {
            "text": "    history: history",
            "lineNumber": 564
          },
          {
            "text": "  };",
            "lineNumber": 565
          },
          {
            "text": "};",
            "lineNumber": 566
          },
          {
            "lineNumber": 567
          },
          {
            "text": "/**",
            "lineNumber": 568
          },
          {
            "text": " * 申請情報と承認履歴を取得（その他の申請：休日出勤、残業、早朝勤務、振替）",
            "lineNumber": 569
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 570
          },
          {
            "text": " * @param {string} applicationType - 申請種別",
            "lineNumber": 571
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 572
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
            "lineNumber": 573
          },
          {
            "text": " */",
            "lineNumber": 574
          }
        ]
      },
      "score": 0.3819561004638672
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 206,
            "column": 2
          },
          "endPosition": {
            "line": 270,
            "column": 3
          }
        },
        "contents": "/**\n * 申請状態を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object&gt;} 申請状態\n */\nconst getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {\n  let status = 'NOT_SUBMITTED';\n  let applicationId = null;\n  \n  switch (applicationType) {\n    case 'DAILY_CONFIRMATION': {\n      // 日次確定申請の状態を取得\n      const attendanceModel = require('../models/attendanceModel');\n      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);\n      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {\n        status = attendance.APPROVAL_STATUS;\n      }\n      break;\n    }\n    case 'VACATION': {\n      // 休暇申請の状態を取得\n      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);\n      if (vacations &amp;&amp; vacations.length &gt; 0) {\n        const vacation = vacations.find(v =&gt; \n          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;\n          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')\n        );\n        if (vacation) {\n          status = vacation.APPROVAL_STATUS;\n          applicationId = vacation.VACATION_ID;\n        }\n      }\n      break;\n    }\n    case 'HOLIDAY_WORK':\n    case 'OVERTIME':\n    case 'EARLY_WORK':\n    case 'TRANSFER': {\n      // APPLICATION_HISTORYから取得\n      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);\n      if (application) {\n        status = application.APPROVAL_STATUS;\n        applicationId = application.APPLICATION_ID;\n      }\n      break;\n    }\n  }\n  \n  return {\n    status,\n    applicationId\n  };\n};\n\n/**\n * 月次確定申請取消\n * @param {string} employeeId - 従業員ID\n * @param {number} year - 年\n * @param {number} month - 月\n * @returns {Promise&lt;void&gt;}\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 209
          },
          {
            "text": " * 申請状態を取得",
            "lineNumber": 210
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 211
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 212
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 213
          },
          {
            "text": " * @returns {Promise&lt;Object&gt;} 申請状態",
            "lineNumber": 214
          },
          {
            "text": " */",
            "lineNumber": 215
          },
          {
            "text": "const getApplicationStatus = async (employeeId, applicationType, targetDate) =&gt; {",
            "lineNumber": 216
          },
          {
            "text": "  let status = 'NOT_SUBMITTED';",
            "lineNumber": 217
          },
          {
            "text": "  let applicationId = null;",
            "lineNumber": 218
          },
          {
            "text": "  ",
            "lineNumber": 219
          },
          {
            "text": "  switch (applicationType) {",
            "lineNumber": 220
          },
          {
            "text": "    case 'DAILY_CONFIRMATION': {",
            "lineNumber": 221
          },
          {
            "text": "      // 日次確定申請の状態を取得",
            "lineNumber": 222
          },
          {
            "text": "      const attendanceModel = require('../models/attendanceModel');",
            "lineNumber": 223
          },
          {
            "text": "      const attendance = await attendanceModel.getAttendanceDetail(employeeId, targetDate);",
            "lineNumber": 224
          },
          {
            "text": "      if (attendance &amp;&amp; attendance.APPROVAL_STATUS) {",
            "lineNumber": 225
          },
          {
            "text": "        status = attendance.APPROVAL_STATUS;",
            "lineNumber": 226
          },
          {
            "text": "      }",
            "lineNumber": 227
          },
          {
            "text": "      break;",
            "lineNumber": 228
          },
          {
            "text": "    }",
            "lineNumber": 229
          },
          {
            "text": "    case 'VACATION': {",
            "lineNumber": 230
          },
          {
            "text": "      // 休暇申請の状態を取得",
            "lineNumber": 231
          },
          {
            "text": "      const vacations = await applicationModel.getVacations(employeeId, targetDate, targetDate);",
            "lineNumber": 232
          },
          {
            "text": "      if (vacations &amp;&amp; vacations.length &gt; 0) {",
            "lineNumber": 233
          },
          {
            "text": "        const vacation = vacations.find(v =&gt; ",
            "lineNumber": 234
          },
          {
            "text": "          v.START_DATE &lt;= targetDate &amp;&amp; v.END_DATE &gt;= targetDate &amp;&amp;",
            "lineNumber": 235
          },
          {
            "text": "          (v.APPROVAL_STATUS === 'PENDING' || v.APPROVAL_STATUS === 'APPROVED')",
            "lineNumber": 236
          },
          {
            "text": "        );",
            "lineNumber": 237
          },
          {
            "text": "        if (vacation) {",
            "lineNumber": 238
          },
          {
            "text": "          status = vacation.APPROVAL_STATUS;",
            "lineNumber": 239
          },
          {
            "text": "          applicationId = vacation.VACATION_ID;",
            "lineNumber": 240
          },
          {
            "text": "        }",
            "lineNumber": 241
          },
          {
            "text": "      }",
            "lineNumber": 242
          },
          {
            "text": "      break;",
            "lineNumber": 243
          },
          {
            "text": "    }",
            "lineNumber": 244
          },
          {
            "text": "    case 'HOLIDAY_WORK':",
            "lineNumber": 245
          },
          {
            "text": "    case 'OVERTIME':",
            "lineNumber": 246
          },
          {
            "text": "    case 'EARLY_WORK':",
            "lineNumber": 247
          },
          {
            "text": "    case 'TRANSFER': {",
            "lineNumber": 248
          },
          {
            "text": "      // APPLICATION_HISTORYから取得",
            "lineNumber": 249
          },
          {
            "text": "      const application = await applicationModel.getApplicationStatus(employeeId, applicationType, targetDate);",
            "lineNumber": 250
          },
          {
            "text": "      if (application) {",
            "lineNumber": 251
          },
          {
            "text": "        status = application.APPROVAL_STATUS;",
            "lineNumber": 252
          },
          {
            "text": "        applicationId = application.APPLICATION_ID;",
            "lineNumber": 253
          },
          {
            "text": "      }",
            "lineNumber": 254
          },
          {
            "text": "      break;",
            "lineNumber": 255
          },
          {
            "text": "    }",
            "lineNumber": 256
          },
          {
            "text": "  }",
            "lineNumber": 257
          },
          {
            "text": "  ",
            "lineNumber": 258
          },
          {
            "text": "  return {",
            "lineNumber": 259
          },
          {
            "text": "    status,",
            "lineNumber": 260
          },
          {
            "text": "    applicationId",
            "lineNumber": 261
          },
          {
            "text": "  };",
            "lineNumber": 262
          },
          {
            "text": "};",
            "lineNumber": 263
          },
          {
            "lineNumber": 264
          },
          {
            "text": "/**",
            "lineNumber": 265
          },
          {
            "text": " * 月次確定申請取消",
            "lineNumber": 266
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 267
          },
          {
            "text": " * @param {number} year - 年",
            "lineNumber": 268
          },
          {
            "text": " * @param {number} month - 月",
            "lineNumber": 269
          },
          {
            "text": " * @returns {Promise&lt;void&gt;}",
            "lineNumber": 270
          },
          {
            "text": " */",
            "lineNumber": 271
          }
        ]
      },
      "score": 0.38026976585388184
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 44,
            "column": 2
          },
          "endPosition": {
            "line": 73,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */\nconst getVacations = async (employeeId, startDate, endDate) =&gt; {\n  const query = &#96;\n    SELECT VACATION_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, APPROVAL_STATUS, REASON, CONTACT_INFO, CREATED_AT, UPDATED_AT\n    FROM VACATION_HISTORY\n    WHERE EMPLOYEE_ID = ? \n      AND START_DATE &lt;= ? \n      AND END_DATE &gt;= ? \n      AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')\n    ORDER BY START_DATE\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, endDate, startDate]);\n  return rows;\n};\n\n/**\n * 休暇残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          },
          {
            "text": "const getVacations = async (employeeId, startDate, endDate) =&gt; {",
            "lineNumber": 54
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 55
          },
          {
            "text": "    SELECT VACATION_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, APPROVAL_STATUS, REASON, CONTACT_INFO, CREATED_AT, UPDATED_AT",
            "lineNumber": 56
          },
          {
            "text": "    FROM VACATION_HISTORY",
            "lineNumber": 57
          },
          {
            "text": "    WHERE EMPLOYEE_ID = ? ",
            "lineNumber": 58
          },
          {
            "text": "      AND START_DATE &lt;= ? ",
            "lineNumber": 59
          },
          {
            "text": "      AND END_DATE &gt;= ? ",
            "lineNumber": 60
          },
          {
            "text": "      AND APPROVAL_STATUS IN ('PENDING', 'APPROVED')",
            "lineNumber": 61
          },
          {
            "text": "    ORDER BY START_DATE",
            "lineNumber": 62
          },
          {
            "text": "  &#96;;",
            "lineNumber": 63
          },
          {
            "text": "  ",
            "lineNumber": 64
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, endDate, startDate]);",
            "lineNumber": 65
          },
          {
            "text": "  return rows;",
            "lineNumber": 66
          },
          {
            "text": "};",
            "lineNumber": 67
          },
          {
            "lineNumber": 68
          },
          {
            "text": "/**",
            "lineNumber": 69
          },
          {
            "text": " * 休暇残日数を取得",
            "lineNumber": 70
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 71
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 72
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 73
          },
          {
            "text": " */",
            "lineNumber": 74
          }
        ]
      },
      "score": 0.3769991397857666
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 722,
            "column": 2
          },
          "endPosition": {
            "line": 744,
            "column": 2
          }
        },
        "contents": "module.exports = {\n  createVacation,\n  getVacations,\n  getVacationBalance,\n  createApplication,\n  getApplicationStatus,\n  getMonthlyApprovalStatus,\n  getMonthlyApprovalHistory,\n  updateMonthlyApprovalStatus,\n  createMonthlyApprovalHistory,\n  getNextSeqNo,\n  getVacationBalanceSummary,\n  getVacationHistory,\n  getApplicationsByType,\n  getDailyConfirmationApplicationInfo,\n  getVacationApplicationInfo,\n  getApplicationInfo,\n  decreaseVacationBalance,\n  increaseVacationBalance,\n  getVacationById\n};",
        "signatures": {},
        "detailedLines": [
          {
            "text": "module.exports = {",
            "lineNumber": 725
          },
          {
            "text": "  createVacation,",
            "lineNumber": 726
          },
          {
            "text": "  getVacations,",
            "lineNumber": 727
          },
          {
            "text": "  getVacationBalance,",
            "lineNumber": 728
          },
          {
            "text": "  createApplication,",
            "lineNumber": 729
          },
          {
            "text": "  getApplicationStatus,",
            "lineNumber": 730
          },
          {
            "text": "  getMonthlyApprovalStatus,",
            "lineNumber": 731
          },
          {
            "text": "  getMonthlyApprovalHistory,",
            "lineNumber": 732
          },
          {
            "text": "  updateMonthlyApprovalStatus,",
            "lineNumber": 733
          },
          {
            "text": "  createMonthlyApprovalHistory,",
            "lineNumber": 734
          },
          {
            "text": "  getNextSeqNo,",
            "lineNumber": 735
          },
          {
            "text": "  getVacationBalanceSummary,",
            "lineNumber": 736
          },
          {
            "text": "  getVacationHistory,",
            "lineNumber": 737
          },
          {
            "text": "  getApplicationsByType,",
            "lineNumber": 738
          },
          {
            "text": "  getDailyConfirmationApplicationInfo,",
            "lineNumber": 739
          },
          {
            "text": "  getVacationApplicationInfo,",
            "lineNumber": 740
          },
          {
            "text": "  getApplicationInfo,",
            "lineNumber": 741
          },
          {
            "text": "  decreaseVacationBalance,",
            "lineNumber": 742
          },
          {
            "text": "  increaseVacationBalance,",
            "lineNumber": 743
          },
          {
            "text": "  getVacationById",
            "lineNumber": 744
          },
          {
            "text": "};",
            "lineNumber": 745
          }
        ]
      },
      "score": 0.37545353174209595
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 52,
            "column": 3
          }
        },
        "contents": "/**\n * 申請モデル\n */\nconst db = require('../config/database');\n\n/**\n * 休暇申請を作成\n * @param {Object} vacationData - 休暇申請データ\n * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID\n */\nconst createVacation = async (vacationData) =&gt; {\n  const {\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason,\n    contactInfo,\n    approvalStatus,\n    createdAt,\n    updatedAt\n  } = vacationData;\n  \n  const query = &#96;\n    INSERT INTO VACATION_HISTORY \n    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)\n    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n  &#96;;\n  \n  const [result] = await db.execute(query, [\n    employeeId,\n    vacationTypeCode,\n    startDate,\n    endDate,\n    vacationDays,\n    reason || null,\n    contactInfo || null,\n    approvalStatus || 'PENDING',\n    createdAt,\n    updatedAt\n  ]);\n  \n  return result.insertId;\n};\n\n/**\n * 休暇申請を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} startDate - 開始日（YYYY-MM-DD形式）\n * @param {string} endDate - 終了日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Array&gt;} 休暇申請の配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請モデル",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const db = require('../config/database');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請を作成",
            "lineNumber": 7
          },
          {
            "text": " * @param {Object} vacationData - 休暇申請データ",
            "lineNumber": 8
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたVACATION_ID",
            "lineNumber": 9
          },
          {
            "text": " */",
            "lineNumber": 10
          },
          {
            "text": "const createVacation = async (vacationData) =&gt; {",
            "lineNumber": 11
          },
          {
            "text": "  const {",
            "lineNumber": 12
          },
          {
            "text": "    employeeId,",
            "lineNumber": 13
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 14
          },
          {
            "text": "    startDate,",
            "lineNumber": 15
          },
          {
            "text": "    endDate,",
            "lineNumber": 16
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 17
          },
          {
            "text": "    reason,",
            "lineNumber": 18
          },
          {
            "text": "    contactInfo,",
            "lineNumber": 19
          },
          {
            "text": "    approvalStatus,",
            "lineNumber": 20
          },
          {
            "text": "    createdAt,",
            "lineNumber": 21
          },
          {
            "text": "    updatedAt",
            "lineNumber": 22
          },
          {
            "text": "  } = vacationData;",
            "lineNumber": 23
          },
          {
            "text": "  ",
            "lineNumber": 24
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 25
          },
          {
            "text": "    INSERT INTO VACATION_HISTORY ",
            "lineNumber": 26
          },
          {
            "text": "    (EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, REASON, CONTACT_INFO, APPROVAL_STATUS, CREATED_AT, UPDATED_AT)",
            "lineNumber": 27
          },
          {
            "text": "    VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)",
            "lineNumber": 28
          },
          {
            "text": "  &#96;;",
            "lineNumber": 29
          },
          {
            "text": "  ",
            "lineNumber": 30
          },
          {
            "text": "  const [result] = await db.execute(query, [",
            "lineNumber": 31
          },
          {
            "text": "    employeeId,",
            "lineNumber": 32
          },
          {
            "text": "    vacationTypeCode,",
            "lineNumber": 33
          },
          {
            "text": "    startDate,",
            "lineNumber": 34
          },
          {
            "text": "    endDate,",
            "lineNumber": 35
          },
          {
            "text": "    vacationDays,",
            "lineNumber": 36
          },
          {
            "text": "    reason || null,",
            "lineNumber": 37
          },
          {
            "text": "    contactInfo || null,",
            "lineNumber": 38
          },
          {
            "text": "    approvalStatus || 'PENDING',",
            "lineNumber": 39
          },
          {
            "text": "    createdAt,",
            "lineNumber": 40
          },
          {
            "text": "    updatedAt",
            "lineNumber": 41
          },
          {
            "text": "  ]);",
            "lineNumber": 42
          },
          {
            "text": "  ",
            "lineNumber": 43
          },
          {
            "text": "  return result.insertId;",
            "lineNumber": 44
          },
          {
            "text": "};",
            "lineNumber": 45
          },
          {
            "lineNumber": 46
          },
          {
            "text": "/**",
            "lineNumber": 47
          },
          {
            "text": " * 休暇申請を取得",
            "lineNumber": 48
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 49
          },
          {
            "text": " * @param {string} startDate - 開始日（YYYY-MM-DD形式）",
            "lineNumber": 50
          },
          {
            "text": " * @param {string} endDate - 終了日（YYYY-MM-DD形式）",
            "lineNumber": 51
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇申請の配列",
            "lineNumber": 52
          },
          {
            "text": " */",
            "lineNumber": 53
          }
        ]
      },
      "score": 0.36879289150238037
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 66,
            "column": 2
          },
          "endPosition": {
            "line": 94,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */\nconst getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {\n  const query = &#96;\n    SELECT REMAINING_DAYS\n    FROM V_VACATION_BALANCE_SUMMARY\n    WHERE EMPLOYEE_ID = ? AND VACATION_TYPE_CODE = ?\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId, vacationTypeCode]);\n\n  if (rows.length &gt; 0) {\n    return rows[0].REMAINING_DAYS;\n  }\n\n  return 0;\n};\n\n/**\n * 申請履歴を作成\n * @param {Object} applicationData - 申請データ\n * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 69
          },
          {
            "text": " * 休暇残日数を取得",
            "lineNumber": 70
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 71
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 72
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 73
          },
          {
            "text": " */",
            "lineNumber": 74
          },
          {
            "text": "const getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {",
            "lineNumber": 75
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 76
          },
          {
            "text": "    SELECT REMAINING_DAYS",
            "lineNumber": 77
          },
          {
            "text": "    FROM V_VACATION_BALANCE_SUMMARY",
            "lineNumber": 78
          },
          {
            "text": "    WHERE EMPLOYEE_ID = ? AND VACATION_TYPE_CODE = ?",
            "lineNumber": 79
          },
          {
            "text": "  &#96;;",
            "lineNumber": 80
          },
          {
            "text": "  ",
            "lineNumber": 81
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId, vacationTypeCode]);",
            "lineNumber": 82
          },
          {
            "lineNumber": 83
          },
          {
            "text": "  if (rows.length &gt; 0) {",
            "lineNumber": 84
          },
          {
            "text": "    return rows[0].REMAINING_DAYS;",
            "lineNumber": 85
          },
          {
            "text": "  }",
            "lineNumber": 86
          },
          {
            "lineNumber": 87
          },
          {
            "text": "  return 0;",
            "lineNumber": 88
          },
          {
            "text": "};",
            "lineNumber": 89
          },
          {
            "lineNumber": 90
          },
          {
            "text": "/**",
            "lineNumber": 91
          },
          {
            "text": " * 申請履歴を作成",
            "lineNumber": 92
          },
          {
            "text": " * @param {Object} applicationData - 申請データ",
            "lineNumber": 93
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 作成されたAPPLICATION_ID",
            "lineNumber": 94
          },
          {
            "text": " */",
            "lineNumber": 95
          }
        ]
      },
      "score": 0.36618125438690186
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\routes\\application.js",
        "range": {
          "startPosition": {
            "line": 9,
            "column": 68
          },
          "endPosition": {
            "line": 41,
            "column": 68
          }
        },
        "contents": "/**\n * 有給残日数取得API\n * GET /api/application/vacation/balance\n */\nrouter.get('/vacation/balance', async (req, res, next) =&gt; {\n  try {\n    const { employeeId, vacationTypeCode } = req.query;\n    \n    if (!employeeId || !vacationTypeCode) {\n      return res.status(400).json({\n        success: false,\n        message: '従業員IDと休暇種別コードが必要です。'\n      });\n    }\n    \n    const balance = await applicationService.getVacationBalance(employeeId, vacationTypeCode);\n    \n    res.json({\n      success: true,\n      balance\n    });\n  } catch (error) {\n    next(error);\n  }\n});\n\n/**\n * 休暇申請API\n * POST /api/application/vacation/apply\n */\nrouter.post('/vacation/apply', applicationController.applyVacation);",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 12
          },
          {
            "text": " * 有給残日数取得API",
            "lineNumber": 13
          },
          {
            "text": " * GET /api/application/vacation/balance",
            "lineNumber": 14
          },
          {
            "text": " */",
            "lineNumber": 15
          },
          {
            "text": "router.get('/vacation/balance', async (req, res, next) =&gt; {",
            "lineNumber": 16
          },
          {
            "text": "  try {",
            "lineNumber": 17
          },
          {
            "text": "    const { employeeId, vacationTypeCode } = req.query;",
            "lineNumber": 18
          },
          {
            "text": "    ",
            "lineNumber": 19
          },
          {
            "text": "    if (!employeeId || !vacationTypeCode) {",
            "lineNumber": 20
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 21
          },
          {
            "text": "        success: false,",
            "lineNumber": 22
          },
          {
            "text": "        message: '従業員IDと休暇種別コードが必要です。'",
            "lineNumber": 23
          },
          {
            "text": "      });",
            "lineNumber": 24
          },
          {
            "text": "    }",
            "lineNumber": 25
          },
          {
            "text": "    ",
            "lineNumber": 26
          },
          {
            "text": "    const balance = await applicationService.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 27
          },
          {
            "text": "    ",
            "lineNumber": 28
          },
          {
            "text": "    res.json({",
            "lineNumber": 29
          },
          {
            "text": "      success: true,",
            "lineNumber": 30
          },
          {
            "text": "      balance",
            "lineNumber": 31
          },
          {
            "text": "    });",
            "lineNumber": 32
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 33
          },
          {
            "text": "    next(error);",
            "lineNumber": 34
          },
          {
            "text": "  }",
            "lineNumber": 35
          },
          {
            "text": "});",
            "lineNumber": 36
          },
          {
            "lineNumber": 37
          },
          {
            "text": "/**",
            "lineNumber": 38
          },
          {
            "text": " * 休暇申請API",
            "lineNumber": 39
          },
          {
            "text": " * POST /api/application/vacation/apply",
            "lineNumber": 40
          },
          {
            "text": " */",
            "lineNumber": 41
          },
          {
            "text": "router.post('/vacation/apply', applicationController.applyVacation);",
            "lineNumber": 42
          }
        ]
      },
      "score": 0.3622952699661255
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 276,
            "column": 2
          },
          "endPosition": {
            "line": 306,
            "column": 3
          }
        },
        "contents": "/**\n * 休暇残日数サマリーを取得\n * @param {string} employeeId - 従業員ID\n * @returns {Promise&lt;Array&gt;} 休暇残日数の配列\n */\nconst getVacationBalanceSummary = async (employeeId) =&gt; {\n  const query = &#96;\n    SELECT \n      vbs.VACATION_TYPE_CODE,\n      vbs.VACATION_TYPE_NAME,\n      vbs.GRANTED_DAYS,\n      vbs.USED_DAYS,\n      vbs.REMAINING_DAYS,\n      vbs.EXPIRATION_DATE\n    FROM V_VACATION_BALANCE_SUMMARY vbs\n    WHERE vbs.EMPLOYEE_ID = ?\n    ORDER BY vbs.VACATION_TYPE_CODE\n  &#96;;\n  \n  const [rows] = await db.execute(query, [employeeId]);\n  return rows;\n};\n\n/**\n * 休暇取得履歴を取得\n * @param {string} employeeId - 従業員ID\n * @param {number} limit - 取得件数\n * @returns {Promise&lt;Array&gt;} 休暇取得履歴の配列\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 279
          },
          {
            "text": " * 休暇残日数サマリーを取得",
            "lineNumber": 280
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 281
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇残日数の配列",
            "lineNumber": 282
          },
          {
            "text": " */",
            "lineNumber": 283
          },
          {
            "text": "const getVacationBalanceSummary = async (employeeId) =&gt; {",
            "lineNumber": 284
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 285
          },
          {
            "text": "    SELECT ",
            "lineNumber": 286
          },
          {
            "text": "      vbs.VACATION_TYPE_CODE,",
            "lineNumber": 287
          },
          {
            "text": "      vbs.VACATION_TYPE_NAME,",
            "lineNumber": 288
          },
          {
            "text": "      vbs.GRANTED_DAYS,",
            "lineNumber": 289
          },
          {
            "text": "      vbs.USED_DAYS,",
            "lineNumber": 290
          },
          {
            "text": "      vbs.REMAINING_DAYS,",
            "lineNumber": 291
          },
          {
            "text": "      vbs.EXPIRATION_DATE",
            "lineNumber": 292
          },
          {
            "text": "    FROM V_VACATION_BALANCE_SUMMARY vbs",
            "lineNumber": 293
          },
          {
            "text": "    WHERE vbs.EMPLOYEE_ID = ?",
            "lineNumber": 294
          },
          {
            "text": "    ORDER BY vbs.VACATION_TYPE_CODE",
            "lineNumber": 295
          },
          {
            "text": "  &#96;;",
            "lineNumber": 296
          },
          {
            "text": "  ",
            "lineNumber": 297
          },
          {
            "text": "  const [rows] = await db.execute(query, [employeeId]);",
            "lineNumber": 298
          },
          {
            "text": "  return rows;",
            "lineNumber": 299
          },
          {
            "text": "};",
            "lineNumber": 300
          },
          {
            "lineNumber": 301
          },
          {
            "text": "/**",
            "lineNumber": 302
          },
          {
            "text": " * 休暇取得履歴を取得",
            "lineNumber": 303
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 304
          },
          {
            "text": " * @param {number} limit - 取得件数",
            "lineNumber": 305
          },
          {
            "text": " * @returns {Promise&lt;Array&gt;} 休暇取得履歴の配列",
            "lineNumber": 306
          },
          {
            "text": " */",
            "lineNumber": 307
          }
        ]
      },
      "score": 0.3540497124195099
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\models\\applicationModel.js",
        "range": {
          "startPosition": {
            "line": 706,
            "column": 2
          },
          "endPosition": {
            "line": 727,
            "column": 21
          }
        },
        "contents": "/**\n * 休暇申請情報を取得（申請取り消し時に使用）\n * @param {number} vacationId - 休暇申請ID\n * @returns {Promise&lt;Object|null&gt;} 休暇申請情報\n */\nconst getVacationById = async (vacationId) =&gt; {\n  const query = &#96;\n    SELECT VACATION_ID, EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, APPROVAL_STATUS\n    FROM VACATION_HISTORY\n    WHERE VACATION_ID = ?\n  &#96;;\n  \n  const [rows] = await db.execute(query, [vacationId]);\n  return rows.length &gt; 0 ? rows[0] : null;\n};\n\nmodule.exports = {\n  createVacation,\n  getVacations,\n  getVacationBalance,",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 709
          },
          {
            "text": " * 休暇申請情報を取得（申請取り消し時に使用）",
            "lineNumber": 710
          },
          {
            "text": " * @param {number} vacationId - 休暇申請ID",
            "lineNumber": 711
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 休暇申請情報",
            "lineNumber": 712
          },
          {
            "text": " */",
            "lineNumber": 713
          },
          {
            "text": "const getVacationById = async (vacationId) =&gt; {",
            "lineNumber": 714
          },
          {
            "text": "  const query = &#96;",
            "lineNumber": 715
          },
          {
            "text": "    SELECT VACATION_ID, EMPLOYEE_ID, VACATION_TYPE_CODE, START_DATE, END_DATE, VACATION_DAYS, APPROVAL_STATUS",
            "lineNumber": 716
          },
          {
            "text": "    FROM VACATION_HISTORY",
            "lineNumber": 717
          },
          {
            "text": "    WHERE VACATION_ID = ?",
            "lineNumber": 718
          },
          {
            "text": "  &#96;;",
            "lineNumber": 719
          },
          {
            "text": "  ",
            "lineNumber": 720
          },
          {
            "text": "  const [rows] = await db.execute(query, [vacationId]);",
            "lineNumber": 721
          },
          {
            "text": "  return rows.length &gt; 0 ? rows[0] : null;",
            "lineNumber": 722
          },
          {
            "text": "};",
            "lineNumber": 723
          },
          {
            "lineNumber": 724
          },
          {
            "text": "module.exports = {",
            "lineNumber": 725
          },
          {
            "text": "  createVacation,",
            "lineNumber": 726
          },
          {
            "text": "  getVacations,",
            "lineNumber": 727
          },
          {
            "text": "  getVacationBalance,",
            "lineNumber": 728
          }
        ]
      },
      "score": 0.352897047996521
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\controllers\\applicationController.js",
        "range": {
          "startPosition": {},
          "endPosition": {
            "line": 89,
            "column": 1
          }
        },
        "contents": "/**\n * 申請コントローラー\n */\nconst applicationService = require('../services/applicationService');\n\n/**\n * 休暇申請\n */\nconst applyVacation = async (req, res, next) =&gt; {\n  try {\n    const { employeeId, vacationTypeCode, startDate, endDate, reason, contact } = req.body;\n    \n    if (!employeeId || !vacationTypeCode || !startDate || !endDate) {\n      return res.status(400).json({\n        success: false,\n        message: '必須項目が不足しています。'\n      });\n    }\n    \n    const vacationId = await applicationService.applyVacation({\n      employeeId,\n      vacationTypeCode,\n      startDate,\n      endDate,\n      reason,\n      contact\n    });\n    \n    res.json({\n      success: true,\n      message: '休暇申請が完了しました。',\n      vacationId\n    });\n  } catch (error) {\n    if (error.message.includes('残日数が不足')) {\n      return res.status(400).json({\n        success: false,\n        message: error.message\n      });\n    }\n    next(error);\n  }\n};\n\n/**\n * 休日出勤申請\n */\nconst applyHolidayWork = async (req, res, next)\n;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 1
          },
          {
            "text": " * 申請コントローラー",
            "lineNumber": 2
          },
          {
            "text": " */",
            "lineNumber": 3
          },
          {
            "text": "const applicationService = require('../services/applicationService');",
            "lineNumber": 4
          },
          {
            "lineNumber": 5
          },
          {
            "text": "/**",
            "lineNumber": 6
          },
          {
            "text": " * 休暇申請",
            "lineNumber": 7
          },
          {
            "text": " */",
            "lineNumber": 8
          },
          {
            "text": "const applyVacation = async (req, res, next) =&gt; {",
            "lineNumber": 9
          },
          {
            "text": "  try {",
            "lineNumber": 10
          },
          {
            "text": "    const { employeeId, vacationTypeCode, startDate, endDate, reason, contact } = req.body;",
            "lineNumber": 11
          },
          {
            "text": "    ",
            "lineNumber": 12
          },
          {
            "text": "    if (!employeeId || !vacationTypeCode || !startDate || !endDate) {",
            "lineNumber": 13
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 14
          },
          {
            "text": "        success: false,",
            "lineNumber": 15
          },
          {
            "text": "        message: '必須項目が不足しています。'",
            "lineNumber": 16
          },
          {
            "text": "      });",
            "lineNumber": 17
          },
          {
            "text": "    }",
            "lineNumber": 18
          },
          {
            "text": "    ",
            "lineNumber": 19
          },
          {
            "text": "    const vacationId = await applicationService.applyVacation({",
            "lineNumber": 20
          },
          {
            "text": "      employeeId,",
            "lineNumber": 21
          },
          {
            "text": "      vacationTypeCode,",
            "lineNumber": 22
          },
          {
            "text": "      startDate,",
            "lineNumber": 23
          },
          {
            "text": "      endDate,",
            "lineNumber": 24
          },
          {
            "text": "      reason,",
            "lineNumber": 25
          },
          {
            "text": "      contact",
            "lineNumber": 26
          },
          {
            "text": "    });",
            "lineNumber": 27
          },
          {
            "text": "    ",
            "lineNumber": 28
          },
          {
            "text": "    res.json({",
            "lineNumber": 29
          },
          {
            "text": "      success: true,",
            "lineNumber": 30
          },
          {
            "text": "      message: '休暇申請が完了しました。',",
            "lineNumber": 31
          },
          {
            "text": "      vacationId",
            "lineNumber": 32
          },
          {
            "text": "    });",
            "lineNumber": 33
          },
          {
            "text": "  } catch (error) {",
            "lineNumber": 34
          },
          {
            "text": "    if (error.message.includes('残日数が不足')) {",
            "lineNumber": 35
          },
          {
            "text": "      return res.status(400).json({",
            "lineNumber": 36
          },
          {
            "text": "        success: false,",
            "lineNumber": 37
          },
          {
            "text": "        message: error.message",
            "lineNumber": 38
          },
          {
            "text": "      });",
            "lineNumber": 39
          },
          {
            "text": "    }",
            "lineNumber": 40
          },
          {
            "text": "    next(error);",
            "lineNumber": 41
          },
          {
            "text": "  }",
            "lineNumber": 42
          },
          {
            "text": "};",
            "lineNumber": 43
          },
          {
            "lineNumber": 44
          },
          {
            "text": "/**",
            "lineNumber": 45
          },
          {
            "text": " * 休日出勤申請",
            "lineNumber": 46
          },
          {
            "text": " */",
            "lineNumber": 47
          },
          {
            "text": "const applyHolidayWork = async (req, res, next)",
            "lineNumber": 48
          },
          {
            "text": ";",
            "lineNumber": 90
          }
        ]
      },
      "score": 0.3386755883693695
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-application-screen.md",
        "range": {
          "startPosition": {
            "line": 937
          },
          "endPosition": {
            "line": 990
          }
        },
        "contents": "- テーブル名：VACATION_HISTORY\n- 種別：登録\n  | 項目名 | 更新内容 | 補足 |\n  | :--- | :--- | :--- |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | |\n  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | |\n  | START_DATE | 画面項目定義.開始日 | |\n  | END_DATE | 画面項目定義.終了日 | |\n  | VACATION_DAYS | 計算値（終了日-開始日+1） | |\n  | REASON | 画面項目定義.備考 | |\n  | APPROVAL_STATUS | 'PENDING' | |\n  | CREATED_AT | 現在日時 | |\n  | UPDATED_AT | 現在日時 | |\n- 関連する取得仕様\n  - なし\n- 更新条件\n  - なし（新規登録）\n- その他\n  - 休暇申請時にチェック仕様No.2のチェックを実行\n\n## API利用仕様\n\n#### No.1\n- API仕様名：休暇種別マスタ取得API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | GET | |\n  | エンドポイント | /api/master/vacation-types | |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |\n  | :--- | :--- | :--- |\n  | 休暇種別マスタ | 休暇種別マスタリスト | JSON形式 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | VACATION_TYPE.VACATION_TYPE_CODE | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | VACATION_TYPE.VACATION_TYPE_NAME | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | VACATION_TYPE.IS_PAID | |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;表示順 | VACATION_TYPE.DISPLAY_ORDER | |\n- 関連する取得仕様\n  - なし\n- その他\n  - IS_ACTIVE=TRUEの休暇種別をDISPLAY_ORDER順で取得\n\n#### No.2\n- API仕様名：有給残日数取得API\n- リクエスト\n  | 項目名 | リクエスト内容 | 補足 |\n  | :--- | :--- | :--- |\n  | HTTPメソッド | GET | |\n  | エンドポイント | /api/vacation/balance | |\n  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |\n  | VACATION_TYPE_CODE | 'PAID_LEAVE' | クエリパラメータ（固定値） |\n- レスポンス\n  | 項目名 | レスポンス内容 | 補足 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- テーブル名：VACATION_HISTORY",
            "lineNumber": 938
          },
          {
            "text": "- 種別：登録",
            "lineNumber": 939
          },
          {
            "text": "  | 項目名 | 更新内容 | 補足 |",
            "lineNumber": 940
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 941
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | |",
            "lineNumber": 942
          },
          {
            "text": "  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | |",
            "lineNumber": 943
          },
          {
            "text": "  | START_DATE | 画面項目定義.開始日 | |",
            "lineNumber": 944
          },
          {
            "text": "  | END_DATE | 画面項目定義.終了日 | |",
            "lineNumber": 945
          },
          {
            "text": "  | VACATION_DAYS | 計算値（終了日-開始日+1） | |",
            "lineNumber": 946
          },
          {
            "text": "  | REASON | 画面項目定義.備考 | |",
            "lineNumber": 947
          },
          {
            "text": "  | APPROVAL_STATUS | 'PENDING' | |",
            "lineNumber": 948
          },
          {
            "text": "  | CREATED_AT | 現在日時 | |",
            "lineNumber": 949
          },
          {
            "text": "  | UPDATED_AT | 現在日時 | |",
            "lineNumber": 950
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 951
          },
          {
            "text": "  - なし",
            "lineNumber": 952
          },
          {
            "text": "- 更新条件",
            "lineNumber": 953
          },
          {
            "text": "  - なし（新規登録）",
            "lineNumber": 954
          },
          {
            "text": "- その他",
            "lineNumber": 955
          },
          {
            "text": "  - 休暇申請時にチェック仕様No.2のチェックを実行",
            "lineNumber": 956
          },
          {
            "lineNumber": 957
          },
          {
            "text": "## API利用仕様",
            "lineNumber": 958
          },
          {
            "lineNumber": 959
          },
          {
            "text": "#### No.1",
            "lineNumber": 960
          },
          {
            "text": "- API仕様名：休暇種別マスタ取得API",
            "lineNumber": 961
          },
          {
            "text": "- リクエスト",
            "lineNumber": 962
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 963
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 964
          },
          {
            "text": "  | HTTPメソッド | GET | |",
            "lineNumber": 965
          },
          {
            "text": "  | エンドポイント | /api/master/vacation-types | |",
            "lineNumber": 966
          },
          {
            "text": "- レスポンス",
            "lineNumber": 967
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 968
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 969
          },
          {
            "text": "  | 休暇種別マスタ | 休暇種別マスタリスト | JSON形式 |",
            "lineNumber": 970
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別コード | VACATION_TYPE.VACATION_TYPE_CODE | |",
            "lineNumber": 971
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休暇種別名 | VACATION_TYPE.VACATION_TYPE_NAME | |",
            "lineNumber": 972
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有給フラグ | VACATION_TYPE.IS_PAID | |",
            "lineNumber": 973
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;表示順 | VACATION_TYPE.DISPLAY_ORDER | |",
            "lineNumber": 974
          },
          {
            "text": "- 関連する取得仕様",
            "lineNumber": 975
          },
          {
            "text": "  - なし",
            "lineNumber": 976
          },
          {
            "text": "- その他",
            "lineNumber": 977
          },
          {
            "text": "  - IS_ACTIVE=TRUEの休暇種別をDISPLAY_ORDER順で取得",
            "lineNumber": 978
          },
          {
            "lineNumber": 979
          },
          {
            "text": "#### No.2",
            "lineNumber": 980
          },
          {
            "text": "- API仕様名：有給残日数取得API",
            "lineNumber": 981
          },
          {
            "text": "- リクエスト",
            "lineNumber": 982
          },
          {
            "text": "  | 項目名 | リクエスト内容 | 補足 |",
            "lineNumber": 983
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 984
          },
          {
            "text": "  | HTTPメソッド | GET | |",
            "lineNumber": 985
          },
          {
            "text": "  | エンドポイント | /api/vacation/balance | |",
            "lineNumber": 986
          },
          {
            "text": "  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |",
            "lineNumber": 987
          },
          {
            "text": "  | VACATION_TYPE_CODE | 'PAID_LEAVE' | クエリパラメータ（固定値） |",
            "lineNumber": 988
          },
          {
            "text": "- レスポンス",
            "lineNumber": 989
          },
          {
            "text": "  | 項目名 | レスポンス内容 | 補足 |",
            "lineNumber": 990
          }
        ]
      },
      "score": 0.33407557010650635
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 450,
            "column": 2
          },
          "endPosition": {
            "line": 468,
            "column": 3
          }
        },
        "contents": "/**\n * 有給残日数を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} vacationTypeCode - 休暇種別コード\n * @returns {Promise&lt;number&gt;} 残日数\n */\nconst getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {\n  return await applicationModel.getVacationBalance(employeeId, vacationTypeCode);\n};\n\n/**\n * 申請情報と承認履歴を取得\n * @param {string} employeeId - 従業員ID\n * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）\n * @param {string} targetDate - 対象日（YYYY-MM-DD形式）\n * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴\n */",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/**",
            "lineNumber": 453
          },
          {
            "text": " * 有給残日数を取得",
            "lineNumber": 454
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 455
          },
          {
            "text": " * @param {string} vacationTypeCode - 休暇種別コード",
            "lineNumber": 456
          },
          {
            "text": " * @returns {Promise&lt;number&gt;} 残日数",
            "lineNumber": 457
          },
          {
            "text": " */",
            "lineNumber": 458
          },
          {
            "text": "const getVacationBalance = async (employeeId, vacationTypeCode) =&gt; {",
            "lineNumber": 459
          },
          {
            "text": "  return await applicationModel.getVacationBalance(employeeId, vacationTypeCode);",
            "lineNumber": 460
          },
          {
            "text": "};",
            "lineNumber": 461
          },
          {
            "lineNumber": 462
          },
          {
            "text": "/**",
            "lineNumber": 463
          },
          {
            "text": " * 申請情報と承認履歴を取得",
            "lineNumber": 464
          },
          {
            "text": " * @param {string} employeeId - 従業員ID",
            "lineNumber": 465
          },
          {
            "text": " * @param {string} applicationType - 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）",
            "lineNumber": 466
          },
          {
            "text": " * @param {string} targetDate - 対象日（YYYY-MM-DD形式）",
            "lineNumber": 467
          },
          {
            "text": " * @returns {Promise&lt;Object|null&gt;} 申請情報と承認履歴",
            "lineNumber": 468
          },
          {
            "text": " */",
            "lineNumber": 469
          }
        ]
      },
      "score": 0.3295021653175354
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\backend\\services\\applicationService.js",
        "range": {
          "startPosition": {
            "line": 483,
            "column": 2
          },
          "endPosition": {
            "line": 499,
            "column": 2
          }
        },
        "contents": "module.exports = {\n  applyVacation,\n  applyHolidayWork,\n  applyOvertime,\n  applyEarlyWork,\n  applyTransfer,\n  getHolidayWorkStatus,\n  getMonthlyApprovalHistory,\n  cancelMonthlyApproval,\n  getVacationInfo,\n  getVacationBalance,\n  getApplicationStatus,\n  getApplicationInfo,\n  cancelApplication\n};",
        "signatures": {},
        "detailedLines": [
          {
            "text": "module.exports = {",
            "lineNumber": 486
          },
          {
            "text": "  applyVacation,",
            "lineNumber": 487
          },
          {
            "text": "  applyHolidayWork,",
            "lineNumber": 488
          },
          {
            "text": "  applyOvertime,",
            "lineNumber": 489
          },
          {
            "text": "  applyEarlyWork,",
            "lineNumber": 490
          },
          {
            "text": "  applyTransfer,",
            "lineNumber": 491
          },
          {
            "text": "  getHolidayWorkStatus,",
            "lineNumber": 492
          },
          {
            "text": "  getMonthlyApprovalHistory,",
            "lineNumber": 493
          },
          {
            "text": "  cancelMonthlyApproval,",
            "lineNumber": 494
          },
          {
            "text": "  getVacationInfo,",
            "lineNumber": 495
          },
          {
            "text": "  getVacationBalance,",
            "lineNumber": 496
          },
          {
            "text": "  getApplicationStatus,",
            "lineNumber": 497
          },
          {
            "text": "  getApplicationInfo,",
            "lineNumber": 498
          },
          {
            "text": "  cancelApplication",
            "lineNumber": 499
          },
          {
            "text": "};",
            "lineNumber": 500
          }
        ]
      },
      "score": 0.3286357522010803
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


バックエンドの`getVacationApplicationInfo`で`VACATION_TYPE_CODE`が取得されていません。取得に含めるよう修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: backend/models/applicationModel.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: backend/controllers/applicationController.js</summary>

</details>
</tool-use>

---



---


バックエンドの`getVacationApplicationInfo`に`VACATION_TYPE_CODE`が含まれていません。追加し、コントローラーで`applicationData`として返すように修正します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: backend/controllers/applicationController.js</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "35f607a8-f57f-46be-8623-f7763499265e"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "5c384a6d-e529-4e2c-b9a7-8194ae878c4c"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "backend/models/applicationModel.js"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "backend/models/applicationModel.js"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


コントローラーで`applicationData`を返すように修正します。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "20a166de-fcc2-45dc-b795-f1a0a3630f63"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="read_lints">
<details>
<summary>Tool use: **read_lints**</summary>


Parameters:

```json
{
  "paths": [
    "backend/controllers/applicationController.js"
  ]
}
```
Result:

```json
{
  "linterErrorsByFile": [
    {
      "relativeWorkspacePath": "backend/controllers/applicationController.js"
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---



---


修正を完了しました。変更点は以下の通りです。

## 修正内容

1. **バックエンドの`getVacationApplicationInfo`関数**:
   - `VACATION_TYPE_CODE`、`START_DATE`、`END_DATE`、`REASON`、`CONTACT_INFO`をSELECTに追加
   - 返り値に`applicationData`オブジェクトを追加

2. **バックエンドのコントローラー**:
   - `getApplicationInfo`のレスポンスに`applicationData`を追加

これで、休暇申請ダイアログを開いた際に、バックエンドから`VACATION_TYPE_CODE`が正しく返され、代休（`SUBSTITUTE_HOLIDAY`）の申請が「代休」として表示されます。

12月24日の休暇種類が「代休」として正しく表示されるか確認してください。

---

