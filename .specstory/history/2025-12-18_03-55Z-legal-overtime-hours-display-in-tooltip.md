<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 37f4f5df-6aa5-4e12-83c3-9d8f1c27c040 (2025-12-18 03:55Z) -->

# Legal overtime hours display in tooltip (2025-12-18 03:55Z)

_**User**_

なぜ12/17日の時点で画像のようにグラフツールチップの中に法定内残業時間が表示されるのか。この場合は非表示で良いと思うんだけどどうでしょうか

---

_**Agent (model composer-1, mode Agent)**_



---

ツールチップの表示ロジックを確認中。0:00の「法定時間内残業」は非表示にするのが妥当です。


---

<tool-use data-tool-type="unknown" data-tool-name="semantic_search_full">
<details>
<summary>Tool use: **semantic_search_full**</summary>


Parameters:

```json
{
  "query": "グラフツールチップ 法定時間内残業 表示",
  "topK": 10,
  "explanation": ""
}
```
Result:

```json
{
  "codeResults": [
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 4906
          },
          "endPosition": {
            "line": 5020
          }
        },
        "contents": ".auth-error-dialog-ok-text {\n  position: absolute;\n  left: 258px;\n  top: 198px;\n  width: 35.88px;\n  height: 21.17px;\n  font-size: 16px;\n  font-family: Arial;\n  font-weight: bold;\n  text-align: center;\n  color: rgb(255, 255, 255);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  z-index: 3;\n  pointer-events: none;\n}\n\n/* グラフツールチップ */\n.graph-tooltip {\n  position: fixed;\n  z-index: 10002;\n  background-color: rgb(255, 255, 255);\n  border: 1px solid rgb(200, 200, 200);\n  border-radius: 4px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n  padding: 10px 12px;\n  min-width: 250px;\n  max-width: 300px;\n  width: 280px;\n  pointer-events: none;\n  max-height: 80vh;\n  overflow-y: auto;\n}\n\n.tooltip-content {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n/* ツールチップ見出し */\n.tooltip-header {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  font-size: 12px;\n  font-family: Arial, sans-serif;\n  font-weight: bold;\n  color: rgb(0, 0, 0);\n  margin-bottom: 2px;\n}\n\n.tooltip-header-text {\n  color: rgb(0, 0, 0);\n}\n\n/* ツールチップアイコン */\n.tooltip-icon {\n  font-size: 10px;\n  line-height: 1;\n  margin-right: 2px;\n  flex-shrink: 0;\n}\n\n.tooltip-icon-gray {\n  color: rgb(100, 100, 100);\n}\n\n.tooltip-icon-blue {\n  color: rgb(37, 100, 153);\n}\n\n.tooltip-icon-light-blue {\n  color: #4B9EE4; /* 所定内労働用 */\n}\n\n.tooltip-icon-yellow {\n  color: #B0B000; /* 法定時間内残業用 */\n}\n\n.tooltip-icon-orange {\n  color: #E28E1C; /* 法定時間外残業用 */\n}\n\n/* 区切り線 */\n.tooltip-divider {\n  height: 1px;\n  background-color: rgb(200, 200, 200);\n  margin: 4px 0;\n}\n\n.tooltip-row {\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  font-family: Arial, sans-serif;\n  line-height: 1.4;\n  gap: 8px;\n}\n\n.tooltip-label {\n  color: rgb(100, 100, 100);\n  white-space: nowrap;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.tooltip-value {\n  color: rgb(0, 0, 0);\n  text-align: left;",
        "signatures": {},
        "detailedLines": [
          {
            "text": ".auth-error-dialog-ok-text {",
            "lineNumber": 4907
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4908
          },
          {
            "text": "  left: 258px;",
            "lineNumber": 4909
          },
          {
            "text": "  top: 198px;",
            "lineNumber": 4910
          },
          {
            "text": "  width: 35.88px;",
            "lineNumber": 4911
          },
          {
            "text": "  height: 21.17px;",
            "lineNumber": 4912
          },
          {
            "text": "  font-size: 16px;",
            "lineNumber": 4913
          },
          {
            "text": "  font-family: Arial;",
            "lineNumber": 4914
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 4915
          },
          {
            "text": "  text-align: center;",
            "lineNumber": 4916
          },
          {
            "text": "  color: rgb(255, 255, 255);",
            "lineNumber": 4917
          },
          {
            "text": "  display: flex;",
            "lineNumber": 4918
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 4919
          },
          {
            "text": "  justify-content: center;",
            "lineNumber": 4920
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4921
          },
          {
            "text": "  z-index: 3;",
            "lineNumber": 4922
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4923
          },
          {
            "text": "}",
            "lineNumber": 4924
          },
          {
            "lineNumber": 4925
          },
          {
            "text": "/* グラフツールチップ */",
            "lineNumber": 4926
          },
          {
            "text": ".graph-tooltip {",
            "lineNumber": 4927
          },
          {
            "text": "  position: fixed;",
            "lineNumber": 4928
          },
          {
            "text": "  z-index: 10002;",
            "lineNumber": 4929
          },
          {
            "text": "  background-color: rgb(255, 255, 255);",
            "lineNumber": 4930
          },
          {
            "text": "  border: 1px solid rgb(200, 200, 200);",
            "lineNumber": 4931
          },
          {
            "text": "  border-radius: 4px;",
            "lineNumber": 4932
          },
          {
            "text": "  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);",
            "lineNumber": 4933
          },
          {
            "text": "  padding: 10px 12px;",
            "lineNumber": 4934
          },
          {
            "text": "  min-width: 250px;",
            "lineNumber": 4935
          },
          {
            "text": "  max-width: 300px;",
            "lineNumber": 4936
          },
          {
            "text": "  width: 280px;",
            "lineNumber": 4937
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4938
          },
          {
            "text": "  max-height: 80vh;",
            "lineNumber": 4939
          },
          {
            "text": "  overflow-y: auto;",
            "lineNumber": 4940
          },
          {
            "text": "}",
            "lineNumber": 4941
          },
          {
            "lineNumber": 4942
          },
          {
            "text": ".tooltip-content {",
            "lineNumber": 4943
          },
          {
            "text": "  display: flex;",
            "lineNumber": 4944
          },
          {
            "text": "  flex-direction: column;",
            "lineNumber": 4945
          },
          {
            "text": "  gap: 6px;",
            "lineNumber": 4946
          },
          {
            "text": "}",
            "lineNumber": 4947
          },
          {
            "lineNumber": 4948
          },
          {
            "text": "/* ツールチップ見出し */",
            "lineNumber": 4949
          },
          {
            "text": ".tooltip-header {",
            "lineNumber": 4950
          },
          {
            "text": "  display: flex;",
            "lineNumber": 4951
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 4952
          },
          {
            "text": "  gap: 4px;",
            "lineNumber": 4953
          },
          {
            "text": "  font-size: 12px;",
            "lineNumber": 4954
          },
          {
            "text": "  font-family: Arial, sans-serif;",
            "lineNumber": 4955
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 4956
          },
          {
            "text": "  color: rgb(0, 0, 0);",
            "lineNumber": 4957
          },
          {
            "text": "  margin-bottom: 2px;",
            "lineNumber": 4958
          },
          {
            "text": "}",
            "lineNumber": 4959
          },
          {
            "lineNumber": 4960
          },
          {
            "text": ".tooltip-header-text {",
            "lineNumber": 4961
          },
          {
            "text": "  color: rgb(0, 0, 0);",
            "lineNumber": 4962
          },
          {
            "text": "}",
            "lineNumber": 4963
          },
          {
            "lineNumber": 4964
          },
          {
            "text": "/* ツールチップアイコン */",
            "lineNumber": 4965
          },
          {
            "text": ".tooltip-icon {",
            "lineNumber": 4966
          },
          {
            "text": "  font-size: 10px;",
            "lineNumber": 4967
          },
          {
            "text": "  line-height: 1;",
            "lineNumber": 4968
          },
          {
            "text": "  margin-right: 2px;",
            "lineNumber": 4969
          },
          {
            "text": "  flex-shrink: 0;",
            "lineNumber": 4970
          },
          {
            "text": "}",
            "lineNumber": 4971
          },
          {
            "lineNumber": 4972
          },
          {
            "text": ".tooltip-icon-gray {",
            "lineNumber": 4973
          },
          {
            "text": "  color: rgb(100, 100, 100);",
            "lineNumber": 4974
          },
          {
            "text": "}",
            "lineNumber": 4975
          },
          {
            "lineNumber": 4976
          },
          {
            "text": ".tooltip-icon-blue {",
            "lineNumber": 4977
          },
          {
            "text": "  color: rgb(37, 100, 153);",
            "lineNumber": 4978
          },
          {
            "text": "}",
            "lineNumber": 4979
          },
          {
            "lineNumber": 4980
          },
          {
            "text": ".tooltip-icon-light-blue {",
            "lineNumber": 4981
          },
          {
            "text": "  color: #4B9EE4; /* 所定内労働用 */",
            "lineNumber": 4982
          },
          {
            "text": "}",
            "lineNumber": 4983
          },
          {
            "lineNumber": 4984
          },
          {
            "text": ".tooltip-icon-yellow {",
            "lineNumber": 4985
          },
          {
            "text": "  color: #B0B000; /* 法定時間内残業用 */",
            "lineNumber": 4986
          },
          {
            "text": "}",
            "lineNumber": 4987
          },
          {
            "lineNumber": 4988
          },
          {
            "text": ".tooltip-icon-orange {",
            "lineNumber": 4989
          },
          {
            "text": "  color: #E28E1C; /* 法定時間外残業用 */",
            "lineNumber": 4990
          },
          {
            "text": "}",
            "lineNumber": 4991
          },
          {
            "lineNumber": 4992
          },
          {
            "text": "/* 区切り線 */",
            "lineNumber": 4993
          },
          {
            "text": ".tooltip-divider {",
            "lineNumber": 4994
          },
          {
            "text": "  height: 1px;",
            "lineNumber": 4995
          },
          {
            "text": "  background-color: rgb(200, 200, 200);",
            "lineNumber": 4996
          },
          {
            "text": "  margin: 4px 0;",
            "lineNumber": 4997
          },
          {
            "text": "}",
            "lineNumber": 4998
          },
          {
            "lineNumber": 4999
          },
          {
            "text": ".tooltip-row {",
            "lineNumber": 5000
          },
          {
            "text": "  display: flex;",
            "lineNumber": 5001
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 5002
          },
          {
            "text": "  font-size: 12px;",
            "lineNumber": 5003
          },
          {
            "text": "  font-family: Arial, sans-serif;",
            "lineNumber": 5004
          },
          {
            "text": "  line-height: 1.4;",
            "lineNumber": 5005
          },
          {
            "text": "  gap: 8px;",
            "lineNumber": 5006
          },
          {
            "text": "}",
            "lineNumber": 5007
          },
          {
            "lineNumber": 5008
          },
          {
            "text": ".tooltip-label {",
            "lineNumber": 5009
          },
          {
            "text": "  color: rgb(100, 100, 100);",
            "lineNumber": 5010
          },
          {
            "text": "  white-space: nowrap;",
            "lineNumber": 5011
          },
          {
            "text": "  flex-shrink: 0;",
            "lineNumber": 5012
          },
          {
            "text": "  display: flex;",
            "lineNumber": 5013
          },
          {
            "text": "  align-items: center;",
            "lineNumber": 5014
          },
          {
            "text": "  gap: 4px;",
            "lineNumber": 5015
          },
          {
            "text": "}",
            "lineNumber": 5016
          },
          {
            "lineNumber": 5017
          },
          {
            "text": ".tooltip-value {",
            "lineNumber": 5018
          },
          {
            "text": "  color: rgb(0, 0, 0);",
            "lineNumber": 5019
          },
          {
            "text": "  text-align: left;",
            "lineNumber": 5020
          }
        ]
      },
      "score": 0.4524206519126892
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2844
          },
          "endPosition": {
            "line": 2894,
            "column": 8
          }
        },
        "contents": "        }\n      } else {\n        // 前日までの累積が月の所定労働時間を超えている場合\n        // 所定内労働は表示しない\n        \n        // 前日までの累積が月の法定労働時間以下の場合\n        if (previousCumulativeWorkHours &lt; monthlyLegalWorkHours) {\n          // 法定時間内残業: 月の法定労働時間の残りまで\n          withinLegalOvertime = Math.min(dailyActualWorkHours, remainingLegalWorkHours)\n          \n          // 法定時間外残業: それ以上\n          overLegalOvertime = dailyActualWorkHours - withinLegalOvertime\n        } else {\n          // 前日までの累積が月の法定労働時間を超えている場合\n          // 法定時間内残業は表示しない\n          // 法定時間外残業: その日の実労働時間すべて\n          overLegalOvertime = dailyActualWorkHours\n        }\n      }\n      \n      return {\n        scheduledWorkHours,\n        withinLegalOvertime,\n        overLegalOvertime\n      }\n    },\n    \n    // ツールチップ: 所定内労働時間を取得\n    getTooltipScheduledWorkHours(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return '-'\n      }\n      \n      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)\n      return this.formatHoursToHMM(scheduledWorkHours)\n    },\n    \n    // ツールチップ: 所定内労働を表示するかどうか\n    shouldShowScheduledWorkHours(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return false\n      }\n      \n      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)\n      return scheduledWorkHours &gt; 0\n    },\n    \n    // その日付までの累積労働時間を計算\n    calculateCumulativeWorkHours(cutoffDateStr) {\n      if (!this.attendanceData || this.attendanceData.length === 0) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        }",
            "lineNumber": 2845
          },
          {
            "text": "      } else {",
            "lineNumber": 2846
          },
          {
            "text": "        // 前日までの累積が月の所定労働時間を超えている場合",
            "lineNumber": 2847
          },
          {
            "text": "        // 所定内労働は表示しない",
            "lineNumber": 2848
          },
          {
            "text": "        ",
            "lineNumber": 2849
          },
          {
            "text": "        // 前日までの累積が月の法定労働時間以下の場合",
            "lineNumber": 2850
          },
          {
            "text": "        if (previousCumulativeWorkHours &lt; monthlyLegalWorkHours) {",
            "lineNumber": 2851
          },
          {
            "text": "          // 法定時間内残業: 月の法定労働時間の残りまで",
            "lineNumber": 2852
          },
          {
            "text": "          withinLegalOvertime = Math.min(dailyActualWorkHours, remainingLegalWorkHours)",
            "lineNumber": 2853
          },
          {
            "text": "          ",
            "lineNumber": 2854
          },
          {
            "text": "          // 法定時間外残業: それ以上",
            "lineNumber": 2855
          },
          {
            "text": "          overLegalOvertime = dailyActualWorkHours - withinLegalOvertime",
            "lineNumber": 2856
          },
          {
            "text": "        } else {",
            "lineNumber": 2857
          },
          {
            "text": "          // 前日までの累積が月の法定労働時間を超えている場合",
            "lineNumber": 2858
          },
          {
            "text": "          // 法定時間内残業は表示しない",
            "lineNumber": 2859
          },
          {
            "text": "          // 法定時間外残業: その日の実労働時間すべて",
            "lineNumber": 2860
          },
          {
            "text": "          overLegalOvertime = dailyActualWorkHours",
            "lineNumber": 2861
          },
          {
            "text": "        }",
            "lineNumber": 2862
          },
          {
            "text": "      }",
            "lineNumber": 2863
          },
          {
            "text": "      ",
            "lineNumber": 2864
          },
          {
            "text": "      return {",
            "lineNumber": 2865
          },
          {
            "text": "        scheduledWorkHours,",
            "lineNumber": 2866
          },
          {
            "text": "        withinLegalOvertime,",
            "lineNumber": 2867
          },
          {
            "text": "        overLegalOvertime",
            "lineNumber": 2868
          },
          {
            "text": "      }",
            "lineNumber": 2869
          },
          {
            "text": "    },",
            "lineNumber": 2870
          },
          {
            "text": "    ",
            "lineNumber": 2871
          },
          {
            "text": "    // ツールチップ: 所定内労働時間を取得",
            "lineNumber": 2872
          },
          {
            "text": "    getTooltipScheduledWorkHours(day) {",
            "lineNumber": 2873
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2874
          },
          {
            "text": "        return '-'",
            "lineNumber": 2875
          },
          {
            "text": "      }",
            "lineNumber": 2876
          },
          {
            "text": "      ",
            "lineNumber": 2877
          },
          {
            "text": "      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2878
          },
          {
            "text": "      return this.formatHoursToHMM(scheduledWorkHours)",
            "lineNumber": 2879
          },
          {
            "text": "    },",
            "lineNumber": 2880
          },
          {
            "text": "    ",
            "lineNumber": 2881
          },
          {
            "text": "    // ツールチップ: 所定内労働を表示するかどうか",
            "lineNumber": 2882
          },
          {
            "text": "    shouldShowScheduledWorkHours(day) {",
            "lineNumber": 2883
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2884
          },
          {
            "text": "        return false",
            "lineNumber": 2885
          },
          {
            "text": "      }",
            "lineNumber": 2886
          },
          {
            "text": "      ",
            "lineNumber": 2887
          },
          {
            "text": "      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2888
          },
          {
            "text": "      return scheduledWorkHours &gt; 0",
            "lineNumber": 2889
          },
          {
            "text": "    },",
            "lineNumber": 2890
          },
          {
            "text": "    ",
            "lineNumber": 2891
          },
          {
            "text": "    // その日付までの累積労働時間を計算",
            "lineNumber": 2892
          },
          {
            "text": "    calculateCumulativeWorkHours(cutoffDateStr) {",
            "lineNumber": 2893
          },
          {
            "text": "      if (!this.attendanceData || this.attendanceData.length === 0) {",
            "lineNumber": 2894
          },
          {
            "text": "        ",
            "lineNumber": 2895
          }
        ]
      },
      "score": 0.4517287015914917
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 574
          },
          "endPosition": {
            "line": 616
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-break-time-bar vacation-break-time-bar\" \n          :style=\"getVacationBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;\n        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;\n          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'scheduled') &gt; 0\"\n            class=\"graph-bar graph-bar-scheduled\" \n            :style=\"getGraphSegmentStyle(day, 'scheduled')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'withinLegal') &gt; 0\"\n            class=\"graph-bar graph-bar-within-legal\" \n            :style=\"getGraphSegmentStyle(day, 'withinLegal')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n          &lt;!-- 法定時間外残業セグメント（オレンジ色） --&gt;\n          &lt;div \n            v-if=\"getGraphSegmentWidth(day, 'overLegal') &gt; 0\"\n            class=\"graph-bar graph-bar-over-legal\" \n            :style=\"getGraphSegmentStyle(day, 'overLegal')\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 休憩時間の四角形（複数対応） --&gt;\n        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;\n          &lt;div \n            v-if=\"shouldShowBreakTime(breakTime, day)\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 575
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 576
          },
          {
            "text": "          class=\"scheduled-break-time-bar vacation-break-time-bar\" ",
            "lineNumber": 577
          },
          {
            "text": "          :style=\"getVacationBreakTimeStyle(day)\"",
            "lineNumber": 578
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 579
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 580
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 581
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 582
          },
          {
            "text": "        &lt;!-- グラフバー（出勤・退勤の両方がある場合のみ） --&gt;",
            "lineNumber": 583
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn &amp;&amp; day.clockOut\" class=\"work-graph\"&gt;",
            "lineNumber": 584
          },
          {
            "text": "          &lt;!-- 所定内労働セグメント（ライトブルー） --&gt;",
            "lineNumber": 585
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 586
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'scheduled') &gt; 0\"",
            "lineNumber": 587
          },
          {
            "text": "            class=\"graph-bar graph-bar-scheduled\" ",
            "lineNumber": 588
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'scheduled')\"",
            "lineNumber": 589
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 590
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 591
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 592
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 593
          },
          {
            "text": "          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;",
            "lineNumber": 594
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 595
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'withinLegal') &gt; 0\"",
            "lineNumber": 596
          },
          {
            "text": "            class=\"graph-bar graph-bar-within-legal\" ",
            "lineNumber": 597
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'withinLegal')\"",
            "lineNumber": 598
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 599
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 600
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 601
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 602
          },
          {
            "text": "          &lt;!-- 法定時間外残業セグメント（オレンジ色） --&gt;",
            "lineNumber": 603
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 604
          },
          {
            "text": "            v-if=\"getGraphSegmentWidth(day, 'overLegal') &gt; 0\"",
            "lineNumber": 605
          },
          {
            "text": "            class=\"graph-bar graph-bar-over-legal\" ",
            "lineNumber": 606
          },
          {
            "text": "            :style=\"getGraphSegmentStyle(day, 'overLegal')\"",
            "lineNumber": 607
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 608
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 609
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 610
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 611
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 612
          },
          {
            "text": "        &lt;!-- 休憩時間の四角形（複数対応） --&gt;",
            "lineNumber": 613
          },
          {
            "text": "        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;",
            "lineNumber": 614
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 615
          },
          {
            "text": "            v-if=\"shouldShowBreakTime(breakTime, day)\"",
            "lineNumber": 616
          }
        ]
      },
      "score": 0.4386518895626068
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 731
          },
          "endPosition": {
            "line": 773
          }
        },
        "contents": "            &lt;div v-if=\"shouldShowScheduledWorkHours(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-light-blue\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;所定内労働&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkHours(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 法定時間内残業（月次累積） --&gt;\n            &lt;div v-if=\"shouldShowMonthlyWithinLegalOvertime(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-yellow\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyWithinLegalOvertime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 法定時間外残業（月次累積） --&gt;\n            &lt;div v-if=\"shouldShowMonthlyOverLegalOvertime(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-orange\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;法定時間外残業&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyOverLegalOvertime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n          &lt;/template&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- 備考 --&gt;\n      &lt;div class=\"cell-remarks\"&gt;\n        &lt;button class=\"plus-button\" @click=\"openRemarks(day)\" title=\"備考入力\"&gt;\n          &lt;div class=\"plus-icon-circle\"&gt;\n            &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;\n            &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/button&gt;\n        &lt;div v-if=\"day.remarkText &amp;&amp; day.remarkText.trim() !== ''\" class=\"remarks-text\" @click=\"openRemarks(day)\" :title=\"day.remarkText\"&gt;\n          {{ day.remarkText.length &gt; 20 ? day.remarkText.substring(0, 20) + '...' : day.remarkText }}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    \n    &lt;!-- 時間軸行（下） --&gt;\n    &lt;div class=\"table-header time-axis-bottom\"&gt;\n      &lt;div class=\"header-graph\"&gt;\n        &lt;span class=\"time-label\" style=\"left: 0.4%;\"&gt;0&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "            &lt;div v-if=\"shouldShowScheduledWorkHours(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 732
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-light-blue\"&gt;■&lt;/span&gt;",
            "lineNumber": 733
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;所定内労働&lt;/span&gt;",
            "lineNumber": 734
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkHours(day) }}&lt;/span&gt;",
            "lineNumber": 735
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 736
          },
          {
            "text": "            ",
            "lineNumber": 737
          },
          {
            "text": "            &lt;!-- 法定時間内残業（月次累積） --&gt;",
            "lineNumber": 738
          },
          {
            "text": "            &lt;div v-if=\"shouldShowMonthlyWithinLegalOvertime(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 739
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-yellow\"&gt;■&lt;/span&gt;",
            "lineNumber": 740
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;",
            "lineNumber": 741
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyWithinLegalOvertime(day) }}&lt;/span&gt;",
            "lineNumber": 742
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 743
          },
          {
            "text": "            ",
            "lineNumber": 744
          },
          {
            "text": "            &lt;!-- 法定時間外残業（月次累積） --&gt;",
            "lineNumber": 745
          },
          {
            "text": "            &lt;div v-if=\"shouldShowMonthlyOverLegalOvertime(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 746
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-orange\"&gt;■&lt;/span&gt;",
            "lineNumber": 747
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;法定時間外残業&lt;/span&gt;",
            "lineNumber": 748
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getMonthlyOverLegalOvertime(day) }}&lt;/span&gt;",
            "lineNumber": 749
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 750
          },
          {
            "text": "            ",
            "lineNumber": 751
          },
          {
            "text": "          &lt;/template&gt;",
            "lineNumber": 752
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 753
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 754
          },
          {
            "text": "      ",
            "lineNumber": 755
          },
          {
            "text": "      &lt;!-- 備考 --&gt;",
            "lineNumber": 756
          },
          {
            "text": "      &lt;div class=\"cell-remarks\"&gt;",
            "lineNumber": 757
          },
          {
            "text": "        &lt;button class=\"plus-button\" @click=\"openRemarks(day)\" title=\"備考入力\"&gt;",
            "lineNumber": 758
          },
          {
            "text": "          &lt;div class=\"plus-icon-circle\"&gt;",
            "lineNumber": 759
          },
          {
            "text": "            &lt;div class=\"plus-icon-vertical\"&gt;&lt;/div&gt;",
            "lineNumber": 760
          },
          {
            "text": "            &lt;div class=\"plus-icon-horizontal\"&gt;&lt;/div&gt;",
            "lineNumber": 761
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 762
          },
          {
            "text": "        &lt;/button&gt;",
            "lineNumber": 763
          },
          {
            "text": "        &lt;div v-if=\"day.remarkText &amp;&amp; day.remarkText.trim() !== ''\" class=\"remarks-text\" @click=\"openRemarks(day)\" :title=\"day.remarkText\"&gt;",
            "lineNumber": 764
          },
          {
            "text": "          {{ day.remarkText.length &gt; 20 ? day.remarkText.substring(0, 20) + '...' : day.remarkText }}",
            "lineNumber": 765
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 766
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 767
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 768
          },
          {
            "text": "    ",
            "lineNumber": 769
          },
          {
            "text": "    &lt;!-- 時間軸行（下） --&gt;",
            "lineNumber": 770
          },
          {
            "text": "    &lt;div class=\"table-header time-axis-bottom\"&gt;",
            "lineNumber": 771
          },
          {
            "text": "      &lt;div class=\"header-graph\"&gt;",
            "lineNumber": 772
          },
          {
            "text": "        &lt;span class=\"time-label\" style=\"left: 0.4%;\"&gt;0&lt;/span&gt;",
            "lineNumber": 773
          }
        ]
      },
      "score": 0.43014585971832275
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1587
          },
          "endPosition": {
            "line": 1614
          }
        },
        "contents": "- **法定時間外割増時間**: セグメント内の紫色の部分\n- **深夜労働時間**: セグメント内の赤色の部分\n- **公用外出時間**: セグメント内の水色の部分\n\n#### 表示例\n\n| 状態 | グラフ表示 |\n| --- | --- |\n| 平日・勤怠データなし | グレーの長方形（9:00-17:30）+ 休憩時間のグレー四角形（12:00-13:00、#BBBBBB） |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |\n| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |\n| 平日・出退勤済み（出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤〜退勤の青色バー + 出勤・退勤位置に▼ |\n| 平日・出退勤済み（出勤時刻が休憩時間より後） | グレーの長方形 + 出勤〜退勤の青色バー + 出勤・退勤位置に▼（休憩時間の四角形は表示しない） |\n| 有給休暇または夏季休暇の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |\n| 代休の取得日 | 青色の長方形（9:00-17:30、#1A69AB）+ 細い白線（1px） |\n| 土日祝・勤怠データなし | グラフなし（空白） |\n| 土日祝・出退勤あり | 出勤〜退勤の緑色/紫色バー + 出勤・退勤位置に▼ |\n\n### 勤務グラフツールチップ\n勤務グラフにマウスカーソルを当てると、ツールチップが表示され、以下の詳細情報を確認できます:\n\n#### 通常勤務の場合\n\n**標準の勤務時間セクション（■マーク付き見出し）:**\n1. **標準勤務時間**: 所定の勤務時間帯（例: 9:00-17:30）\n2. **所定休憩時間**: 所定の休憩時間帯（例: 12:00-13:00）",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- **法定時間外割増時間**: セグメント内の紫色の部分",
            "lineNumber": 1588
          },
          {
            "text": "- **深夜労働時間**: セグメント内の赤色の部分",
            "lineNumber": 1589
          },
          {
            "text": "- **公用外出時間**: セグメント内の水色の部分",
            "lineNumber": 1590
          },
          {
            "lineNumber": 1591
          },
          {
            "text": "#### 表示例",
            "lineNumber": 1592
          },
          {
            "lineNumber": 1593
          },
          {
            "text": "| 状態 | グラフ表示 |",
            "lineNumber": 1594
          },
          {
            "text": "| --- | --- |",
            "lineNumber": 1595
          },
          {
            "text": "| 平日・勤怠データなし | グレーの長方形（9:00-17:30）+ 休憩時間のグレー四角形（12:00-13:00、#BBBBBB） |",
            "lineNumber": 1596
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤時刻から現在までの青色バー + 出勤位置に▼ |",
            "lineNumber": 1597
          },
          {
            "text": "| 平日・出勤済み（勤務中、出勤時刻が休憩時間より後） | グレーの長方形 + 出勤時刻から現在までの青色バー + 出勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1598
          },
          {
            "text": "| 平日・出退勤済み（出勤時刻が休憩時間より前） | グレーの長方形 + 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 出勤〜退勤の青色バー + 出勤・退勤位置に▼ |",
            "lineNumber": 1599
          },
          {
            "text": "| 平日・出退勤済み（出勤時刻が休憩時間より後） | グレーの長方形 + 出勤〜退勤の青色バー + 出勤・退勤位置に▼（休憩時間の四角形は表示しない） |",
            "lineNumber": 1600
          },
          {
            "text": "| 有給休暇または夏季休暇の取得日 | 薄い青の長方形（9:00-17:30、#4B9EE4）+ 休憩時間の青色四角形（12:00-13:00、#1A69AB）+ 細い白線（1px） |",
            "lineNumber": 1601
          },
          {
            "text": "| 代休の取得日 | 青色の長方形（9:00-17:30、#1A69AB）+ 細い白線（1px） |",
            "lineNumber": 1602
          },
          {
            "text": "| 土日祝・勤怠データなし | グラフなし（空白） |",
            "lineNumber": 1603
          },
          {
            "text": "| 土日祝・出退勤あり | 出勤〜退勤の緑色/紫色バー + 出勤・退勤位置に▼ |",
            "lineNumber": 1604
          },
          {
            "lineNumber": 1605
          },
          {
            "text": "### 勤務グラフツールチップ",
            "lineNumber": 1606
          },
          {
            "text": "勤務グラフにマウスカーソルを当てると、ツールチップが表示され、以下の詳細情報を確認できます:",
            "lineNumber": 1607
          },
          {
            "lineNumber": 1608
          },
          {
            "text": "#### 通常勤務の場合",
            "lineNumber": 1609
          },
          {
            "lineNumber": 1610
          },
          {
            "text": "**標準の勤務時間セクション（■マーク付き見出し）:**",
            "lineNumber": 1611
          },
          {
            "text": "1. **標準勤務時間**: 所定の勤務時間帯（例: 9:00-17:30）",
            "lineNumber": 1612
          },
          {
            "text": "2. **所定休憩時間**: 所定の休憩時間帯（例: 12:00-13:00）",
            "lineNumber": 1613
          }
        ]
      },
      "score": 0.427680104970932
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2670
          },
          "endPosition": {
            "line": 2731
          }
        },
        "contents": "    getTooltipScheduledWorkTime(day) {\n      // 常に標準勤務時間を表示\n      return '9:00-17:30'\n    },\n    \n    // ツールチップ: 所定休憩時間を取得\n    getTooltipScheduledBreakTime(day) {\n      // 常に所定休憩時間を表示\n      return '12:00-13:00'\n    },\n    \n    // ツールチップ: 休憩時間を取得（複数対応）\n    getTooltipBreakTimes(day) {\n      if (!day.breakTimes || day.breakTimes.length === 0) {\n        return '-'\n      }\n      return day.breakTimes\n        .map(bt =&gt; &#96;${bt.startTime}-${bt.endTime}&#96;)\n        .join(', ')\n    },\n    \n    // ツールチップ: 総労働時間を取得（出勤から退勤までの時間）\n    getTooltipTotalWorkTime(day) {\n      if (!day.clockIn || !day.clockOut) {\n        return '-'\n      }\n      \n      // 時刻文字列を分割（H:MM形式またはHH:MM形式に対応）\n      const parseTime = (timeStr) =&gt; {\n        if (!timeStr || typeof timeStr !== 'string') return null\n        const parts = timeStr.split(':')\n        if (parts.length !== 2) return null\n        const hour = parseInt(parts[0], 10)\n        const minute = parseInt(parts[1], 10)\n        if (isNaN(hour) || isNaN(minute)) return null\n        return { hour, minute }\n      }\n      \n      const clockIn = parseTime(day.clockIn)\n      const clockOut = parseTime(day.clockOut)\n      \n      if (!clockIn || !clockOut) {\n        return '-'\n      }\n      \n      const clockInMinutes = clockIn.hour * 60 + clockIn.minute\n      const clockOutMinutes = clockOut.hour * 60 + clockOut.minute\n      \n      // 24時間を超える場合の処理（日をまたぐ場合）\n      let totalMinutes = clockOutMinutes - clockInMinutes\n      if (totalMinutes &lt; 0) {\n        // 日をまたぐ場合（例: 22:00出勤、翌日2:00退勤）\n        totalMinutes = (24 * 60 - clockInMinutes) + clockOutMinutes\n      }\n      \n      const hours = Math.floor(totalMinutes / 60)\n      const minutes = totalMinutes % 60\n      \n      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;\n    },\n    ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getTooltipScheduledWorkTime(day) {",
            "lineNumber": 2671
          },
          {
            "text": "      // 常に標準勤務時間を表示",
            "lineNumber": 2672
          },
          {
            "text": "      return '9:00-17:30'",
            "lineNumber": 2673
          },
          {
            "text": "    },",
            "lineNumber": 2674
          },
          {
            "text": "    ",
            "lineNumber": 2675
          },
          {
            "text": "    // ツールチップ: 所定休憩時間を取得",
            "lineNumber": 2676
          },
          {
            "text": "    getTooltipScheduledBreakTime(day) {",
            "lineNumber": 2677
          },
          {
            "text": "      // 常に所定休憩時間を表示",
            "lineNumber": 2678
          },
          {
            "text": "      return '12:00-13:00'",
            "lineNumber": 2679
          },
          {
            "text": "    },",
            "lineNumber": 2680
          },
          {
            "text": "    ",
            "lineNumber": 2681
          },
          {
            "text": "    // ツールチップ: 休憩時間を取得（複数対応）",
            "lineNumber": 2682
          },
          {
            "text": "    getTooltipBreakTimes(day) {",
            "lineNumber": 2683
          },
          {
            "text": "      if (!day.breakTimes || day.breakTimes.length === 0) {",
            "lineNumber": 2684
          },
          {
            "text": "        return '-'",
            "lineNumber": 2685
          },
          {
            "text": "      }",
            "lineNumber": 2686
          },
          {
            "text": "      return day.breakTimes",
            "lineNumber": 2687
          },
          {
            "text": "        .map(bt =&gt; &#96;${bt.startTime}-${bt.endTime}&#96;)",
            "lineNumber": 2688
          },
          {
            "text": "        .join(', ')",
            "lineNumber": 2689
          },
          {
            "text": "    },",
            "lineNumber": 2690
          },
          {
            "text": "    ",
            "lineNumber": 2691
          },
          {
            "text": "    // ツールチップ: 総労働時間を取得（出勤から退勤までの時間）",
            "lineNumber": 2692
          },
          {
            "text": "    getTooltipTotalWorkTime(day) {",
            "lineNumber": 2693
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut) {",
            "lineNumber": 2694
          },
          {
            "text": "        return '-'",
            "lineNumber": 2695
          },
          {
            "text": "      }",
            "lineNumber": 2696
          },
          {
            "text": "      ",
            "lineNumber": 2697
          },
          {
            "text": "      // 時刻文字列を分割（H:MM形式またはHH:MM形式に対応）",
            "lineNumber": 2698
          },
          {
            "text": "      const parseTime = (timeStr) =&gt; {",
            "lineNumber": 2699
          },
          {
            "text": "        if (!timeStr || typeof timeStr !== 'string') return null",
            "lineNumber": 2700
          },
          {
            "text": "        const parts = timeStr.split(':')",
            "lineNumber": 2701
          },
          {
            "text": "        if (parts.length !== 2) return null",
            "lineNumber": 2702
          },
          {
            "text": "        const hour = parseInt(parts[0], 10)",
            "lineNumber": 2703
          },
          {
            "text": "        const minute = parseInt(parts[1], 10)",
            "lineNumber": 2704
          },
          {
            "text": "        if (isNaN(hour) || isNaN(minute)) return null",
            "lineNumber": 2705
          },
          {
            "text": "        return { hour, minute }",
            "lineNumber": 2706
          },
          {
            "text": "      }",
            "lineNumber": 2707
          },
          {
            "text": "      ",
            "lineNumber": 2708
          },
          {
            "text": "      const clockIn = parseTime(day.clockIn)",
            "lineNumber": 2709
          },
          {
            "text": "      const clockOut = parseTime(day.clockOut)",
            "lineNumber": 2710
          },
          {
            "text": "      ",
            "lineNumber": 2711
          },
          {
            "text": "      if (!clockIn || !clockOut) {",
            "lineNumber": 2712
          },
          {
            "text": "        return '-'",
            "lineNumber": 2713
          },
          {
            "text": "      }",
            "lineNumber": 2714
          },
          {
            "text": "      ",
            "lineNumber": 2715
          },
          {
            "text": "      const clockInMinutes = clockIn.hour * 60 + clockIn.minute",
            "lineNumber": 2716
          },
          {
            "text": "      const clockOutMinutes = clockOut.hour * 60 + clockOut.minute",
            "lineNumber": 2717
          },
          {
            "text": "      ",
            "lineNumber": 2718
          },
          {
            "text": "      // 24時間を超える場合の処理（日をまたぐ場合）",
            "lineNumber": 2719
          },
          {
            "text": "      let totalMinutes = clockOutMinutes - clockInMinutes",
            "lineNumber": 2720
          },
          {
            "text": "      if (totalMinutes &lt; 0) {",
            "lineNumber": 2721
          },
          {
            "text": "        // 日をまたぐ場合（例: 22:00出勤、翌日2:00退勤）",
            "lineNumber": 2722
          },
          {
            "text": "        totalMinutes = (24 * 60 - clockInMinutes) + clockOutMinutes",
            "lineNumber": 2723
          },
          {
            "text": "      }",
            "lineNumber": 2724
          },
          {
            "text": "      ",
            "lineNumber": 2725
          },
          {
            "text": "      const hours = Math.floor(totalMinutes / 60)",
            "lineNumber": 2726
          },
          {
            "text": "      const minutes = totalMinutes % 60",
            "lineNumber": 2727
          },
          {
            "text": "      ",
            "lineNumber": 2728
          },
          {
            "text": "      return &#96;${hours}:${String(minutes).padStart(2, '0')}&#96;",
            "lineNumber": 2729
          },
          {
            "text": "    },",
            "lineNumber": 2730
          },
          {
            "text": "    ",
            "lineNumber": 2731
          }
        ]
      },
      "score": 0.4078398048877716
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1629
          },
          "endPosition": {
            "line": 1645
          }
        },
        "contents": "9. **法定時間内残業**: 月の法定労働時間の残りまでの残業時間（例: 7:58）■マーク（黄土色）付き\n   - 月次累積で計算。前日までの累積実労働時間が月の所定労働時間を超えている場合に表示\n   - 前日までの累積で月の法定労働時間（所定出勤日数 * 8時間）の残りがX時間の場合、その日の実労働時間のうち最初のX時間分が法定時間内残業として表示される\n   - 例：月の法定労働時間が176:00で、前日までの累積が172:50の場合、残りは3:10。その日の実労働時間が7:59の場合、最初の3:10が法定時間内残業として表示される（ただし、所定内労働の残りがある場合は、その残りを除いた分が法定時間内残業となる）\n   - 前日までの累積実労働時間が月の法定労働時間を超えている場合は表示しない\n10. **法定時間外残業**: 月の法定労働時間を超えた残業時間（例: 3:49）■マーク（オレンジ色）付き\n    - 月次累積で計算。前日までの累積実労働時間が月の法定労働時間を超えている場合に表示\n    - その日の実労働時間のうち、法定時間内残業として表示された分を除いた残りが法定時間外残業として表示される\n    - 例：その日の実労働時間が7:59で、法定時間内残業が4:10の場合、残りの3:49が法定時間外残業として表示される\n\n**表示条件:**\n- 前日までの累積実労働時間が月の所定労働時間以下の場合: 「所定内労働」を表示し、「法定時間内残業」と「法定時間外残業」は表示しない（ただし、その日の実労働時間が所定労働時間の残りを超える場合は、超えた分が「法定時間内残業」として表示される）\n- 前日までの累積実労働時間が月の所定労働時間を超えている場合: 「所定内労働」は表示せず、「法定時間内残業」と「法定時間外残業」を表示（該当する場合）\n\n#### 有給休暇・代休・無給休暇等の場合",
        "signatures": {},
        "detailedLines": [
          {
            "text": "9. **法定時間内残業**: 月の法定労働時間の残りまでの残業時間（例: 7:58）■マーク（黄土色）付き",
            "lineNumber": 1630
          },
          {
            "text": "   - 月次累積で計算。前日までの累積実労働時間が月の所定労働時間を超えている場合に表示",
            "lineNumber": 1631
          },
          {
            "text": "   - 前日までの累積で月の法定労働時間（所定出勤日数 * 8時間）の残りがX時間の場合、その日の実労働時間のうち最初のX時間分が法定時間内残業として表示される",
            "lineNumber": 1632
          },
          {
            "text": "   - 例：月の法定労働時間が176:00で、前日までの累積が172:50の場合、残りは3:10。その日の実労働時間が7:59の場合、最初の3:10が法定時間内残業として表示される（ただし、所定内労働の残りがある場合は、その残りを除いた分が法定時間内残業となる）",
            "lineNumber": 1633
          },
          {
            "text": "   - 前日までの累積実労働時間が月の法定労働時間を超えている場合は表示しない",
            "lineNumber": 1634
          },
          {
            "text": "10. **法定時間外残業**: 月の法定労働時間を超えた残業時間（例: 3:49）■マーク（オレンジ色）付き",
            "lineNumber": 1635
          },
          {
            "text": "    - 月次累積で計算。前日までの累積実労働時間が月の法定労働時間を超えている場合に表示",
            "lineNumber": 1636
          },
          {
            "text": "    - その日の実労働時間のうち、法定時間内残業として表示された分を除いた残りが法定時間外残業として表示される",
            "lineNumber": 1637
          },
          {
            "text": "    - 例：その日の実労働時間が7:59で、法定時間内残業が4:10の場合、残りの3:49が法定時間外残業として表示される",
            "lineNumber": 1638
          },
          {
            "lineNumber": 1639
          },
          {
            "text": "**表示条件:**",
            "lineNumber": 1640
          },
          {
            "text": "- 前日までの累積実労働時間が月の所定労働時間以下の場合: 「所定内労働」を表示し、「法定時間内残業」と「法定時間外残業」は表示しない（ただし、その日の実労働時間が所定労働時間の残りを超える場合は、超えた分が「法定時間内残業」として表示される）",
            "lineNumber": 1641
          },
          {
            "text": "- 前日までの累積実労働時間が月の所定労働時間を超えている場合: 「所定内労働」は表示せず、「法定時間内残業」と「法定時間外残業」を表示（該当する場合）",
            "lineNumber": 1642
          },
          {
            "lineNumber": 1643
          },
          {
            "text": "#### 有給休暇・代休・無給休暇等の場合",
            "lineNumber": 1644
          }
        ]
      },
      "score": 0.40147408843040466
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2892
          },
          "endPosition": {
            "line": 2942
          }
        },
        "contents": "    calculateCumulativeWorkHours(cutoffDateStr) {\n      if (!this.attendanceData || this.attendanceData.length === 0) {\n        return { totalWorkHours: 0, scheduledWorkHoursUntilCutoff: 0 }\n      }\n      \n      // 年月を取得（最初の日付から）\n      const firstDate = this.attendanceData[0].date\n      const [year, month] = firstDate.split('-').map(Number)\n      \n      // その日付までの実労働時間の合計を計算\n      let totalWorkHours = 0\n      for (const day of this.attendanceData) {\n        if (day.date &gt; cutoffDateStr) break\n        if (day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.actualWorkHours) {\n          totalWorkHours += parseFloat(day.actualWorkHours) || 0\n        }\n      }\n      \n      // その日付までの所定出勤日数を計算\n      const scheduledWorkDaysUntilCutoff = this.getScheduledWorkDaysUntilDate(year, month, cutoffDateStr)\n      \n      // 所定労働時間（7.5時間/日 × 所定出勤日数）\n      const scheduledWorkHoursUntilCutoff = scheduledWorkDaysUntilCutoff * 7.5\n      \n      return { totalWorkHours, scheduledWorkHoursUntilCutoff }\n    },\n    \n    // ツールチップ: 法定時間内残業を表示するかどうか\n    shouldShowMonthlyWithinLegalOvertime(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return false\n      }\n      \n      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return withinLegalOvertime &gt; 0\n    },\n    \n    // ツールチップ: 法定時間外残業を表示するかどうか\n    shouldShowMonthlyOverLegalOvertime(day) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return false\n      }\n      \n      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return overLegalOvertime &gt; 0\n    },\n    \n    // ツールチップ: 法定時間内残業を取得\n    getMonthlyWithinLegalOvertime(day) {\n      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    calculateCumulativeWorkHours(cutoffDateStr) {",
            "lineNumber": 2893
          },
          {
            "text": "      if (!this.attendanceData || this.attendanceData.length === 0) {",
            "lineNumber": 2894
          },
          {
            "text": "        return { totalWorkHours: 0, scheduledWorkHoursUntilCutoff: 0 }",
            "lineNumber": 2895
          },
          {
            "text": "      }",
            "lineNumber": 2896
          },
          {
            "text": "      ",
            "lineNumber": 2897
          },
          {
            "text": "      // 年月を取得（最初の日付から）",
            "lineNumber": 2898
          },
          {
            "text": "      const firstDate = this.attendanceData[0].date",
            "lineNumber": 2899
          },
          {
            "text": "      const [year, month] = firstDate.split('-').map(Number)",
            "lineNumber": 2900
          },
          {
            "text": "      ",
            "lineNumber": 2901
          },
          {
            "text": "      // その日付までの実労働時間の合計を計算",
            "lineNumber": 2902
          },
          {
            "text": "      let totalWorkHours = 0",
            "lineNumber": 2903
          },
          {
            "text": "      for (const day of this.attendanceData) {",
            "lineNumber": 2904
          },
          {
            "text": "        if (day.date &gt; cutoffDateStr) break",
            "lineNumber": 2905
          },
          {
            "text": "        if (day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.actualWorkHours) {",
            "lineNumber": 2906
          },
          {
            "text": "          totalWorkHours += parseFloat(day.actualWorkHours) || 0",
            "lineNumber": 2907
          },
          {
            "text": "        }",
            "lineNumber": 2908
          },
          {
            "text": "      }",
            "lineNumber": 2909
          },
          {
            "text": "      ",
            "lineNumber": 2910
          },
          {
            "text": "      // その日付までの所定出勤日数を計算",
            "lineNumber": 2911
          },
          {
            "text": "      const scheduledWorkDaysUntilCutoff = this.getScheduledWorkDaysUntilDate(year, month, cutoffDateStr)",
            "lineNumber": 2912
          },
          {
            "text": "      ",
            "lineNumber": 2913
          },
          {
            "text": "      // 所定労働時間（7.5時間/日 × 所定出勤日数）",
            "lineNumber": 2914
          },
          {
            "text": "      const scheduledWorkHoursUntilCutoff = scheduledWorkDaysUntilCutoff * 7.5",
            "lineNumber": 2915
          },
          {
            "text": "      ",
            "lineNumber": 2916
          },
          {
            "text": "      return { totalWorkHours, scheduledWorkHoursUntilCutoff }",
            "lineNumber": 2917
          },
          {
            "text": "    },",
            "lineNumber": 2918
          },
          {
            "text": "    ",
            "lineNumber": 2919
          },
          {
            "text": "    // ツールチップ: 法定時間内残業を表示するかどうか",
            "lineNumber": 2920
          },
          {
            "text": "    shouldShowMonthlyWithinLegalOvertime(day) {",
            "lineNumber": 2921
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2922
          },
          {
            "text": "        return false",
            "lineNumber": 2923
          },
          {
            "text": "      }",
            "lineNumber": 2924
          },
          {
            "text": "      ",
            "lineNumber": 2925
          },
          {
            "text": "      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2926
          },
          {
            "text": "      return withinLegalOvertime &gt; 0",
            "lineNumber": 2927
          },
          {
            "text": "    },",
            "lineNumber": 2928
          },
          {
            "text": "    ",
            "lineNumber": 2929
          },
          {
            "text": "    // ツールチップ: 法定時間外残業を表示するかどうか",
            "lineNumber": 2930
          },
          {
            "text": "    shouldShowMonthlyOverLegalOvertime(day) {",
            "lineNumber": 2931
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 2932
          },
          {
            "text": "        return false",
            "lineNumber": 2933
          },
          {
            "text": "      }",
            "lineNumber": 2934
          },
          {
            "text": "      ",
            "lineNumber": 2935
          },
          {
            "text": "      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2936
          },
          {
            "text": "      return overLegalOvertime &gt; 0",
            "lineNumber": 2937
          },
          {
            "text": "    },",
            "lineNumber": 2938
          },
          {
            "text": "    ",
            "lineNumber": 2939
          },
          {
            "text": "    // ツールチップ: 法定時間内残業を取得",
            "lineNumber": 2940
          },
          {
            "text": "    getMonthlyWithinLegalOvertime(day) {",
            "lineNumber": 2941
          },
          {
            "text": "      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2942
          }
        ]
      },
      "score": 0.39880621433258057
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 781
          },
          "endPosition": {
            "line": 790
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間合計 | 日次勤務データ.休憩時間リストの合計をH:MM形式で表示 | 例: 1:00。■マーク（青色）付き。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定内労働 | 月の所定労働時間の残りまでの労働時間をH:MM形式で表示 | 例: 0:45。■マーク（ライトブルー）付き。月次累積で計算。前日までの累積実労働時間が月の所定労働時間（所定出勤日数 * 7.5時間）を超えていない場合、その日の実労働時間のうち、月の所定労働時間の残り分までを表示。残りが0:45の場合、その日の実労働時間のうち最初の0:45が所定内労働として表示される。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 月の法定労働時間の残りまでの残業時間をH:MM形式で表示 | 例: 7:58。■マーク（黄土色）付き。月次累積で計算。前日までの累積実労働時間が月の所定労働時間を超えている場合、その日の実労働時間のうち、月の法定労働時間（所定出勤日数 * 8時間）の残り分までを表示。残りが4:10の場合、その日の実労働時間のうち最初の4:10が法定時間内残業として表示される |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 月の法定労働時間を超えた残業時間をH:MM形式で表示 | 例: 3:49。■マーク（オレンジ色）付き。月次累積で計算。前日までの累積実労働時間が月の法定労働時間を超えている場合、その日の実労働時間のうち法定労働時間を超えた分を表示。例：その日の実労働時間が7:59で法定時間内残業が4:10の場合、残りの3:49が法定時間外残業として表示される |\n\n#### No.5\n- 編集仕様名：勤務状況アイコンツールチップ表示\n- 関連する取得仕様名：-\n  | 項目名 | 編集内容 | 条件or前提 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間合計 | 日次勤務データ.休憩時間リストの合計をH:MM形式で表示 | 例: 1:00。■マーク（青色）付き。通常勤務の場合のみ表示 |",
            "lineNumber": 782
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定内労働 | 月の所定労働時間の残りまでの労働時間をH:MM形式で表示 | 例: 0:45。■マーク（ライトブルー）付き。月次累積で計算。前日までの累積実労働時間が月の所定労働時間（所定出勤日数 * 7.5時間）を超えていない場合、その日の実労働時間のうち、月の所定労働時間の残り分までを表示。残りが0:45の場合、その日の実労働時間のうち最初の0:45が所定内労働として表示される。通常勤務の場合のみ表示 |",
            "lineNumber": 783
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 月の法定労働時間の残りまでの残業時間をH:MM形式で表示 | 例: 7:58。■マーク（黄土色）付き。月次累積で計算。前日までの累積実労働時間が月の所定労働時間を超えている場合、その日の実労働時間のうち、月の法定労働時間（所定出勤日数 * 8時間）の残り分までを表示。残りが4:10の場合、その日の実労働時間のうち最初の4:10が法定時間内残業として表示される |",
            "lineNumber": 784
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 月の法定労働時間を超えた残業時間をH:MM形式で表示 | 例: 3:49。■マーク（オレンジ色）付き。月次累積で計算。前日までの累積実労働時間が月の法定労働時間を超えている場合、その日の実労働時間のうち法定労働時間を超えた分を表示。例：その日の実労働時間が7:59で法定時間内残業が4:10の場合、残りの3:49が法定時間外残業として表示される |",
            "lineNumber": 785
          },
          {
            "lineNumber": 786
          },
          {
            "text": "#### No.5",
            "lineNumber": 787
          },
          {
            "text": "- 編集仕様名：勤務状況アイコンツールチップ表示",
            "lineNumber": 788
          },
          {
            "text": "- 関連する取得仕様名：-",
            "lineNumber": 789
          },
          {
            "text": "  | 項目名 | 編集内容 | 条件or前提 |",
            "lineNumber": 790
          }
        ]
      },
      "score": 0.3757052421569824
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 695
          },
          "endPosition": {
            "line": 733
          }
        },
        "contents": "          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;\n            &lt;!-- 区切り線 --&gt;\n            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;\n            \n            &lt;!-- 出退社時刻 --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;出退社時刻&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ day.clockIn }}-{{ day.clockOut }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 休憩時間 --&gt;\n            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;休憩時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipBreakTimes(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 総労働時間 --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 実労働時間 --&gt;\n            &lt;div v-if=\"day.actualWorkHours\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-label\"&gt;実労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ formatHoursToHMM(day.actualWorkHours) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 休憩時間合計 --&gt;\n            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-blue\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;休憩時間合計&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalBreakTime(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n            \n            &lt;!-- 所定内労働（月の所定労働時間の残りまで） --&gt;\n            &lt;div v-if=\"shouldShowScheduledWorkHours(day)\" class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-light-blue\"&gt;■&lt;/span&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;",
            "lineNumber": 696
          },
          {
            "text": "            &lt;!-- 区切り線 --&gt;",
            "lineNumber": 697
          },
          {
            "text": "            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;",
            "lineNumber": 698
          },
          {
            "text": "            ",
            "lineNumber": 699
          },
          {
            "text": "            &lt;!-- 出退社時刻 --&gt;",
            "lineNumber": 700
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 701
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;出退社時刻&lt;/span&gt;",
            "lineNumber": 702
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ day.clockIn }}-{{ day.clockOut }}&lt;/span&gt;",
            "lineNumber": 703
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 704
          },
          {
            "text": "            ",
            "lineNumber": 705
          },
          {
            "text": "            &lt;!-- 休憩時間 --&gt;",
            "lineNumber": 706
          },
          {
            "text": "            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;",
            "lineNumber": 707
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;休憩時間&lt;/span&gt;",
            "lineNumber": 708
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipBreakTimes(day) }}&lt;/span&gt;",
            "lineNumber": 709
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 710
          },
          {
            "text": "            ",
            "lineNumber": 711
          },
          {
            "text": "            &lt;!-- 総労働時間 --&gt;",
            "lineNumber": 712
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 713
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;",
            "lineNumber": 714
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTime(day) }}&lt;/span&gt;",
            "lineNumber": 715
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 716
          },
          {
            "text": "            ",
            "lineNumber": 717
          },
          {
            "text": "            &lt;!-- 実労働時間 --&gt;",
            "lineNumber": 718
          },
          {
            "text": "            &lt;div v-if=\"day.actualWorkHours\" class=\"tooltip-row\"&gt;",
            "lineNumber": 719
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;実労働時間&lt;/span&gt;",
            "lineNumber": 720
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ formatHoursToHMM(day.actualWorkHours) }}&lt;/span&gt;",
            "lineNumber": 721
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 722
          },
          {
            "text": "            ",
            "lineNumber": 723
          },
          {
            "text": "            &lt;!-- 休憩時間合計 --&gt;",
            "lineNumber": 724
          },
          {
            "text": "            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;",
            "lineNumber": 725
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-blue\"&gt;■&lt;/span&gt;",
            "lineNumber": 726
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;休憩時間合計&lt;/span&gt;",
            "lineNumber": 727
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalBreakTime(day) }}&lt;/span&gt;",
            "lineNumber": 728
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 729
          },
          {
            "text": "            ",
            "lineNumber": 730
          },
          {
            "text": "            &lt;!-- 所定内労働（月の所定労働時間の残りまで） --&gt;",
            "lineNumber": 731
          },
          {
            "text": "            &lt;div v-if=\"shouldShowScheduledWorkHours(day)\" class=\"tooltip-row\"&gt;",
            "lineNumber": 732
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-light-blue\"&gt;■&lt;/span&gt;",
            "lineNumber": 733
          }
        ]
      },
      "score": 0.3751899003982544
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 661
          },
          "endPosition": {
            "line": 698
          }
        },
        "contents": "        :style=\"tooltipStyle\"\n      &gt;\n        &lt;div class=\"tooltip-content\"&gt;\n          &lt;!-- 見出し: 標準の勤務時間 --&gt;\n          &lt;div class=\"tooltip-header\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-header-text\"&gt;標準の勤務時間&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 標準勤務時間 --&gt;\n          &lt;div class=\"tooltip-row\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-label\"&gt;標準勤務時間&lt;/span&gt;\n            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkTime(day) }}&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 所定休憩時間 --&gt;\n          &lt;div class=\"tooltip-row\"&gt;\n            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n            &lt;span class=\"tooltip-label\"&gt;所定休憩時間&lt;/span&gt;\n            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledBreakTime(day) }}&lt;/span&gt;\n          &lt;/div&gt;\n          \n          &lt;!-- 休暇の場合の表示 --&gt;\n          &lt;template v-if=\"day.hasVacation\"&gt;\n            &lt;!-- 総労働時間（休暇時のみ） --&gt;\n            &lt;div class=\"tooltip-row\"&gt;\n              &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;\n              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;\n              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTimeForVacation(day) }}&lt;/span&gt;\n            &lt;/div&gt;\n          &lt;/template&gt;\n          \n          &lt;!-- 通常勤務の場合の表示 --&gt;\n          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;\n            &lt;!-- 区切り線 --&gt;\n            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        :style=\"tooltipStyle\"",
            "lineNumber": 662
          },
          {
            "text": "      &gt;",
            "lineNumber": 663
          },
          {
            "text": "        &lt;div class=\"tooltip-content\"&gt;",
            "lineNumber": 664
          },
          {
            "text": "          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
            "lineNumber": 665
          },
          {
            "text": "          &lt;div class=\"tooltip-header\"&gt;",
            "lineNumber": 666
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 667
          },
          {
            "text": "            &lt;span class=\"tooltip-header-text\"&gt;標準の勤務時間&lt;/span&gt;",
            "lineNumber": 668
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 669
          },
          {
            "text": "          ",
            "lineNumber": 670
          },
          {
            "text": "          &lt;!-- 標準勤務時間 --&gt;",
            "lineNumber": 671
          },
          {
            "text": "          &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 672
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 673
          },
          {
            "text": "            &lt;span class=\"tooltip-label\"&gt;標準勤務時間&lt;/span&gt;",
            "lineNumber": 674
          },
          {
            "text": "            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledWorkTime(day) }}&lt;/span&gt;",
            "lineNumber": 675
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 676
          },
          {
            "text": "          ",
            "lineNumber": 677
          },
          {
            "text": "          &lt;!-- 所定休憩時間 --&gt;",
            "lineNumber": 678
          },
          {
            "text": "          &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 679
          },
          {
            "text": "            &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 680
          },
          {
            "text": "            &lt;span class=\"tooltip-label\"&gt;所定休憩時間&lt;/span&gt;",
            "lineNumber": 681
          },
          {
            "text": "            &lt;span class=\"tooltip-value\"&gt;{{ getTooltipScheduledBreakTime(day) }}&lt;/span&gt;",
            "lineNumber": 682
          },
          {
            "text": "          &lt;/div&gt;",
            "lineNumber": 683
          },
          {
            "text": "          ",
            "lineNumber": 684
          },
          {
            "text": "          &lt;!-- 休暇の場合の表示 --&gt;",
            "lineNumber": 685
          },
          {
            "text": "          &lt;template v-if=\"day.hasVacation\"&gt;",
            "lineNumber": 686
          },
          {
            "text": "            &lt;!-- 総労働時間（休暇時のみ） --&gt;",
            "lineNumber": 687
          },
          {
            "text": "            &lt;div class=\"tooltip-row\"&gt;",
            "lineNumber": 688
          },
          {
            "text": "              &lt;span class=\"tooltip-icon tooltip-icon-gray\"&gt;■&lt;/span&gt;",
            "lineNumber": 689
          },
          {
            "text": "              &lt;span class=\"tooltip-label\"&gt;総労働時間&lt;/span&gt;",
            "lineNumber": 690
          },
          {
            "text": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalWorkTimeForVacation(day) }}&lt;/span&gt;",
            "lineNumber": 691
          },
          {
            "text": "            &lt;/div&gt;",
            "lineNumber": 692
          },
          {
            "text": "          &lt;/template&gt;",
            "lineNumber": 693
          },
          {
            "text": "          ",
            "lineNumber": 694
          },
          {
            "text": "          &lt;!-- 通常勤務の場合の表示 --&gt;",
            "lineNumber": 695
          },
          {
            "text": "          &lt;template v-else-if=\"day.clockIn &amp;&amp; day.clockOut\"&gt;",
            "lineNumber": 696
          },
          {
            "text": "            &lt;!-- 区切り線 --&gt;",
            "lineNumber": 697
          },
          {
            "text": "            &lt;div class=\"tooltip-divider\"&gt;&lt;/div&gt;",
            "lineNumber": 698
          }
        ]
      },
      "score": 0.3747588098049164
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 768
          },
          "endPosition": {
            "line": 783
          }
        },
        "contents": "- 関連する取得仕様名：-\n  | 項目名 | 編集内容 | 条件or前提 |\n  | :--- | :--- | :--- |\n  | グラフツールチップ | マウスホバー時にツールチップを表示 | 勤務グラフにマウスカーソルがある場合 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;標準の勤務時間（見出し） | 「標準の勤務時間」という見出しを表示 | ■マーク（グレー）付き |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;標準勤務時間 | 従業員マスタ.定時出勤時刻-定時退勤時刻をHH:MM-HH:MM形式で表示 | 例: 9:00-17:30。■マーク（グレー）付き |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定休憩時間 | 所定の休憩時間帯をHH:MM-HH:MM形式で表示 | 例: 12:00-13:00（固定値または設定値）。■マーク（グレー）付き |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間（休暇時） | 7:30（固定値）をH:MM形式で表示 | 例: 7:30。■マーク（グレー）付き。有給休暇、代休、無給休暇などの休暇取得日の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;区切り線 | 標準の勤務時間セクションと実際の勤務詳細セクションの間に区切り線を表示 | 通常勤務の場合のみ表示。休暇取得日の場合は表示しない |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出退社時刻 | 日次勤務データ.出勤時刻-退勤時刻をHH:MM-HH:MM形式で表示 | 例: 8:45-17:45。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 日次勤務データ.休憩時間リストから休憩時間帯を表示 | 複数の休憩時間がある場合はカンマ区切り。例: 12:00-13:00。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間（通常勤務時） | 退勤時刻-出勤時刻をH:MM形式で表示 | 例: 8:25。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 日次勤務データ.実労働時間をH:MM形式で表示 | 例: 8:00。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間合計 | 日次勤務データ.休憩時間リストの合計をH:MM形式で表示 | 例: 1:00。■マーク（青色）付き。通常勤務の場合のみ表示 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定内労働 | 月の所定労働時間の残りまでの労働時間をH:MM形式で表示 | 例: 0:45。■マーク（ライトブルー）付き。月次累積で計算。前日までの累積実労働時間が月の所定労働時間（所定出勤日数 * 7.5時間）を超えていない場合、その日の実労働時間のうち、月の所定労働時間の残り分までを表示。残りが0:45の場合、その日の実労働時間のうち最初の0:45が所定内労働として表示される。通常勤務の場合のみ表示 |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "- 関連する取得仕様名：-",
            "lineNumber": 769
          },
          {
            "text": "  | 項目名 | 編集内容 | 条件or前提 |",
            "lineNumber": 770
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 771
          },
          {
            "text": "  | グラフツールチップ | マウスホバー時にツールチップを表示 | 勤務グラフにマウスカーソルがある場合 |",
            "lineNumber": 772
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;標準の勤務時間（見出し） | 「標準の勤務時間」という見出しを表示 | ■マーク（グレー）付き |",
            "lineNumber": 773
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;標準勤務時間 | 従業員マスタ.定時出勤時刻-定時退勤時刻をHH:MM-HH:MM形式で表示 | 例: 9:00-17:30。■マーク（グレー）付き |",
            "lineNumber": 774
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定休憩時間 | 所定の休憩時間帯をHH:MM-HH:MM形式で表示 | 例: 12:00-13:00（固定値または設定値）。■マーク（グレー）付き |",
            "lineNumber": 775
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間（休暇時） | 7:30（固定値）をH:MM形式で表示 | 例: 7:30。■マーク（グレー）付き。有給休暇、代休、無給休暇などの休暇取得日の場合のみ表示 |",
            "lineNumber": 776
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;区切り線 | 標準の勤務時間セクションと実際の勤務詳細セクションの間に区切り線を表示 | 通常勤務の場合のみ表示。休暇取得日の場合は表示しない |",
            "lineNumber": 777
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;出退社時刻 | 日次勤務データ.出勤時刻-退勤時刻をHH:MM-HH:MM形式で表示 | 例: 8:45-17:45。通常勤務の場合のみ表示 |",
            "lineNumber": 778
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間 | 日次勤務データ.休憩時間リストから休憩時間帯を表示 | 複数の休憩時間がある場合はカンマ区切り。例: 12:00-13:00。通常勤務の場合のみ表示 |",
            "lineNumber": 779
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間（通常勤務時） | 退勤時刻-出勤時刻をH:MM形式で表示 | 例: 8:25。通常勤務の場合のみ表示 |",
            "lineNumber": 780
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;実労働時間 | 日次勤務データ.実労働時間をH:MM形式で表示 | 例: 8:00。通常勤務の場合のみ表示 |",
            "lineNumber": 781
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;休憩時間合計 | 日次勤務データ.休憩時間リストの合計をH:MM形式で表示 | 例: 1:00。■マーク（青色）付き。通常勤務の場合のみ表示 |",
            "lineNumber": 782
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定内労働 | 月の所定労働時間の残りまでの労働時間をH:MM形式で表示 | 例: 0:45。■マーク（ライトブルー）付き。月次累積で計算。前日までの累積実労働時間が月の所定労働時間（所定出勤日数 * 7.5時間）を超えていない場合、その日の実労働時間のうち、月の所定労働時間の残り分までを表示。残りが0:45の場合、その日の実労働時間のうち最初の0:45が所定内労働として表示される。通常勤務の場合のみ表示 |",
            "lineNumber": 783
          }
        ]
      },
      "score": 0.37197816371917725
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 506
          },
          "endPosition": {
            "line": 537
          }
        },
        "contents": "          &lt;!-- 32時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;\n          &lt;!-- 34時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;\n          &lt;!-- 36時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;\n          &lt;!-- 38時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 40時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;\n          &lt;!-- 42時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;\n          &lt;!-- 44時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;\n          &lt;!-- 46時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;\n          &lt;!-- 48時の罫線 --&gt;\n          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;\n        &lt;div \n          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" \n          class=\"scheduled-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "          &lt;!-- 32時の罫線 --&gt;",
            "lineNumber": 507
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 53.68%;\"&gt;&lt;/div&gt;",
            "lineNumber": 508
          },
          {
            "text": "          &lt;!-- 34時の罫線 --&gt;",
            "lineNumber": 509
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 57.01%;\"&gt;&lt;/div&gt;",
            "lineNumber": 510
          },
          {
            "text": "          &lt;!-- 36時の罫線 --&gt;",
            "lineNumber": 511
          },
          {
            "text": "          &lt;div class=\"time-line time-line-bold\" style=\"left: 60.34%;\"&gt;&lt;/div&gt;",
            "lineNumber": 512
          },
          {
            "text": "          &lt;!-- 38時の罫線 --&gt;",
            "lineNumber": 513
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 63.67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 514
          },
          {
            "text": "          &lt;!-- 40時の罫線 --&gt;",
            "lineNumber": 515
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 67%;\"&gt;&lt;/div&gt;",
            "lineNumber": 516
          },
          {
            "text": "          &lt;!-- 42時の罫線 --&gt;",
            "lineNumber": 517
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 70.33%;\"&gt;&lt;/div&gt;",
            "lineNumber": 518
          },
          {
            "text": "          &lt;!-- 44時の罫線 --&gt;",
            "lineNumber": 519
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 73.66%;\"&gt;&lt;/div&gt;",
            "lineNumber": 520
          },
          {
            "text": "          &lt;!-- 46時の罫線 --&gt;",
            "lineNumber": 521
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 76.99%;\"&gt;&lt;/div&gt;",
            "lineNumber": 522
          },
          {
            "text": "          &lt;!-- 48時の罫線 --&gt;",
            "lineNumber": 523
          },
          {
            "text": "          &lt;div class=\"time-line time-line-normal\" style=\"left: 80.3%;\"&gt;&lt;/div&gt;",
            "lineNumber": 524
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 525
          },
          {
            "text": "        &lt;!-- 標準勤務時間帯のグレー長方形（平日、または休日出勤申請が承認されている土日祝） --&gt;",
            "lineNumber": 526
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 527
          },
          {
            "text": "          v-if=\"((!day.isHoliday &amp;&amp; day.dayOfWeekNum &gt;= 1 &amp;&amp; day.dayOfWeekNum &lt;= 5) || day.hasHolidayWorkApplication) &amp;&amp; !(day.hasVacation &amp;&amp; (day.vacationTypeCode === 'PAID_LEAVE' || day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'))\" ",
            "lineNumber": 528
          },
          {
            "text": "          class=\"scheduled-work-time-bar\" ",
            "lineNumber": 529
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 530
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 531
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 532
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 533
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 534
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の所定内労働時間帯（薄い青） --&gt;",
            "lineNumber": 535
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 536
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 537
          }
        ]
      },
      "score": 0.37032070755958557
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1667
          },
          "endPosition": {
            "line": 1696
          }
        },
        "contents": "**計算方法:**\n- **所定内労働（ライトブルー）**: 月の所定労働時間の残りまで\n  - 前日までの累積実労働時間が月の所定労働時間以下の場合:\n    - 月の所定労働時間の残りがX時間の場合、その日の実労働時間のうち最初のX時間分が所定内労働として表示される\n    - その日の実労働時間が残りを超える場合、超えた分は法定時間内残業として表示される\n  - 前日までの累積実労働時間が月の所定労働時間を超えている場合: 表示しない\n\n- **法定時間内残業（黄土色）**: 月の法定労働時間の残りまで\n  - 前日までの累積実労働時間が月の所定労働時間を超えている場合:\n    - 月の法定労働時間の残りがX時間の場合、その日の実労働時間のうち最初のX時間分が法定時間内残業として表示される\n    - ただし、所定内労働の残りがある場合は、その残りを除いた分が法定時間内残業となる\n  - 前日までの累積実労働時間が月の法定労働時間を超えている場合: 表示しない\n\n- **法定時間外残業（オレンジ色）**: 月の法定労働時間を超えた分\n  - その日の実労働時間のうち、所定内労働と法定時間内残業として表示された分を除いた残りが法定時間外残業として表示される\n\n**計算例（所定出勤日数が22日の場合）:**\n- 月の所定労働時間 = 22日 * 7.5時間 = 165:00\n- 月の法定労働時間 = 22日 * 8時間 = 176:00\n\n- 例1: 前日までの累積実労働時間が140:00、その日の実労働時間が8:00の場合:\n  - 月の所定労働時間の残り = 165:00 - 140:00 = 25:00\n  - 所定内労働: 8:00（残り25:00のうち、その日の実労働時間8:00分）\n  - 法定時間内残業: 表示しない\n  - 法定時間外残業: 表示しない\n\n- 例2: 前日までの累積実労働時間が164:15、その日の実労働時間が8:43の場合:\n  - 月の所定労働時間の残り = 165:00 - 164:15 = 0:45",
        "signatures": {},
        "detailedLines": [
          {
            "text": "**計算方法:**",
            "lineNumber": 1669
          },
          {
            "text": "- **所定内労働（ライトブルー）**: 月の所定労働時間の残りまで",
            "lineNumber": 1670
          },
          {
            "text": "  - 前日までの累積実労働時間が月の所定労働時間以下の場合:",
            "lineNumber": 1671
          },
          {
            "text": "    - 月の所定労働時間の残りがX時間の場合、その日の実労働時間のうち最初のX時間分が所定内労働として表示される",
            "lineNumber": 1672
          },
          {
            "text": "    - その日の実労働時間が残りを超える場合、超えた分は法定時間内残業として表示される",
            "lineNumber": 1673
          },
          {
            "text": "  - 前日までの累積実労働時間が月の所定労働時間を超えている場合: 表示しない",
            "lineNumber": 1674
          },
          {
            "lineNumber": 1675
          },
          {
            "text": "- **法定時間内残業（黄土色）**: 月の法定労働時間の残りまで",
            "lineNumber": 1676
          },
          {
            "text": "  - 前日までの累積実労働時間が月の所定労働時間を超えている場合:",
            "lineNumber": 1677
          },
          {
            "text": "    - 月の法定労働時間の残りがX時間の場合、その日の実労働時間のうち最初のX時間分が法定時間内残業として表示される",
            "lineNumber": 1678
          },
          {
            "text": "    - ただし、所定内労働の残りがある場合は、その残りを除いた分が法定時間内残業となる",
            "lineNumber": 1679
          },
          {
            "text": "  - 前日までの累積実労働時間が月の法定労働時間を超えている場合: 表示しない",
            "lineNumber": 1680
          },
          {
            "lineNumber": 1681
          },
          {
            "text": "- **法定時間外残業（オレンジ色）**: 月の法定労働時間を超えた分",
            "lineNumber": 1682
          },
          {
            "text": "  - その日の実労働時間のうち、所定内労働と法定時間内残業として表示された分を除いた残りが法定時間外残業として表示される",
            "lineNumber": 1683
          },
          {
            "lineNumber": 1684
          },
          {
            "text": "**計算例（所定出勤日数が22日の場合）:**",
            "lineNumber": 1685
          },
          {
            "text": "- 月の所定労働時間 = 22日 * 7.5時間 = 165:00",
            "lineNumber": 1686
          },
          {
            "text": "- 月の法定労働時間 = 22日 * 8時間 = 176:00",
            "lineNumber": 1687
          },
          {
            "lineNumber": 1688
          },
          {
            "text": "- 例1: 前日までの累積実労働時間が140:00、その日の実労働時間が8:00の場合:",
            "lineNumber": 1689
          },
          {
            "text": "  - 月の所定労働時間の残り = 165:00 - 140:00 = 25:00",
            "lineNumber": 1690
          },
          {
            "text": "  - 所定内労働: 8:00（残り25:00のうち、その日の実労働時間8:00分）",
            "lineNumber": 1691
          },
          {
            "text": "  - 法定時間内残業: 表示しない",
            "lineNumber": 1692
          },
          {
            "text": "  - 法定時間外残業: 表示しない",
            "lineNumber": 1693
          },
          {
            "lineNumber": 1694
          },
          {
            "text": "- 例2: 前日までの累積実労働時間が164:15、その日の実労働時間が8:43の場合:",
            "lineNumber": 1695
          },
          {
            "text": "  - 月の所定労働時間の残り = 165:00 - 164:15 = 0:45",
            "lineNumber": 1696
          }
        ]
      },
      "score": 0.36673593521118164
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1762
          },
          "endPosition": {
            "line": 1792,
            "column": 8
          }
        },
        "contents": "    calculateTimePosition(hour, minute = 0) {\n      const totalMinutes = hour * 60 + minute\n      const totalHours = totalMinutes / 60\n      // 時間軸の開始位置: 0.4%, 終了位置: 80.3%, 幅: 79.9%\n      const timeAxisStart = 0.4\n      const timeAxisEnd = 80.3\n      const timeAxisWidth = timeAxisEnd - timeAxisStart\n      const position = timeAxisStart + (totalHours / 48) * timeAxisWidth\n      return position\n    },\n    \n    // グラフスタイルを取得（全体のバー）\n    getGraphStyle(day) {\n      if (!day.clockIn || !day.clockOut) return {}\n      \n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const [outHour, outMin] = day.clockOut.split(':').map(Number)\n      \n      const startPosition = this.calculateTimePosition(inHour, inMin)\n      const endPosition = this.calculateTimePosition(outHour, outMin)\n      \n      return {\n        left: &#96;${startPosition}%&#96;,\n        width: &#96;${endPosition - startPosition}%&#96;\n      }\n    },\n    \n    // グラフセグメントのスタイルを取得（所定内労働、法定時間内残業、法定時間外残業）\n    getGraphSegmentStyle(day, segmentType) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    calculateTimePosition(hour, minute = 0) {",
            "lineNumber": 1763
          },
          {
            "text": "      const totalMinutes = hour * 60 + minute",
            "lineNumber": 1764
          },
          {
            "text": "      const totalHours = totalMinutes / 60",
            "lineNumber": 1765
          },
          {
            "text": "      // 時間軸の開始位置: 0.4%, 終了位置: 80.3%, 幅: 79.9%",
            "lineNumber": 1766
          },
          {
            "text": "      const timeAxisStart = 0.4",
            "lineNumber": 1767
          },
          {
            "text": "      const timeAxisEnd = 80.3",
            "lineNumber": 1768
          },
          {
            "text": "      const timeAxisWidth = timeAxisEnd - timeAxisStart",
            "lineNumber": 1769
          },
          {
            "text": "      const position = timeAxisStart + (totalHours / 48) * timeAxisWidth",
            "lineNumber": 1770
          },
          {
            "text": "      return position",
            "lineNumber": 1771
          },
          {
            "text": "    },",
            "lineNumber": 1772
          },
          {
            "text": "    ",
            "lineNumber": 1773
          },
          {
            "text": "    // グラフスタイルを取得（全体のバー）",
            "lineNumber": 1774
          },
          {
            "text": "    getGraphStyle(day) {",
            "lineNumber": 1775
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut) return {}",
            "lineNumber": 1776
          },
          {
            "text": "      ",
            "lineNumber": 1777
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 1778
          },
          {
            "text": "      const [outHour, outMin] = day.clockOut.split(':').map(Number)",
            "lineNumber": 1779
          },
          {
            "text": "      ",
            "lineNumber": 1780
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(inHour, inMin)",
            "lineNumber": 1781
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(outHour, outMin)",
            "lineNumber": 1782
          },
          {
            "text": "      ",
            "lineNumber": 1783
          },
          {
            "text": "      return {",
            "lineNumber": 1784
          },
          {
            "text": "        left: &#96;${startPosition}%&#96;,",
            "lineNumber": 1785
          },
          {
            "text": "        width: &#96;${endPosition - startPosition}%&#96;",
            "lineNumber": 1786
          },
          {
            "text": "      }",
            "lineNumber": 1787
          },
          {
            "text": "    },",
            "lineNumber": 1788
          },
          {
            "text": "    ",
            "lineNumber": 1789
          },
          {
            "text": "    // グラフセグメントのスタイルを取得（所定内労働、法定時間内残業、法定時間外残業）",
            "lineNumber": 1790
          },
          {
            "text": "    getGraphSegmentStyle(day, segmentType) {",
            "lineNumber": 1791
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 1792
          },
          {
            "text": "        ",
            "lineNumber": 1793
          }
        ]
      },
      "score": 0.3611159324645996
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 2940
          },
          "endPosition": {
            "line": 2985
          }
        },
        "contents": "    getMonthlyWithinLegalOvertime(day) {\n      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return this.formatHoursToHMM(withinLegalOvertime)\n    },\n    \n    // ツールチップ: 法定時間外残業を取得\n    getMonthlyOverLegalOvertime(day) {\n      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)\n      return this.formatHoursToHMM(overLegalOvertime)\n    },\n    \n    // その日付までの累積残業時間を計算\n    calculateCumulativeOvertime(cutoffDateStr) {\n      if (!this.attendanceData || this.attendanceData.length === 0) {\n        return { withinLegalOvertime: 0, overLegalOvertime: 0 }\n      }\n      \n      // 年月を取得（最初の日付から）\n      const firstDate = this.attendanceData[0].date\n      const [year, month] = firstDate.split('-').map(Number)\n      \n      // その日付までの実労働時間の合計を計算\n      let totalWorkHours = 0\n      for (const day of this.attendanceData) {\n        if (day.date &gt; cutoffDateStr) break\n        if (day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.actualWorkHours) {\n          totalWorkHours += parseFloat(day.actualWorkHours) || 0\n        }\n      }\n      \n      // 月全体の所定出勤日数を計算（その日付までの日数ではなく、月全体）\n      const scheduledWorkDays = this.getScheduledWorkDaysForMonth(year, month)\n      \n      // 月全体の所定労働時間（7.5時間/日 × 月全体の所定出勤日数）\n      const scheduledWorkHours = scheduledWorkDays * 7.5\n      \n      // 月全体の法定労働時間（8時間/日 × 月全体の所定出勤日数）\n      const legalWorkHours = scheduledWorkDays * 8\n      \n      // 実労働時間が月全体の所定労働時間を超えている場合のみ残業を計算\n      let withinLegalOvertime = 0\n      let overLegalOvertime = 0\n      \n      if (totalWorkHours &gt; scheduledWorkHours) {\n        // 実労働時間が月全体の所定労働時間を超えている",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getMonthlyWithinLegalOvertime(day) {",
            "lineNumber": 2941
          },
          {
            "text": "      const { withinLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2942
          },
          {
            "text": "      return this.formatHoursToHMM(withinLegalOvertime)",
            "lineNumber": 2943
          },
          {
            "text": "    },",
            "lineNumber": 2944
          },
          {
            "text": "    ",
            "lineNumber": 2945
          },
          {
            "text": "    // ツールチップ: 法定時間外残業を取得",
            "lineNumber": 2946
          },
          {
            "text": "    getMonthlyOverLegalOvertime(day) {",
            "lineNumber": 2947
          },
          {
            "text": "      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 2948
          },
          {
            "text": "      return this.formatHoursToHMM(overLegalOvertime)",
            "lineNumber": 2949
          },
          {
            "text": "    },",
            "lineNumber": 2950
          },
          {
            "text": "    ",
            "lineNumber": 2951
          },
          {
            "text": "    // その日付までの累積残業時間を計算",
            "lineNumber": 2952
          },
          {
            "text": "    calculateCumulativeOvertime(cutoffDateStr) {",
            "lineNumber": 2953
          },
          {
            "text": "      if (!this.attendanceData || this.attendanceData.length === 0) {",
            "lineNumber": 2954
          },
          {
            "text": "        return { withinLegalOvertime: 0, overLegalOvertime: 0 }",
            "lineNumber": 2955
          },
          {
            "text": "      }",
            "lineNumber": 2956
          },
          {
            "text": "      ",
            "lineNumber": 2957
          },
          {
            "text": "      // 年月を取得（最初の日付から）",
            "lineNumber": 2958
          },
          {
            "text": "      const firstDate = this.attendanceData[0].date",
            "lineNumber": 2959
          },
          {
            "text": "      const [year, month] = firstDate.split('-').map(Number)",
            "lineNumber": 2960
          },
          {
            "text": "      ",
            "lineNumber": 2961
          },
          {
            "text": "      // その日付までの実労働時間の合計を計算",
            "lineNumber": 2962
          },
          {
            "text": "      let totalWorkHours = 0",
            "lineNumber": 2963
          },
          {
            "text": "      for (const day of this.attendanceData) {",
            "lineNumber": 2964
          },
          {
            "text": "        if (day.date &gt; cutoffDateStr) break",
            "lineNumber": 2965
          },
          {
            "text": "        if (day.clockIn &amp;&amp; day.clockOut &amp;&amp; day.actualWorkHours) {",
            "lineNumber": 2966
          },
          {
            "text": "          totalWorkHours += parseFloat(day.actualWorkHours) || 0",
            "lineNumber": 2967
          },
          {
            "text": "        }",
            "lineNumber": 2968
          },
          {
            "text": "      }",
            "lineNumber": 2969
          },
          {
            "text": "      ",
            "lineNumber": 2970
          },
          {
            "text": "      // 月全体の所定出勤日数を計算（その日付までの日数ではなく、月全体）",
            "lineNumber": 2971
          },
          {
            "text": "      const scheduledWorkDays = this.getScheduledWorkDaysForMonth(year, month)",
            "lineNumber": 2972
          },
          {
            "text": "      ",
            "lineNumber": 2973
          },
          {
            "text": "      // 月全体の所定労働時間（7.5時間/日 × 月全体の所定出勤日数）",
            "lineNumber": 2974
          },
          {
            "text": "      const scheduledWorkHours = scheduledWorkDays * 7.5",
            "lineNumber": 2975
          },
          {
            "text": "      ",
            "lineNumber": 2976
          },
          {
            "text": "      // 月全体の法定労働時間（8時間/日 × 月全体の所定出勤日数）",
            "lineNumber": 2977
          },
          {
            "text": "      const legalWorkHours = scheduledWorkDays * 8",
            "lineNumber": 2978
          },
          {
            "text": "      ",
            "lineNumber": 2979
          },
          {
            "text": "      // 実労働時間が月全体の所定労働時間を超えている場合のみ残業を計算",
            "lineNumber": 2980
          },
          {
            "text": "      let withinLegalOvertime = 0",
            "lineNumber": 2981
          },
          {
            "text": "      let overLegalOvertime = 0",
            "lineNumber": 2982
          },
          {
            "text": "      ",
            "lineNumber": 2983
          },
          {
            "text": "      if (totalWorkHours &gt; scheduledWorkHours) {",
            "lineNumber": 2984
          },
          {
            "text": "        // 実労働時間が月全体の所定労働時間を超えている",
            "lineNumber": 2985
          }
        ]
      },
      "score": 0.360060453414917
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 1133
          },
          "endPosition": {
            "line": 1159
          }
        },
        "contents": "1. **法定時間内残業**:\n   - 計算方法: 実作業時間 - 所定労働時間\n   - 表示できる時間の下限上限: 0:00 &lt;= time &lt;= (所定出勤日数 * 8:00) - 所定労働時間\n   - 所定労働時間（7.5h/日）を超えて法定労働時間（8h/日）以内の残業時間\n\n2. **法定時間外残業**:\n   - 計算方法: 実作業時間 - 所定出勤日数 * 8:00\n   - 清算期間の法定労働時間（所定出勤日数 * 8時間）を超えた部分の残業時間\n\n### 月次サマリーデータの表示\n画面下部に月間の集計データが表示されます：\n\n1. **所定出勤日数**: 月間の所定出勤日数（平日など、出勤予定の日数）\n2. **実出勤日数**: 実際に出勤した日数（出勤時刻と退勤時刻が両方記録されている日数）\n3. **所定労働時間**: 月間の所定労働時間（標準勤務時間: 9:00-17:30、所定労働7.5時間/日、例: 150:00）\n4. **総労働時間**: 月間の総労働時間（清算期間内の実労働時間の合計、例: 70:01）\n5. **過不足時間**: 過不足時間を+/-H:MM形式で表示（例: +2:31）\n   - 計算方法: 前日までの実作業時間 - (前日までの想定出勤日数 * 7:30)\n   - 正の値（プラス）: 所定労働時間より多く働いている → 翌清算期間に繰越可能\n   - 負の値（マイナス）: 所定労働時間より少ない → 賃金控除または翌清算期間から控除\n   - 計算基準日: 当日退勤済みの場合は当日まで、退勤していない場合は前日までの過不足時間を計算\n   - 画面表示時は「過不足時間（MM/DDまで）」のように計算基準日が表示されます\n6. **法定休日労働**: 法定休日（週1回の休日）に働いた時間（例: 0:00）\n7. **法定時間内残業**: 所定労働時間（7.5h/日）を超えて法定労働時間（8h/日）以内の残業時間（例: 0:00）\n   - 実作業時間が所定労働時間を超えている場合、その超過分のうち法定労働時間（所定出勤日数 * 8:00）以内の部分",
        "signatures": {},
        "detailedLines": [
          {
            "text": "1. **法定時間内残業**:",
            "lineNumber": 1135
          },
          {
            "text": "   - 計算方法: 実作業時間 - 所定労働時間",
            "lineNumber": 1136
          },
          {
            "text": "   - 表示できる時間の下限上限: 0:00 &lt;= time &lt;= (所定出勤日数 * 8:00) - 所定労働時間",
            "lineNumber": 1137
          },
          {
            "text": "   - 所定労働時間（7.5h/日）を超えて法定労働時間（8h/日）以内の残業時間",
            "lineNumber": 1138
          },
          {
            "lineNumber": 1139
          },
          {
            "text": "2. **法定時間外残業**:",
            "lineNumber": 1140
          },
          {
            "text": "   - 計算方法: 実作業時間 - 所定出勤日数 * 8:00",
            "lineNumber": 1141
          },
          {
            "text": "   - 清算期間の法定労働時間（所定出勤日数 * 8時間）を超えた部分の残業時間",
            "lineNumber": 1142
          },
          {
            "lineNumber": 1143
          },
          {
            "text": "### 月次サマリーデータの表示",
            "lineNumber": 1144
          },
          {
            "text": "画面下部に月間の集計データが表示されます：",
            "lineNumber": 1145
          },
          {
            "lineNumber": 1146
          },
          {
            "text": "1. **所定出勤日数**: 月間の所定出勤日数（平日など、出勤予定の日数）",
            "lineNumber": 1147
          },
          {
            "text": "2. **実出勤日数**: 実際に出勤した日数（出勤時刻と退勤時刻が両方記録されている日数）",
            "lineNumber": 1148
          },
          {
            "text": "3. **所定労働時間**: 月間の所定労働時間（標準勤務時間: 9:00-17:30、所定労働7.5時間/日、例: 150:00）",
            "lineNumber": 1149
          },
          {
            "text": "4. **総労働時間**: 月間の総労働時間（清算期間内の実労働時間の合計、例: 70:01）",
            "lineNumber": 1150
          },
          {
            "text": "5. **過不足時間**: 過不足時間を+/-H:MM形式で表示（例: +2:31）",
            "lineNumber": 1151
          },
          {
            "text": "   - 計算方法: 前日までの実作業時間 - (前日までの想定出勤日数 * 7:30)",
            "lineNumber": 1152
          },
          {
            "text": "   - 正の値（プラス）: 所定労働時間より多く働いている → 翌清算期間に繰越可能",
            "lineNumber": 1153
          },
          {
            "text": "   - 負の値（マイナス）: 所定労働時間より少ない → 賃金控除または翌清算期間から控除",
            "lineNumber": 1154
          },
          {
            "text": "   - 計算基準日: 当日退勤済みの場合は当日まで、退勤していない場合は前日までの過不足時間を計算",
            "lineNumber": 1155
          },
          {
            "text": "   - 画面表示時は「過不足時間（MM/DDまで）」のように計算基準日が表示されます",
            "lineNumber": 1156
          },
          {
            "text": "6. **法定休日労働**: 法定休日（週1回の休日）に働いた時間（例: 0:00）",
            "lineNumber": 1157
          },
          {
            "text": "7. **法定時間内残業**: 所定労働時間（7.5h/日）を超えて法定労働時間（8h/日）以内の残業時間（例: 0:00）",
            "lineNumber": 1158
          },
          {
            "text": "   - 実作業時間が所定労働時間を超えている場合、その超過分のうち法定労働時間（所定出勤日数 * 8:00）以内の部分",
            "lineNumber": 1159
          }
        ]
      },
      "score": 0.35830873250961304
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 4061
          },
          "endPosition": {
            "line": 4185
          }
        },
        "contents": ".cell-clock-in.no-interaction,\n.cell-clock-out.no-interaction,\n.cell-location.no-interaction {\n  cursor: default;\n}\n\n.cell-clock-in.no-interaction:hover,\n.cell-clock-out.no-interaction:hover,\n.cell-location.no-interaction:hover {\n  background-color: transparent;\n}\n\n/* 申請中のセルはハイライトなし（クリックは可能） */\n.cell-clock-in.no-highlight:hover,\n.cell-clock-out.no-highlight:hover,\n.cell-location.no-highlight:hover {\n  background-color: transparent;\n}\n\n.clickable-cell.no-highlight:hover {\n  background-color: transparent;\n}\n\n.cell-location {\n  position: absolute;\n  left: 278px;\n  width: 60px;\n  font-size: 13px;\n  text-align: left;\n}\n\n.cell-work-hours {\n  position: absolute;\n  left: 356px;\n  width: 35px;\n  text-align: left;\n}\n\n.work-hours-link {\n  font-size: 13px;\n  color: rgb(61, 59, 254);\n  text-decoration: underline;\n  margin-left: -4px;\n}\n\n.work-hours-link:hover {\n  color: rgb(100, 100, 255);\n}\n\n.work-hours-error {\n  position: absolute;\n  left: -12px;\n  top: 1px;\n  font-size: 18px;\n  color: #c00;\n  font-weight: bold;\n  line-height: 17px;\n}\n\n.cell-graph {\n  position: absolute;\n  left: 392px;\n  width: 1087px;\n  height: 100%;\n  cursor: default;\n}\n\n/* 時間軸の罫線 */\n.time-axis-lines {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n\n.time-line {\n  position: absolute;\n  top: 0;\n  width: 1px;\n  height: 100%;\n}\n\n.time-line-normal {\n  background-color: rgb(228, 228, 228); /* #E4E4E4 */\n}\n\n.time-line-bold {\n  background-color: rgb(198, 198, 198); /* #C6C6C6 */\n}\n\n.work-graph {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n}\n\n.graph-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  z-index: 2;\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 所定内労働セグメント */\n.graph-bar-scheduled {\n  background-color: #4B9EE4;\n}\n\n/* 法定時間内残業セグメント */\n.graph-bar-within-legal {\n  background-color: #B0B000;\n}\n\n/* 法定時間外残業セグメント */\n.graph-bar-over-legal {\n  background-color: #E28E1C;\n}",
        "signatures": {},
        "detailedLines": [
          {
            "text": ".cell-clock-in.no-interaction,",
            "lineNumber": 4062
          },
          {
            "text": ".cell-clock-out.no-interaction,",
            "lineNumber": 4063
          },
          {
            "text": ".cell-location.no-interaction {",
            "lineNumber": 4064
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 4065
          },
          {
            "text": "}",
            "lineNumber": 4066
          },
          {
            "lineNumber": 4067
          },
          {
            "text": ".cell-clock-in.no-interaction:hover,",
            "lineNumber": 4068
          },
          {
            "text": ".cell-clock-out.no-interaction:hover,",
            "lineNumber": 4069
          },
          {
            "text": ".cell-location.no-interaction:hover {",
            "lineNumber": 4070
          },
          {
            "text": "  background-color: transparent;",
            "lineNumber": 4071
          },
          {
            "text": "}",
            "lineNumber": 4072
          },
          {
            "lineNumber": 4073
          },
          {
            "text": "/* 申請中のセルはハイライトなし（クリックは可能） */",
            "lineNumber": 4074
          },
          {
            "text": ".cell-clock-in.no-highlight:hover,",
            "lineNumber": 4075
          },
          {
            "text": ".cell-clock-out.no-highlight:hover,",
            "lineNumber": 4076
          },
          {
            "text": ".cell-location.no-highlight:hover {",
            "lineNumber": 4077
          },
          {
            "text": "  background-color: transparent;",
            "lineNumber": 4078
          },
          {
            "text": "}",
            "lineNumber": 4079
          },
          {
            "lineNumber": 4080
          },
          {
            "text": ".clickable-cell.no-highlight:hover {",
            "lineNumber": 4081
          },
          {
            "text": "  background-color: transparent;",
            "lineNumber": 4082
          },
          {
            "text": "}",
            "lineNumber": 4083
          },
          {
            "lineNumber": 4084
          },
          {
            "text": ".cell-location {",
            "lineNumber": 4085
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4086
          },
          {
            "text": "  left: 278px;",
            "lineNumber": 4087
          },
          {
            "text": "  width: 60px;",
            "lineNumber": 4088
          },
          {
            "text": "  font-size: 13px;",
            "lineNumber": 4089
          },
          {
            "text": "  text-align: left;",
            "lineNumber": 4090
          },
          {
            "text": "}",
            "lineNumber": 4091
          },
          {
            "lineNumber": 4092
          },
          {
            "text": ".cell-work-hours {",
            "lineNumber": 4093
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4094
          },
          {
            "text": "  left: 356px;",
            "lineNumber": 4095
          },
          {
            "text": "  width: 35px;",
            "lineNumber": 4096
          },
          {
            "text": "  text-align: left;",
            "lineNumber": 4097
          },
          {
            "text": "}",
            "lineNumber": 4098
          },
          {
            "lineNumber": 4099
          },
          {
            "text": ".work-hours-link {",
            "lineNumber": 4100
          },
          {
            "text": "  font-size: 13px;",
            "lineNumber": 4101
          },
          {
            "text": "  color: rgb(61, 59, 254);",
            "lineNumber": 4102
          },
          {
            "text": "  text-decoration: underline;",
            "lineNumber": 4103
          },
          {
            "text": "  margin-left: -4px;",
            "lineNumber": 4104
          },
          {
            "text": "}",
            "lineNumber": 4105
          },
          {
            "lineNumber": 4106
          },
          {
            "text": ".work-hours-link:hover {",
            "lineNumber": 4107
          },
          {
            "text": "  color: rgb(100, 100, 255);",
            "lineNumber": 4108
          },
          {
            "text": "}",
            "lineNumber": 4109
          },
          {
            "lineNumber": 4110
          },
          {
            "text": ".work-hours-error {",
            "lineNumber": 4111
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4112
          },
          {
            "text": "  left: -12px;",
            "lineNumber": 4113
          },
          {
            "text": "  top: 1px;",
            "lineNumber": 4114
          },
          {
            "text": "  font-size: 18px;",
            "lineNumber": 4115
          },
          {
            "text": "  color: #c00;",
            "lineNumber": 4116
          },
          {
            "text": "  font-weight: bold;",
            "lineNumber": 4117
          },
          {
            "text": "  line-height: 17px;",
            "lineNumber": 4118
          },
          {
            "text": "}",
            "lineNumber": 4119
          },
          {
            "lineNumber": 4120
          },
          {
            "text": ".cell-graph {",
            "lineNumber": 4121
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4122
          },
          {
            "text": "  left: 392px;",
            "lineNumber": 4123
          },
          {
            "text": "  width: 1087px;",
            "lineNumber": 4124
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4125
          },
          {
            "text": "  cursor: default;",
            "lineNumber": 4126
          },
          {
            "text": "}",
            "lineNumber": 4127
          },
          {
            "lineNumber": 4128
          },
          {
            "text": "/* 時間軸の罫線 */",
            "lineNumber": 4129
          },
          {
            "text": ".time-axis-lines {",
            "lineNumber": 4130
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4131
          },
          {
            "text": "  top: 0;",
            "lineNumber": 4132
          },
          {
            "text": "  left: 0;",
            "lineNumber": 4133
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 4134
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4135
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4136
          },
          {
            "text": "}",
            "lineNumber": 4137
          },
          {
            "lineNumber": 4138
          },
          {
            "text": ".time-line {",
            "lineNumber": 4139
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4140
          },
          {
            "text": "  top: 0;",
            "lineNumber": 4141
          },
          {
            "text": "  width: 1px;",
            "lineNumber": 4142
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4143
          },
          {
            "text": "}",
            "lineNumber": 4144
          },
          {
            "lineNumber": 4145
          },
          {
            "text": ".time-line-normal {",
            "lineNumber": 4146
          },
          {
            "text": "  background-color: rgb(228, 228, 228); /* #E4E4E4 */",
            "lineNumber": 4147
          },
          {
            "text": "}",
            "lineNumber": 4148
          },
          {
            "lineNumber": 4149
          },
          {
            "text": ".time-line-bold {",
            "lineNumber": 4150
          },
          {
            "text": "  background-color: rgb(198, 198, 198); /* #C6C6C6 */",
            "lineNumber": 4151
          },
          {
            "text": "}",
            "lineNumber": 4152
          },
          {
            "lineNumber": 4153
          },
          {
            "text": ".work-graph {",
            "lineNumber": 4154
          },
          {
            "text": "  position: relative;",
            "lineNumber": 4155
          },
          {
            "text": "  width: 100%;",
            "lineNumber": 4156
          },
          {
            "text": "  height: 100%;",
            "lineNumber": 4157
          },
          {
            "text": "  z-index: 1;",
            "lineNumber": 4158
          },
          {
            "text": "}",
            "lineNumber": 4159
          },
          {
            "lineNumber": 4160
          },
          {
            "text": ".graph-bar {",
            "lineNumber": 4161
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4162
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4163
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4164
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4165
          },
          {
            "text": "  z-index: 2;",
            "lineNumber": 4166
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4167
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4168
          },
          {
            "text": "}",
            "lineNumber": 4169
          },
          {
            "lineNumber": 4170
          },
          {
            "text": "/* 所定内労働セグメント */",
            "lineNumber": 4171
          },
          {
            "text": ".graph-bar-scheduled {",
            "lineNumber": 4172
          },
          {
            "text": "  background-color: #4B9EE4;",
            "lineNumber": 4173
          },
          {
            "text": "}",
            "lineNumber": 4174
          },
          {
            "lineNumber": 4175
          },
          {
            "text": "/* 法定時間内残業セグメント */",
            "lineNumber": 4176
          },
          {
            "text": ".graph-bar-within-legal {",
            "lineNumber": 4177
          },
          {
            "text": "  background-color: #B0B000;",
            "lineNumber": 4178
          },
          {
            "text": "}",
            "lineNumber": 4179
          },
          {
            "lineNumber": 4180
          },
          {
            "text": "/* 法定時間外残業セグメント */",
            "lineNumber": 4181
          },
          {
            "text": ".graph-bar-over-legal {",
            "lineNumber": 4182
          },
          {
            "text": "  background-color: #E28E1C;",
            "lineNumber": 4183
          },
          {
            "text": "}",
            "lineNumber": 4184
          }
        ]
      },
      "score": 0.3574003577232361
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 636
          },
          "endPosition": {
            "line": 665
          }
        },
        "contents": "        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;!-- 吹き出しの本体（明るいオレンジ色） --&gt;\n            &lt;path d=\"M 8.5 1 Q 12 1 12 4.5 L 12 8.5 Q 12 12 8.5 12 Q 5 12 5 8.5 L 5 4.5 Q 5 1 8.5 1 Z\" fill=\"rgb(255, 183, 77)\"/&gt;\n            &lt;!-- ポインタ（下部の矢印） --&gt;\n            &lt;path d=\"M 8.5 12 L 6 15 L 11 15 Z\" fill=\"rgb(255, 183, 77)\"/&gt;\n            &lt;!-- 中心のOシンボル（白） --&gt;\n            &lt;circle cx=\"8.5\" cy=\"6.5\" r=\"2.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 休日出勤申請の緑の↑マーク（グラフ内） --&gt;\n        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;circle cx=\"8.5\" cy=\"8.5\" r=\"8\" fill=\"rgb(76, 175, 80)\"/&gt;\n            &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;\n            &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"rgb(255, 255, 255)\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      \n      &lt;!-- グラフツールチップ --&gt;\n      &lt;div \n        v-if=\"showTooltip &amp;&amp; tooltipDay === day\"\n        ref=\"graphTooltip\"\n        class=\"graph-tooltip\"\n        :style=\"tooltipStyle\"\n      &gt;\n        &lt;div class=\"tooltip-content\"&gt;\n          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 637
          },
          {
            "text": "          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 638
          },
          {
            "text": "            &lt;!-- 吹き出しの本体（明るいオレンジ色） --&gt;",
            "lineNumber": 639
          },
          {
            "text": "            &lt;path d=\"M 8.5 1 Q 12 1 12 4.5 L 12 8.5 Q 12 12 8.5 12 Q 5 12 5 8.5 L 5 4.5 Q 5 1 8.5 1 Z\" fill=\"rgb(255, 183, 77)\"/&gt;",
            "lineNumber": 640
          },
          {
            "text": "            &lt;!-- ポインタ（下部の矢印） --&gt;",
            "lineNumber": 641
          },
          {
            "text": "            &lt;path d=\"M 8.5 12 L 6 15 L 11 15 Z\" fill=\"rgb(255, 183, 77)\"/&gt;",
            "lineNumber": 642
          },
          {
            "text": "            &lt;!-- 中心のOシンボル（白） --&gt;",
            "lineNumber": 643
          },
          {
            "text": "            &lt;circle cx=\"8.5\" cy=\"6.5\" r=\"2.5\" fill=\"none\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"1.5\"/&gt;",
            "lineNumber": 644
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 645
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 646
          },
          {
            "text": "        &lt;!-- 休日出勤申請の緑の↑マーク（グラフ内） --&gt;",
            "lineNumber": 647
          },
          {
            "text": "        &lt;div v-if=\"day.hasHolidayWorkApplication\" class=\"holiday-work-application-marker\" :style=\"getHolidayWorkApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 648
          },
          {
            "text": "          &lt;svg width=\"10\" height=\"10\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 649
          },
          {
            "text": "            &lt;circle cx=\"8.5\" cy=\"8.5\" r=\"8\" fill=\"rgb(76, 175, 80)\"/&gt;",
            "lineNumber": 650
          },
          {
            "text": "            &lt;line x1=\"8.5\" y1=\"3\" x2=\"8.5\" y2=\"12\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linecap=\"square\"/&gt;",
            "lineNumber": 651
          },
          {
            "text": "            &lt;path d=\"M 8.5 3 L 3 8 L 14 8 Z\" fill=\"rgb(255, 255, 255)\" stroke=\"rgb(255, 255, 255)\" stroke-width=\"2\" stroke-linejoin=\"miter\"/&gt;",
            "lineNumber": 652
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 653
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 654
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 655
          },
          {
            "text": "      ",
            "lineNumber": 656
          },
          {
            "text": "      &lt;!-- グラフツールチップ --&gt;",
            "lineNumber": 657
          },
          {
            "text": "      &lt;div ",
            "lineNumber": 658
          },
          {
            "text": "        v-if=\"showTooltip &amp;&amp; tooltipDay === day\"",
            "lineNumber": 659
          },
          {
            "text": "        ref=\"graphTooltip\"",
            "lineNumber": 660
          },
          {
            "text": "        class=\"graph-tooltip\"",
            "lineNumber": 661
          },
          {
            "text": "        :style=\"tooltipStyle\"",
            "lineNumber": 662
          },
          {
            "text": "      &gt;",
            "lineNumber": 663
          },
          {
            "text": "        &lt;div class=\"tooltip-content\"&gt;",
            "lineNumber": 664
          },
          {
            "text": "          &lt;!-- 見出し: 標準の勤務時間 --&gt;",
            "lineNumber": 665
          }
        ]
      },
      "score": 0.3564591109752655
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 535
          },
          "endPosition": {
            "line": 576
          }
        },
        "contents": "        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"scheduled-work-time-bar vacation-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の所定内労働時間帯（#1A69AB） --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"scheduled-work-time-bar compensatory-work-time-bar\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 代休の細い白線 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"\n          class=\"vacation-white-line\" \n          :style=\"getScheduledWorkTimeStyle(day)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合、代休の場合は表示しない） --&gt;\n        &lt;div \n          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours &amp;&amp; !(day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY')\"\n          class=\"scheduled-break-time-bar\" \n          :style=\"getScheduledBreakTimeStyle(day)\"\n          @mouseenter=\"showGraphTooltip(day, $event)\"\n          @mouseleave=\"hideGraphTooltip\"\n          @mousemove=\"updateGraphTooltipPosition($event)\"\n        &gt;&lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;\n        &lt;div \n          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;div ",
            "lineNumber": 536
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 537
          },
          {
            "text": "          class=\"scheduled-work-time-bar vacation-work-time-bar\" ",
            "lineNumber": 538
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 539
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 540
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 541
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 542
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 543
          },
          {
            "text": "        &lt;!-- 代休の所定内労働時間帯（#1A69AB） --&gt;",
            "lineNumber": 544
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 545
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 546
          },
          {
            "text": "          class=\"scheduled-work-time-bar compensatory-work-time-bar\" ",
            "lineNumber": 547
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 548
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 549
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 550
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 551
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 552
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の細い白線 --&gt;",
            "lineNumber": 553
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 554
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 555
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 556
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 557
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 558
          },
          {
            "text": "        &lt;!-- 代休の細い白線 --&gt;",
            "lineNumber": 559
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 560
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY'\"",
            "lineNumber": 561
          },
          {
            "text": "          class=\"vacation-white-line\" ",
            "lineNumber": 562
          },
          {
            "text": "          :style=\"getScheduledWorkTimeStyle(day)\"",
            "lineNumber": 563
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 564
          },
          {
            "text": "        &lt;!-- 休憩時間のグレー長方形（休日出勤申請が申請中または承認済みの場合、代休の場合は表示しない） --&gt;",
            "lineNumber": 565
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 566
          },
          {
            "text": "          v-if=\"day.hasHolidayWorkApplication &amp;&amp; day.holidayWorkBreakHours &amp;&amp; !(day.hasVacation &amp;&amp; day.vacationTypeCode === 'SUBSTITUTE_HOLIDAY')\"",
            "lineNumber": 567
          },
          {
            "text": "          class=\"scheduled-break-time-bar\" ",
            "lineNumber": 568
          },
          {
            "text": "          :style=\"getScheduledBreakTimeStyle(day)\"",
            "lineNumber": 569
          },
          {
            "text": "          @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 570
          },
          {
            "text": "          @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 571
          },
          {
            "text": "          @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 572
          },
          {
            "text": "        &gt;&lt;/div&gt;",
            "lineNumber": 573
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇の休憩時間の長方形 --&gt;",
            "lineNumber": 574
          },
          {
            "text": "        &lt;div ",
            "lineNumber": 575
          },
          {
            "text": "          v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\"",
            "lineNumber": 576
          }
        ]
      },
      "score": 0.3417675495147705
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1039
          },
          "endPosition": {
            "line": 1081
          }
        },
        "contents": "      &lt;div class=\"summary-group-right\"&gt;\n        &lt;!-- 背景 --&gt;\n        &lt;div class=\"summary-background-right\"&gt;&lt;/div&gt;\n        \n        &lt;!-- 過不足時間 (MM/DDまで) --&gt;\n        &lt;span v-if=\"monthlySummary\" class=\"summary-label-right\" style=\"top: 4px;\"&gt;過不足時間 ({{ monthlySummary.cutoffDate }}まで)&lt;/span&gt;\n        &lt;span v-else class=\"summary-label-right\" style=\"top: 4px;\"&gt;過不足時間&lt;/span&gt;\n        \n        &lt;!-- 法定休日労働 --&gt;\n        &lt;span class=\"summary-label-right\" style=\"top: 24px;\"&gt;法定休日労働&lt;/span&gt;\n        \n        &lt;!-- 法定時間内残業 --&gt;\n        &lt;span class=\"summary-label-right\" style=\"top: 44px;\"&gt;法定時間内残業&lt;/span&gt;\n        \n        &lt;!-- 法定時間外残業 --&gt;\n        &lt;span class=\"summary-label-right\" style=\"top: 65px;\"&gt;法定時間外残業&lt;/span&gt;\n        \n        &lt;!-- 縦線 --&gt;\n        &lt;div class=\"summary-divider-right\"&gt;&lt;/div&gt;\n        \n        &lt;!-- 過不足時間 --&gt;\n        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 6px; right: 14px;\"&gt;{{ monthlySummary.overUnderTime }}&lt;/span&gt;\n        \n        &lt;!-- 法定休日労働 --&gt;\n        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 25px; right: 14px;\"&gt;{{ monthlySummary.legalHolidayWork }}&lt;/span&gt;\n        \n        &lt;!-- 法定時間内残業 --&gt;\n        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 46px; right: 14px;\"&gt;{{ monthlySummary.withinLegalOvertime }}&lt;/span&gt;\n        \n        &lt;!-- 法定時間外残業 --&gt;\n        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 67px; right: 14px;\"&gt;{{ monthlySummary.overLegalOvertime }}&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport AppHeader from '@/components/AppHeader.vue'\nimport AttendanceApplicationDialog from '@/components/dialog/AttendanceApplicationDialog.vue'\nimport AttendanceInputDialog from '@/components/dialog/AttendanceInputDialog.vue'\nimport WorkHoursInputDialog from '@/components/dialog/WorkHoursInputDialog.vue'\nimport HolidayJp from '@holiday-jp/holiday_jp'",
        "signatures": {},
        "detailedLines": [
          {
            "text": "      &lt;div class=\"summary-group-right\"&gt;",
            "lineNumber": 1040
          },
          {
            "text": "        &lt;!-- 背景 --&gt;",
            "lineNumber": 1041
          },
          {
            "text": "        &lt;div class=\"summary-background-right\"&gt;&lt;/div&gt;",
            "lineNumber": 1042
          },
          {
            "text": "        ",
            "lineNumber": 1043
          },
          {
            "text": "        &lt;!-- 過不足時間 (MM/DDまで) --&gt;",
            "lineNumber": 1044
          },
          {
            "text": "        &lt;span v-if=\"monthlySummary\" class=\"summary-label-right\" style=\"top: 4px;\"&gt;過不足時間 ({{ monthlySummary.cutoffDate }}まで)&lt;/span&gt;",
            "lineNumber": 1045
          },
          {
            "text": "        &lt;span v-else class=\"summary-label-right\" style=\"top: 4px;\"&gt;過不足時間&lt;/span&gt;",
            "lineNumber": 1046
          },
          {
            "text": "        ",
            "lineNumber": 1047
          },
          {
            "text": "        &lt;!-- 法定休日労働 --&gt;",
            "lineNumber": 1048
          },
          {
            "text": "        &lt;span class=\"summary-label-right\" style=\"top: 24px;\"&gt;法定休日労働&lt;/span&gt;",
            "lineNumber": 1049
          },
          {
            "text": "        ",
            "lineNumber": 1050
          },
          {
            "text": "        &lt;!-- 法定時間内残業 --&gt;",
            "lineNumber": 1051
          },
          {
            "text": "        &lt;span class=\"summary-label-right\" style=\"top: 44px;\"&gt;法定時間内残業&lt;/span&gt;",
            "lineNumber": 1052
          },
          {
            "text": "        ",
            "lineNumber": 1053
          },
          {
            "text": "        &lt;!-- 法定時間外残業 --&gt;",
            "lineNumber": 1054
          },
          {
            "text": "        &lt;span class=\"summary-label-right\" style=\"top: 65px;\"&gt;法定時間外残業&lt;/span&gt;",
            "lineNumber": 1055
          },
          {
            "text": "        ",
            "lineNumber": 1056
          },
          {
            "text": "        &lt;!-- 縦線 --&gt;",
            "lineNumber": 1057
          },
          {
            "text": "        &lt;div class=\"summary-divider-right\"&gt;&lt;/div&gt;",
            "lineNumber": 1058
          },
          {
            "text": "        ",
            "lineNumber": 1059
          },
          {
            "text": "        &lt;!-- 過不足時間 --&gt;",
            "lineNumber": 1060
          },
          {
            "text": "        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 6px; right: 14px;\"&gt;{{ monthlySummary.overUnderTime }}&lt;/span&gt;",
            "lineNumber": 1061
          },
          {
            "text": "        ",
            "lineNumber": 1062
          },
          {
            "text": "        &lt;!-- 法定休日労働 --&gt;",
            "lineNumber": 1063
          },
          {
            "text": "        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 25px; right: 14px;\"&gt;{{ monthlySummary.legalHolidayWork }}&lt;/span&gt;",
            "lineNumber": 1064
          },
          {
            "text": "        ",
            "lineNumber": 1065
          },
          {
            "text": "        &lt;!-- 法定時間内残業 --&gt;",
            "lineNumber": 1066
          },
          {
            "text": "        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 46px; right: 14px;\"&gt;{{ monthlySummary.withinLegalOvertime }}&lt;/span&gt;",
            "lineNumber": 1067
          },
          {
            "text": "        ",
            "lineNumber": 1068
          },
          {
            "text": "        &lt;!-- 法定時間外残業 --&gt;",
            "lineNumber": 1069
          },
          {
            "text": "        &lt;span v-if=\"monthlySummary\" class=\"summary-value-right\" style=\"top: 67px; right: 14px;\"&gt;{{ monthlySummary.overLegalOvertime }}&lt;/span&gt;",
            "lineNumber": 1070
          },
          {
            "text": "      &lt;/div&gt;",
            "lineNumber": 1071
          },
          {
            "text": "    &lt;/div&gt;",
            "lineNumber": 1072
          },
          {
            "text": "  &lt;/div&gt;",
            "lineNumber": 1073
          },
          {
            "text": "&lt;/template&gt;",
            "lineNumber": 1074
          },
          {
            "lineNumber": 1075
          },
          {
            "text": "&lt;script&gt;",
            "lineNumber": 1076
          },
          {
            "text": "import AppHeader from '@/components/AppHeader.vue'",
            "lineNumber": 1077
          },
          {
            "text": "import AttendanceApplicationDialog from '@/components/dialog/AttendanceApplicationDialog.vue'",
            "lineNumber": 1078
          },
          {
            "text": "import AttendanceInputDialog from '@/components/dialog/AttendanceInputDialog.vue'",
            "lineNumber": 1079
          },
          {
            "text": "import WorkHoursInputDialog from '@/components/dialog/WorkHoursInputDialog.vue'",
            "lineNumber": 1080
          },
          {
            "text": "import HolidayJp from '@holiday-jp/holiday_jp'",
            "lineNumber": 1081
          }
        ]
      },
      "score": 0.33174800872802734
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 4180
          },
          "endPosition": {
            "line": 4247
          }
        },
        "contents": "/* 法定時間外残業セグメント */\n.graph-bar-over-legal {\n  background-color: #E28E1C;\n}\n\n/* 標準勤務時間帯のグレー長方形（平日のみ） */\n.scheduled-work-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  background-color: rgb(228, 228, 228); /* グレー */\n  z-index: 1; /* 勤務時間バーの下に表示 */\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 有給休暇または夏季休暇の所定内労働時間帯（薄い青） */\n.vacation-work-time-bar {\n  background-color: #4B9EE4; /* 薄い青 */\n  z-index: 1;\n}\n\n/* 代休の所定内労働時間帯（#1A69AB） */\n.compensatory-work-time-bar {\n  background-color: #1A69AB; /* 青色 */\n  z-index: 1;\n}\n\n/* 有給休暇または夏季休暇の細い白線 */\n.vacation-white-line {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 1px;\n  background-color: rgb(255, 255, 255); /* 白 */\n  z-index: 3; /* グラフバーの上に表示 */\n  pointer-events: none;\n}\n\n/* 休憩時間のグレー長方形（休日出勤申請が承認されている場合） */\n.scheduled-break-time-bar {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  height: 11px;\n  background-color: #BBBBBB; /* 濃いグレー */\n  z-index: 1; /* 勤務時間バーの下に表示 */\n  cursor: pointer;\n  pointer-events: auto;\n}\n\n/* 有給休暇または夏季休暇の休憩時間の長方形 */\n.vacation-break-time-bar {\n  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */\n  z-index: 2; /* 所定内労働時間帯の上に表示 */\n}\n\n/* 代休の休憩時間の長方形（#1A69AB） */\n.compensatory-break-time-bar {\n  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */\n  z-index: 2; /* 所定内労働時間帯の上に表示 */\n}\n\n/* 休憩時間の四角形 */\n.break-time-bar {\n  position: absolute;",
        "signatures": {},
        "detailedLines": [
          {
            "text": "/* 法定時間外残業セグメント */",
            "lineNumber": 4181
          },
          {
            "text": ".graph-bar-over-legal {",
            "lineNumber": 4182
          },
          {
            "text": "  background-color: #E28E1C;",
            "lineNumber": 4183
          },
          {
            "text": "}",
            "lineNumber": 4184
          },
          {
            "lineNumber": 4185
          },
          {
            "text": "/* 標準勤務時間帯のグレー長方形（平日のみ） */",
            "lineNumber": 4186
          },
          {
            "text": ".scheduled-work-time-bar {",
            "lineNumber": 4187
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4188
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4189
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4190
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4191
          },
          {
            "text": "  background-color: rgb(228, 228, 228); /* グレー */",
            "lineNumber": 4192
          },
          {
            "text": "  z-index: 1; /* 勤務時間バーの下に表示 */",
            "lineNumber": 4193
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4194
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4195
          },
          {
            "text": "}",
            "lineNumber": 4196
          },
          {
            "lineNumber": 4197
          },
          {
            "text": "/* 有給休暇または夏季休暇の所定内労働時間帯（薄い青） */",
            "lineNumber": 4198
          },
          {
            "text": ".vacation-work-time-bar {",
            "lineNumber": 4199
          },
          {
            "text": "  background-color: #4B9EE4; /* 薄い青 */",
            "lineNumber": 4200
          },
          {
            "text": "  z-index: 1;",
            "lineNumber": 4201
          },
          {
            "text": "}",
            "lineNumber": 4202
          },
          {
            "lineNumber": 4203
          },
          {
            "text": "/* 代休の所定内労働時間帯（#1A69AB） */",
            "lineNumber": 4204
          },
          {
            "text": ".compensatory-work-time-bar {",
            "lineNumber": 4205
          },
          {
            "text": "  background-color: #1A69AB; /* 青色 */",
            "lineNumber": 4206
          },
          {
            "text": "  z-index: 1;",
            "lineNumber": 4207
          },
          {
            "text": "}",
            "lineNumber": 4208
          },
          {
            "lineNumber": 4209
          },
          {
            "text": "/* 有給休暇または夏季休暇の細い白線 */",
            "lineNumber": 4210
          },
          {
            "text": ".vacation-white-line {",
            "lineNumber": 4211
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4212
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4213
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4214
          },
          {
            "text": "  height: 1px;",
            "lineNumber": 4215
          },
          {
            "text": "  background-color: rgb(255, 255, 255); /* 白 */",
            "lineNumber": 4216
          },
          {
            "text": "  z-index: 3; /* グラフバーの上に表示 */",
            "lineNumber": 4217
          },
          {
            "text": "  pointer-events: none;",
            "lineNumber": 4218
          },
          {
            "text": "}",
            "lineNumber": 4219
          },
          {
            "lineNumber": 4220
          },
          {
            "text": "/* 休憩時間のグレー長方形（休日出勤申請が承認されている場合） */",
            "lineNumber": 4221
          },
          {
            "text": ".scheduled-break-time-bar {",
            "lineNumber": 4222
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4223
          },
          {
            "text": "  top: 50%;",
            "lineNumber": 4224
          },
          {
            "text": "  transform: translateY(-50%);",
            "lineNumber": 4225
          },
          {
            "text": "  height: 11px;",
            "lineNumber": 4226
          },
          {
            "text": "  background-color: #BBBBBB; /* 濃いグレー */",
            "lineNumber": 4227
          },
          {
            "text": "  z-index: 1; /* 勤務時間バーの下に表示 */",
            "lineNumber": 4228
          },
          {
            "text": "  cursor: pointer;",
            "lineNumber": 4229
          },
          {
            "text": "  pointer-events: auto;",
            "lineNumber": 4230
          },
          {
            "text": "}",
            "lineNumber": 4231
          },
          {
            "lineNumber": 4232
          },
          {
            "text": "/* 有給休暇または夏季休暇の休憩時間の長方形 */",
            "lineNumber": 4233
          },
          {
            "text": ".vacation-break-time-bar {",
            "lineNumber": 4234
          },
          {
            "text": "  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */",
            "lineNumber": 4235
          },
          {
            "text": "  z-index: 2; /* 所定内労働時間帯の上に表示 */",
            "lineNumber": 4236
          },
          {
            "text": "}",
            "lineNumber": 4237
          },
          {
            "lineNumber": 4238
          },
          {
            "text": "/* 代休の休憩時間の長方形（#1A69AB） */",
            "lineNumber": 4239
          },
          {
            "text": ".compensatory-break-time-bar {",
            "lineNumber": 4240
          },
          {
            "text": "  background-color: #1A69AB !important; /* 青色（優先順位を上げる） */",
            "lineNumber": 4241
          },
          {
            "text": "  z-index: 2; /* 所定内労働時間帯の上に表示 */",
            "lineNumber": 4242
          },
          {
            "text": "}",
            "lineNumber": 4243
          },
          {
            "lineNumber": 4244
          },
          {
            "text": "/* 休憩時間の四角形 */",
            "lineNumber": 4245
          },
          {
            "text": ".break-time-bar {",
            "lineNumber": 4246
          },
          {
            "text": "  position: absolute;",
            "lineNumber": 4247
          }
        ]
      },
      "score": 0.3247477412223816
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 613
          },
          "endPosition": {
            "line": 638,
            "column": 12
          }
        },
        "contents": "        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;\n          &lt;div \n            v-if=\"shouldShowBreakTime(breakTime, day)\"\n            class=\"break-time-bar\" \n            :style=\"{ ...getBreakTimeStyle(breakTime, day), backgroundColor: getBreakTimeColor(breakTime, day) }\"\n            @mouseenter=\"showGraphTooltip(day, $event)\"\n            @mouseleave=\"hideGraphTooltip\"\n            @mousemove=\"updateGraphTooltipPosition($event)\"\n          &gt;&lt;/div&gt;\n        &lt;/template&gt;\n        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;\n        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;\n        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;\n          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;\n          &lt;/svg&gt;\n        &lt;/div&gt;\n        &lt;!-- 有給休暇または夏季休暇のオレンジ色のアイコン（グラフの左端） --&gt;\n        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;\n          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;\n            ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "        &lt;template v-for=\"(breakTime, index) in day.breakTimes\" :key=\"index\"&gt;",
            "lineNumber": 614
          },
          {
            "text": "          &lt;div ",
            "lineNumber": 615
          },
          {
            "text": "            v-if=\"shouldShowBreakTime(breakTime, day)\"",
            "lineNumber": 616
          },
          {
            "text": "            class=\"break-time-bar\" ",
            "lineNumber": 617
          },
          {
            "text": "            :style=\"{ ...getBreakTimeStyle(breakTime, day), backgroundColor: getBreakTimeColor(breakTime, day) }\"",
            "lineNumber": 618
          },
          {
            "text": "            @mouseenter=\"showGraphTooltip(day, $event)\"",
            "lineNumber": 619
          },
          {
            "text": "            @mouseleave=\"hideGraphTooltip\"",
            "lineNumber": 620
          },
          {
            "text": "            @mousemove=\"updateGraphTooltipPosition($event)\"",
            "lineNumber": 621
          },
          {
            "text": "          &gt;&lt;/div&gt;",
            "lineNumber": 622
          },
          {
            "text": "        &lt;/template&gt;",
            "lineNumber": 623
          },
          {
            "text": "        &lt;!-- 出勤時刻の▼マーク（長方形の左上の角） --&gt;",
            "lineNumber": 624
          },
          {
            "text": "        &lt;div v-if=\"day.clockIn\" class=\"clock-marker clock-in-marker\" :style=\"getClockInMarkerStyle(day)\"&gt;",
            "lineNumber": 625
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 626
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 627
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 628
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 629
          },
          {
            "text": "        &lt;!-- 退勤時刻の▼マーク（長方形の右上の角） --&gt;",
            "lineNumber": 630
          },
          {
            "text": "        &lt;div v-if=\"day.clockOut\" class=\"clock-marker clock-out-marker\" :style=\"getClockOutMarkerStyle(day)\"&gt;",
            "lineNumber": 631
          },
          {
            "text": "          &lt;svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 632
          },
          {
            "text": "            &lt;path d=\"M4 6L0 0H8L4 6Z\" fill=\"rgb(75, 158, 228)\"/&gt;",
            "lineNumber": 633
          },
          {
            "text": "          &lt;/svg&gt;",
            "lineNumber": 634
          },
          {
            "text": "        &lt;/div&gt;",
            "lineNumber": 635
          },
          {
            "text": "        &lt;!-- 有給休暇または夏季休暇のオレンジ色のアイコン（グラフの左端） --&gt;",
            "lineNumber": 636
          },
          {
            "text": "        &lt;div v-if=\"day.hasVacation &amp;&amp; day.vacationTypeCode === 'PAID_LEAVE'\" class=\"vacation-application-marker\" :style=\"getVacationApplicationMarkerStyle(day)\"&gt;",
            "lineNumber": 637
          },
          {
            "text": "          &lt;svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" xmlns=\"http://www.w3.org/2000/svg\"&gt;",
            "lineNumber": 638
          },
          {
            "text": "            ",
            "lineNumber": 639
          }
        ]
      },
      "score": 0.32368314266204834
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\frontend\\src\\views\\TimesheetScreen.vue",
        "range": {
          "startPosition": {
            "line": 1790
          },
          "endPosition": {
            "line": 1832,
            "column": 10
          }
        },
        "contents": "    getGraphSegmentStyle(day, segmentType) {\n      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {\n        return { left: '0%', width: '0%' }\n      }\n      \n      const breakdown = this.calculateDailyWorkHourBreakdown(day)\n      const dailyActualWorkHours = parseFloat(day.actualWorkHours) || 0\n      \n      if (dailyActualWorkHours === 0) {\n        return { left: '0%', width: '0%' }\n      }\n      \n      const [inHour, inMin] = day.clockIn.split(':').map(Number)\n      const [outHour, outMin] = day.clockOut.split(':').map(Number)\n      \n      const startPosition = this.calculateTimePosition(inHour, inMin)\n      const endPosition = this.calculateTimePosition(outHour, outMin)\n      const totalWidth = endPosition - startPosition\n      \n      let segmentHours = 0\n      let segmentStartOffset = 0\n      \n      if (segmentType === 'scheduled') {\n        segmentHours = breakdown.scheduledWorkHours\n        segmentStartOffset = 0\n      } else if (segmentType === 'withinLegal') {\n        segmentHours = breakdown.withinLegalOvertime\n        segmentStartOffset = breakdown.scheduledWorkHours\n      } else if (segmentType === 'overLegal') {\n        segmentHours = breakdown.overLegalOvertime\n        segmentStartOffset = breakdown.scheduledWorkHours + breakdown.withinLegalOvertime\n      }\n      \n      // セグメントの開始位置（全体の開始位置 + オフセット）\n      const segmentStartRatio = segmentStartOffset / dailyActualWorkHours\n      const segmentWidthRatio = segmentHours / dailyActualWorkHours\n      \n      // 休日出勤申請が承認されている場合の色を決定\n      let backgroundColor = null\n      if (day.hasHolidayWorkApplication) {\n        // 日曜日（法定休日）の場合\n        if (day.dayOfWeekNum === 0) {\n          ",
        "signatures": {},
        "detailedLines": [
          {
            "text": "    getGraphSegmentStyle(day, segmentType) {",
            "lineNumber": 1791
          },
          {
            "text": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
            "lineNumber": 1792
          },
          {
            "text": "        return { left: '0%', width: '0%' }",
            "lineNumber": 1793
          },
          {
            "text": "      }",
            "lineNumber": 1794
          },
          {
            "text": "      ",
            "lineNumber": 1795
          },
          {
            "text": "      const breakdown = this.calculateDailyWorkHourBreakdown(day)",
            "lineNumber": 1796
          },
          {
            "text": "      const dailyActualWorkHours = parseFloat(day.actualWorkHours) || 0",
            "lineNumber": 1797
          },
          {
            "text": "      ",
            "lineNumber": 1798
          },
          {
            "text": "      if (dailyActualWorkHours === 0) {",
            "lineNumber": 1799
          },
          {
            "text": "        return { left: '0%', width: '0%' }",
            "lineNumber": 1800
          },
          {
            "text": "      }",
            "lineNumber": 1801
          },
          {
            "text": "      ",
            "lineNumber": 1802
          },
          {
            "text": "      const [inHour, inMin] = day.clockIn.split(':').map(Number)",
            "lineNumber": 1803
          },
          {
            "text": "      const [outHour, outMin] = day.clockOut.split(':').map(Number)",
            "lineNumber": 1804
          },
          {
            "text": "      ",
            "lineNumber": 1805
          },
          {
            "text": "      const startPosition = this.calculateTimePosition(inHour, inMin)",
            "lineNumber": 1806
          },
          {
            "text": "      const endPosition = this.calculateTimePosition(outHour, outMin)",
            "lineNumber": 1807
          },
          {
            "text": "      const totalWidth = endPosition - startPosition",
            "lineNumber": 1808
          },
          {
            "text": "      ",
            "lineNumber": 1809
          },
          {
            "text": "      let segmentHours = 0",
            "lineNumber": 1810
          },
          {
            "text": "      let segmentStartOffset = 0",
            "lineNumber": 1811
          },
          {
            "text": "      ",
            "lineNumber": 1812
          },
          {
            "text": "      if (segmentType === 'scheduled') {",
            "lineNumber": 1813
          },
          {
            "text": "        segmentHours = breakdown.scheduledWorkHours",
            "lineNumber": 1814
          },
          {
            "text": "        segmentStartOffset = 0",
            "lineNumber": 1815
          },
          {
            "text": "      } else if (segmentType === 'withinLegal') {",
            "lineNumber": 1816
          },
          {
            "text": "        segmentHours = breakdown.withinLegalOvertime",
            "lineNumber": 1817
          },
          {
            "text": "        segmentStartOffset = breakdown.scheduledWorkHours",
            "lineNumber": 1818
          },
          {
            "text": "      } else if (segmentType === 'overLegal') {",
            "lineNumber": 1819
          },
          {
            "text": "        segmentHours = breakdown.overLegalOvertime",
            "lineNumber": 1820
          },
          {
            "text": "        segmentStartOffset = breakdown.scheduledWorkHours + breakdown.withinLegalOvertime",
            "lineNumber": 1821
          },
          {
            "text": "      }",
            "lineNumber": 1822
          },
          {
            "text": "      ",
            "lineNumber": 1823
          },
          {
            "text": "      // セグメントの開始位置（全体の開始位置 + オフセット）",
            "lineNumber": 1824
          },
          {
            "text": "      const segmentStartRatio = segmentStartOffset / dailyActualWorkHours",
            "lineNumber": 1825
          },
          {
            "text": "      const segmentWidthRatio = segmentHours / dailyActualWorkHours",
            "lineNumber": 1826
          },
          {
            "text": "      ",
            "lineNumber": 1827
          },
          {
            "text": "      // 休日出勤申請が承認されている場合の色を決定",
            "lineNumber": 1828
          },
          {
            "text": "      let backgroundColor = null",
            "lineNumber": 1829
          },
          {
            "text": "      if (day.hasHolidayWorkApplication) {",
            "lineNumber": 1830
          },
          {
            "text": "        // 日曜日（法定休日）の場合",
            "lineNumber": 1831
          },
          {
            "text": "        if (day.dayOfWeekNum === 0) {",
            "lineNumber": 1832
          },
          {
            "text": "          ",
            "lineNumber": 1833
          }
        ]
      },
      "score": 0.3221317529678345
    },
    {
      "codeBlock": {
        "relativeWorkspacePath": ".\\docs\\detailed-design\\ui\\attendance-table-screen.md",
        "range": {
          "startPosition": {
            "line": 744
          },
          "endPosition": {
            "line": 756
          }
        },
        "contents": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 月次サマリーデータ.所定労働時間をHHH:MM形式で表示 | 例: 150:00 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 月次サマリーデータ.総労働時間をHHH:MM形式で表示 | 例: 70:01 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;過不足時間 | 月次サマリーデータ.過不足時間を+/-H:MM形式で表示 | 計算方法: 前日までの実作業時間 - (前日までの想定出勤日数 * 7:30)。例: +2:31（当日退勤済みの場合は当日まで、退勤していない場合は前日までの過不足時間） |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日労働 | 月次サマリーデータ.法定休日労働をH:MM形式で表示 | 例: 0:00 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 月次サマリーデータ.法定時間内残業をH:MM形式で表示 | 所定労働時間（7.5時間/日）を超えて法定労働時間（8時間/日）以内の残業時間。計算方法: 実作業時間が所定労働時間を超えている場合、その超過分のうち法定労働時間（所定出勤日数 * 8:00）以内の部分。max(0, min(実作業時間 - 所定労働時間, (所定出勤日数 * 8:00) - 所定労働時間))。例: 0:00 |\n  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 月次サマリーデータ.法定時間外残業をH:MM形式で表示 | 法定労働時間（8時間/日）を超えた残業時間。計算方法: 実作業時間が法定労働時間（所定出勤日数 * 8:00）を超えた部分。max(0, 実作業時間 - (所定出勤日数 * 8:00))。例: 0:00 |\n\n#### No.3\n- 編集仕様名：ステータス表示\n- 関連する取得仕様名：API利用仕様 No.9（月次承認履歴取得API）\n  | 項目名 | 編集内容 | 条件or前提 |\n  | :--- | :--- | :--- |",
        "signatures": {},
        "detailedLines": [
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;所定労働時間 | 月次サマリーデータ.所定労働時間をHHH:MM形式で表示 | 例: 150:00 |",
            "lineNumber": 745
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;総労働時間 | 月次サマリーデータ.総労働時間をHHH:MM形式で表示 | 例: 70:01 |",
            "lineNumber": 746
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;過不足時間 | 月次サマリーデータ.過不足時間を+/-H:MM形式で表示 | 計算方法: 前日までの実作業時間 - (前日までの想定出勤日数 * 7:30)。例: +2:31（当日退勤済みの場合は当日まで、退勤していない場合は前日までの過不足時間） |",
            "lineNumber": 747
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定休日労働 | 月次サマリーデータ.法定休日労働をH:MM形式で表示 | 例: 0:00 |",
            "lineNumber": 748
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間内残業 | 月次サマリーデータ.法定時間内残業をH:MM形式で表示 | 所定労働時間（7.5時間/日）を超えて法定労働時間（8時間/日）以内の残業時間。計算方法: 実作業時間が所定労働時間を超えている場合、その超過分のうち法定労働時間（所定出勤日数 * 8:00）以内の部分。max(0, min(実作業時間 - 所定労働時間, (所定出勤日数 * 8:00) - 所定労働時間))。例: 0:00 |",
            "lineNumber": 749
          },
          {
            "text": "  | &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;法定時間外残業 | 月次サマリーデータ.法定時間外残業をH:MM形式で表示 | 法定労働時間（8時間/日）を超えた残業時間。計算方法: 実作業時間が法定労働時間（所定出勤日数 * 8:00）を超えた部分。max(0, 実作業時間 - (所定出勤日数 * 8:00))。例: 0:00 |",
            "lineNumber": 750
          },
          {
            "lineNumber": 751
          },
          {
            "text": "#### No.3",
            "lineNumber": 752
          },
          {
            "text": "- 編集仕様名：ステータス表示",
            "lineNumber": 753
          },
          {
            "text": "- 関連する取得仕様名：API利用仕様 No.9（月次承認履歴取得API）",
            "lineNumber": 754
          },
          {
            "text": "  | 項目名 | 編集内容 | 条件or前提 |",
            "lineNumber": 755
          },
          {
            "text": "  | :--- | :--- | :--- |",
            "lineNumber": 756
          }
        ]
      },
      "score": 0.31905925273895264
    }
  ]
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "法定時間内残業|法定内残業",
  "path": "frontend",
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "法定時間内残業|法定内残業",
    "path": "frontend",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "frontend/src/views/MonthlySummaryScreen.vue",
              "matches": [
                {
                  "lineNumber": 274,
                  "content": "        &lt;span class=\"section-label\"&gt;法定時間内残業&lt;/span&gt;"
                }
              ]
            },
            {
              "file": "frontend/src/views/TimesheetScreen.vue",
              "matches": [
                {
                  "lineNumber": 594,
                  "content": "          &lt;!-- 法定時間内残業セグメント（黄土色） --&gt;"
                },
                {
                  "lineNumber": 738,
                  "content": "            &lt;!-- 法定時間内残業（月次累積） --&gt;"
                },
                {
                  "lineNumber": 741,
                  "content": "              &lt;span class=\"tooltip-label\"&gt;法定時間内残業&lt;/span&gt;"
                },
                {
                  "lineNumber": 1051,
                  "content": "        &lt;!-- 法定時間内残業 --&gt;"
                },
                {
                  "lineNumber": 1052,
                  "content": "        &lt;span class=\"summary-label-right\" style=\"top: 44px;\"&gt;法定時間内残業&lt;/span&gt;"
                },
                {
                  "lineNumber": 1066,
                  "content": "        &lt;!-- 法定時間内残業 --&gt;"
                },
                {
                  "lineNumber": 1790,
                  "content": "    // グラフセグメントのスタイルを取得（所定内労働、法定時間内残業、法定時間外残業）"
                },
                {
                  "lineNumber": 2785,
                  "content": "    // その日の実労働時間を所定内労働、法定時間内残業、法定時間外残業に分割"
                },
                {
                  "lineNumber": 2837,
                  "content": "          // 法定時間内残業の残り = 月の法定労働時間の残り - 所定内労働として使った分"
                },
                {
                  "lineNumber": 2838,
                  "content": "          // ただし、前日までの累積が月の所定労働時間以下の場合、法定時間内残業の残りは"
                },
                {
                  "lineNumber": 2852,
                  "content": "          // 法定時間内残業: 月の法定労働時間の残りまで"
                },
                {
                  "lineNumber": 2859,
                  "content": "          // 法定時間内残業は表示しない"
                },
                {
                  "lineNumber": 2920,
                  "content": "    // ツールチップ: 法定時間内残業を表示するかどうか"
                },
                {
                  "lineNumber": 2940,
                  "content": "    // ツールチップ: 法定時間内残業を取得"
                },
                {
                  "lineNumber": 2988,
                  "content": "        // 法定時間内残業: 超過分のうち、月全体の法定労働時間以内の部分"
                },
                {
                  "lineNumber": 4176,
                  "content": "/* 法定時間内残業セグメント */"
                },
                {
                  "lineNumber": 4986,
                  "content": "  color: #B0B000; /* 法定時間内残業用 */"
                }
              ]
            }
          ],
          "totalLines": 18,
          "totalMatchedLines": 18
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/components/dialog/AttendanceInputDialog.vue</summary>

</details>
</tool-use>

---



---

ツールチップの表示ロジックを確認中。`TimesheetScreen.vue`の該当箇所を確認します。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---

ツールチップのテンプレート部分を確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---

`formatHoursToHMM`関数を確認中。浮動小数点誤差で0よりわずかに大きい値が返っている可能性があります。


---

<tool-use data-tool-type="unknown" data-tool-name="ripgrep_raw_search">
<details>
<summary>Tool use: **ripgrep_raw_search**</summary>


Parameters:

```json
{
  "pattern": "formatHoursToHMM",
  "path": "frontend/src/views/TimesheetScreen.vue",
  "contextAfter": 10,
  "caseInsensitive": false
}
```
Result:

```json
{
  "success": {
    "pattern": "formatHoursToHMM",
    "path": "frontend/src/views/TimesheetScreen.vue",
    "outputMode": "content",
    "workspaceResults": {
      "c:\\TeamSpirit\\CodeCommit\\TeamSpirit再現企画": {
        "content": {
          "matches": [
            {
              "file": "frontend/src/views/TimesheetScreen.vue",
              "matches": [
                {
                  "lineNumber": 721,
                  "content": "              &lt;span class=\"tooltip-value\"&gt;{{ formatHoursToHMM(day.actualWorkHours) }}&lt;/span&gt;"
                },
                {
                  "lineNumber": 722,
                  "content": "            &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 723,
                  "isContextLine": true
                },
                {
                  "lineNumber": 724,
                  "content": "            &lt;!-- 休憩時間合計 --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 725,
                  "content": "            &lt;div v-if=\"day.breakTimes &amp;&amp; day.breakTimes.length &gt; 0\" class=\"tooltip-row\"&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 726,
                  "content": "              &lt;span class=\"tooltip-icon tooltip-icon-blue\"&gt;■&lt;/span&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 727,
                  "content": "              &lt;span class=\"tooltip-label\"&gt;休憩時間合計&lt;/span&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 728,
                  "content": "              &lt;span class=\"tooltip-value\"&gt;{{ getTooltipTotalBreakTime(day) }}&lt;/span&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 729,
                  "content": "            &lt;/div&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 730,
                  "isContextLine": true
                },
                {
                  "lineNumber": 731,
                  "content": "            &lt;!-- 所定内労働（月の所定労働時間の残りまで） --&gt;",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2879,
                  "content": "      return this.formatHoursToHMM(scheduledWorkHours)"
                },
                {
                  "lineNumber": 2880,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2881,
                  "isContextLine": true
                },
                {
                  "lineNumber": 2882,
                  "content": "    // ツールチップ: 所定内労働を表示するかどうか",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2883,
                  "content": "    shouldShowScheduledWorkHours(day) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2884,
                  "content": "      if (!day.clockIn || !day.clockOut || !day.actualWorkHours) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2885,
                  "content": "        return false",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2886,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2887,
                  "isContextLine": true
                },
                {
                  "lineNumber": 2888,
                  "content": "      const { scheduledWorkHours } = this.calculateDailyWorkHourBreakdown(day)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2889,
                  "content": "      return scheduledWorkHours &gt; 0",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2943,
                  "content": "      return this.formatHoursToHMM(withinLegalOvertime)"
                },
                {
                  "lineNumber": 2944,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2945,
                  "isContextLine": true
                },
                {
                  "lineNumber": 2946,
                  "content": "    // ツールチップ: 法定時間外残業を取得",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2947,
                  "content": "    getMonthlyOverLegalOvertime(day) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2948,
                  "content": "      const { overLegalOvertime } = this.calculateDailyWorkHourBreakdown(day)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2949,
                  "content": "      return this.formatHoursToHMM(overLegalOvertime)"
                },
                {
                  "lineNumber": 2950,
                  "content": "    },",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2951,
                  "isContextLine": true
                },
                {
                  "lineNumber": 2952,
                  "content": "    // その日付までの累積残業時間を計算",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2953,
                  "content": "    calculateCumulativeOvertime(cutoffDateStr) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2954,
                  "content": "      if (!this.attendanceData || this.attendanceData.length === 0) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2955,
                  "content": "        return { withinLegalOvertime: 0, overLegalOvertime: 0 }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2956,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2957,
                  "isContextLine": true
                },
                {
                  "lineNumber": 2958,
                  "content": "      // 年月を取得（最初の日付から）",
                  "isContextLine": true
                },
                {
                  "lineNumber": 2959,
                  "content": "      const firstDate = this.attendanceData[0].date",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3082,
                  "content": "    formatHoursToHMM(hours) {"
                },
                {
                  "lineNumber": 3083,
                  "content": "      if (!hours || hours === 0) {",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3084,
                  "content": "        return '0:00'",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3085,
                  "content": "      }",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3086,
                  "isContextLine": true
                },
                {
                  "lineNumber": 3087,
                  "content": "      // 浮動小数点数の誤差を考慮して、分単位で計算",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3088,
                  "content": "      // 例: 0.75時間 = 45分、0.733333...時間 = 44分",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3089,
                  "content": "      const totalMinutes = Math.round(hours * 60)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3090,
                  "content": "      const wholeHours = Math.floor(totalMinutes / 60)",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3091,
                  "content": "      const minutes = totalMinutes % 60",
                  "isContextLine": true
                },
                {
                  "lineNumber": 3092,
                  "isContextLine": true
                }
              ]
            }
          ],
          "totalLines": 50,
          "totalMatchedLines": 5
        }
      }
    }
  }
}
```
Status: **completed**


</details>
</tool-use>

---



---

`formatHoursToHMM`の実装を確認中。


---

<tool-use data-tool-type="read" data-tool-name="read_file_v2">
<details><summary>Tool use: **read_file_v2** • Read file: frontend/src/views/TimesheetScreen.vue</summary>

</details>
</tool-use>

---



---

原因は浮動小数点誤差です。`shouldShowMonthlyWithinLegalOvertime`が`withinLegalOvertime > 0`で判定しているため、わずかに正の値でも表示され、`formatHoursToHMM`で`'0:00'`になります。

修正: 分単位で判定し、1分未満は非表示にします。`shouldShowMonthlyOverLegalOvertime`も同様に修正します。


---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "b86ad6ac-26e5-4c52-bc4e-480c205361d8"
}
```
Status: **completed**


</details>
</tool-use>

---

<tool-use data-tool-type="unknown" data-tool-name="edit_file_v2">
<details>
<summary>Tool use: **edit_file_v2**</summary>

Additional data:

```json
{
  "codeblockId": "895ca3a7-8eb0-4b7b-8fa9-25f195b89c4d"
}
```
Status: **completed**


</details>
</tool-use>

---



---

修正完了。変更点は以下の通りです。

**問題の原因:**
- `shouldShowMonthlyWithinLegalOvertime`が`withinLegalOvertime > 0`で判定していたため、浮動小数点誤差でわずかに正の値でも表示され、`formatHoursToHMM`で`'0:00'`になっていました。

**修正内容:**
- 分単位で判定するように変更（`Math.round(withinLegalOvertime * 60) >= 1`）。1分未満は非表示にします。
- 同様に`shouldShowMonthlyOverLegalOvertime`も修正しました。

これにより、12月17日のように法定時間内残業が0:00の場合は、ツールチップに表示されなくなります。

修正後の動作を確認してください。問題があれば知らせてください。

---

