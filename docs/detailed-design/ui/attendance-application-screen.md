# TeamSpirit勤怠管理システム
# 勤怠関連申請画面

## 概要
本画面は、勤務表画面の申請列の+アイコンを押下することで表示されるダイアログ形式の申請画面です。
日次確定、休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請などの各種申請を行うことができます。
各申請タイプはタブ形式で管理され、常に1つの申請タイプのタブのみが開きます。
メニューから別の申請タイプを選択すると、以前開いていたタブは閉じて新しいタブが開きます。
承認申請ボタンを押下することで申請が送信され、勤務表画面の該当日の申請状況アイコンが↑マーク（申請中）に変更されます。

## 画面レイアウト

### Figmaデザイン

**勤怠関連申請画面のデザイン（Figma）**

（FigmaのURLが提供された場合はここに記載）

### 参考画像（操作マニュアルより）

以下の画像は参考として掲載しています。正式なデザイン仕様は上記のFigmaを参照してください。

- 勤怠関連申請メニュー画面（参考）

![勤怠関連申請メニュー画面](../../OperationManual/スクリーンショット%202025-12-01%20114837.png)

- 休暇申請入力画面（参考）

![休暇申請入力画面](../../OperationManual/スクリーンショット%202025-12-01%20114849.png)

## 画面項目定義

| No | 項目名 | 種別 | 入力タイプ | ドメイン | 最小桁数 | 最大桁数 | 表示文字数 | 表示形式 | 表示/非表示 | 活性/非活性 | 初期値 | 備考 |
| :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- |
| | <ヘッダー部分（青色バー）> | | | | | | | | | | | |
| 1 | タイトル | 出力 | | 文字 | | | | | 表示 | 活性 | 勤怠関連申請 | ダイアログのタイトル「勤怠関連申請」を表示 |
| 2 | 閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる。「X」アイコン |
| 3 | 日付表示 | 出力 | | 文字 | | | | YYYY年MM月DD日X曜日 | 表示 | 活性 | | 対象日の日付を表示（例: 2025年12月8日月曜日） |
| | <メニュー画面> | | | | | | | | | | | |
| 4 | メニューリスト | リスト | | | | | | | 表示 | 活性 | | 申請タイプのメニューリスト |
| 5 | &nbsp;&nbsp;&nbsp;&nbsp;日次確定 | ボタン | | | | | | | 表示 | 条件付き活性 | | 日次確定申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |
| 6 | &nbsp;&nbsp;&nbsp;&nbsp;休暇申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 休暇申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |
| 7 | &nbsp;&nbsp;&nbsp;&nbsp;休日出勤申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 休日出勤申請を行うメニュー項目。対象日が平日の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、常に非活性（押せない状態）。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |
| 8 | &nbsp;&nbsp;&nbsp;&nbsp;残業申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 残業申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |
| 9 | &nbsp;&nbsp;&nbsp;&nbsp;早朝勤務申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 早朝勤務申請を行うメニュー項目。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |
| 10 | &nbsp;&nbsp;&nbsp;&nbsp;振替申請 | ボタン | | | | | | | 表示 | 条件付き活性 | | 振替申請を行うメニュー項目。申請中（PENDING）または承認済み（APPROVED）の申請がある場合、非活性（押せない状態）。非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になる |
| 11 | 説明文 | 出力 | | 文字 | | | | | 表示 | 活性 | | 選択中のメニュー項目の説明文を常時表示（初期状態では「日次確定を申請します。」を表示） |
| | <タブ部分> | | | | | | | | | | | | |
| 12 | タブリスト | リスト | | | | | | | 条件付き表示 | 活性 | | 開いている申請タイプのタブリスト。メニュー項目を押下するとタブが開く（既存のタブは閉じる） |
| 13 | &nbsp;&nbsp;&nbsp;&nbsp;メニュータブ | ボタン | | | | | | | 表示 | 活性 | | 「メニュー」タブ。押下でメニュー画面に戻る |
| 14 | &nbsp;&nbsp;&nbsp;&nbsp;申請タイプタブ | ボタン | | | | | | | 条件付き表示 | 活性 | | 各申請タイプのタブ（例: 「休暇申請」「日次確定」）。押下で該当申請フォームを表示。常に1つのタブのみが開く |
| 15 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;タブ名 | 出力 | | 文字 | | | | | 表示 | 活性 | | 申請タイプ名（例: 「休暇申請」「日次確定」） |
| 16 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;タブ閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | タブを閉じる。「X」アイコン。押下でメニュー画面に戻る |
| | <日次確定申請フォーム> | | | | | | | | | | | | |
| 17 | 日次確定フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 日次確定タブが選択されている場合に表示 |
| 18 | &nbsp;&nbsp;&nbsp;&nbsp;出退社時刻 | 出力 | | 文字 | | | | HH:MM-HH:MM | 表示 | 活性 | | 出勤時刻と退勤時刻を表示（例: 8:50-17:40） |
| 19 | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間 | 出力 | | 文字 | | | | HH:MM-HH:MM | 表示 | 活性 | | 休憩時間帯を表示（例: 12:00-13:00）。複数の休憩時間がある場合はカンマ区切りで表示 |
| 20 | &nbsp;&nbsp;&nbsp;&nbsp;総労働時間 | 出力 | | 文字 | | | | H:MM | 表示 | 活性 | | 総労働時間を表示（例: 7:50） |
| 21 | &nbsp;&nbsp;&nbsp;&nbsp;実労働時間 | 出力 | | 文字 | | | | H:MM | 表示 | 活性 | | 実労働時間を表示（例: 7:50） |
| 22 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 備考を入力。手入力の場合は理由を入力する必要がある |
| 23 | &nbsp;&nbsp;&nbsp;&nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示（例: 「工数の合計と実労働時間が合いません」） |
| 24 | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 日次確定申請を送信する。青色のボタン。押下で申請が送信され、日付列と申請列の+アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |
| 24-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請が取り消され、申請前の状態に戻る。月次申請を行っている場合、日次申請の取り消しはできない |
| 25 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
| | <休暇申請フォーム> | | | | | | | | | | | | |
| 26 | 休暇申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休暇申請タブが選択されている場合に表示 |
| 27 | &nbsp;&nbsp;&nbsp;&nbsp;休暇種類 | 入力 | プルダウン | 文字 | | | | | 表示 | 活性 | | 休暇種別を選択（年次有給休暇、夏季休暇、病気休暇、代休など）。休日出勤申請を行っている場合のみ「代休」が選択可能 |
| 28 | &nbsp;&nbsp;&nbsp;&nbsp;有休残日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 年次有給休暇を選択した場合のみ表示。残日数を表示 |
| 28-1 | &nbsp;&nbsp;&nbsp;&nbsp;代休取得可能日数 | 出力 | | 整数 | | | | XX日 | 条件付き表示 | 活性 | | 代休を選択した場合のみ表示。代休取得可能な日数を表示（例: 代休取得可能日数 1日）。赤い点線のボックスで表示 |
| 29 | &nbsp;&nbsp;&nbsp;&nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 休暇取得期間を指定 |
| 30 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 常に非活性 | 対象日付 | 休暇開始日。その日の勤怠申請のため、常に無効化（グレーアウト）され、操作不可。対象日付が初期値として設定される |
| 31 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了日入力可否チェックボックス | 入力 | チェックボックス | フラグ | | | | | 表示 | 条件付き活性 | true | 終了日の入力可否を制御するチェックボックス。チェックが入っている場合、終了日が入力可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される。申請が編集可能な場合のみ操作可能 |
| 31-1 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;～ラベル | ラベル | | 文字 | | | | | 表示 | 活性 | ～ | チェックボックスの横に表示される「～」記号 |
| 32 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 条件付き活性 | 対象日付 | 休暇終了日。チェックボックスがチェックされている場合のみ入力可能。チェックが外れている場合、無効化され、開始日と同じ日付に設定される。カレンダーで開始日より前の日付は選択不可（グレーアウト表示） |
| 33 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カレンダーアイコンボタン | ボタン | | | | | | | 表示 | 条件付き活性 | | 日付ピッカーを開く。終了日が有効な場合のみ操作可能 |
| 34 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休暇申請の備考・理由を入力 |
| 35 | &nbsp;&nbsp;&nbsp;&nbsp;連絡先 | 入力 | テキストボックス | 文字 | | | | | 表示 | 活性 | | 連絡先を入力 |
| 35-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |
| 35-2 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示（例: 2025/12/12 22:38） |
| 35-3 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |
| 35-4 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |
| 35-5 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# | 出力 | | 整数 | | | | | 条件付き表示 | 活性 | | 履歴の連番（1, 2, 3...）。時系列順に連番が振られる |
| 35-6 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | アクションが行われた日時（例: 2025/11/27 14:44） |
| 35-7 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | アクション種別。「申請済み」「承認済み」「申請取消」のいずれかを表示 |
| 35-8 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;実行者 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | アクションを実行した人の名前（例: 勝田 博行） |
| 35-9 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コメント | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 承認/却下時に入力されたコメント。空欄の場合は空欄で表示 |
| 36 | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休暇申請を送信する。青色のボタン。押下で申請が送信され、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに代わる。申請中または承認済みの場合は非表示 |
| 36-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |
| 37 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
| | <休日出勤申請フォーム> | | | | | | | | | | | | |
| 38 | 休日出勤申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請タブが選択されている場合に表示 |
| 39 | &nbsp;&nbsp;&nbsp;&nbsp;当月時間外残業 | 出力 | | 時間 | | | | H:MM | 表示 | 活性 | | 当月の時間外残業時間の合計を表示（例: 0:00） |
| 40 | &nbsp;&nbsp;&nbsp;&nbsp;時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 勤務時間を指定 |
| 41 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の開始時間（例: 9:00） |
| 42 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了時間 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休日出勤の終了時間（例: 17:30） |
| 43 | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間 | 入力 | | 時間 | | | | H:MM | 表示 | 活性 | | 休憩時間を表示（例: 1:00） |
| 44 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変更リンク | リンク | | | | | | | 表示 | 活性 | | 休憩時間を変更するためのリンク。押下で休憩時間入力ダイアログを表示 |
| 45 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 休日出勤申請の備考・理由を入力（任意） |
| 45-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |
| 45-2 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |
| 45-3 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |
| 45-4 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |
| 46 | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請を送信する。青色のボタン。押下で申請が送信され、該当日の申請状況アイコンが↑マークに更新される。申請中または承認済みの場合は非表示 |
| 46-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |
| 47 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルリンク | リンク | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる。青色のリンク |
| | <残業申請フォーム> | | | | | | | | | | | | |
| 48 | 残業申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 残業申請タブが選択されている場合に表示 |
| 49 | &nbsp;&nbsp;&nbsp;&nbsp;残業説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 残業を申請します。 |
| 50 | &nbsp;&nbsp;&nbsp;&nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 残業期間を指定 |
| 51 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業開始日 |
| 52 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 残業終了日 |
| 53 | &nbsp;&nbsp;&nbsp;&nbsp;残業時間 | 入力 | | 時間 | | | | | 表示 | 活性 | | 残業時間を指定 |
| 54 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 残業申請の備考・理由を入力 |
| 54-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |
| 54-2 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |
| 54-3 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |
| 54-4 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |
| 55 | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 残業申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |
| 55-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |
| 56 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
| | <早朝勤務申請フォーム> | | | | | | | | | | | | |
| 57 | 早朝勤務申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請タブが選択されている場合に表示 |
| 58 | &nbsp;&nbsp;&nbsp;&nbsp;早朝勤務説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 早朝勤務を申請します。 |
| 59 | &nbsp;&nbsp;&nbsp;&nbsp;期間 | 入力 | | 日付 | | | | | 表示 | 活性 | | 早朝勤務期間を指定 |
| 60 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務開始日 |
| 61 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 早朝勤務終了日 |
| 62 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 早朝勤務申請の備考・理由を入力 |
| 62-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |
| 62-2 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |
| 62-3 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |
| 62-4 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |
| 63 | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 早朝勤務申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |
| 63-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |
| 64 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
| | <振替申請フォーム> | | | | | | | | | | | | |
| 65 | 振替申請フォーム | フォーム | | | | | | | 条件付き表示 | 活性 | | 振替申請タブが選択されている場合に表示 |
| 66 | &nbsp;&nbsp;&nbsp;&nbsp;振替説明 | 出力 | | 文字 | | | | | 表示 | 活性 | | 振替を申請します。 |
| 67 | &nbsp;&nbsp;&nbsp;&nbsp;振替元日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 振替元の日付 |
| 68 | &nbsp;&nbsp;&nbsp;&nbsp;振替先日 | 入力 | 日付ピッカー | 日付 | | | | YYYY/MM/DD | 表示 | 活性 | | 振替先の日付 |
| 69 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 入力 | テキストエリア | 文字 | | | | | 表示 | 活性 | | 振替申請の備考・理由を入力 |
| 69-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | セクション | | | | | | | 条件付き表示 | 活性 | | 申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 |
| 69-2 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認申請ボタンが押された日時を表示 |
| 69-3 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。申請状態を表示。「申請済み」または「承認済み」を表示 |
| 69-4 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;承認履歴テーブル | テーブル | | | | | | | 条件付き表示 | 活性 | | 申請中または承認済みの場合に表示。承認履歴をテーブル形式で表示（#、日時、状況、実行者、コメント）。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |
| 70 | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 振替申請を送信する。青色のボタン。申請中または承認済みの場合は非表示 |
| 70-1 | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | ボタン | | | | | | | 条件付き表示 | 活性 | | 申請を取り消す。赤色のボタン。申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消確認ダイアログを表示 |
| 71 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルボタン | ボタン | | | | | | | 表示 | 活性 | | 申請をキャンセルしてタブを閉じる |
| | <下部操作エリア> | | | | | | | | | | | | |
| 72 | 閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク |
| | <ローディング表示> | | | | | | | | | | | | |
| 73 | ローディングマーク | 出力 | | 画像 | | | | | 条件付き表示 | 活性 | | API通信中やデータ処理中に表示されるローディングインジケーター |
| | <エラーダイアログ> | | | | | | | | | | | | |
| 74 | エラーダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請時のエラー時に表示 |
| 75 | &nbsp;&nbsp;&nbsp;&nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | エラー | ダイアログのタイトル |
| 76 | &nbsp;&nbsp;&nbsp;&nbsp;エラーメッセージ | 出力 | | 文字 | | | | | 表示 | 活性 | | エラーの内容を表示 |
| 77 | &nbsp;&nbsp;&nbsp;&nbsp;OKボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる |
| | <休憩時間設定ダイアログ> | | | | | | | | | | | | |
| 78 | 休憩時間設定ダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 休日出勤申請フォームの変更リンク押下時に表示 |
| 79 | &nbsp;&nbsp;&nbsp;&nbsp;タイトル | ラベル | | 文字 | | | | | 表示 | 活性 | 休憩時間の設定 | ダイアログのタイトル |
| 80 | &nbsp;&nbsp;&nbsp;&nbsp;閉じるボタン | ボタン | | | | | | | 表示 | 活性 | | ダイアログを閉じる。「X」アイコン |
| 81 | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間リスト | リスト | | | | | | | 表示 | 活性 | | 休憩時間の入力行リスト |
| 82 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休憩時間行 | 行 | | | | | | | 表示 | 活性 | | 1つの休憩時間入力行 |
| 83 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始時刻 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休憩開始時刻（例: 12:00） |
| 84 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;区切り文字 | 出力 | | 文字 | | | | | 表示 | 活性 | ～ | 開始時刻と終了時刻の区切り文字 |
| 85 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了時刻 | 入力 | 時刻入力 | 時間 | | | | HH:MM | 表示 | 活性 | | 休憩終了時刻（例: 13:00） |
| 86 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;削除ボタン | ボタン | | | | | | | 表示 | 活性 | | その行の休憩時間を削除する。ゴミ箱アイコン |
| 87 | &nbsp;&nbsp;&nbsp;&nbsp;追加ボタン | ボタン | | | | | | | 表示 | 活性 | | 新しい休憩時間の行を追加する。「+」ボタン |
| 88 | &nbsp;&nbsp;&nbsp;&nbsp;OKボタン | ボタン | | | | | | | 表示 | 活性 | | 休憩時間の設定を確定する。青色のボタン |
| 89 | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルリンク | リンク | | | | | | | 表示 | 活性 | | 設定を破棄してダイアログを閉じる。青色のリンク |
| | <申請取消確認ダイアログ> | | | | | | | | | | | | |
| 90 | 申請取消確認ダイアログ | ダイアログ | | | | | | | | 条件付き表示 | 活性 | | 申請取消ボタン押下時に表示。申請情報と承認履歴を表示する |
| 91 | &nbsp;&nbsp;&nbsp;&nbsp;勤務情報セクション | セクション | | | | | | | | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。出退社時刻、休憩時間、総労働時間、実労働時間、備考を表示 |
| 92 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;出退社時刻 | 出力 | | 文字 | | | | HH:MM-HH:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。出勤時刻と退勤時刻を表示（例: 8:51-17:40） |
| 93 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休憩時間 | 出力 | | 文字 | | | | HH:MM-HH:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。休憩時間帯を表示（例: 12:00-13:00） |
| 94 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;総労働時間 | 出力 | | 文字 | | | | H:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。総労働時間を表示（例: 7:49） |
| 95 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;実労働時間 | 出力 | | 文字 | | | | H:MM | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。実労働時間を表示（例: 7:49） |
| 96 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;備考 | 出力 | | 文字 | | | | | 条件付き表示 | 活性 | | 日次確定申請の場合のみ表示。備考を表示 |
| 97 | &nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 表示 | 活性 | | 承認申請ボタンが押された日時を表示（例: 2025/12/12 22:38） |
| 98 | &nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 表示 | 活性 | | 申請状態を表示。「申請済み」または「承認済み」を表示 |
| 99 | &nbsp;&nbsp;&nbsp;&nbsp;承認履歴テーブル | テーブル | | | | | | | | 表示 | 活性 | | 承認履歴をテーブル形式で表示。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する |
| 100 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# | 出力 | | 整数 | | | | | 表示 | 活性 | | 履歴の連番（1, 2, 3...）。時系列順に連番が振られる |
| 101 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;日時 | 出力 | | 文字 | | | | YYYY/MM/DD HH:MM | 表示 | 活性 | | アクションが行われた日時（例: 2025/12/16 09:01） |
| 102 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;状況 | 出力 | | 文字 | | | | | 表示 | 活性 | | アクション種別。「申請済み」「承認済み」「申請取消」のいずれかを表示 |
| 103 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;実行者 | 出力 | | 文字 | | | | | 表示 | 活性 | | アクションを実行した人の名前（例: 勝田 博行） |
| 104 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コメント | 出力 | | 文字 | | | | | 表示 | 活性 | | 承認/却下時に入力されたコメント。空欄の場合は空欄で表示 |
| 105 | &nbsp;&nbsp;&nbsp;&nbsp;承認取消ボタン | ボタン | | | | | | | | 表示 | 活性 | | 申請を取り消す。ピンク色のボタン。右上に配置。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される。押下で申請取消処理を実行 |
| 106 | &nbsp;&nbsp;&nbsp;&nbsp;閉じるリンク | リンク | | | | | | | | 表示 | 活性 | | ダイアログを閉じる。青色のリンク。下部中央に配置 |

## 入出力項目定義

| No | 項目名 | 種別 | 画面遷移 | ドメイン | 必須 | デフォルト値 | 備考 |
| :----- | :----- | :----- | :----- | :----- | :----- | :----- | :----- |
| 1 | 従業員ID | 入力 | 勤務表画面 | 文字 | 必須 | | ログイン中の従業員ID |
| 2 | 対象日付 | 入力 | 勤務表画面 | 日付 | 必須 | | 申請対象の日付（YYYY-MM-DD形式） |
| 3 | 申請タイプ | 入力 | 勤務表画面 | 文字 | 任意 | | 初期表示時に開く申請タイプ（日次確定、休暇申請など）。未指定の場合はメニュー画面を表示。申請中または承認済みのアイコンをクリックした場合は、該当する申請タイプのタブが開く |

## その他の項目定義

| No | 項目名 | ドメイン | 正常異常区分 | デフォルト値 | 備考 |
| :----- | :----- | :----- | :----- | :----- | :----- |
| 1 | 現在開いているタブ | オブジェクト | 正常 | | 現在開いている申請タイプのタブ情報。常に1つのタブのみが開く |
| 2 | &nbsp;&nbsp;&nbsp;&nbsp;タブID | 文字 | 正常 | | タブの一意ID |
| 3 | &nbsp;&nbsp;&nbsp;&nbsp;申請タイプ | 文字 | 正常 | | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER）。未選択時はNULL |
| 4 | &nbsp;&nbsp;&nbsp;&nbsp;申請データ | オブジェクト | 正常 | | 各申請タイプの入力データ |
| 6 | 休暇種別マスタ | リスト | 正常 | | VACATION_TYPEテーブルから取得した休暇種別マスタ |
| 7 | &nbsp;&nbsp;&nbsp;&nbsp;休暇種別情報 | オブジェクト | 正常 | | 1つの休暇種別の情報 |
| 8 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休暇種別コード | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_CODE |
| 9 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休暇種別名 | 文字 | 正常 | | VACATION_TYPE.VACATION_TYPE_NAME |
| 10 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有給フラグ | フラグ | 正常 | | VACATION_TYPE.IS_PAID |
| 11 | 有給残日数 | 整数 | 正常 | | 年次有給休暇の残日数 |
| 12 | 日次勤務データ | オブジェクト | 正常 | | 対象日付の勤務データ |
| 13 | &nbsp;&nbsp;&nbsp;&nbsp;出勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_IN_TIME |
| 14 | &nbsp;&nbsp;&nbsp;&nbsp;退勤時刻 | 日時 | 正常 | | ATTENDANCE_RECORD.CLOCK_OUT_TIME |
| 15 | &nbsp;&nbsp;&nbsp;&nbsp;実労働時間 | 小数 | 正常 | | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS |
| 16 | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 文字 | 正常 | | ATTENDANCE_RECORD.REMARK_TEXT |
| 17 | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間リスト | リスト | 正常 | | BREAK_TIMEテーブルから取得 |
| 18 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休憩開始時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_START_TIME |
| 19 | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休憩終了時刻 | 時間 | 正常 | | BREAK_TIME.BREAK_END_TIME |
| 20 | 申請状態 | 文字 | 正常 | | 各申請タイプの申請状態（NOT_SUBMITTED/PENDING/APPROVED/REJECTED）。申請中または承認済みの場合に申請取消ボタンを表示 |
| 21 | &nbsp;&nbsp;&nbsp;&nbsp;日次確定申請状態 | 文字 | 正常 | | ATTENDANCE_RECORD.APPROVAL_STATUS |
| 22 | &nbsp;&nbsp;&nbsp;&nbsp;休暇申請状態 | 文字 | 正常 | | VACATION_HISTORY.APPROVAL_STATUS |
| 23 | &nbsp;&nbsp;&nbsp;&nbsp;休日出勤申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='HOLIDAY_WORK'） |
| 24 | &nbsp;&nbsp;&nbsp;&nbsp;残業申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='OVERTIME'） |
| 25 | &nbsp;&nbsp;&nbsp;&nbsp;早朝勤務申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='EARLY_WORK'） |
| 26 | &nbsp;&nbsp;&nbsp;&nbsp;振替申請状態 | 文字 | 正常 | | APPLICATION_HISTORY.APPROVAL_STATUS（APPLICATION_TYPE='TRANSFER'） |
| 27 | 月次申請状態 | 文字 | 正常 | | 月次確定申請の状態（NOT_SUBMITTED/PENDING/APPROVED）。月次申請を行っている場合、日次申請の取り消しはできない |
| 28 | エラーメッセージ | 文字 | 異常 | | エラー時に表示するメッセージ |

## イベント処理説明

#### 名称：初期表示処理、英名：initializeScreen、処理タイミング：-

1. ローディング表示開始
   - ローディングマークを表示する。

2. 従業員情報取得
   - 編集仕様に従い、ログイン中の従業員情報を取得する。
   - 【編集仕様 No.1（従業員情報取得）】

3. 休暇種別マスタ取得
   - API利用仕様に従い、休暇種別マスタを取得する。
   - 【API利用仕様 No.1（休暇種別マスタ取得API）】

4. 有給残日数取得
   - API利用仕様に従い、有給残日数を取得する。
   - 【API利用仕様 No.2（有給残日数取得API）】

5. 申請状態取得
   - API利用仕様に従い、各申請タイプの申請状態を取得する。
   - 【API利用仕様 No.11（申請状態取得API）】

6. ローディング表示終了
   - ローディングマークを非表示にする。

7. 画面表示
   - 編集仕様に従い、画面を表示する。
   - 【編集仕様 No.2（初期画面表示）】
   - 申請タイプが指定されている場合は、該当申請タイプのタブを開く
   - 申請状態に応じて、承認申請ボタンまたは申請取消ボタンを表示する
   - 申請中または承認済みのアイコンをクリックして開いた場合、該当する申請タイプのタブが自動的に開く

#### 名称：メニュー項目押下処理、英名：clickMenuItem、処理タイミング：メニュー画面.メニュー項目.押下

1. 既存タブの閉じる
   - 既に開いている申請タイプのタブがある場合は、そのタブを閉じる。

2. タブを開く
   - 選択された申請タイプのタブを開く。

3. 日次確定タブの場合の勤務データ取得
   - 日次確定タブを開く場合:
     - API利用仕様に従い、対象日付の勤務データを取得する。
     - 【API利用仕様 No.9（日次勤務データ取得API）】

4. 休日出勤申請タブの場合の当月時間外残業取得
   - 休日出勤申請タブを開く場合:
     - API利用仕様に従い、当月の時間外残業時間を取得する。
     - 【API利用仕様 No.10（当月時間外残業取得API）】

5. 申請状態取得
   - API利用仕様に従い、選択された申請タイプの申請状態を取得する。
   - 【API利用仕様 No.11（申請状態取得API）】

6. 申請情報取得（申請中または承認済みの場合）
   - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合:
     - API利用仕様に従い、申請情報と承認履歴を取得する。
     - 【API利用仕様 No.19（申請情報取得API）】

7. 申請フォーム表示
   - 編集仕様に従い、選択された申請タイプのフォームを表示する。
   - 【編集仕様 No.3（申請フォーム表示）】
   - 申請状態に応じて、承認申請ボタンまたは申請取消ボタンを表示する
   - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、申請情報セクション（申請日時、状況、承認履歴テーブル）を表示する

#### 名称：タブ切り替え処理、英名：switchTab、処理タイミング：タブ部分.申請タイプタブ.押下

1. 申請フォーム表示
   - 編集仕様に従い、選択されたタブの申請フォームを表示する。
   - 【編集仕様 No.3（申請フォーム表示）】

#### 名称：タブ閉じる処理、英名：closeTab、処理タイミング：タブ部分.タブ閉じるボタン.押下

1. タブを閉じる
   - 現在開いているタブを閉じる。
   - メニュー画面を表示する。

#### 名称：メニュータブ押下処理、英名：clickMenuTab、処理タイミング：タブ部分.メニュータブ.押下

1. メニュー画面表示
   - 編集仕様に従い、メニュー画面を表示する。
   - 【編集仕様 No.2（初期画面表示）】

#### 名称：日次確定承認申請ボタン押下処理、英名：submitDailyConfirmation、処理タイミング：日次確定申請フォーム.承認申請ボタン.押下

1. 入力チェック
   - チェック仕様に従い、日次確定申請の入力チェックを行う。
   - 【チェック仕様 No.1（日次確定申請チェック）】
   
   - エラー処理
     1. エラーがある場合、備考欄の下に赤文字でエラーメッセージを表示する。
     2. エラーメッセージは、チェック仕様No.1で定義されたメッセージを表示する。
     3. エラーが解消されるまで、エラーメッセージは表示され続ける。
     4. エラーがある場合は、処理を終了する（API呼び出しは行わない）。

2. ローディング表示開始
   - ローディングマークを表示する。

3. 日次確定申請
   - API利用仕様に従い、日次確定申請を行う。
   - 【API利用仕様 No.3（日次確定申請API）】

4. ローディング表示終了
   - ローディングマークを非表示にする。

5. ダイアログ閉じる
   - 申請成功後、ダイアログを閉じる。
   - 勤務表画面に戻り、該当日の申請状況アイコンが↑マークに更新される。

#### 名称：休暇申請承認申請ボタン押下処理、英名：submitVacationApplication、処理タイミング：休暇申請フォーム.承認申請ボタン.押下

1. 入力チェック
   - チェック仕様に従い、休暇申請の入力チェックを行う。
   - 【チェック仕様 No.2（休暇申請チェック）】
   
   - エラー処理
     1. エラー内容をエラーダイアログで表示する。
     2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
     3. 「OK」ボタン押下で処理を終了する。

2. ローディング表示開始
   - ローディングマークを表示する。

3. 休暇申請
   - API利用仕様に従い、休暇申請を行う。
   - 【API利用仕様 No.4（休暇申請API）】

4. ローディング表示終了
   - ローディングマークを非表示にする。

5. ダイアログ閉じる
   - 申請成功後、ダイアログを閉じる。
   - 勤務表画面に戻り、該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに更新される。

#### 名称：休日出勤申請承認申請ボタン押下処理、英名：submitHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.承認申請ボタン.押下

1. 入力チェック
   - チェック仕様に従い、休日出勤申請の入力チェックを行う。
   - 【チェック仕様 No.3（休日出勤申請チェック）】
   
   - エラー処理
     1. エラー内容をエラーダイアログで表示する。
     2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
     3. 「OK」ボタン押下で処理を終了する。

2. ローディング表示開始
   - ローディングマークを表示する。

3. 休日出勤申請
   - API利用仕様に従い、休日出勤申請を行う。
   - 【API利用仕様 No.5（休日出勤申請API）】

4. ローディング表示終了
   - ローディングマークを非表示にする。

5. ダイアログ閉じる
   - 申請成功後、ダイアログを閉じる。
   - 勤務表画面に戻り、該当日の申請状況アイコンが↑マーク（申請中）に更新される。
   - 該当日が土日祝の場合、出社・退社・勤務場所のテキストボックスが表示され、編集可能になる。
   - 該当日の勤務グラフに、標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示される。

#### 名称：休憩時間変更リンク押下処理、英名：clickBreakTimeChangeLink、処理タイミング：休日出勤申請フォーム.変更リンク.押下

1. 休憩時間設定ダイアログ表示
   - 休憩時間設定ダイアログを表示する。
   - 現在の休憩時間リストを初期値として設定する。
   - 既存の休憩時間がある場合は、その値を各入力行に設定する。
   - 休憩時間がない場合は、1行の空欄の入力行を表示する。

#### 名称：休憩時間追加ボタン押下処理、英名：addBreakTimeRow、処理タイミング：休憩時間設定ダイアログ.追加ボタン.押下

1. 休憩時間行追加
   - 新しい休憩時間入力行をリストに追加する。
   - 追加された行は空欄の開始時刻と終了時刻の入力フィールドを持つ。

#### 名称：休憩時間削除ボタン押下処理、英名：deleteBreakTimeRow、処理タイミング：休憩時間設定ダイアログ.削除ボタン.押下

1. 休憩時間行削除
   - 押下された削除ボタンが属する休憩時間行をリストから削除する。
   - 削除後、残りの行が再表示される。

#### 名称：休憩時間設定OKボタン押下処理、英名：confirmBreakTimeSettings、処理タイミング：休憩時間設定ダイアログ.OKボタン.押下

1. 入力チェック
   - チェック仕様に従い、休憩時間の入力チェックを行う。
   - 【チェック仕様 No.7（休憩時間設定チェック）】
   
   - エラー処理
     1. エラーがある場合、エラーダイアログでエラーメッセージを表示する。
     2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
     3. 「OK」ボタン押下で処理を終了する（ダイアログは閉じない）。

2. 休憩時間計算
   - 入力された各休憩時間の合計を計算する。
   - 各休憩時間は「終了時刻 - 開始時刻」で計算する。

3. 休憩時間更新
   - 計算された休憩時間の合計を休日出勤申請フォームの休憩時間表示に反映する。
   - 休憩時間リストを保存する。

4. ダイアログ閉じる
   - 休憩時間設定ダイアログを閉じる。

#### 名称：休憩時間設定キャンセルリンク押下処理、英名：cancelBreakTimeSettings、処理タイミング：休憩時間設定ダイアログ.キャンセルリンク.押下

1. ダイアログ閉じる
   - 入力内容を破棄して休憩時間設定ダイアログを閉じる。
   - 休日出勤申請フォームの休憩時間表示は変更しない。

#### 名称：休憩時間設定ダイアログ閉じるボタン押下処理、英名：closeBreakTimeSettingsDialog、処理タイミング：休憩時間設定ダイアログ.閉じるボタン.押下

1. ダイアログ閉じる
   - 入力内容を破棄して休憩時間設定ダイアログを閉じる。
   - 休日出勤申請フォームの休憩時間表示は変更しない。

#### 名称：残業申請承認申請ボタン押下処理、英名：submitOvertimeApplication、処理タイミング：残業申請フォーム.承認申請ボタン.押下

1. 入力チェック
   - チェック仕様に従い、残業申請の入力チェックを行う。
   - 【チェック仕様 No.4（残業申請チェック）】
   
   - エラー処理
     1. エラー内容をエラーダイアログで表示する。
     2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
     3. 「OK」ボタン押下で処理を終了する。

2. ローディング表示開始
   - ローディングマークを表示する。

3. 残業申請
   - API利用仕様に従い、残業申請を行う。
   - 【API利用仕様 No.6（残業申請API）】

4. ローディング表示終了
   - ローディングマークを非表示にする。

5. ダイアログ閉じる
   - 申請成功後、ダイアログを閉じる。

#### 名称：早朝勤務申請承認申請ボタン押下処理、英名：submitEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.承認申請ボタン.押下

1. 入力チェック
   - チェック仕様に従い、早朝勤務申請の入力チェックを行う。
   - 【チェック仕様 No.5（早朝勤務申請チェック）】
   
   - エラー処理
     1. エラー内容をエラーダイアログで表示する。
     2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
     3. 「OK」ボタン押下で処理を終了する。

2. ローディング表示開始
   - ローディングマークを表示する。

3. 早朝勤務申請
   - API利用仕様に従い、早朝勤務申請を行う。
   - 【API利用仕様 No.7（早朝勤務申請API）】

4. ローディング表示終了
   - ローディングマークを非表示にする。

5. ダイアログ閉じる
   - 申請成功後、ダイアログを閉じる。

#### 名称：振替申請承認申請ボタン押下処理、英名：submitTransferApplication、処理タイミング：振替申請フォーム.承認申請ボタン.押下

1. 入力チェック
   - チェック仕様に従い、振替申請の入力チェックを行う。
   - 【チェック仕様 No.6（振替申請チェック）】
   
   - エラー処理
     1. エラー内容をエラーダイアログで表示する。
     2. ダイアログにはエラーメッセージと「OK」ボタンを表示する。
     3. 「OK」ボタン押下で処理を終了する。

2. ローディング表示開始
   - ローディングマークを表示する。

3. 振替申請
   - API利用仕様に従い、振替申請を行う。
   - 【API利用仕様 No.8（振替申請API）】

4. ローディング表示終了
   - ローディングマークを非表示にする。

5. ダイアログ閉じる
   - 申請成功後、ダイアログを閉じる。

#### 名称：キャンセルボタン押下処理、英名：clickCancelButton、処理タイミング：各申請フォーム.キャンセルボタン.押下

1. タブを閉じる
   - 現在開いているタブを閉じる。
   - メニュー画面を表示する。

#### 名称：日次確定申請取消ボタン押下処理、英名：cancelDailyConfirmation、処理タイミング：日次確定申請フォーム.申請取消ボタン.押下

1. 月次申請状態確認
   - API利用仕様に従い、月次申請状態を確認する。
   - 【API利用仕様 No.12（月次申請状態取得API）】
   - 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、エラーダイアログで「月次申請を行っている場合、日次申請の取り消しはできません。」と表示し、処理を終了する。

2. 申請情報取得
   - API利用仕様に従い、申請情報と承認履歴を取得する。
   - 【API利用仕様 No.19（申請情報取得API）】
   - 日次勤務データを取得する。
   - 【API利用仕様 No.9（日次勤務データ取得API）】

3. 申請取消確認ダイアログ表示
   - 申請取消確認ダイアログを表示する。
   - 勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）を表示する。
   - 申請日時を表示する。
   - 状況（申請済みまたは承認済み）を表示する。
   - 承認履歴テーブルを表示する。
   - 承認取消ボタンと閉じるリンクを表示する。
   - 閉じるリンク押下で処理を終了する。

4. 承認取消ボタン押下処理
   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。
   - ローディング表示開始
     - ローディングマークを表示する。
   - 日次確定申請取消
     - API利用仕様に従い、日次確定申請を取り消す。
     - 【API利用仕様 No.13（日次確定申請取消API）】
   - ローディング表示終了
     - ローディングマークを非表示にする。
   - ダイアログ閉じる
     - 申請取消成功後、申請取消確認ダイアログを閉じる。
     - 勤怠関連申請画面のダイアログを閉じる。
     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。

#### 名称：休暇申請取消ボタン押下処理、英名：cancelVacationApplication、処理タイミング：休暇申請フォーム.申請取消ボタン.押下

1. 申請情報取得
   - API利用仕様に従い、申請情報と承認履歴を取得する。
   - 【API利用仕様 No.19（申請情報取得API）】

2. 申請取消確認ダイアログ表示
   - 申請取消確認ダイアログを表示する。
   - 申請日時を表示する。
   - 状況（申請済みまたは承認済み）を表示する。
   - 承認履歴テーブルを表示する。
   - 承認取消ボタンと閉じるリンクを表示する。
   - 閉じるリンク押下で処理を終了する。

3. 承認取消ボタン押下処理
   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。
   - ローディング表示開始
     - ローディングマークを表示する。
   - 休暇申請取消
     - API利用仕様に従い、休暇申請を取り消す。
     - 【API利用仕様 No.14（休暇申請取消API）】
   - ローディング表示終了
     - ローディングマークを非表示にする。
   - ダイアログ閉じる
     - 申請取消成功後、申請取消確認ダイアログを閉じる。
     - 勤怠関連申請画面のダイアログを閉じる。
     - 勤務表画面に戻り、該当日の背景色が通常色に戻り、申請状況アイコンが+マークに更新される。

#### 名称：休日出勤申請取消ボタン押下処理、英名：cancelHolidayWorkApplication、処理タイミング：休日出勤申請フォーム.申請取消ボタン.押下

1. 申請情報取得
   - API利用仕様に従い、申請情報と承認履歴を取得する。
   - 【API利用仕様 No.19（申請情報取得API）】

2. 申請取消確認ダイアログ表示
   - 申請取消確認ダイアログを表示する。
   - 申請日時を表示する。
   - 状況（申請済みまたは承認済み）を表示する。
   - 承認履歴テーブルを表示する。
   - 承認取消ボタンと閉じるリンクを表示する。
   - 閉じるリンク押下で処理を終了する。

3. 承認取消ボタン押下処理
   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。
   - ローディング表示開始
     - ローディングマークを表示する。
   - 休日出勤申請取消
     - API利用仕様に従い、休日出勤申請を取り消す。
     - 【API利用仕様 No.15（休日出勤申請取消API）】
     - 申請取消時に、その日の全ての勤怠データが削除される。
       - 打刻時刻（出社時刻、退社時刻）が削除される。
       - 休憩時間（BREAK_TIME）が削除される。
       - 公用外出（OFFICIAL_OUTING）が削除される。
       - 工数実績（WORK_HOURS）が削除される。
       - 勤怠記録の備考（ATTENDANCE_RECORD.REMARK_TEXT）が削除される。
       - 休日出勤申請の備考（APPLICATION_HISTORY.REASON）がクリアされる。
   - ローディング表示終了
     - ローディングマークを非表示にする。
   - ダイアログ閉じる
     - 申請取消成功後、申請取消確認ダイアログを閉じる。
     - 勤怠関連申請画面のダイアログを閉じる。
     - 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新される。
     - 該当日の勤怠データが全て削除され、元の状態（データなし）に戻る。

#### 名称：残業申請取消ボタン押下処理、英名：cancelOvertimeApplication、処理タイミング：残業申請フォーム.申請取消ボタン.押下

1. 申請情報取得
   - API利用仕様に従い、申請情報と承認履歴を取得する。
   - 【API利用仕様 No.19（申請情報取得API）】

2. 申請取消確認ダイアログ表示
   - 申請取消確認ダイアログを表示する。
   - 申請日時を表示する。
   - 状況（申請済みまたは承認済み）を表示する。
   - 承認履歴テーブルを表示する。
   - 承認取消ボタンと閉じるリンクを表示する。
   - 閉じるリンク押下で処理を終了する。

3. 承認取消ボタン押下処理
   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。
   - ローディング表示開始
     - ローディングマークを表示する。
   - 残業申請取消
     - API利用仕様に従い、残業申請を取り消す。
     - 【API利用仕様 No.16（残業申請取消API）】
   - ローディング表示終了
     - ローディングマークを非表示にする。
   - ダイアログ閉じる
     - 申請取消成功後、申請取消確認ダイアログを閉じる。
     - 勤怠関連申請画面のダイアログを閉じる。

#### 名称：早朝勤務申請取消ボタン押下処理、英名：cancelEarlyWorkApplication、処理タイミング：早朝勤務申請フォーム.申請取消ボタン.押下

1. 申請情報取得
   - API利用仕様に従い、申請情報と承認履歴を取得する。
   - 【API利用仕様 No.19（申請情報取得API）】

2. 申請取消確認ダイアログ表示
   - 申請取消確認ダイアログを表示する。
   - 申請日時を表示する。
   - 状況（申請済みまたは承認済み）を表示する。
   - 承認履歴テーブルを表示する。
   - 承認取消ボタンと閉じるリンクを表示する。
   - 閉じるリンク押下で処理を終了する。

3. 承認取消ボタン押下処理
   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。
   - ローディング表示開始
     - ローディングマークを表示する。
   - 早朝勤務申請取消
     - API利用仕様に従い、早朝勤務申請を取り消す。
     - 【API利用仕様 No.17（早朝勤務申請取消API）】
   - ローディング表示終了
     - ローディングマークを非表示にする。
   - ダイアログ閉じる
     - 申請取消成功後、申請取消確認ダイアログを閉じる。
     - 勤怠関連申請画面のダイアログを閉じる。

#### 名称：振替申請取消ボタン押下処理、英名：cancelTransferApplication、処理タイミング：振替申請フォーム.申請取消ボタン.押下

1. 申請情報取得
   - API利用仕様に従い、申請情報と承認履歴を取得する。
   - 【API利用仕様 No.19（申請情報取得API）】

2. 申請取消確認ダイアログ表示
   - 申請取消確認ダイアログを表示する。
   - 申請日時を表示する。
   - 状況（申請済みまたは承認済み）を表示する。
   - 承認履歴テーブルを表示する。
   - 承認取消ボタンと閉じるリンクを表示する。
   - 閉じるリンク押下で処理を終了する。

3. 承認取消ボタン押下処理
   - 申請取消確認ダイアログの承認取消ボタン押下時に実行される。
   - ローディング表示開始
     - ローディングマークを表示する。
   - 振替申請取消
     - API利用仕様に従い、振替申請を取り消す。
     - 【API利用仕様 No.18（振替申請取消API）】
   - ローディング表示終了
     - ローディングマークを非表示にする。
   - ダイアログ閉じる
     - 申請取消成功後、申請取消確認ダイアログを閉じる。
     - 勤怠関連申請画面のダイアログを閉じる。

#### 名称：閉じるリンク押下処理、英名：clickCloseLink、処理タイミング：下部操作エリア.閉じるリンク.押下

1. ダイアログ閉じる
   - ダイアログを閉じる。
   - 勤務表画面に戻る。

#### 名称：閉じるボタン押下処理、英名：clickCloseButton、処理タイミング：ヘッダー部分.閉じるボタン.押下

1. ダイアログ閉じる
   - ダイアログを閉じる。
   - 勤務表画面に戻る。

## 編集仕様

#### No.1
- 編集仕様名：従業員情報取得
- 関連する取得仕様名：テーブル取得仕様 No.1（従業員情報取得）
  | 項目名 | 編集内容 | 条件or前提 |
  | :--- | :--- | :--- |
  | 従業員ID | 従業員情報取得.従業員ID | |
  | 従業員名 | 従業員情報取得.従業員名 | |

#### No.2
- 編集仕様名：初期画面表示
- 関連する取得仕様名：-
  | 項目名 | 編集内容 | 条件or前提 |
  | :--- | :--- | :--- |
  | タイトル | 「勤怠関連申請」 | |
  | 勤務予定日（日付表示） | 入出力項目定義.対象日付をYYYY年MM月DD日X曜日形式で表示。勤務中（まだ退社していない場合）も同様の形式で表示する | |
  | メニューリスト | 申請タイプのメニューリストを表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;日次確定 | 「日次確定」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休暇申請 | 「休暇申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休日出勤申請 | 「休日出勤申請」ボタンを表示。対象日が平日の場合、常に非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;残業申請 | 「残業申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |
  | &nbsp;&nbsp;&nbsp;&nbsp;早朝勤務申請 | 「早朝勤務申請」ボタンを表示。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、非活性（押せない状態）にし、ボタンラベルの色を白（rgb(255, 255, 255)）にする | |
  | &nbsp;&nbsp;&nbsp;&nbsp;振替申請 | 「振替申請」ボタンを表示 | |
  | 説明文 | 選択中のメニュー項目の説明文を常時表示 | 初期状態では「日次確定を申請します。」を表示。メニュー項目をクリックした際に、選択された項目の説明文に更新される |
  | タブリスト | メニュータブのみ表示 | 申請タイプが指定されている場合は、該当申請タイプのタブも表示 |

#### No.3
- 編集仕様名：申請フォーム表示
- 関連する取得仕様名：API利用仕様 No.9（日次勤務データ取得API）
  | 項目名 | 編集内容 | 条件or前提 |
  | :--- | :--- | :--- |
  | 日次確定フォーム | 日次確定タブが選択されている場合に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;出退社時刻 | 日次勤務データ取得.出勤時刻-退勤時刻をHH:MM-HH:MM形式で表示 | 日次勤務データ取得.出勤時刻と退勤時刻が存在する場合のみ表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間 | 日次勤務データ取得.休憩時間リストから休憩時間帯をHH:MM-HH:MM形式で表示 | 複数の休憩時間がある場合はカンマ区切りで表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;総労働時間 | 日次勤務データ取得.出勤時刻と退勤時刻から総労働時間を計算してH:MM形式で表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;実労働時間 | 日次勤務データ取得.実労働時間をH:MM形式で表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;備考 | 日次勤務データ取得.備考を表示 | 既存の備考がある場合はその値を表示、ない場合は空欄 |
  | &nbsp;&nbsp;&nbsp;&nbsp;エラーメッセージ | 承認申請ボタン押下時にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージを表示 | チェック仕様No.1で定義されたメッセージを表示。エラーが解消されるまで表示され続ける |
  | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |
| 休暇申請フォーム | 休暇申請タブが選択されている場合に表示 | |
| &nbsp;&nbsp;&nbsp;&nbsp;休暇種類 | 休暇種別マスタの休暇種別名をプルダウンで表示。休日出勤申請を行っている場合のみ「代休」が選択可能 | |
| &nbsp;&nbsp;&nbsp;&nbsp;有休残日数 | 年次有給休暇を選択した場合のみ表示。有給残日数を「XX日」形式で表示 | |
| &nbsp;&nbsp;&nbsp;&nbsp;代休取得可能日数 | 代休を選択した場合のみ表示。代休取得可能な日数を「代休取得可能日数 XX日」形式で表示。赤い点線のボックスで表示 | |
| &nbsp;&nbsp;&nbsp;&nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定。常に無効化（disabled/readonly）され、操作不可。その日の勤怠申請のため、開始日は固定 | |
| &nbsp;&nbsp;&nbsp;&nbsp;終了日入力可否チェックボックス | 初期値はtrue（チェック済み）。申請が編集可能な場合のみ操作可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される | |
| &nbsp;&nbsp;&nbsp;&nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定。チェックボックスがチェックされている場合のみ入力可能。チェックが外れている場合、無効化され、開始日と同じ日付に設定される。カレンダーで開始日より前の日付は選択不可（min属性で開始日を設定） | |
  | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |
  | 休日出勤申請フォーム | 休日出勤申請タブが選択されている場合に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;当月時間外残業 | 当月の時間外残業時間の合計をH:MM形式で表示（例: 0:00） | API利用仕様 No.10（当月時間外残業取得API）から取得 |
  | &nbsp;&nbsp;&nbsp;&nbsp;開始時間 | 時刻入力フィールドを表示。初期値は空欄または9:00 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;終了時間 | 時刻入力フィールドを表示。初期値は空欄または17:30 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間 | 休憩時間をH:MM形式で表示（例: 1:00）。初期値は1:00 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;変更リンク | 休憩時間の変更リンクを表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;(事後申請)ラベル | 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示 | 対象日が過去の日付で、かつ土日祝の場合のみ表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |
  | 残業申請フォーム | 残業申請タブが選択されている場合に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;残業説明 | 「残業を申請します。」を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |
  | 早朝勤務申請フォーム | 早朝勤務申請タブが選択されている場合に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;早朝勤務説明 | 「早朝勤務を申請します。」を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;開始日 | 入出力項目定義.対象日付を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;終了日 | 入出力項目定義.対象日付を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |
  | 振替申請フォーム | 振替申請タブが選択されている場合に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;振替説明 | 「振替を申請します。」を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;振替元日 | 入出力項目定義.対象日付を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;振替先日 | 入出力項目定義.対象日付を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;承認申請ボタン | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合に表示。青色のボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請取消ボタン | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。赤色のボタン。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される | 申請状態が未申請（NOT_SUBMITTED）または却下（REJECTED）の場合は非表示 |
  | &nbsp;&nbsp;&nbsp;&nbsp;申請情報セクション | 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合に表示。申請日時、状況、承認履歴を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;申請日時 | 承認申請ボタンが押された日時をYYYY/MM/DD HH:MM形式で表示 | |
  | 休憩時間設定ダイアログ | 休日出勤申請フォームの変更リンク押下時に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;タイトル | 「休憩時間の設定」を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間リスト | 既存の休憩時間がある場合はその値を表示、ない場合は1行の空欄の入力行を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその開始時刻を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその終了時刻を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;追加ボタン | 「+」ボタンを表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;OKボタン | 青色のボタンを表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルリンク | 青色のリンクを表示 | |
  | 休憩時間設定ダイアログ | 休日出勤申請フォームの変更リンク押下時に表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;タイトル | 「休憩時間の設定」を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間リスト | 既存の休憩時間がある場合はその値を表示、ない場合は1行の空欄の入力行を表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;開始時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその開始時刻を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;終了時刻 | 時刻入力フィールドを表示。既存の休憩時間がある場合はその終了時刻を初期値として設定 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;追加ボタン | 「+」ボタンを表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;OKボタン | 青色のボタンを表示 | |
  | &nbsp;&nbsp;&nbsp;&nbsp;キャンセルリンク | 青色のリンクを表示 | |

## チェック仕様

#### No.1
- チェック仕様：日次確定申請チェック
- 分類：特殊・システム系チェック
- 取得元：その他の項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
  | 対象日付 | 存在 | 対象日付の勤怠記録が存在しない場合、エラー | E_APP_001 | 対象日の勤怠記録が存在しません。 |
  | 出退社時刻 | 必須 | 出退社時刻が未入力の場合、エラー | E_APP_002 | 出退社時刻が未入力のため、日次確定できません。 |
  | 勤務場所 | 必須 | 勤務場所が未選択の場合、エラー | E_APP_003 | 勤務場所を選択してください。 |
  | 工数合計 | 一致 | 工数合計と実労働時間が一致しない場合、エラー | E_APP_004 | 工数の合計と実労働時間が合いません。 |
  | 備考 | 依存 | 手入力の場合、備考が未入力の場合、エラー | E_APP_005 | 手入力の場合は備考に理由を入力してください。 |

#### No.2
- チェック仕様：休暇申請チェック
- 分類：単項目チェック・相関項目チェック
- 取得元：画面項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
| 休暇種類 | 必須 | 休暇種類が未選択の場合、エラー | E_APP_011 | 休暇種類を選択してください。 |
| 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_012 | 開始日を入力してください。 |
| 終了日 | 条件付き必須 | チェックボックスがチェックされている場合、終了日が未入力の場合、エラー | E_APP_013 | 終了日を入力してください。 |
| 期間 | 順序整合 | チェックボックスがチェックされている場合、開始日が終了日より後の場合、エラー | E_APP_014 | 開始日は終了日より前の日付を入力してください。 |
| 有休残日数 | 数値範囲 | 年次有給休暇を選択した場合、有休残日数が不足している場合、エラー | E_APP_015 | 有給休暇の残日数が不足しています。 |

#### No.3
- チェック仕様：休日出勤申請チェック
- 分類：単項目チェック・相関項目チェック
- 取得元：画面項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
  | 開始時間 | 必須 | 開始時間が未入力の場合、エラー | E_APP_021 | 開始時間を入力してください。 |
  | 終了時間 | 必須 | 終了時間が未入力の場合、エラー | E_APP_022 | 終了時間を入力してください。 |
  | 時間 | 順序整合 | 開始時間が終了時間より後の場合、エラー | E_APP_023 | 開始時間は終了時間より前の時刻を入力してください。 |
  | 休憩時間 | 必須 | 休憩時間が未入力の場合、エラー | E_APP_024 | 休憩時間を入力してください。 |

#### No.4
- チェック仕様：残業申請チェック
- 分類：単項目チェック・相関項目チェック
- 取得元：画面項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
  | 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_031 | 開始日を入力してください。 |
  | 終了日 | 必須 | 終了日が未入力の場合、エラー | E_APP_032 | 終了日を入力してください。 |
  | 期間 | 順序整合 | 開始日が終了日より後の場合、エラー | E_APP_033 | 開始日は終了日より前の日付を入力してください。 |
  | 残業時間 | 必須 | 残業時間が未入力の場合、エラー | E_APP_034 | 残業時間を入力してください。 |

#### No.5
- チェック仕様：早朝勤務申請チェック
- 分類：単項目チェック・相関項目チェック
- 取得元：画面項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
  | 開始日 | 必須 | 開始日が未入力の場合、エラー | E_APP_041 | 開始日を入力してください。 |
  | 終了日 | 必須 | 終了日が未入力の場合、エラー | E_APP_042 | 終了日を入力してください。 |
  | 期間 | 順序整合 | 開始日が終了日より後の場合、エラー | E_APP_043 | 開始日は終了日より前の日付を入力してください。 |

#### No.6
- チェック仕様：振替申請チェック
- 分類：単項目チェック・相関項目チェック
- 取得元：画面項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
  | 振替元日 | 必須 | 振替元日が未入力の場合、エラー | E_APP_051 | 振替元日を入力してください。 |
  | 振替先日 | 必須 | 振替先日が未入力の場合、エラー | E_APP_052 | 振替先日を入力してください。 |
  | 振替日 | 一致 | 振替元日と振替先日が同じ場合、エラー | E_APP_053 | 振替元日と振替先日は異なる日付を入力してください。 |

#### No.7
- チェック仕様：休憩時間設定チェック
- 分類：単項目チェック・相関項目チェック
- 取得元：画面項目定義
  | 項目名 | 区分 | チェック内容 | メッセージコード | メッセージ |
  | :--- | :--- | :--- | :--- | :--- |
  | 開始時刻 | 必須 | 開始時刻が未入力の場合、エラー | E_APP_061 | 開始時刻を入力してください。 |
  | 終了時刻 | 必須 | 終了時刻が未入力の場合、エラー | E_APP_062 | 終了時刻を入力してください。 |
  | 時刻 | 順序整合 | 開始時刻が終了時刻より後の場合、エラー | E_APP_063 | 開始時刻は終了時刻より前の時刻を入力してください。 |
  | 休憩時間 | 重複 | 休憩時間が重複している場合、エラー | E_APP_064 | 休憩時間が重複しています。 |

## テーブル取得仕様

#### No.1
- 取得仕様名：従業員情報取得
- テーブル名：EMPLOYEE
  | 項目名 | 取得内容 | 補足 |
  | :--- | :--- | :--- |
  | 従業員ID | EMPLOYEE.EMPLOYEE_ID | |
  | 従業員名 | EMPLOYEE.EMPLOYEE_NAME | |
- 関連する取得仕様
  - なし
- 取得条件
  - EMPLOYEE.EMPLOYEE_ID = 入出力項目定義.従業員ID
  - EMPLOYEE.IS_ACTIVE = TRUE
- その他
  - なし

## テーブル更新仕様

#### No.1
- 更新仕様名：日次確定申請
- テーブル名：ATTENDANCE_RECORD
- 種別：更新
  | 項目名 | 更新内容 | 補足 |
  | :--- | :--- | :--- |
  | IS_DAILY_CONFIRMED | TRUE | |
  | DAILY_CONFIRMED_AT | 現在日時 | |
  | APPROVAL_STATUS | 'PENDING' | |
  | UPDATED_AT | 現在日時 | |
- 関連する取得仕様
  - なし
- 更新条件
  - ATTENDANCE_RECORD.EMPLOYEE_ID = 入出力項目定義.従業員ID
  - ATTENDANCE_RECORD.WORK_DATE = 入出力項目定義.対象日付
- その他
  - 日次確定申請時にチェック仕様No.1のチェックを実行

#### No.2
- 更新仕様名：休暇申請登録
- テーブル名：VACATION_HISTORY
- 種別：登録
  | 項目名 | 更新内容 | 補足 |
  | :--- | :--- | :--- |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | |
  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | |
  | START_DATE | 画面項目定義.開始日 | |
  | END_DATE | 画面項目定義.終了日 | |
  | VACATION_DAYS | 計算値（終了日-開始日+1） | |
  | REASON | 画面項目定義.備考 | |
  | APPROVAL_STATUS | 'PENDING' | |
  | CREATED_AT | 現在日時 | |
  | UPDATED_AT | 現在日時 | |
- 関連する取得仕様
  - なし
- 更新条件
  - なし（新規登録）
- その他
  - 休暇申請時にチェック仕様No.2のチェックを実行

## API利用仕様

#### No.1
- API仕様名：休暇種別マスタ取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/master/vacation-types | |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 休暇種別マスタ | 休暇種別マスタリスト | JSON形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;休暇種別コード | VACATION_TYPE.VACATION_TYPE_CODE | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休暇種別名 | VACATION_TYPE.VACATION_TYPE_NAME | |
  | &nbsp;&nbsp;&nbsp;&nbsp;有給フラグ | VACATION_TYPE.IS_PAID | |
  | &nbsp;&nbsp;&nbsp;&nbsp;表示順 | VACATION_TYPE.DISPLAY_ORDER | |
- 関連する取得仕様
  - なし
- その他
  - IS_ACTIVE=TRUEの休暇種別をDISPLAY_ORDER順で取得

#### No.2
- API仕様名：有給残日数取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/vacation/balance | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
  | VACATION_TYPE_CODE | 'PAID_LEAVE' | クエリパラメータ（固定値） |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 有給残日数 | 年次有給休暇の残日数 | 整数 |
- 関連する取得仕様
  - なし
- その他
  - V_VACATION_BALANCE_SUMMARYビューから取得

#### No.3
- API仕様名：日次確定申請API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | POST | |
  | エンドポイント | /api/attendance/daily-confirmation | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 日次確定申請時にチェック仕様No.1のチェックを実行
  - 申請成功後、ATTENDANCE_RECORDのAPPROVAL_STATUSがPENDINGに更新される
  - 勤務表画面の該当日の申請状況アイコンが↑マークに変更される

#### No.4
- API仕様名：休暇申請API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | POST | |
  | エンドポイント | /api/vacation/apply | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | VACATION_TYPE_CODE | 画面項目定義.休暇種類 | リクエストボディ |
  | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
  | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
  | CONTACT | 画面項目定義.連絡先 | リクエストボディ（任意） |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
  | 休暇申請ID | VACATION_HISTORY.VACATION_ID | |
- 関連する取得仕様
  - なし
- その他
  - 休暇申請時にチェック仕様No.2のチェックを実行
  - 申請成功後、VACATION_HISTORYにレコードが登録され、APPROVAL_STATUSがPENDINGに設定される
  - 勤務表画面の該当日の背景色がオレンジ色になり、申請状況アイコンが↑マークに変更される

#### No.5
- API仕様名：休日出勤申請API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | POST | |
  | エンドポイント | /api/attendance/holiday-work | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |
  | START_TIME | 画面項目定義.開始時間 | リクエストボディ、HH:MM形式 |
  | END_TIME | 画面項目定義.終了時間 | リクエストボディ、HH:MM形式 |
  | BREAK_HOURS | 画面項目定義.休憩時間 | リクエストボディ、時間単位（小数、例: 1.0） |
  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 休日出勤申請時にチェック仕様No.3のチェックを実行
  - 申請成功後、APPLICATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定される
  - 勤務表画面の該当日の申請状況アイコンが↑マーク（申請中）に変更される

#### No.6
- API仕様名：残業申請API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | POST | |
  | エンドポイント | /api/attendance/overtime | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
  | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
  | OVERTIME_HOURS | 画面項目定義.残業時間 | リクエストボディ |
  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 残業申請時にチェック仕様No.4のチェックを実行

#### No.7
- API仕様名：早朝勤務申請API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | POST | |
  | エンドポイント | /api/attendance/early-work | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | START_DATE | 画面項目定義.開始日 | リクエストボディ、YYYY-MM-DD形式 |
  | END_DATE | 画面項目定義.終了日 | リクエストボディ、YYYY-MM-DD形式 |
  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 早朝勤務申請時にチェック仕様No.5のチェックを実行

#### No.8
- API仕様名：振替申請API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | POST | |
  | エンドポイント | /api/attendance/transfer | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | FROM_DATE | 画面項目定義.振替元日 | リクエストボディ、YYYY-MM-DD形式 |
  | TO_DATE | 画面項目定義.振替先日 | リクエストボディ、YYYY-MM-DD形式 |
  | REASON | 画面項目定義.備考 | リクエストボディ（任意） |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 振替申請時にチェック仕様No.6のチェックを実行

#### No.9
- API仕様名：日次勤務データ取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/attendance/daily | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
  | WORK_DATE | 入出力項目定義.対象日付 | クエリパラメータ、YYYY-MM-DD形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 日次勤務データ | 1日分の勤務記録 | JSON形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;勤怠ID | ATTENDANCE_RECORD.ATTENDANCE_ID | |
  | &nbsp;&nbsp;&nbsp;&nbsp;従業員ID | ATTENDANCE_RECORD.EMPLOYEE_ID | |
  | &nbsp;&nbsp;&nbsp;&nbsp;勤務日 | ATTENDANCE_RECORD.WORK_DATE | YYYY-MM-DD形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;出勤時刻 | ATTENDANCE_RECORD.CLOCK_IN_TIME | YYYY-MM-DD HH:MM:SS形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;退勤時刻 | ATTENDANCE_RECORD.CLOCK_OUT_TIME | YYYY-MM-DD HH:MM:SS形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;実労働時間 | ATTENDANCE_RECORD.ACTUAL_WORK_HOURS | |
  | &nbsp;&nbsp;&nbsp;&nbsp;備考 | ATTENDANCE_RECORD.REMARK_TEXT | |
  | &nbsp;&nbsp;&nbsp;&nbsp;休憩時間リスト | BREAK_TIME | |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休憩開始時刻 | BREAK_TIME.BREAK_START_TIME | HH:MM形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;休憩終了時刻 | BREAK_TIME.BREAK_END_TIME | HH:MM形式 |
- 関連する取得仕様
  - なし
- その他
  - ATTENDANCE_RECORDとBREAK_TIMEを結合して返却
  - 勤務記録が存在しない場合は空のレスポンスを返す

#### No.10
- API仕様名：当月時間外残業取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/attendance/monthly-overtime | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
  | YEAR | 対象年の年 | クエリパラメータ、YYYY形式 |
  | MONTH | 対象月の月 | クエリパラメータ、MM形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 時間外残業時間 | 当月の時間外残業時間の合計 | 時間単位（小数、例: 0.0） |
- 関連する取得仕様
  - なし
- その他
  - 対象年月の時間外残業時間の合計を計算して返却
  - 休日出勤申請フォーム表示時に呼び出し、当月時間外残業として表示

#### No.11
- API仕様名：申請状態取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/attendance/application-status | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
  | APPLICATION_TYPE | 申請タイプ（DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER） | クエリパラメータ |
  | TARGET_DATE | 入出力項目定義.対象日付 | クエリパラメータ、YYYY-MM-DD形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 申請状態 | 申請状態（NOT_SUBMITTED/PENDING/APPROVED/REJECTED） | |
  | 申請ID | 申請ID（申請中または承認済みの場合） | |
- 関連する取得仕様
  - なし
- その他
  - 各申請タイプの申請状態を取得する
  - 申請状態に応じて、承認申請ボタンまたは申請取消ボタンを表示する

#### No.12
- API仕様名：月次申請状態取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/attendance/monthly-approval-status | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
  | YEAR | 対象年の年 | クエリパラメータ、YYYY形式 |
  | MONTH | 対象月の月 | クエリパラメータ、MM形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 月次申請状態 | 月次申請状態（NOT_SUBMITTED/PENDING/APPROVED） | |
- 関連する取得仕様
  - なし
- その他
  - 月次申請状態を取得する
  - 月次申請が申請中または承認済みの場合、日次申請の取り消しはできない

#### No.13
- API仕様名：日次確定申請取消API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | DELETE | |
  | エンドポイント | /api/attendance/daily-confirmation | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | WORK_DATE | 入出力項目定義.対象日付 | リクエストボディ、YYYY-MM-DD形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 日次確定申請を取り消す
  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能
  - 月次申請が申請中または承認済みの場合、取り消し不可
  - 申請取消後、ATTENDANCE_RECORDのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される

#### No.14
- API仕様名：休暇申請取消API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | DELETE | |
  | エンドポイント | /api/attendance/vacation/apply | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | APPLICATION_ID | 申請ID | リクエストボディ |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 休暇申請を取り消す
  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能
  - 申請取消後、VACATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される

#### No.15
- API仕様名：休日出勤申請取消API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | DELETE | |
  | エンドポイント | /api/attendance/holiday-work | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | APPLICATION_ID | 申請ID | リクエストボディ |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 休日出勤申請を取り消す
  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能
  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される
  - 申請取消後、APPLICATION_HISTORYのREASON（備考を含むJSONデータ）がNULLにクリアされる
  - 申請取消時に、その日の全ての勤怠データが削除される
    - ATTENDANCE_RECORDテーブルから該当日の勤怠記録が削除される
      - 打刻時刻（CLOCK_IN_TIME、CLOCK_OUT_TIME）が削除される
      - 勤務場所（WORK_LOCATION_CODE）が削除される
      - 備考（REMARK_TEXT）が削除される
      - その他の勤怠情報が全て削除される
    - BREAK_TIMEテーブルから該当日の休憩時間が削除される
    - OFFICIAL_OUTINGテーブルから該当日の公用外出が削除される
    - WORK_HOURSテーブルから該当日の工数実績が削除される
  - 削除処理の順序
    1. APPLICATION_HISTORYのAPPROVAL_STATUSをNOT_SUBMITTEDに更新、REASONをNULLにクリア
    2. APPLICATION_HISTORYから対象日（TARGET_START_DATE）を取得
    3. ATTENDANCE_RECORDから該当日の勤怠記録を取得（ATTENDANCE_IDを取得するため）
    4. BREAK_TIMEから該当ATTENDANCE_IDの休憩時間を削除
    5. OFFICIAL_OUTINGから該当ATTENDANCE_IDの公用外出を削除
    6. WORK_HOURSから該当日の工数実績を削除
    7. ATTENDANCE_RECORDから該当日の勤怠記録を削除
  - 勤怠記録が存在しない場合でも、工数実績は削除される

#### No.16
- API仕様名：残業申請取消API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | DELETE | |
  | エンドポイント | /api/attendance/overtime | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | APPLICATION_ID | 申請ID | リクエストボディ |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 残業申請を取り消す
  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能
  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される

#### No.17
- API仕様名：早朝勤務申請取消API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | DELETE | |
  | エンドポイント | /api/attendance/early-work | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | APPLICATION_ID | 申請ID | リクエストボディ |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 早朝勤務申請を取り消す
  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能
  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される

#### No.18
- API仕様名：振替申請取消API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | DELETE | |
  | エンドポイント | /api/attendance/transfer | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | リクエストボディ |
  | APPLICATION_ID | 申請ID | リクエストボディ |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 成功フラグ | 成功/失敗 | true/false |
  | メッセージ | 処理結果メッセージ | |
- 関連する取得仕様
  - なし
- その他
  - 振替申請を取り消す
  - 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合のみ取り消し可能
  - 申請取消後、APPLICATION_HISTORYのAPPROVAL_STATUSがNOT_SUBMITTEDに更新される

#### No.19
- API仕様名：申請情報取得API
- リクエスト
  | 項目名 | リクエスト内容 | 補足 |
  | :--- | :--- | :--- |
  | HTTPメソッド | GET | |
  | エンドポイント | /api/attendance/application-info | |
  | EMPLOYEE_ID | 入出力項目定義.従業員ID | クエリパラメータ |
  | APPLICATION_TYPE | 申請タイプ | クエリパラメータ。DAILY_CONFIRMATION/VACATION/HOLIDAY_WORK/OVERTIME/EARLY_WORK/TRANSFER |
  | TARGET_DATE | 対象日 | クエリパラメータ。YYYY-MM-DD形式 |
- レスポンス
  | 項目名 | レスポンス内容 | 補足 |
  | :--- | :--- | :--- |
  | 申請日時 | 承認申請ボタンが押された日時 | YYYY/MM/DD HH:MM形式 |
  | 状況 | 申請状態 | 「申請済み」または「承認済み」 |
  | 承認履歴リスト | 承認履歴の配列 | JSON形式。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を返却する |
  | &nbsp;&nbsp;&nbsp;&nbsp;# | 履歴の連番 | 1から始まる連番。時系列順に連番が振られる |
  | &nbsp;&nbsp;&nbsp;&nbsp;日時 | アクションが行われた日時 | YYYY/MM/DD HH:MM形式 |
  | &nbsp;&nbsp;&nbsp;&nbsp;状況 | アクション種別 | 「申請済み」「承認済み」「申請取消」のいずれか |
  | &nbsp;&nbsp;&nbsp;&nbsp;実行者 | アクションを実行した人の名前 | 従業員名 |
  | &nbsp;&nbsp;&nbsp;&nbsp;コメント | 承認/却下時に入力されたコメント | 空欄の場合は空文字列 |
- 関連する取得仕様
  - APPLICATION_HISTORYテーブルから申請情報と承認履歴を取得
- その他
  - 申請タイプに応じて、適切なテーブルから申請情報を取得する
  - 日次確定申請の場合はATTENDANCE_RECORDテーブルから取得
  - 休暇申請の場合はVACATION_HISTORYテーブルから取得
  - その他の申請の場合はAPPLICATION_HISTORYテーブルから取得
  - 承認履歴は、対象日付に関連する全ての申請履歴（申請済み、承認済み、取消済みを含む）を時系列順（ACTION_DATETIME順）に取得し、SEQ_NO順にソートして返却する
  - 申請が取消されて再度申請した場合、取消された申請の履歴も含めて、新しい申請履歴が追加される形で表示される

## 補足説明

### 勤務表画面からの連携
勤務表画面の申請列の+アイコンを押下することで、本画面がダイアログ形式で表示されます。
対象日付は勤務表画面から渡され、ダイアログの勤務予定日（日付表示）に反映されます。

### 勤務予定日の表示
ヘッダー部分に表示される勤務予定日は、対象日の日付を「YYYY年MM月DD日X曜日」形式で表示します（例: 2025年12月12日金曜日）。
勤務中（まだ退社していない場合）も、同様の形式で日付を表示します。退勤時刻の有無に関わらず、常に同じ形式で日付を表示します。

### タブ機能
本画面はタブ形式で申請タイプを管理します。常に1つの申請タイプのタブのみが開きます。

#### タブの開く
- メニュー画面で各申請タイプのボタンを押下すると、該当申請タイプのタブが開きます
- 既に別の申請タイプのタブが開いている場合は、そのタブは閉じて新しいタブが開きます
- 同じ申請タイプのタブが既に開いている場合は、そのタブのフォームが表示されます

#### タブの切り替え
- 申請タイプタブをクリックすることで、該当申請タイプのフォームに切り替わります
- 「メニュー」タブをクリックすると、メニュー画面に戻ります（申請タイプタブは閉じます）

#### タブの閉じる
- 申請タイプタブの右側にある「X」ボタンを押下することで、そのタブを閉じることができます
- タブを閉じると、メニュー画面が表示されます

### 日次確定申請
日次確定申請は、1日の勤務を確定するための申請です。

#### 表示内容
日次確定タブを開くと、対象日付の勤務情報が表示されます：
- **出退社時刻**: 出勤時刻と退勤時刻を「HH:MM-HH:MM」形式で表示（例: 8:50-17:40）
- **休憩時間**: 休憩時間帯を「HH:MM-HH:MM」形式で表示（例: 12:00-13:00）。複数の休憩時間がある場合はカンマ区切りで表示
- **総労働時間**: 出勤から退勤までの時間を「H:MM」形式で表示（例: 7:50）
- **実労働時間**: 休憩時間を除いた実際の労働時間を「H:MM」形式で表示（例: 7:50）
- **備考**: 既存の備考がある場合はその値を表示、ない場合は空欄。手入力の場合は理由を入力する必要がある

#### 申請条件
日次確定申請を行うには、以下の条件を満たす必要があります：
1. 出退社時刻が入力されていること
2. 勤務場所が設定されていること
3. 工数合計と実労働時間が一致していること
4. 手入力の場合は備考に理由が入力されていること

#### エラーメッセージの表示
承認申請ボタンを押下した際にチェックエラーがある場合、備考欄の下に赤文字でエラーメッセージが表示されます。
エラーメッセージは、チェック仕様No.1で定義されたメッセージが表示されます。
主なエラーメッセージの例：
- 「出退社時刻が未入力のため、日次確定できません。」
- 「勤務場所を選択してください。」
- 「工数の合計と実労働時間が合いません。」
- 「手入力の場合は備考に理由を入力してください。」

エラーメッセージは、エラーが解消されるまで表示され続けます。

#### 申請後の動作
- 承認申請ボタンを押下すると、日次確定申請が送信されます
- 申請成功後、ATTENDANCE_RECORDテーブルのIS_DAILY_CONFIRMEDがTRUE、APPROVAL_STATUSがPENDINGに更新されます
- 勤務表画面に戻ると、該当日の日付列と申請列の+アイコンが↑マーク（申請中）に変更されます

### 休暇申請
休暇申請は、有給休暇や特別休暇などの休暇を取得するための申請です。

#### 申請内容
- **休暇種類**: 年次有給休暇、夏季休暇、病気休暇、忌引休暇、代休などから選択
- **期間**: 開始日と終了日を指定
  - **開始日**: その日の勤怠申請のため、常に無効化（グレーアウト）され、操作不可。対象日付が初期値として設定される
  - **終了日入力可否チェックボックス**: 開始日と終了日の間に配置されるチェックボックス。「～」ラベルが表示される。チェックが入っている場合、終了日が入力可能。チェックが外れている場合、終了日が無効化され、開始日と同じ日付に設定される（1日のみの申請となる）
  - **終了日**: チェックボックスがチェックされている場合のみ入力可能。カレンダーで開始日より前の日付は選択不可（グレーアウト表示）。チェックが外れている場合、無効化され、開始日と同じ日付に設定される
- **備考**: 休暇取得の理由や備考を入力
- **連絡先**: 連絡先を入力（任意）

#### 有給残日数の表示
- 年次有給休暇を選択した場合のみ、「有休残日数」が表示されます
- 有給残日数は、V_VACATION_BALANCE_SUMMARYビューから取得した残日数を表示します
- 申請ダイアログで対象日（targetDate）が変更された場合、有給残日数を再取得して最新の値を表示します

#### 代休申請
代休は、休日出勤後に取得できる休暇です。

##### 代休の表示条件
- **休暇種類のプルダウンに「代休」が表示される条件**: 休日出勤申請を行っている場合のみ、「代休」が休暇種類のプルダウンに表示されます
- 休日出勤申請を行っていない場合、「代休」は休暇種類のプルダウンに表示されません

##### 代休取得可能日数の表示
- 代休を選択した場合のみ、「代休取得可能日数」が表示されます
- 代休取得可能日数は、休日出勤申請を行った日数に基づいて計算されます
- 表示形式: 「代休取得可能日数 XX日」（例: 代休取得可能日数 1日）
- 表示スタイル: 赤い点線のボックスで表示されます

##### 代休取得の期限
- **取得期限**: 代休は休日勤務した日の翌月末までに取得する必要があります
- 例: 12月15日に休日出勤申請を行った場合、その代休は翌年1月末までに取得する必要があります

##### 代休申請の手順
1. [休暇申請] タブを選択します
2. 休暇種類のプルダウンから [代休] を選択します
3. 代休取得可能日数が表示されます（例: 代休取得可能日数 1日）
4. 期間（開始日・終了日）を指定します
5. 備考や連絡先を入力します（任意）
6. [承認申請] ボタンをクリックして申請を送信します

#### 申請後の動作
- 承認申請ボタンを押下すると、休暇申請が送信されます
- 申請成功後、VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます
- **有給休暇（PAID_LEAVE）の場合、申請時にVACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが更新されます**
  - 申請日数分、USED_DAYSが増加し、REMAINING_DAYSが減少します
  - 年度は申請開始日から自動計算されます（4月1日～3月31日を1年度として扱う）
  - **日数は整数として処理されます**（データベースのDECIMAL型から取得した値や計算結果が小数になる場合でも、整数に丸めて処理します）
  - 更新処理では、現在のUSED_DAYSとGRANTED_DAYSを取得してから、新しい値を計算して更新します（MySQLのSET句で同じカラムを参照する際の問題を回避するため）
- 勤務表画面に戻ると、該当日の背景色がオレンジ色（#FFA500）になり、申請状況アイコンが↑マーク（申請中）に変更されます
- 休暇申請が承認されると、その日は標準労働時間（7.5時間）を勤務したものとみなされ、清算期間の所定労働時間に算入されます

#### 申請取り消し時の動作
- 有給休暇申請を取り消す場合、VACATION_BALANCEテーブルのUSED_DAYSとREMAINING_DAYSが元に戻されます
  - 取り消し日数分、USED_DAYSが減少し、REMAINING_DAYSが増加します
  - USED_DAYSが0未満にならないよう、Math.max関数で保護されています（0未満の場合は0に設定）
  - **日数は整数として処理されます**（データベースのDECIMAL型から取得した値や計算結果が小数になる場合でも、整数に丸めて処理します）
  - 更新処理では、現在のUSED_DAYSとGRANTED_DAYSを取得してから、新しい値を計算して更新します（MySQLのSET句で同じカラムを参照する際の問題を回避するため）

### 休日出勤申請
休日出勤申請は、休日に出勤する場合の申請です。

#### 申請内容
- **当月時間外残業**: 当月の時間外残業時間の合計を表示（例: 0:00）
- **時間**: 開始時間と終了時間を指定（例: 9:00-17:30）
- **休憩時間**: 休憩時間を指定（例: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能
- **備考**: 休日出勤の理由や備考を入力（任意）

#### 表示内容
休日出勤申請タブを開くと、以下の情報が表示されます：
- **当月時間外残業**: 当月の時間外残業時間の合計を「H:MM」形式で表示（例: 0:00）
- **開始時間**: 時刻入力フィールドで開始時間を入力（初期値: 9:00または空欄）
- **終了時間**: 時刻入力フィールドで終了時間を入力（初期値: 17:30または空欄）
- **休憩時間**: 休憩時間を「H:MM」形式で表示（初期値: 1:00）。変更リンクから休憩時間入力ダイアログを開いて変更可能
- **(事後申請)ラベル**: 過去の土日祝の申請の場合、変更リンクの隣に「(事後申請)」というラベルを表示（対象日が過去の日付で、かつ土日祝の場合のみ表示）
- **備考**: テキストエリアで備考を入力（任意）

#### 休憩時間の変更
- 休憩時間の横にある「変更」リンクを押下すると、「休憩時間の設定」ダイアログが表示されます
- ダイアログでは、複数の休憩時間を追加、編集、削除できます
- 各休憩時間は「開始時刻 ～ 終了時刻」の形式で入力します（例: 12:00 ～ 13:00）
- 「+」ボタンで新しい休憩時間の行を追加できます
- 各行の右側にあるゴミ箱アイコンのボタンで、その行の休憩時間を削除できます
- 「OK」ボタンを押下すると、入力された休憩時間の合計が計算され、休日出勤申請フォームの休憩時間表示が更新されます
- 「キャンセル」リンクまたは閉じるボタン（X）を押下すると、変更を破棄してダイアログを閉じます

#### 休憩時間設定ダイアログの詳細
**表示内容:**
- **タイトル**: 「休憩時間の設定」
- **休憩時間リスト**: 複数の休憩時間入力行を表示
  - 各入力行には開始時刻と終了時刻の入力フィールドが「～」で区切られて表示される
  - 各行の右側に削除ボタン（ゴミ箱アイコン）が表示される
  - 初期表示時は、既存の休憩時間がある場合はその値を表示し、ない場合は1行の空欄の入力行を表示する
- **追加ボタン**: 「+」ボタンで新しい休憩時間の行を追加できる
- **OKボタン**: 青色のボタンで、設定を確定する
- **キャンセルリンク**: 青色のリンクで、設定を破棄してダイアログを閉じる
- **閉じるボタン**: タイトルバーの右端の「X」アイコンで、設定を破棄してダイアログを閉じる

**入力チェック:**
- 開始時刻と終了時刻は必須入力です
- 開始時刻は終了時刻より前の時刻である必要があります
- 休憩時間が重複している場合はエラーになります

**休憩時間の計算:**
- OKボタン押下時に、入力された各休憩時間の合計を計算します
- 各休憩時間は「終了時刻 - 開始時刻」で計算されます
- 計算された合計時間が休日出勤申請フォームの休憩時間表示に反映されます

#### 平日の場合のボタン制御
勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。

非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。

#### 申請後の動作
- 承認申請ボタンを押下すると、休日出勤申請が送信されます
- 申請成功後、APPLICATION_HISTORYテーブルにレコードが登録され、APPLICATION_TYPEが'HOLIDAY_WORK'、APPROVAL_STATUSがPENDINGに設定されます
- 勤務表画面に戻ると、以下の変更が反映されます：
  - **申請状況アイコン**: 該当日の申請状況アイコンが↑マーク（申請中）に変更されます
  - **出社・退社・勤務場所のテキストボックス**: 該当日が土日祝の場合でも、出社・退社・勤務場所のテキストボックスが表示され、編集可能になります
  - **標準勤務時間と休憩時間の表示**: 該当日の勤務グラフに、標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示されます
  - **グラフの色**: 土曜日または祝日（所定休日）の場合は法定時間内残業と同じ色（#B0B000 黄土色）、日曜日（法定休日）の場合は#DE9EDD（薄い紫色/ラベンダー色）で表示されます
- 休日出勤申請が承認されると、休日に打刻が可能になります

#### 平日の場合のボタン制御
勤務表画面で対象日が平日（月曜日～金曜日、かつ祝日でない）の場合、休日出勤申請ボタンは常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です。

非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。

#### 休日の場合のボタン制御
勤務表画面で対象日が休日（土曜日、日曜日、祝日）の場合、休日出勤申請をしていなければ、以下のボタンが非活性（押せない状態）になります：
- 日次確定
- 休暇申請
- 残業申請
- 早朝勤務申請

非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。休日出勤申請を申請済みの場合は、これらのボタンが活性化され、通常通り操作可能になります。

### 残業申請
残業申請は、残業を行う場合の事前申請です。

#### 申請内容
- **期間**: 開始日と終了日を指定
- **残業時間**: 残業時間を指定
- **備考**: 残業の理由や備考を入力（任意）

### 早朝勤務申請
早朝勤務申請は、早朝に勤務する場合の申請です。

#### 申請内容
- **期間**: 開始日と終了日を指定
- **備考**: 早朝勤務の理由や備考を入力（任意）

### 振替申請
振替申請は、勤務日の振替を行う場合の申請です。

#### 申請内容
- **振替元日**: 振替元の日付を指定
- **振替先日**: 振替先の日付を指定
- **備考**: 振替の理由や備考を入力（任意）

#### 申請条件
- 振替元日と振替先日は異なる日付である必要があります

### 申請状況の更新
各申請タイプの承認申請ボタンを押下すると、申請が送信され、勤務表画面の該当日の申請状況が更新されます。

#### 日次確定申請の場合
- 日付列と申請列の+アイコンが↑マーク（申請中）に変更されます
- ATTENDANCE_RECORDテーブルのAPPROVAL_STATUSがPENDINGに更新されます

#### 休暇申請の場合
- 該当日の背景色がオレンジ色（#FFA500）になります
- 申請状況アイコンが↑マーク（申請中）に変更されます
- VACATION_HISTORYテーブルにレコードが登録され、APPROVAL_STATUSがPENDINGに設定されます

### ローディング表示
API通信中やデータ処理中は、ローディングマークが表示されます。

**表示タイミング**:
- 初期表示処理
- 各申請タイプの承認申請ボタン押下時
- 休暇種別マスタ取得時
- 有給残日数取得時
- 当月時間外残業取得時

ローディング表示中は、ユーザーが画面操作できないようにする（ローディングマークの背後にオーバーレイを表示するなど）ことを推奨します。

### エラーダイアログ
申請時にエラーが発生した場合、エラーダイアログが表示されます。

#### ダイアログの構成
- **タイトル**: 「エラー」
- **エラーメッセージ**: チェック仕様で定義されたエラーメッセージを表示
- **OKボタン**: ダイアログを閉じる

#### エラーメッセージの例
- 「出退社時刻が未入力のため、日次確定できません。」
- 「休暇種類を選択してください。」
- 「開始日は終了日より前の日付を入力してください。」
- 「有給休暇の残日数が不足しています。」

### 休日の場合のボタン制御
勤務表画面で対象日が休日（土曜日、日曜日、祝日）の場合、休日出勤申請をしていなければ、以下のメニューボタンが非活性（押せない状態）になります：
- **日次確定**
- **休暇申請**
- **残業申請**
- **早朝勤務申請**

非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。休日出勤申請を申請済みの場合は、これらのボタンが活性化され、通常通り操作可能になります。

**制御ロジック**:
1. 対象日が休日（土曜日、日曜日、祝日）かどうかを判定
2. 対象日に休日出勤申請が存在するかどうかを確認（APPROVAL_STATUSがPENDINGまたはAPPROVED）
3. 休日かつ休日出勤申請が未申請の場合、上記4つのボタンを非活性化
4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化

### 打刻時刻が未入力の場合のボタン制御
対象日が平日かつ以下のいずれかの場合、以下のメニューボタンが非活性（押せない状態）になります：
- 出社と退社の両方の打刻時刻が未入力の場合
- 出社の打刻時刻は入力されているが、退社の打刻時刻が未入力の場合（勤務中）

非活性になるボタン：
- **日次確定**: 打刻時刻が未入力または退勤していないため、日次確定申請ができない
- **休日出勤申請**: 平日のため、休日出勤申請ができない

非活性時は、ボタンラベルの色が白（rgb(255, 255, 255)）になり、クリックできない状態になります。

**制御ロジック**:
1. 対象日が平日（月曜日～金曜日、かつ祝日でない）かどうかを判定
2. 対象日の勤怠記録で出社時刻（CLOCK_IN_TIME）と退社時刻（CLOCK_OUT_TIME）の状態を確認
3. 以下のいずれかの場合、日次確定ボタンと休日出勤申請ボタンを非活性化：
   - 出社時刻と退社時刻の両方が未入力の場合
   - 出社時刻は入力されているが、退社時刻が未入力の場合
4. 非活性時は、ボタンラベルの色を白（rgb(255, 255, 255)）に設定し、クリックイベントを無効化

**注意事項**:
- 振替申請ボタンは休日でも常に活性状態を維持します
- 休日出勤申請ボタンは、対象日が平日の場合、常に非活性（押せない状態）になります。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能です
- 日次確定ボタンは、対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、または出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、非活性（押せない状態）になります

### 申請取り消し機能

申請中または承認済みの申請を取り消すことができます。

#### 申請取消ボタンの表示条件
- 申請状態が申請中（PENDING）または承認済み（APPROVED）の場合、各申請フォームに「申請取消」ボタンが表示されます
- 申請取消ボタンは赤色のボタンで表示されます
- 申請取消ボタンが表示される場合、承認申請ボタンは非表示になります

#### 申請取り消しの手順
1. 申請中または承認済みの申請タイプのタブを開く
2. 「申請取消」ボタンをクリックする
3. 申請取消確認ダイアログが表示される
   - 日次確定申請の場合は、勤務情報（出退社時刻、休憩時間、総労働時間、実労働時間、備考）が表示される
   - 申請日時が表示される
   - 状況（申請済みまたは承認済み）が表示される
   - 承認履歴テーブルが表示される
4. 「承認取消」ボタンをクリックする
5. 申請が取り消され、申請前の状態に戻る

#### 申請取り消しの制約
- **日次確定申請の場合**: 月次申請が申請中（PENDING）または承認済み（APPROVED）の場合、日次申請の取り消しはできません
- **その他の申請**: 申請状態が申請中または承認済みの場合のみ取り消し可能です

#### 申請取り消し後の動作
- 申請取消成功後、申請取消確認ダイアログが閉じます
- 勤怠関連申請画面のダイアログが閉じます
- 勤務表画面に戻り、該当日の申請状況アイコンが+マークに更新されます
- 休暇申請の場合は、該当日の背景色が通常色に戻ります

#### メニュー項目の活性/非活性制御
- 申請中（PENDING）または承認済み（APPROVED）の申請がある場合、メニュー画面の各申請タイプのボタンは非活性（押せない状態）になります
- 非活性時はボタンラベルの色が白（rgb(255, 255, 255)）になります
- これにより、申請中または承認済みの申請がある場合、新しい申請を行うことができなくなります

### 承認履歴テーブルの表示仕様

承認履歴テーブルには、対象日付に関連する全ての申請履歴を時系列で表示します。

#### 表示される履歴の種類
- **申請済み**: 承認申請ボタンが押された時点の履歴
- **承認済み**: 申請が承認された時点の履歴
- **申請取消**: 申請が取り消された時点の履歴

#### 履歴の表示順序
- 承認履歴は時系列順（アクションが行われた日時の順）に表示されます
- 連番（#）は1から始まり、時系列順に連番が振られます

#### 申請取消後の再申請時の動作
- 申請が取消されて再度申請した場合、承認履歴テーブルには以下のように履歴が追加されます：
  1. 1回目の申請履歴（申請済み）
  2. 承認履歴（承認された場合）
  3. 申請取消履歴（取消された場合）
  4. 2回目の申請履歴（再申請した場合）
  5. 承認履歴（再申請が承認された場合）
- 取消された申請の履歴も含めて、全ての履歴が時系列で表示されます
- 最新の申請（申請中または承認済み）の申請日時が「申請日時」として表示されます

#### 履歴の取得方法
- 承認履歴は、対象日付に関連する全ての申請レコード（申請済み、承認済み、取消済みを含む）から取得されます
- APPLICATION_HISTORYテーブルまたはVACATION_HISTORYテーブルから、対象日付の範囲内にある全ての申請履歴を取得し、ACTION_DATETIME順にソートして表示します
- 日次確定申請の場合は、ATTENDANCE_RECORDテーブルから取得した履歴を表示します

## 変更履歴

| 日付 | 変更内容 | 変更者 |
| --- | --- | --- |
| 2025-12-08 | 初版作成 | AI Assistant |
| 2025-12-08 | タブ機能の仕様を修正。複数のタブを同時に開く仕様から、常に1つのタブのみが開く仕様に変更。メニューから別の申請タイプを選択すると、以前開いていたタブは閉じて新しいタブが開く仕様に変更 | AI Assistant |
| 2025-12-08 | 日次確定申請フォームの項目定義を追加。出退社時刻、休憩時間、総労働時間、実労働時間、備考の項目を追加。日次確定タブを開いた際に勤務データを取得して表示する処理を追加。API利用仕様No.9（日次勤務データ取得API）を追加 | AI Assistant |
| 2025-12-13 | 休日の場合のボタン制御仕様を追加。対象日が休日（土曜日、日曜日、祝日）かつ休日出勤申請が未申請の場合、日次確定、休暇申請、残業申請、早朝勤務申請のボタンを非活性化し、ボタンラベルの色を白にする仕様を追加 | AI Assistant |
| 2025-12-13 | 打刻時刻が未入力の場合のボタン制御仕様を追加。対象日が平日かつ出社と退社の両方の打刻時刻が未入力の場合、または出社の打刻時刻は入力されているが退社の打刻時刻が未入力の場合、日次確定ボタンと休日出勤申請ボタンを非活性化し、ボタンラベルの色を白にする仕様を追加 | AI Assistant |
| 2025-12-13 | 休日出勤申請ボタンの制御仕様を修正。対象日が平日の場合、常に非活性（押せない状態）にする仕様に変更。休日出勤申請は休日（土曜日、日曜日、祝日）のみ可能 | AI Assistant |
| 2025-12-20 | 休日出勤申請フォームの項目定義を修正。期間（開始日・終了日）から時間（開始時間・終了時間）に変更。当月時間外残業表示、休憩時間（変更可能）を追加。チェック仕様、API利用仕様、編集仕様、補足説明を更新 | AI Assistant |
| 2025-12-20 | 休憩時間設定ダイアログの項目定義を追加。休日出勤申請フォームの変更リンク押下時に表示される「休憩時間の設定」ダイアログの仕様を追加。複数の休憩時間を追加・編集・削除できる機能、チェック仕様、イベント処理説明を追加 | AI Assistant |
| 2025-12-20 | 休日出勤申請承認申請ボタン押下後の動作を明確化。申請成功後、勤務表画面で申請中のマーク（↑マーク）が表示され、土日祝でも出社・退社・勤務場所のテキストボックスが表示され編集可能になる仕様を追加。標準勤務時間帯（9:00-17:30）と休憩時間がグレーの長方形で表示される仕様を追加。グラフの色について、土曜日または祝日（所定休日）は法定時間内残業と同じ色（#B0B000）、日曜日（法定休日）は#DE9EDDに変更 | AI Assistant |
| 2025-12-20 | 代休申請の仕様を追加。休暇申請フォームに「代休取得可能日数」の項目を追加。代休は休日出勤申請を行っている場合のみ休暇種類のプルダウンに表示される仕様を追加。代休取得可能日数の表示ロジック、代休取得の期限（休日勤務した日の翌月末まで）、代休申請の手順を追加 | AI Assistant |
| 2025-12-20 | 申請取り消し機能を追加。各申請フォームに申請取消ボタンを追加。申請中または承認済みの場合に申請取消ボタンを表示し、申請を取り消すことができる機能を追加。申請状態取得API、月次申請状態取得API、各申請タイプの申請取消APIを追加。申請取り消し処理のイベント処理説明を追加。月次申請を行っている場合、日次申請の取り消しはできない制約を追加 | AI Assistant |
| 2025-12-20 | 申請中または承認済みのアイコンをクリックした際に、該当する申請タイプのタブが自動的に開く機能を追加。openApplicationDialogWithTypeメソッドを追加し、申請状態に応じて適切な申請タイプを判定してタブを開く処理を実装 | AI Assistant |
| 2025-12-20 | 各申請フォームに申請情報セクションを追加。申請中または承認済みの場合、各申請フォーム（休暇申請、休日出勤申請、残業申請、早朝勤務申請、振替申請）に申請日時、状況、承認履歴テーブルを表示する仕様を追加。メニュー項目押下処理に申請情報取得処理を追加 | AI Assistant |
| 2025-12-20 | 申請取消確認ダイアログの仕様を追加。申請取消ボタン押下時に、申請情報（申請日時、状況）と承認履歴を表示するダイアログを表示する仕様を追加。申請取消確認ダイアログの項目定義を追加。申請情報取得API（No.19）を追加。申請中または承認済みの申請がある場合、メニュー画面の各申請タイプのボタンを非活性化する仕様を追加 | AI Assistant |
| 2025-12-20 | 申請取消ボタンのラベルをステータスごとに分ける仕様を追加。申請中（PENDING）の場合は「申請取消」、承認済み（APPROVED）の場合は「承認取消」と表示される仕様を追加。各申請フォームの申請取消ボタンと申請取消確認ダイアログの承認取消ボタンに適用 | AI Assistant |
| 2025-12-20 | 申請日時の表示仕様を変更。申請日時は承認申請ボタンが押された日時を表示する仕様に変更。画面項目定義、編集仕様、API利用仕様を更新 | AI Assistant |
| 2025-12-20 | 承認履歴テーブルの表示仕様を変更。過去の申請・取消・再申請の履歴も含めて、時系列で全ての履歴を表示する仕様に変更。申請取消後の再申請時も、取消された申請の履歴を含めて新しい履歴が追加される仕様を追加。画面項目定義、API利用仕様、補足説明を更新 | AI Assistant |
| 2025-12-22 | 休暇申請フォームの期間入力仕様を変更。開始日を常に無効化（グレーアウト）し、操作不可にする仕様を追加。開始日と終了日の間にチェックボックスを追加し、終了日の入力可否を制御する仕様を追加。終了日のカレンダーで開始日より前の日付を選択不可にする仕様を追加。チェック仕様、編集仕様、補足説明を更新 | AI Assistant |

