-- ====================================================================
-- 000001の2025年10月分勤怠サンプルデータ投入
-- 画像データに基づく22日分の勤怠記録
-- ====================================================================

-- 2025年10月の勤怠記録を投入
-- 指定日付: 1,2,3,6,7,8,9,10,14,15,16,17,20,21,22,23,24,27,28,29,30,31日（22日分）
-- データなし: 4(土), 5(日), 11(土), 12(日), 13(月・祝日), 18(土), 19(日), 25(土), 26(日)
INSERT INTO ATTENDANCE_RECORD (
    EMPLOYEE_ID, 
    WORK_DATE, 
    CLOCK_IN_TIME, 
    CLOCK_OUT_TIME, 
    CLOCK_IN_TYPE, 
    CLOCK_OUT_TYPE, 
    WORK_LOCATION_CODE, 
    ACTUAL_WORK_HOURS, 
    SCHEDULED_WORK_HOURS, 
    OVERTIME_HOURS,
    WITHIN_LEGAL_OVERTIME_HOURS, 
    OVER_LEGAL_OVERTIME_HOURS,
    IS_DAILY_CONFIRMED
) VALUES
-- 1日: 出社 9:18, 退社 18:52, 通勤
('000001', '2025-10-01', '2025-10-01 09:18:00', '2025-10-01 18:52:00', 'STAMP', 'STAMP', 'COMMUTE', 8.57, 7.50, 1.07, 0.50, 0.57, TRUE),
-- 2日: 出社 8:47, 退社 17:51, 在宅
('000001', '2025-10-02', '2025-10-02 08:47:00', '2025-10-02 17:51:00', 'STAMP', 'STAMP', 'REMOTE', 8.07, 7.50, 0.57, 0.57, 0.00, TRUE),
-- 3日: 出社 8:47, 退社 17:51, 在宅
('000001', '2025-10-03', '2025-10-03 08:47:00', '2025-10-03 17:51:00', 'STAMP', 'STAMP', 'REMOTE', 8.07, 7.50, 0.57, 0.57, 0.00, TRUE),
-- 6日: 出社 8:49, 退社 17:39, 在宅
('000001', '2025-10-06', '2025-10-06 08:49:00', '2025-10-06 17:39:00', 'STAMP', 'STAMP', 'REMOTE', 7.83, 7.50, 0.33, 0.33, 0.00, TRUE),
-- 7日: 出社 8:44, 退社 17:35, 在宅
('000001', '2025-10-07', '2025-10-07 08:44:00', '2025-10-07 17:35:00', 'STAMP', 'STAMP', 'REMOTE', 7.85, 7.50, 0.35, 0.35, 0.00, TRUE),
-- 8日: 出社 8:53, 退社 19:23, 通勤
('000001', '2025-10-08', '2025-10-08 08:53:00', '2025-10-08 19:23:00', 'STAMP', 'STAMP', 'COMMUTE', 9.50, 7.50, 2.00, 0.50, 1.50, TRUE),
-- 9日: 出社 8:44, 退社 17:44, 在宅
('000001', '2025-10-09', '2025-10-09 08:44:00', '2025-10-09 17:44:00', 'STAMP', 'STAMP', 'REMOTE', 8.00, 7.50, 0.50, 0.50, 0.00, TRUE),
-- 10日: 出社 8:49, 退社 17:42, 在宅
('000001', '2025-10-10', '2025-10-10 08:49:00', '2025-10-10 17:42:00', 'STAMP', 'STAMP', 'REMOTE', 7.88, 7.50, 0.38, 0.38, 0.00, TRUE),
-- 14日: 出社 8:44, 退社 17:55, 在宅
('000001', '2025-10-14', '2025-10-14 08:44:00', '2025-10-14 17:55:00', 'STAMP', 'STAMP', 'REMOTE', 8.18, 7.50, 0.68, 0.68, 0.00, TRUE),
-- 15日: 出社 8:53, 退社 18:25, 通勤
('000001', '2025-10-15', '2025-10-15 08:53:00', '2025-10-15 18:25:00', 'STAMP', 'STAMP', 'COMMUTE', 8.53, 7.50, 1.03, 0.50, 0.53, TRUE),
-- 16日: 出社 8:53, 退社 17:36, 在宅
('000001', '2025-10-16', '2025-10-16 08:53:00', '2025-10-16 17:36:00', 'STAMP', 'STAMP', 'REMOTE', 7.72, 7.50, 0.22, 0.22, 0.00, TRUE),
-- 17日: 出社 8:43, 退社 17:36, 在宅
('000001', '2025-10-17', '2025-10-17 08:43:00', '2025-10-17 17:36:00', 'STAMP', 'STAMP', 'REMOTE', 7.88, 7.50, 0.38, 0.38, 0.00, TRUE),
-- 20日: 出社 8:46, 退社 18:08, 在宅
('000001', '2025-10-20', '2025-10-20 08:46:00', '2025-10-20 18:08:00', 'STAMP', 'STAMP', 'REMOTE', 8.37, 7.50, 0.87, 0.87, 0.00, TRUE),
-- 21日: 出社 8:55, 退社 18:10, 在宅
('000001', '2025-10-21', '2025-10-21 08:55:00', '2025-10-21 18:10:00', 'STAMP', 'STAMP', 'REMOTE', 8.25, 7.50, 0.75, 0.75, 0.00, TRUE),
-- 22日: 出社 8:51, 退社 19:03, 通勤
('000001', '2025-10-22', '2025-10-22 08:51:00', '2025-10-22 19:03:00', 'STAMP', 'STAMP', 'COMMUTE', 9.20, 7.50, 1.70, 0.50, 1.20, TRUE),
-- 23日: 出社 9:00, 退社 17:30, 直行、直帰、直
('000001', '2025-10-23', '2025-10-23 09:00:00', '2025-10-23 17:30:00', 'STAMP', 'STAMP', 'DIRECT', 7.50, 7.50, 0.00, 0.00, 0.00, TRUE),
-- 24日: 出社 8:50, 退社 18:15, 在宅
('000001', '2025-10-24', '2025-10-24 08:50:00', '2025-10-24 18:15:00', 'STAMP', 'STAMP', 'REMOTE', 8.42, 7.50, 0.92, 0.92, 0.00, TRUE),
-- 27日: 出社 8:57, 退社 17:37, 在宅
('000001', '2025-10-27', '2025-10-27 08:57:00', '2025-10-27 17:37:00', 'STAMP', 'STAMP', 'REMOTE', 7.67, 7.50, 0.17, 0.17, 0.00, TRUE),
-- 28日: 出社 8:48, 退社 17:22, 在宅
('000001', '2025-10-28', '2025-10-28 08:48:00', '2025-10-28 17:22:00', 'STAMP', 'STAMP', 'REMOTE', 7.57, 7.50, 0.07, 0.07, 0.00, TRUE),
-- 29日: 出社 8:51, 退社 19:03, 通勤, 工数 9:12
('000001', '2025-10-29', '2025-10-29 08:51:00', '2025-10-29 19:03:00', 'STAMP', 'STAMP', 'COMMUTE', 9.20, 7.50, 1.70, 0.50, 1.20, TRUE),
-- 30日: 出社 8:52, 退社 18:35, 在宅, 工数 8:43
('000001', '2025-10-30', '2025-10-30 08:52:00', '2025-10-30 18:35:00', 'STAMP', 'STAMP', 'REMOTE', 8.72, 7.50, 1.22, 0.50, 0.72, TRUE),
-- 31日: 出社 8:47, 退社 17:46, 在宅, 工数 7:59
('000001', '2025-10-31', '2025-10-31 08:47:00', '2025-10-31 17:46:00', 'STAMP', 'STAMP', 'REMOTE', 7.98, 7.50, 0.48, 0.48, 0.00, TRUE)
ON DUPLICATE KEY UPDATE
    CLOCK_IN_TIME = VALUES(CLOCK_IN_TIME),
    CLOCK_OUT_TIME = VALUES(CLOCK_OUT_TIME),
    CLOCK_IN_TYPE = VALUES(CLOCK_IN_TYPE),
    CLOCK_OUT_TYPE = VALUES(CLOCK_OUT_TYPE),
    WORK_LOCATION_CODE = VALUES(WORK_LOCATION_CODE),
    ACTUAL_WORK_HOURS = VALUES(ACTUAL_WORK_HOURS),
    OVERTIME_HOURS = VALUES(OVERTIME_HOURS),
    WITHIN_LEGAL_OVERTIME_HOURS = VALUES(WITHIN_LEGAL_OVERTIME_HOURS),
    OVER_LEGAL_OVERTIME_HOURS = VALUES(OVER_LEGAL_OVERTIME_HOURS);

-- 休憩時間データの投入（各日12:00-13:00の1時間休憩を仮定）
INSERT INTO BREAK_TIME (ATTENDANCE_ID, BREAK_SEQ, BREAK_START_TIME, BREAK_END_TIME, BREAK_DURATION_MINUTES, BREAK_TYPE)
SELECT 
    ar.ATTENDANCE_ID,
    1,
    CONCAT(ar.WORK_DATE, ' 12:00:00'),
    CONCAT(ar.WORK_DATE, ' 13:00:00'),
    60,
    'REGULAR'
FROM ATTENDANCE_RECORD ar
WHERE ar.EMPLOYEE_ID = '000001' 
  AND ar.WORK_DATE BETWEEN '2025-10-01' AND '2025-10-31'
  AND NOT EXISTS (
      SELECT 1 FROM BREAK_TIME bt 
      WHERE bt.ATTENDANCE_ID = ar.ATTENDANCE_ID 
        AND bt.BREAK_SEQ = 1
  );

